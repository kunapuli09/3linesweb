(function() {var f,aa="undefined"!=typeof window&&window===this?this:"undefined"!=typeof global?global:this,ba={};function ea(a,b){(ba[a]=ba[a]||[]).push(b);var c=aa;a=a.split(".");for(var d=0;d<a.length-1&&c;d++)c=c[a[d]];a=a[a.length-1];c&&c[a]instanceof Function&&(c[a]=b(c[a]))}
function fa(){fa=function(){};if(!aa.Symbol){aa.Symbol=ja;var a=[],b=function(b){return function(d){a=[];d=b(d);for(var e=[],g=0,h=d.length;g<h;g++){var k;a:if(k=d[g],14>k.length)k=!1;else{for(var l=0;14>l;l++)if(k[l]!="jscomp_symbol_"[l]){k=!1;break a}k=!0}k?a.push(d[g]):e.push(d[g])}return e}};ea("Object.keys",b);ea("Object.getOwnPropertyNames",b);ea("Object.getOwnPropertySymbols",function(c){return function(d){b.Cba=Object.getOwnPropertyNames(d);a.push.apply(c(d));return a}})}}var ka=0;
function ja(a){return"jscomp_symbol_"+a+ka++}function la(){fa();aa.Symbol.iterator||(aa.Symbol.iterator=aa.Symbol("iterator"));la=function(){}}function ma(a){la();fa();la();var b=a[Symbol.iterator];if(b)return b.call(a);var c=0;return{next:function(){return c<a.length?{done:!1,value:a[c++]}:{done:!0}}}}function na(a){if(!(a instanceof Array)){a=ma(a);for(var b,c=[];!(b=a.next()).done;)c.push(b.value);a=c}return a}
function t(a,b){function c(){}c.prototype=b.prototype;a.prototype=new c;a.prototype.constructor=a;for(var d in b)if(Object.defineProperties){var e=Object.getOwnPropertyDescriptor(b,d);e&&Object.defineProperty(a,d,e)}else a[d]=b[d]}var oa="function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){if(c.get||c.set)throw new TypeError("ES3 does not support getters and setters.");a!=Array.prototype&&a!=Object.prototype&&(a[b]=c.value)};
function pa(a,b){return Object.prototype.hasOwnProperty.call(a,b)}function qa(a,b){if(b){for(var c=aa,d=a.split("."),e=0;e<d.length-1;e++){var g=d[e];g in c||(c[g]={});c=c[g]}d=d[d.length-1];e=c[d];b=b(e);if(b!=e){a=ba[a]||[];for(e=0;e<a.length;e++)b=a[e](b);oa(c,d,{configurable:!0,writable:!0,value:b})}}}
qa("WeakMap",function(a){function b(a){this.cA=(k+=Math.random()+1).toString();if(a){fa();la();a=ma(a);for(var b;!(b=a.next()).done;)b=b.value,this.set(b[0],b[1])}}function c(a){if(!pa(a,g)){var b={};b[g]=h;oa(a,g,{value:b})}}function d(a){return function(b){var c=a(b);if(pa(b,g)&&pa(b[g],g)&&b[g][g]===h)for(b=0;b<c.length;b++)if(c[b]==g){c.splice(b,1);break}return c}}function e(a){return function(b){c(b);return a(b)}}if(function(){if(!a||!Object.seal)return!1;var b=Object.seal({}),c=Object.seal({}),
d=new a([[b,2],[c,3]]);if(2!=d.get(b)||3!=d.get(c))return!1;d.delete(b);d.set(c,4);return!d.has(b)&&4==d.get(c)}())return a;var g="$jscomp_hidden_"+Math.random().toString().substring(2),h={};ea("Object.getOwnPropertyNames",d);ea("Object.keys",d);ea("Reflect.enumerate",d);ea("Reflect.ownKeys",d);ea("Object.freeze",e);ea("Object.preventExtensions",e);ea("Object.seal",e);var k=0;b.prototype.set=function(a,b){c(a);if(!pa(a,g))throw Error("WeakMap key fail: "+a);a[g][this.cA]=b;return this};b.prototype.get=
function(a){return pa(a,g)?a[g][this.cA]:void 0};b.prototype.has=function(a){return pa(a,g)&&pa(a[g],this.cA)};b.prototype.delete=function(a){return pa(a,g)&&pa(a[g],this.cA)?delete a[g][this.cA]:!1};return b});
qa("Map",function(a){function b(){var a={};return a.previous=a.next=a.head=a}function c(a,b){var c=a.gn,d={next:function(){if(c){for(;c.head!=a.gn;)c=c.previous;for(;c.next!=c.head;)return c=c.next,{done:!1,value:b(c)};c=null}return{done:!0,value:void 0}}};d[Symbol.iterator]=function(){return d};return d}function d(a,b){var c;c=b&&typeof b;"object"==c||"function"==c?g.has(b)?c=g.get(b):(c=""+ ++h,g.set(b,c)):c="p_"+b;var d=a.Oy[c];if(d&&pa(a.Oy,c))for(a=0;a<d.length;a++){var e=d[a];if(b!==b&&e.key!==
e.key||b===e.key)return{id:c,list:d,index:a,rg:e}}return{id:c,list:d,index:-1,rg:void 0}}function e(a){this.Oy={};this.gn=b();this.size=0;if(a){a=ma(a);for(var c;!(c=a.next()).done;)c=c.value,this.set(c[0],c[1])}}if(function(){if(!a||!a.prototype.entries||"function"!=typeof Object.seal)return!1;try{var b=Object.seal({x:4}),c=new a(ma([[b,"s"]]));if("s"!=c.get(b)||1!=c.size||c.get({x:4})||c.set({x:4},"t")!=c||2!=c.size)return!1;var d=c.entries(),e=d.next();if(e.done||e.value[0]!=b||"s"!=e.value[1])return!1;
e=d.next();return e.done||4!=e.value[0].x||"t"!=e.value[1]||!d.next().done?!1:!0}catch(g){return!1}}())return a;fa();la();var g=new WeakMap;e.prototype.set=function(a,b){var c=d(this,a);c.list||(c.list=this.Oy[c.id]=[]);c.rg?c.rg.value=b:(c.rg={next:this.gn,previous:this.gn.previous,head:this.gn,key:a,value:b},c.list.push(c.rg),this.gn.previous.next=c.rg,this.gn.previous=c.rg,this.size++);return this};e.prototype.delete=function(a){a=d(this,a);return a.rg&&a.list?(a.list.splice(a.index,1),a.list.length||
delete this.Oy[a.id],a.rg.previous.next=a.rg.next,a.rg.next.previous=a.rg.previous,a.rg.head=null,this.size--,!0):!1};e.prototype.clear=function(){this.Oy={};this.gn=this.gn.previous=b();this.size=0};e.prototype.has=function(a){return!!d(this,a).rg};e.prototype.get=function(a){return(a=d(this,a).rg)&&a.value};e.prototype.entries=function(){return c(this,function(a){return[a.key,a.value]})};e.prototype.keys=function(){return c(this,function(a){return a.key})};e.prototype.values=function(){return c(this,
function(a){return a.value})};e.prototype.forEach=function(a,b){for(var c=this.entries(),d;!(d=c.next()).done;)d=d.value,a.call(b,d[1],d[0],this)};e.prototype[Symbol.iterator]=e.prototype.entries;var h=0;return e});function ra(a,b){la();a instanceof String&&(a+="");var c=0,d={next:function(){if(c<a.length){var e=c++;return{value:b(e,a[e]),done:!1}}d.next=function(){return{done:!0,value:void 0}};return d.next()}};d[Symbol.iterator]=function(){return d};return d}
qa("Array.prototype.keys",function(a){return a?a:function(){return ra(this,function(a){return a})}});qa("Array.prototype.fill",function(a){return a?a:function(a,c,d){var e=this.length||0;0>c&&(c=Math.max(0,e+c));if(null==d||d>e)d=e;d=Number(d);0>d&&(d=Math.max(0,e+d));for(c=Number(c||0);c<d;c++)this[c]=a;return this}});qa("Array.prototype.values",function(a){return a?a:function(){return ra(this,function(a,c){return c})}});
function ta(a,b,c){a instanceof String&&(a=String(a));for(var d=a.length,e=0;e<d;e++){var g=a[e];if(b.call(c,g,e,a))return{lV:e,fr:g}}return{lV:-1,fr:void 0}}qa("Array.prototype.find",function(a){return a?a:function(a,c){return ta(this,a,c).fr}});qa("Array.prototype.entries",function(a){return a?a:function(){return ra(this,function(a,c){return[a,c]})}});
qa("Object.assign",function(a){return a?a:function(a,c){for(var d=1;d<arguments.length;d++){var e=arguments[d];if(e)for(var g in e)pa(e,g)&&(a[g]=e[g])}return a}});qa("Array.from",function(a){return a?a:function(a,c,d){la();c=null!=c?c:function(a){return a};var e=[],g=a[Symbol.iterator];if("function"==typeof g)for(a=g.call(a);!(g=a.next()).done;)e.push(c.call(d,g.value));else for(var g=a.length,h=0;h<g;h++)e.push(c.call(d,a[h]));return e}});
qa("Set",function(a){function b(a){this.Tj=new Map;if(a){a=ma(a);for(var b;!(b=a.next()).done;)this.add(b.value)}this.size=this.Tj.size}if(function(){if(!a||!a.prototype.entries||"function"!=typeof Object.seal)return!1;try{var b=Object.seal({x:4}),d=new a(ma([b]));if(!d.has(b)||1!=d.size||d.add(b)!=d||1!=d.size||d.add({x:4})!=d||2!=d.size)return!1;var e=d.entries(),g=e.next();if(g.done||g.value[0]!=b||g.value[1]!=b)return!1;g=e.next();return g.done||g.value[0]==b||4!=g.value[0].x||g.value[1]!=g.value[0]?
!1:e.next().done}catch(h){return!1}}())return a;fa();la();b.prototype.add=function(a){this.Tj.set(a,a);this.size=this.Tj.size;return this};b.prototype.delete=function(a){a=this.Tj.delete(a);this.size=this.Tj.size;return a};b.prototype.clear=function(){this.Tj.clear();this.size=0};b.prototype.has=function(a){return this.Tj.has(a)};b.prototype.entries=function(){return this.Tj.entries()};b.prototype[Symbol.iterator]=function(){return this.Tj.values()};b.prototype.values=function(){return this.Tj.values()};
b.prototype.forEach=function(a,b){var e=this;this.Tj.forEach(function(g){return a.call(b,g,g,e)})};return b});function ua(a,b,c){if(null==a)throw new TypeError("The 'this' value for String.prototype."+c+" must not be null or undefined");if(b instanceof RegExp)throw new TypeError("First argument to String.prototype."+c+" must not be a regular expression");return a+""}
qa("String.prototype.repeat",function(a){return a?a:function(a){var c=ua(this,null,"repeat");if(0>a||1342177279<a)throw new RangeError("Invalid count value");a|=0;for(var d="";a;)if(a&1&&(d+=c),a>>>=1)c+=c;return d}});qa("Math.log10",function(a){return a?a:function(a){return Math.log(a)/Math.LN10}});qa("String.prototype.includes",function(a){return a?a:function(a,c){return-1!==ua(this,a,"includes").indexOf(a,c||0)}});
qa("Math.sign",function(a){return a?a:function(a){a=Number(a);return 0===a||isNaN(a)?a:0<a?1:-1}});qa("Array.prototype.findIndex",function(a){return a?a:function(a,c){return ta(this,a,c).lV}});function va(a){this.data=a}va.prototype.get=function(a,b){if(!this.data)throw Error("no viewConfig, unable to get: "+a);b=void 0===this.data[a]?b:this.data[a];if(void 0===b)throw Error('Could not retrieve "'+a+'" from viewConfig');return b};var wa=(new UAParser).getResult(),xa=wa.browser.name,ya=wa.browser.major,za=(new va(window.viewConfig||{})).get("magicButtonEnabled",null),Aa=/\.247$/;
""==window.location.pathname||"/"==window.location.pathname||"/signup"==window.location.pathname||"/login"==window.location.pathname||wa.browser.version.match(Aa)||("Chrome"===xa||"Chromium"==xa)&&27<=ya||"Safari"===xa&&9<=ya||"Firefox"===xa&&23<=ya||"Opera"===xa&&20<=ya||("IE"===xa||"Edge"===xa)&&11<=ya||"undefined"!=typeof window.localStorage&&window.localStorage.ignore_browser_cache||(za&&za.test(window.location.search)?window.location.href="/unsupported?playvideo\x3d1":window.location.href="/unsupported");function Ba(){}function Ca(a,b,c){for(var d=[],e=2;e<arguments.length;++e)d[e-2]=arguments[e];if(!a)throw Error(2>arguments.length?"invalid argument":Ea.apply(Ba,[].concat([b],na(d))));}function Fa(a,b,c){for(var d=[],e=2;e<arguments.length;++e)d[e-2]=arguments[e];if(!a)throw Error(2>arguments.length?"invalid state":Ea.apply(Ba,[].concat([b],na(d))));}
function w(a,b,c){for(var d=[],e=2;e<arguments.length;++e)d[e-2]=arguments[e];if(null==a)throw Error(2>arguments.length?"argument is null":Ea.apply(Ba,[].concat([b],na(d))));return a}function Ea(a,b){for(var c=[],d=1;d<arguments.length;++d)c[d-1]=arguments[d];var e=0;return a.replace(/\{}/g,function(){return e<c.length?c[e++]:"{}"})};function Ga(a){this.type=a}Ga.prototype.required=function(a,b){b=b[a];if(null==b||typeof b!=this.type)throw new TypeError("expected "+this.type+' for property "'+a+'", found: '+JSON.stringify(b));return b};Ga.prototype.optional=function(a,b){b=b[a];if(null!=b&&typeof b!=this.type)throw new TypeError("expected optional "+this.type+' for property "'+a+'", found: '+JSON.stringify(b));return b};
Ga.prototype.Fe=function(a,b){b=b[a];if(null!=b)if(Array.isArray(b))for(a=0;a<b.length;a++)this.required(String(a),b);else throw new TypeError("expected repeated "+this.type+' for property "'+a+'", found: '+JSON.stringify(b));return b};var Ha=new Ga("string"),Ia=new Ga("boolean"),Ja=new Ga("number"),Ka=new Ga("object");function La(a){if(null==a||"object"!=typeof a)throw new TypeError("expected an object, found: "+a);return a}function y(a,b){return Ja.optional(a,b)||0}
function A(a,b){return Ja.optional(a,b)}function B(a,b){return Ha.required(a,b)}function C(a,b){return Ha.optional(a,b)}function Ma(a,b){return Ia.optional(a,b)||!1}function Na(a,b){return Ia.optional(a,b)}function Pa(a,b,c){return a(Ka.required(b,c))}function F(a,b,c){return(b=Ka.optional(b,c))?a(b):b}function Qa(a,b,c){return(b=Ka.Fe(b,c))?b.map(a):b}function Ra(a,b,c){return a(b,Ha.required(b,c))}function Sa(a,b,c){c=Ha.optional(b,c);return null!=c?a(b,c):c}
function Ta(a,b,c){c=Ha.Fe(b,c);return null!=c?c.map(a.bind(null,b)):c}function Ua(a,b,c){return Va(Wa,Xa.bind(null,a),b,c)}function Va(a,b,c,d){d=d[c];if(null==d)return d;if("object"!==typeof d)throw new TypeError('expected map for property "'+c+'", found: '+JSON.stringify(d));for(var e=new Map,g=ma(Object.keys(d)),h=g.next();!h.done;h=g.next())h=h.value,e.set(a(c,h),b(c,h,d));return e}function Wa(a,b){return b}
function Xa(a,b,c,d){c=d[c];if(null==c||"object"!==typeof c)throw new TypeError('expected object value in property "'+b+'", found: '+JSON.stringify(c));return a(c)}function Ya(a,b,c){b=c[b];if("string"!==typeof b)throw new TypeError('expected string value in property "'+a+'", found: '+JSON.stringify(b));return b}function Za(a){this.type=a}
Za.prototype.required=function(a,b){if(null==b||typeof b!=this.type)throw new TypeError("expected "+this.type+' for property "'+a+'", found: '+JSON.stringify(b));return b};Za.prototype.optional=function(a,b){if(null!=b){if(typeof b!=this.type)throw new TypeError("expected optional "+this.type+' for property "'+a+'", found: '+JSON.stringify(b));return b}};
Za.prototype.Fe=function(a,b){if(Array.isArray(b)){if(0==b.length)return;for(var c=0;c<b.length;c++)this.required(a+"["+String(c)+"]",b[c])}else throw new TypeError("expected repeated "+this.type+' for property "'+a+'", found: '+JSON.stringify(b));return b};var $a=new Za("string"),ab=new Za("boolean"),bb=new Za("number"),cb=new Za("object");function db(a,b){return 0!==b?bb.required(a,b):void 0}function eb(a,b){return bb.optional(a,b)}function fb(a){return bb.Fe("pages",a)}
function gb(a,b){return!1!==b?ab.required(a,b):void 0}function hb(a,b){return ab.optional(a,b)}function ib(a,b){return $a.required(a,b)}function G(a,b){return $a.optional(a,b)}function jb(a,b,c){return cb.optional(b,c?a(c):null)}function kb(a,b,c){return cb.Fe(b,c.map(a))}function lb(a,b,c){return $a.required(b,a(b,c))}function mb(a,b,c){return $a.optional(b,c?a(b,c):null)}function nb(a,b,c){return ob(pb,qb.bind(null,a),b,c)}
function ob(a,b,c,d){if(!(d instanceof Map))throw new TypeError('expected Map for property "'+c+'", found: '+JSON.stringify(d));for(var e={},g=ma(d.keys()),h=g.next();!h.done;h=g.next())h=h.value,e[a(c,h)]=b(c,d.get(h));return e}function pb(a,b){if("string"!==typeof b)throw new TypeError('expected string key in property "'+a+'", found: '+JSON.stringify(b));return b}
function rb(a,b){if("number"!==typeof b)throw new TypeError('expected number value in property "'+a+'", found: '+JSON.stringify(b));return b}function qb(a,b,c){if(null==c||"object"!==typeof c)throw new TypeError('expected object value in property "'+b+'", found: '+JSON.stringify(c));return a(c)}function sb(a,b){if("string"!==typeof b)throw new TypeError('expected string value in property "'+a+'", found: '+JSON.stringify(b));return b};var tb=tb||{},I,J,ub,vb,wb,xb,yb,zb,Bb,Cb,Db,Eb,Fb,Hb,Ib,Jb,Kb,Lb,L,Mb,Nb,Ob,Pb,Rb,Sb,Tb,Ub,Vb,Wb,Xb,Yb,Zb,$b,ac,bc,cc;var M=new function(){this.N_={upload:"/static/r/flirtini/immovable/js/x9zITKdAvhuJA9i2mpYYlQ.js"};this.H_=!1;this.NI=.1;this.za={B1:330,C1:330,jaa:500,naa:300,maa:300,paa:500,YK:300,X1:400,vz:300,a3:300,YV:1E3,ZV:1E3,Zp:200,Tv:20,Paa:600,KA:300,$j:500,m7:2E3,$aa:500,m8:300,Jq:600,eX:500,oaa:150};this.Ht=140;this.Qx=1.2;this.GI=150;this.ZR=.7;this.XC=30;this.II="#ffffff";this.$C="#222";this.aD="#fff";this.YC=24;this.JR=300;this.ZC=10;this.KI=this.PR=1.2;this.k_=42;this.h_=24;this.Id=16;this.j_="Abril Fatface";this.g_="Trocchi";
this.Hd="Arimo";this.Cc=20;this.Dc=4;this.p_=1024;this.MI=[6,8,10,12,14,16,18,21,24,28,32,36,42,48,56,64,72,80,88,96,104,120,144];this.NR="undefined"!==typeof window&&1<window.devicePixelRatio;this.OR=.33;this.bD=.5;this.v_="undefined"!==typeof window&&window.navigator.userAgent.match(/Macintosh/)?!0:!1;this.w_=5E3;this.x_=400;this.cD=500;this.Go=255;this.QI=3;this.Tx=10*this.QI;this.z_=40*this.QI;this.y_=40;this.OI=1;this.yh=3;this.zh=.95;this.C_=110;this.A_=180;this.B_=145;this.Ux=30;this.Jt=50;
this.Ho="https://static.canva.com/static/images/placeholder.jpg";this.SR=1438;this.RR=560;this.ti=230/24;this.WR=1E3;this.dD=50;this.E_={MAB5cDHmsFw:"0e94ff",MAB5cMCyv6w:"72c0ff",MAB5cAQJlaQ:"d0eaff",MAB5cEikLyU:"c0f2dc",MAB5cM_6xEM:"83f2d9",MAB5cJzamNA:"00d1c0",MAB5cMvV4WI:"b7ff82",MAB5cEhZV9o:"d3ffb3",MAB5cCZyCJQ:"feffcb",MAB5cHj48Zw:"ffef42",MAB5cK1JDsE:"ffa351",MAB5hidY3ns:"ffde7d",MAB5cFsTlDk:"fff6df",MAB5cKyqi1s:"ffd8cf","MAB5hoaFM-I":"ffa3a1",MAB5cNEJxNs:"ff716e",MAB5cP9grzE:"ff6bcd",MAB5cMwWSfs:"ffc7ec",MAB5cGdDeZ4:"e4b9ff",
MAB5cBzXdGA:"d38cff",MAB5cNvP7Pc:"c06af6",MAB5cKXAlps:"7f72ff",MAB5cCOTPdQ:"9c92ff",MAB5cDcYB4g:"c7c1ff",MAB5cFxeE3w:"e0daf3",MAB5cE5y_5k:"b9b5c7",MAB5cCYeclo:"9a97a5",MAB5cOfCuGs:"73726d",MAB5cPkevM0:"a3a198",MAB5cPNsPAA:"dddbcd","MAB5cOxZt-I":"ff95db",MAAyKuwFB5o:"ffffff",MAAyKtahJms:"ffbd7e",MAAyKgcbIPk:"383838",MAAyKi3v9aM:"ababab",MAAyKiojphI:"3ea198",MAAyKgoNGiU:"f1eae2",MAAyKtzdfJo:"f2e6da",MAAyKjzFRMk:"b6b6b6",MAAyKl0hu7c:"3f0002",MAAyKrQbulQ:"aabee5",MAAyKjqXb3g:"1e404e",MAAyKpadICg:"383838",
MAAyKriHEH4:"fce8d2",MAAyKvlJXOU:"86d694",MAAyKt_1BzE:"abddd8",MAAyKtiLYqQ:"ffcd54",MAAyKu2TdB8:"a12e38",MAAyKojhmk8:"9c77b8",MAAyKvdlAbg:"4473a7",MAAMxVrOHEU:"d3e460",MAAMxR635oY:"3589a1",MAAMJGCfFWw:"8bcfb1",MAAMxcxaYiU:"8bcfb1",MAAMxbOmmrM:"de5947",MAAMxVr6xaM:"ab7253",MAAMxbd7Q4o:"ee826d",MAAMJKph95Q:"9d427a",MAAMJAC_3oM:"969db1",MAAMJEZCTiQ:"54a4a5",MAAMJMQdk_o:"be842e",MAAMJKR_eNE:"318ba2",MAAMJNt_z0k:"f3bc33",MAAMJPRAWEw:"df5a46",MAAMJEguyXk:"54a4a5",MAAMJMMLN98:"9f437b",MAAMJPOvhoc:"df5a46",
MAAMJPQVxis:"ee826c",MAAMJOSYm7w:"f3bc33",MAAMJM5OR40:"b7a77f",MAAMxUoD3Gw:"8cccaf",MAAMxdiUksM:"f3bc33",MAAMxRX8OJ4:"f3bc33",MAAMxbGelwc:"54a4a5",MAAMxSCeicM:"318ba2",MAAMxT7CVYA:"8cccaf"};this.Vx=3E4;this.i_=1500;this.XR=5;this.L_=190;this.M_=300;this.q_=88;this.t_=0;this.eD=88;this.$R=10;this.GR=7;this.o_=0;this.l_=this.n_=12;this.m_=0;this.VI=.7;this.Xx=1.3;this.QR=2.5},dc={TITLE:"title",E$:"subtitle",BODY:"body"},ec={F_:"search",v$:"layout",TEXT:"text",j$:"backgrounds",O$:"uploads"};function fc(a){this.$el=a}fc.prototype.remove=function(){this.$el.remove()};function R(a){this.$el=a;this.Gv={}}R.prototype.remove=function(){this.$el.off();this.$el.remove()};R.prototype.on=function(a,b){Ca(!this.Gv[a],"listener already registered for event {}",a);this.Gv[a]=b};R.prototype.off=function(a,b){null==a?this.Gv={}:null!=b&&this.Gv[a]!=b||delete this.Gv[a]};R.prototype.trigger=function(a,b){for(var c=[],d=1;d<arguments.length;++d)c[d-1]=arguments[d];(d=this.Gv[a])&&d.apply(null,[].concat(na(c)))};function S(a){this.s2=a.fallback;this.hW=a.localePrecedence;this.tN={};this.i=a.messages;this.w7=this.hW[0];this.n8=!!a.returnKeys}S.prototype.format=function(a,b){if(this.n8)return[].join.call(arguments,":");var c=gc(this,a);return c.format.call(c,[].slice.call(arguments,1))};
S.prototype.Oa=function(a,b){for(var c=[],d=1;d<arguments.length;++d)c[d-1]=arguments[d];c=this.format.apply(this,[].concat([a],na(c.map(function(a){return"number"===typeof a?a:soydata.SanitizedHtml.from(a).getContent()}))));return soydata.VERY_UNSAFE.ordainSanitizedHtml(c)};
function gc(a,b){if(a.tN.hasOwnProperty(b))return a.tN[b];var c=a.w7,d;a.hW.some(function(c){d=a.i[c]&&a.i[c][b];return void 0!==d});d||(c=a.s2,d=a.i[c]&&a.i[c][b]);if(!d)throw Error("Unknown message: "+b);c=new IntlMessageFormat(d,c,hc);return a.tN[b]=c}var hc={number:{currency:{style:"currency",currency:"USD"},integer:{maximumFractionDigits:0},fixed2:{minimumFractionDigits:2,maximumFractionDigits:2}}};function ic(){this.config=window.cmsg;this.EO=this.Kl=this.ff=this.MK=this.KK=this.WQ=this.Ol=this.je=this.Ff=this.ie=this.Ac=this.Xh=this.Ki=this.Ce=this.Yc=this.Ns=this.Ca=this.yJ=this.bR=this.kq=this.Ky=this.Lu=this.FN=this.QJ=this.hf=this.kj=this.lR=this.NK=this.bg=this.ne=this.hj=this.sk=this.Rf=this.Rb=this.sR=this.bP=this.Ka=this.xa=this.Ba=this.Y=this.Gd=this.Va=this.Md=this.rd=this.zj=this.So=this.hh=this.Tk=this.Hf=this.sy=this.WK=this.VK=this.UK=this.ym=this.mc=this.XK=this.qf=this.qg=
this.HJ=this.Gi=this.EK=this.J=null}function jc(a){a.J||(a.J=new kc(a.config));return a.J}function lc(a){a.EK||(a.EK=new mc(a.config));return a.EK}function nc(a){a.zj||(a.zj=new oc(a.config));return a.zj}function pc(a){a.Gi||(a.Gi=new sc(a.config));return a.Gi}function tc(a){a.HJ||(a.HJ=new uc(a.config));return a.HJ}function vc(a){a.ym||(a.ym=new wc(a.config));return a.ym}function xc(a){a.qf||(a.qf=new yc(a.config));return a.qf}function zc(a){a.XK||(a.XK=new Ac(a.config));return a.XK}
function Bc(a){a.mc||(a.mc=new Cc(a.config));return a.mc}function Dc(a){a.UK||(a.UK=new Ec(a.config));return a.UK}function Fc(a){a.VK||(a.VK=new Gc(a.config));return a.VK}function Hc(a){a.sy||(a.sy=new Ic(a.config));return a.sy}function Jc(a){a.Lu||(a.Lu=new Kc(a.config));return a.Lu}function Lc(a){a.Ky||(a.Ky=new Mc(a.config));return a.Ky}function Nc(a){a.Y||(a.Y=new Oc(a.config));return a.Y}function Pc(a){a.Ba||(a.Ba=new Qc(a.config));return a.Ba}
function Rc(a){a.xa||(a.xa=new Sc(a.config));return a.xa}function Tc(a){a.Ka||(a.Ka=new Uc(a.config));return a.Ka}function Vc(a){a.bP||(a.bP=new Wc(a.config));return a.bP}function Xc(a){a.So||(a.So=new Yc(a.config));return a.So}function Zc(a){a.Md||(a.Md=new $c(a.config));return a.Md}function ad(a){a.Va||(a.Va=new bd(a.config));return a.Va}function cd(a){a.hj||(a.hj=new dd(a.config));return a.hj}function ed(a){a.ne||(a.ne=new fd(a.config));return a.ne}
function gd(a){a.lR||(a.lR=new hd(a.config));return a.lR}function id(a){a.kj||(a.kj=new jd(a.config));return a.kj}function kd(a){a.hf||(a.hf=new ld(a.config));return a.hf}function md(a){a.QJ||(a.QJ=new nd(a.config));return a.QJ}function od(a){a.FN||(a.FN=new pd(a.config));return a.FN}function qd(a){a.kq||(a.kq=new rd(a.config));return a.kq}function sd(a){a.Ce||(a.Ce=new td(a.config));return a.Ce}function ud(a){a.Ca||(a.Ca=new vd(a.config));return a.Ca}
function wd(a){a.ie||(a.ie=new xd(a.config));return a.ie}function yd(a){a.Ff||(a.Ff=new zd(a.config));return a.Ff}function Ad(a){a.je||(a.je=new Bd(a.config));return a.je}function Dd(a){a.Ol||(a.Ol=new Ed(a.config));return a.Ol}function Fd(a){a.ff||(a.ff=new Gd(a.config));return a.ff}function Hd(a){a.Kl||(a.Kl=new Id(a.config));return a.Kl}function Jd(a){a.EO||(a.EO=new Kd(a.config));return a.EO}function kc(a){S.apply(this,arguments)}t(kc,S);
function Ld(a){return a.format("objectPanelInfoClose")}function Md(a){return a.format("objectPanelInfoCloseThisInfoPanel")}function Nd(a){return a.format("objectPanelInfoUntitledImage")}kc.prototype.Bc=function(){return this.format("objectPanelInfoRoyaltyFree")};kc.prototype.vd=function(){return this.format("objectPanelInfoExtended")};function Od(a,b){return a.format("objectPanelInfoLayouts",b)}function Pd(a){return a.format("objectPanelUploadsPanelWriteOpsDisabledLabel")}
function Qd(a){return a.format("objectPanelUploadsPanelDefaultFolderName")}function Rd(a,b){return a.format("objectPanelUploadsPanelSharePopOverPrivateLabelOtherOwner",b)}function Sd(a){return a.format("objectPanelUploadsPanelUnlimitedUseFolder")}function Td(a){return a.format("objectPanelTextPanelAddHeading")}function Ud(a){return a.format("objectPanelTextPanelAddSubHeading")}function Vd(a){return a.format("objectPanelLayoutsPanelYourDesignsTabLabel")}
function Wd(a){return a.format("objectPanelLayoutsPanelLayoutsTabTitle")}function Xd(a){return a.format("objectPanelLayoutsPanelTeamTemplates")}function Yd(a){return a.format("objectPanelMediaItemCostFree")}kc.prototype.aq=function(a){return this.format("objectPanelLicense",a)};function $c(a){S.apply(this,arguments)}t($c,S);function bd(a){S.apply(this,arguments)}t(bd,S);f=bd.prototype;f.qj=function(){return this.format("creditCardCreditCardLabel")};f.au=function(){return this.format("creditCardBillingAddressLabel")};
f.Fk=function(){return this.format("creditCardCardNumberPlaceholder")};f.xl=function(){return this.format("creditCardMonthPlaceholder")};f.cm=function(){return this.format("creditCardYearPlaceholder")};f.Nk=function(){return this.format("creditCardCvcPlaceholder")};function Zd(a){return a.format("creditCardRegionPlaceholder")}f.Eo=function(){return this.format("creditCardZipCodePlaceholder")};f.save=function(){return this.format("creditCardSave")};f.BP=function(){return this.format("creditCardSavingTeamCard")};
function mc(a){S.apply(this,arguments)}t(mc,S);mc.prototype.Df=function(){return this.format("documentPlaceholderText")};function Cc(a){S.apply(this,arguments)}t(Cc,S);Cc.prototype.IC=function(){return this.format("editorControlsUpgrade")};Cc.prototype.Ul=function(){return this.format("editorControlsShare")};Cc.prototype.download=function(){return this.format("editorControlsDownload")};Cc.prototype.print=function(){return this.format("editorControlsPrint")};
function $d(a){return a.format("editorControlsUnsavedChanges")}function oc(a){S.apply(this,arguments)}t(oc,S);oc.prototype.error=function(){return this.format("findUserInputError")};function sc(a){S.apply(this,arguments)}t(sc,S);sc.prototype.Po=function(){return this.format("colorPaletteApplyToAll")};function uc(a){S.apply(this,arguments)}t(uc,S);uc.prototype.Nb=function(a){return this.format("colorPickerBrandColor",a)};uc.prototype.Po=function(){return this.format("colorPickerApplyToAll")};
function ae(a){S.apply(this,arguments)}t(ae,S);f=ae.prototype;f.jW=function(){return this.format("editorFileMenuPaneMagicResize")};f.save=function(){return this.format("editorFileMenuPaneSave")};f.i8=function(){return this.format("editorFileMenuPaneResizeUpgradePrompt")};f.aN=function(){return this.format("editorFileMenuPaneLearnMoreButtonLabel")};f.n3=function(a){return this.format("editorFileMenuPaneLastSavedLabel",a)};f.R3=function(){return this.format("editorFileMenuPaneNewDesignMenuItemLabel")};
function wc(a){S.apply(this,arguments)}t(wc,S);wc.prototype.S_=function(){return this.format("customDimensionsPaneActionResize")};wc.prototype.times=function(){return this.format("customDimensionsPaneTimes")};wc.prototype.p7=function(){return this.format("customDimensionsPanePixelsUnit")};function be(a){S.apply(this,arguments)}t(be,S);be.prototype.a$=function(){return this.format("documentResizePaneUseCustomDimensions")};be.prototype.SJ=function(){return this.format("documentResizePaneCouldNotBeLoaded")};
be.prototype.PQ=function(){return this.format("documentResizePaneTryLoadingAgain")};be.prototype.tL=function(){return this.format("documentResizePaneFetchingDesignTypes")};function ce(a){S.apply(this,arguments)}t(ce,S);f=ce.prototype;f.h1=function(){return this.format("magicResizePaneCopyAndResize")};f.SJ=function(){return this.format("magicResizePaneCouldNotBeLoaded")};f.PQ=function(){return this.format("magicResizePaneTryLoadingAgain")};f.tL=function(){return this.format("magicResizePaneFetchingDesignTypes")};
f.s1=function(){return this.format("magicResizePaneCurrentDesignSize")};f.O_=function(){return this.format("magicResizePaneAbracadabraResize")};f.V3=function(){return this.format("magicResizePaneOhSnap")};f.P3=function(){return this.format("magicResizePaneMultipleTabs")};function Ec(a){S.apply(this,arguments)}t(Ec,S);Ec.prototype.gm=function(){return this.format("editorPageControlActionMoveUp")};Ec.prototype.fm=function(){return this.format("editorPageControlActionMoveDown")};Ec.prototype.dm=function(){return this.format("editorPageControlActionCopy")};
Ec.prototype.em=function(){return this.format("editorPageControlActionDelete")};function Gc(a){S.apply(this,arguments)}t(Gc,S);function de(a){S.apply(this,arguments)}t(de,S);f=de.prototype;f.rR=function(){return this.format("editorReplaceContentWarningTitle")};f.qR=function(){return this.format("editorReplaceContentWarningText")};f.Xo=function(){return this.format("editorReplaceContentConfirmButtonText")};f.Dk=function(){return this.format("editorReplaceContentCancelButtonText")};f.oG=function(){return this.format("editorReplaceContentNeverShowAgain")};
function yc(a){S.apply(this,arguments)}t(yc,S);function ee(a){return a.format("editorToolbarFilterOptionAdvanced")}function fe(a,b){return a.format("editorToolbarFilter"+b.replace(/\s*/g,""))}function ge(a,b){b=b.replace(/(^[a-z])|(\-[a-z])/g,function(a){return(a[1]||a[0]).toUpperCase()});return a.format("editorToolbarFilterRange"+b)}function he(a){return a.format("editorToolbarElementDelete")}f=yc.prototype;f.wd=function(){return this.format("editorToolbarFontSizeAuto")};f.textAlign=function(){return this.format("editorToolbarTextAlign")};
function ie(a){return a.format("editorToolbarElementTransparency")}function ke(a){return a.format("editorToolbarElementHorizontalAlignLeft")}function le(a){return a.format("editorToolbarElementHorizontalAlignRight")}function me(a){return a.format("editorToolbarElementHorizontalAlignCenter")}function ne(a){return a.format("editorToolbarElementVerticalAlignTop")}function oe(a){return a.format("editorToolbarElementVerticalAlignBottom")}
function pe(a){return a.format("editorToolbarElementVerticalAlignCenter")}function qe(a){return a.format("editorToolbarElementHorizontalDistribute")}function re(a){return a.format("editorToolbarElementVerticalDistribute")}function se(a){return a.format("editorToolbarElementPickAColor")}function te(a){return a.format("editorToolbarDeleteMenuDeleteElement")}function ue(){return xc(Kb).format("editorToolbarImagePickAColor")}f.aN=function(){return this.format("editorToolbarLearnMoreButtonLabel")};
f.Fb=function(){return this.format("editorToolbarTransparency")};f.lineHeight=function(){return this.format("editorToolbarLineHeight")};f.letterSpacing=function(){return this.format("editorToolbarLetterSpacing")};function ve(a,b){return a.format("editorToolbarTableItem",b)}function Ac(a){S.apply(this,arguments)}t(Ac,S);Ac.prototype.resize=function(){return this.format("editorSelectionBoxResize")};Ac.prototype.stretch=function(){return this.format("editorSelectionBoxStretch")};
Ac.prototype.rotate=function(){return this.format("editorSelectionBoxRotate")};Ac.prototype.Y7=function(){return this.format("editorSelectionBoxRemoveWatermark")};function Ic(a){S.apply(this,arguments)}t(Ic,S);Ic.prototype.Lv=function(){return this.format("canvaForWorkUpgradeMemberLabel")};function we(a){return a.format("canvaForWorkFeatureUpgradePlusIncreaseProductivity")}function xe(a){return a.format("canvaForWorkFeatureUpgradeTemplatesBenefit")}
function ye(a){return a.format("canvaForWorkFeatureUpgradeResizeBenefit")}function ze(a){return a.format("canvaForWorkFeatureUpgradeBrandKitBenefit")}function Ae(a){return a.format("canvaForWorkFeatureUpgradeFoldersBenefit")}function Be(a){return a.format("canvaForWorkFeatureUpgradeFreeContentBenefit",3E5)}function Ce(a){return a.format("canvaForWorkBundleFeaturePhotoFolders")}function De(a){return a.format("canvaForWorkBundleFeatureFreePhotos",3E5)}
function Ee(a){return a.format("canvaForWorkBundleFeatureSaveTemplates")}function Fe(a){return a.format("canvaForWorkBundleFeatureMagicResize")}function Ge(a){return a.format("canvaForWorkBundleFeatureUploadFonts")}function He(a){return a.format("canvaForWorkBundleFeatureBrandKit")}function Ie(a){return a.format("canvaForWorkBundleFeatureTransparentBackgrounds")}function Je(a){return a.format("canvaForWorkBundleUpgradeButton")}function Ke(a){S.apply(this,arguments)}t(Ke,S);Ke.prototype.post=function(){return this.format("shareViewPost")};
Ke.prototype.email=function(){return this.format("shareViewEmail")};Ke.prototype.send=function(){return this.format("shareViewSend")};Ke.prototype.uj=function(){return this.format("shareViewEmailInputPlaceholder")};function Le(a){S.apply(this,arguments)}t(Le,S);f=Le.prototype;f.Se=function(){return this.format("exportPopOverFileType")};f.pu=function(){return this.format("exportPopOverCropMarksAndBleed")};f.Cx=function(){return this.format("exportPopOverTransparentBackground")};f.St=function(){return this.format("exportPopOverAllPagesLabel")};
f.download=function(){return this.format("exportPopOverDownload")};f.title=function(){return this.format("exportPopOverTitle")};f.oB=function(){return this.format("exportPopOverPng")};f.sA=function(){return this.format("exportPopOverJpg")};f.Ku=function(){return this.format("exportPopOverFileTypeInfoLinkTitle")};f.ou=function(){return this.format("exportPopOverCropAndBleedInfoLinkTitle")};function Me(a,b){return a.format("exportPopOverMultiPageZipWarning",b)}
function Kc(a){S.apply(this,arguments)}t(Kc,S);f=Kc.prototype;f.title=function(){return this.format("fileTypesDialogTitle")};f.oB=function(){return this.format("fileTypesDialogPng")};f.q7=function(){return this.format("fileTypesDialogPngDescription")};f.sA=function(){return this.format("fileTypesDialogJpg")};f.l3=function(){return this.format("fileTypesDialogJpgDescription")};f.j7=function(){return this.format("fileTypesDialogPdfStandard")};f.k7=function(){return this.format("fileTypesDialogPdfStandardDescription")};
f.h7=function(){return this.format("fileTypesDialogPdfPrint")};f.i7=function(){return this.format("fileTypesDialogPdfPrintDescription")};f.hM=function(){return this.format("fileTypesDialogGotIt")};function Mc(a){S.apply(this,arguments)}t(Mc,S);f=Mc.prototype;f.title=function(){return this.format("cropAndBleedDialogTitle")};f.hg=function(){return this.format("cropAndBleedDialogSubtitle")};f.q1=function(){return this.format("cropAndBleedDialogCropMarksDescription")};f.k0=function(){return this.format("cropAndBleedDialogBleedAreaDescription")};
f.hM=function(){return this.format("cropAndBleedDialogGotIt")};function Oc(a){S.apply(this,arguments)}t(Oc,S);f=Oc.prototype;f.title=function(){return this.format("shareDesignDialogTitle")};f.c9=function(){return this.format("shareDesignDialogSocial")};f.link=function(){return this.format("shareDesignDialogLink")};f.ln=function(){return this.format("shareDesignDialogInviteLabel")};function Ne(a){return a.format("shareDesignDialogInvitePlaceholder")}f.kn=function(){return this.format("shareDesignDialogInviteButton")};
f.ko=function(){return this.format("shareDesignDialogShareLabel")};f.zn=function(){return this.format("shareDesignDialogMessagePlaceholder")};f.io=function(){return this.format("shareDesignDialogShareButton")};f.Gf=function(){return this.format("shareDesignDialogPurchaseButton")};f.Dg=function(){return this.format("shareDesignDialogRestrictedOverlayMessage")};function Oe(a){return a.format("shareDesignDialogViewOnFacebook")}function Pe(a){return a.format("shareDesignDialogViewOnTwitter")}f.oq=function(){return this.format("shareDesignDialogOkButton")};
function Qe(a){return a.format("shareDesignDialogSharingErrorTitle")}function Re(a,b){return a.format("shareDesignDialogSharingError",b)}function Se(a){return a.format("shareDesignDialogBackToSharingButton")}function Te(a){return a.format("shareDesignDialogEditRole")}function Ue(a){return a.format("shareDesignDialogEditRoleShort")}function Ve(a){return a.format("shareDesignDialogViewRole")}function We(a){return a.format("shareDesignDialogViewRoleShort")}
f.Pc=function(a){return this.format("shareDesignDialogFolders",a)};f.tn=function(){return this.format("shareDesignDialogLinkLabel")};f.Qg=function(){return this.format("shareDesignDialogCopyButton")};f.Im=function(){return this.format("shareDesignDialogEmbedPublic")};f.Hm=function(){return this.format("shareDesignDialogEmbedMakePublic")};f.Fm=function(){return this.format("shareDesignDialogEmbedLabelHTML")};f.Gm=function(){return this.format("shareDesignDialogEmbedLabeloEmbed")};f.vj=function(){return this.Oa("shareDesignDialogEmbedDescriptionHtml")};
f.js=function(a,b){return this.format("shareDesignDialogInviteMembersHtml",a,b)};f.mv=function(){return this.format("shareDesignDialogInviteMemberButton")};f.nv=function(){return this.format("shareDesignDialogInviteMemberError")};function Qc(a){S.apply(this,arguments)}t(Qc,S);f=Qc.prototype;f.Kg=function(){return this.format("publishViewActionClose")};f.Io=function(){return this.format("publishViewActionCloseHint")};f.Lt=function(){return this.format("publishViewActionOK")};f.Mt=function(){return this.format("publishViewActionRetry")};
function Xe(a,b){return a.format("publishViewUnlimitedUseHint",b)}f.iv=function(){return this.format("publishViewHintSeeAllDesigns")};function Sc(a){S.apply(this,arguments)}t(Sc,S);function Ye(a){return a.Oa("paymentPageErrorGenericHtml","https://support.canva.com/troubleshooting")}f=Sc.prototype;f.Vt=function(){return this.format("paymentPageApplyCouponButtonText")};f.lu=function(){return this.format("paymentPageCouponCodeInputPlaceholder")};
function Ze(a){return a.Oa("paymentPageLicensingIntroMore")}f.rl=function(a){return this.format("paymentPageLicensePrice",a)};function $e(a,b){return a.format("paymentPageLicenseRemainingMinutes",b)}f.tm=function(a){return this.format("paymentPageCreditAvailable",a)};f.total=function(a){return this.format("paymentPageTotal",a)};f.xq=function(a){return this.format("paymentPagePayOption",a)};f.zr=function(a){return this.format("paymentPageContributedBy",a)};f.Qs=function(){return this.format("paymentPagePurchased")};
f.xd=function(){return this.format("paymentPageFree")};f.zv=function(){return this.format("paymentPageLayoutTitle")};f.Gf=function(){return this.format("paymentPagePurchaseButton")};f.BP=function(){return this.format("paymentPageSavingTeamCard")};function af(a){return a.format("paymentPageLicensesDetailsConfirm")}f.$n=function(){return this.format("paymentPageRestrictedOverlayHeading")};f.Dg=function(){return this.format("paymentPageRestrictedOverlayMessage")};f.Zn=function(){return this.format("paymentPageRestrictedOverlayDraftButton")};
f.Yn=function(){return this.format("paymentPageRestrictedOverlayCancelButton")};function Uc(a){S.apply(this,arguments)}t(Uc,S);f=Uc.prototype;f.gd=function(){return this.format("licenseOneTimeUse")};f.Ic=function(){return this.format("licenseOneTimeUseDescription")};f.Bc=function(){return this.format("licenseRoyaltyFree")};f.Kc=function(){return this.format("licenseRoyaltyFreeDescription")};f.vd=function(){return this.format("licenseExtended")};f.Ld=function(){return this.format("licenseExtendedDescription")};
f.Od=function(){return this.format("licenseNoLicenseOptionDescription")};function bf(a,b){return a.Oa("licenseLicensesDetailsFullInformation",b)}function Wc(a){S.apply(this,arguments)}t(Wc,S);function cf(a){S.apply(this,arguments)}t(cf,S);cf.prototype.Gf=function(){return this.format("watermarkRemovalDialogPurchaseButton")};cf.prototype.title=function(){return this.format("watermarkRemovalDialogTitle")};function Yc(a){S.apply(this,arguments)}t(Yc,S);f=Yc.prototype;f.aG=function(){return this.format("brandTeamMembersLoading")};
f.Ai=function(){return this.format("brandTeamMembersBrandKit")};f.yn=function(){return this.format("brandTeamMembersMembers")};f.Pc=function(){return this.format("brandTeamMembersFolders")};f.jW=function(){return this.format("brandTeamMembersMagicResize")};f.IC=function(){return this.format("brandTeamMembersUpgrade")};function df(a){S.apply(this,arguments)}t(df,S);function ff(a){return a.format("twentyThreeSecondOnboardingSearchText")}
function gf(a){return a.format("twentyThreeSecondOnboardingDragText")}function hf(a){return a.format("twentyThreeSecondOnboardingPublishText")}function jf(a){return a.format("twentyThreeSecondOnboardingYumText")}function kf(a){S.apply(this,arguments)}t(kf,S);kf.prototype.o1=function(a){return this.format("teamUpgradeCreateTeamWelcomeTitleHtml",a)};kf.prototype.p1=function(){return this.format("teamUpgradeCreateYourTeam")};
kf.prototype.n1=function(a){return this.format("teamUpgradeCreateTeamWelcomeDescription",a)};function lf(a){return a.format("teamUpgradeCreateTrialPeriodPoint1V")}function mf(a,b){return a.format("teamUpgradeCreateTrialPeriodPoint2V",b)}function nf(a){return a.format("teamUpgradeCreateTrialPeriodPoint3V")}function dd(a){S.apply(this,arguments)}t(dd,S);f=dd.prototype;f.IC=function(a){return this.format("teamBillingSignupUpgrade",a)};f.qx=function(){return this.format("teamBillingSignupStartTrial")};
f.Bw=function(){return this.format("teamBillingSignupRevertCard")};f.xv=function(){return this.format("teamBillingSignupItemsTitle")};f.bu=function(){return this.format("teamBillingSignupBillingError")};f.Dx=function(){return this.format("teamBillingSignupTryAgain")};f.Du=function(){return this.format("teamBillingSignupEncryption")};f.$l=function(a,b){return this.format("teamBillingSignupTotalPrice",a,b)};function fd(a){S.apply(this,arguments)}t(fd,S);
function of(a){return a.format("starOnboardingActionStayAndPlay")}function qf(a){return a.format("starOnboardingActionKeepExploring")}fd.prototype.H7=function(){return this.format("starOnboardingProgressTitle")};fd.prototype.f9=function(){return this.format("starOnboardingSpecialInstructionsTitle")};fd.prototype.d9=function(){return this.format("starOnboardingSpecialInstructionsHtml")};fd.prototype.e9=function(){return this.format("starOnboardingSpecialInstructionsQuestionText")};
function rf(a){S.apply(this,arguments)}t(rf,S);function hd(a){S.apply(this,arguments)}t(hd,S);hd.prototype.DO=function(){return this.format("viewDesignsPopOverTitle")};hd.prototype.BO=function(){return this.format("viewDesignsPopOverMessage")};hd.prototype.AO=function(){return this.format("viewDesignsPopOverDone")};function sf(a){S.apply(this,arguments)}t(sf,S);sf.prototype.DO=function(){return this.format("downloadPopOverTitle")};sf.prototype.BO=function(){return this.format("downloadPopOverMessage")};
sf.prototype.AO=function(){return this.format("downloadPopOverDone")};function jd(a){S.apply(this,arguments)}t(jd,S);jd.prototype.Px=function(a){return this.format("zoomToolbarZoomPercentage",a)};jd.prototype.Sf=function(){return this.format("zoomToolbarFullscreenMode")};jd.prototype.fill=function(){return this.format("zoomToolbarFill")};function ld(a){S.apply(this,arguments)}t(ld,S);function nd(a){S.apply(this,arguments)}t(nd,S);function pd(a){S.apply(this,arguments)}t(pd,S);pd.prototype.ZB=function(){return this.format("newLightboxShareLink")};
function tf(a,b,c,d,e){return a.format("newLightboxEmbedCodeBy",c,b,d,e)}function rd(a){S.apply(this,arguments)}t(rd,S);rd.prototype.An=function(){return this.format("newFeatureNewLabel")};function uf(a){S.apply(this,arguments)}t(uf,S);function vf(a){S.apply(this,arguments)}t(vf,S);vf.prototype.n0=function(a){return this.format("chartElementCardinalNumber",a)};function vd(a){S.apply(this,arguments)}t(vd,S);f=vd.prototype;f.heading=function(){return this.format("printOrderSummaryHeading")};f.jw=function(){return this.format("printOrderSummaryPremiumImagesPriceLabel")};
f.zt=function(){return this.Oa("printOrderSummaryTotalLabelHtml")};f.da=function(a){return this.format("printOrderSummaryPrice",a)};f.Uv=function(a){return this.format("printOrderSummaryNumberOfCopies",a)};f.Ma=function(a){return this.format("printOrderSummaryDiscount",a)};f.hk=function(){return this.format("printOrderSummarySelectYourPrintOptions")};f.$h=function(){return this.format("printOrderSummarySelectYourShippingOption")};f.rj=function(a){return this.format("printOrderSummaryCreditUsed",a)};
function wf(a,b){return a.format("printOrderSummaryCreditUsedAndAvailableLabel",b)}f.xw=function(){return this.format("printOrderSummaryRemoveCouponText")};function xf(a){S.apply(this,arguments)}t(xf,S);f=xf.prototype;f.heading=function(){return this.format("printOrderReceivedHeading")};f.nR=function(){return this.format("printOrderReceivedViewPrintOrdersButtonText")};f.mR=function(){return this.format("printOrderReceivedViewHomepageButtonText")};
f.d1=function(a){return this.Oa("printOrderReceivedConfirmationEmailMessageHtml",a)};f.L6=function(a){return this.Oa("printOrderReceivedMessageHtml",a,"printOrderReceived__orderNumber")};function td(a){S.apply(this,arguments)}t(td,S);td.prototype.pc=function(a,b){return this.format("printFlowPageNumberOfTotal",a,b)};function yf(a){S.apply(this,arguments)}t(yf,S);f=yf.prototype;f.qy=function(){return this.format("addressDetailsCannotShipToPostOfficeBoxMessage")};f.ZI=function(){return this.format("addressDetailsAddAdditionalAddressFieldButtonText")};
f.DJ=function(){return this.format("addressDetailsCityLabel")};f.OJ=function(){return this.format("addressDetailsContactNumberLabel")};f.TJ=function(){return this.format("addressDetailsCountryLabel")};f.HL=function(){return this.format("addressDetailsFullNameLabel")};f.yQ=function(){return this.format("addressDetailsStateLabel")};f.AQ=function(){return this.format("addressDetailsStreetAddressLabel")};f.DR=function(){return this.format("addressDetailsZipcodeLabel")};f.heading=function(){return this.format("addressDetailsHeading")};
f.AP=function(){return this.format("addressDetailsSaveAddressLabel")};f.Hw=function(){return this.format("addressDetailsSelectSubdivisionText")};function zf(a){S.apply(this,arguments)}t(zf,S);f=zf.prototype;f.heading=function(){return this.format("designProofReviewHeading")};f.description=function(){return this.format("designProofReviewDescription")};f.fu=function(){return this.format("designProofReviewCheckImagesAndText")};f.sr=function(a){return this.Oa("designProofReviewCheckTermsOfUseHtml",a)};
f.Su=function(){return this.format("designProofReviewGeneratingPdfText")};f.Gw=function(){return this.format("designProofReviewSeeUnfixableProblemButtonText")};f.ku=function(){return this.format("designProofReviewContinueToCheckoutButtonText")};function Af(a){S.apply(this,arguments)}t(Af,S);Af.prototype.mu=function(){return this.format("printPaymentAndConfirmationCouponCodeLabel")};Af.prototype.heading=function(){return this.format("printPaymentAndConfirmationHeading")};Af.prototype.rO=function(){return this.format("printPaymentAndConfirmationPaymentDetailsHeading")};
function Bf(a){S.apply(this,arguments)}t(Bf,S);f=Bf.prototype;f.Yw=function(){return this.format("printOrderFormShippingAddressHeading")};f.Zc=function(){return this.format("printOrderFormBackButtonText")};f.Hi=function(){return this.format("printOrderFormContinueButtonText")};f.e7=function(){return this.format("printOrderFormPayNowButtonText")};f.hO=function(){return this.format("printOrderFormOrderErrorHeading")};function xd(a){S.apply(this,arguments)}t(xd,S);f=xd.prototype;f.CS=function(){return this.format("printEditorFormBeginOrderButtonText")};
f.QS=function(){return this.format("printEditorFormCancelOrderButtonText")};f.Hi=function(){return this.format("printEditorFormContinueButtonText")};f.Zc=function(){return this.format("printEditorFormBackButtonText")};f.Xi=function(){return this.format("printEditorFormNextButtonText")};function zd(a){S.apply(this,arguments)}t(zd,S);zd.prototype.vh=function(){return this.format("printProofingWhyIsThisImportant")};function Bd(a){S.apply(this,arguments)}t(Bd,S);
function Ed(a){S.apply(this,arguments)}t(Ed,S);Ed.prototype.Yg=function(){return this.format("searchMenuFreeOnly")};function Cf(a){S.apply(this,arguments)}t(Cf,S);Cf.prototype.Dk=function(){return this.format("updateDoctypeCancelButtonText")};Cf.prototype.hq=function(){return this.format("updateDoctypeMoreInfoLinkText")};function Df(a){S.apply(this,arguments)}t(Df,S);f=Df.prototype;f.qb=function(){return this.format("downloadIphoneDialogHeadingHtml")};f.Yj=function(){return this.format("downloadIphoneDialogOverviewSubheading")};
f.Hc=function(){return this.format("downloadIphoneDialogIphoneLabel")};f.Ec=function(){return this.format("downloadIphoneDialogAndroidLabel")};f.ov=function(){return this.format("downloadIphoneDialogIphoneSubheading")};f.Jw=function(){return this.format("downloadIphoneDialogSendButtonLabel")};f.$i=function(){return this.format("downloadIphoneDialogPhoneInputPlaceholder")};f.Ut=function(){return this.format("downloadIphoneDialogAndroidSubheading")};f.vw=function(){return this.format("downloadIphoneDialogRegisterButtonLabel")};
f.tQ=function(){return this.format("downloadIphoneDialogSomethingWentWrong")};f.OF=function(){return this.format("downloadIphoneDialogInvalidNumber")};function Ef(a){S.apply(this,arguments)}t(Ef,S);f=Ef.prototype;f.heading=function(){return this.format("downloadMobileAppDialogHeading")};f.gi=function(){return this.format("downloadMobileAppDialogSubheading")};f.Hc=function(){return this.format("downloadMobileAppDialogIPhoneLabel")};f.Ec=function(){return this.format("downloadMobileAppDialogAndroidLabel")};
f.md=function(){return this.format("downloadMobileAppDialogSubmitButtonLabel")};f.Fg=function(){return this.format("downloadMobileAppDialogSelectDeviceText")};f.OF=function(){return this.format("downloadMobileAppDialogInvalidNumber")};f.success=function(){return this.format("downloadMobileAppDialogSuccess")};f.tQ=function(){return this.format("downloadMobileAppDialogSomethingWentWrong")};function Gd(a){S.apply(this,arguments)}t(Gd,S);Gd.prototype.uj=function(){return this.format("teamInviteFormEmailInputPlaceholder")};
Gd.prototype.md=function(){return this.format("teamInviteFormSubmitButtonLabel")};Gd.prototype.br=function(){return this.format("teamInviteFormUpgradeMessage")};Gd.prototype.Ko=function(){return this.format("teamInviteFormAddAnotherButtonLabel")};function Id(a){S.apply(this,arguments)}t(Id,S);function Kd(a){S.apply(this,arguments)}t(Kd,S);f=Kd.prototype;f.title=function(){return this.format("popupBlockedDialogTitle")};f.hg=function(){return this.format("popupBlockedDialogSubtitle")};f.tx=function(){return this.format("popupBlockedDialogStep1Label")};
f.ux=function(){return this.format("popupBlockedDialogStep2Label")};f.qt=function(){return this.Oa("popupBlockedDialogStep2Html")};function Ff(a){0<a.length&&(a=window.getComputedStyle(a.get(0)))&&a.getPropertyValue("left")};function Gf(a){return new P(function(b){function c(e){e.target===a&&(d.off("transitionend",c),b())}var d=$(a);d.on("transitionend",c)})};function Hf(a,b){if(!a)throw new TypeError("Cannot adopt constructor "+a);if("object"!==typeof b)throw new TypeError("Cannot adopt non-object value "+b);if(null===b)throw new TypeError("Cannot adopt null value");return Object.create(a.prototype,If(b))}function If(a){var b=Object.create(null);Object.keys(a).forEach(function(c){b[c]={value:a[c],writable:!0,enumerable:!0,configurable:!0}});return b};function Jf(a,b){this.name=a;this.defaultValue=b};function Kf(a){this.values=a||{}}function Lf(){return new Kf(La(window.cflags))}Kf.prototype.get=function(a){var b;if({}.hasOwnProperty.call(this.values,a.name)){b=this.values[a.name];var c=typeof b;a=typeof a.defaultValue;Ca(c===a,"Type mismatch: Configured value ({}) deviates from default value type ({})",c,a)}else b=a.defaultValue;return b};function Mf(a){this.H=a}
var Nf=new Jf("ad",!1),Of=new Jf("ag",!0),Pf=new Jf("aj",!1),Qf=new Jf("au",!1),Rf=new Jf("ay",!1),Sf=new Jf("av",!1),Tf=new Jf("aw",!1),Uf=new Jf("az",!1),Vf=new Jf("bf",!1),Wf=new Jf("bg",!1),Xf=new Jf("bk",!1),Yf=new Jf("bw",!1),Zf=new Jf("by",!1),$f=new Jf("cf",10),ag=new Jf("cn",!1),bg=new Jf("cv",!1),cg=new Jf("de",!1),dg=new Jf("dg",1),eg=new Jf("dh",3),fg=new Jf("dn",!1),gg=new Jf("dr",!1),hg=new Jf("ex",!1),ig=new Jf("ee",!1),jg=new Jf("ek",!1),kg=new Jf("em","NONE"),lg=new Jf("en",!1),mg=
new Jf("ep",!0),ng=new Jf("ey",!0),og=new Jf("ez",!1),pg=new Jf("fd",!1),qg=new Jf("ff",!1),rg=new Jf("fl",!1),sg=new Jf("fo",!1),tg=new Jf("fq",!1),ug=new Jf("fx",!1),vg=new Jf("fz",!0),wg=new Jf("gn",!0),xg=new Jf("gq",!0),yg=new Jf("hn",!1),zg=new Jf("ib",!1),Ag=new Jf("js",!1),Bg=new Jf("ke",!1),Cg=new Jf("ko",!1),Dg=new Jf("kw",!1);f=Mf.prototype;f.Qy=function(){return this.H.get(Qf)};f.kN=function(){return this.H.get(Xf)};f.Ee=function(){return this.H.get(ig)};f.CK=function(){return this.H.get(kg)};
f.Ur=function(){return this.H.get(zg)};var T="undefined"!==typeof _&&"undefined"!==typeof Backbone&&_.extend({},Backbone.Events),U=null,Eg=null;function Fg(a){this.Ab=a.Ab;this.ud=a.ud;this.ec=a.ec;this.Xe=a.Xe;this.Zb=a.Zb;this.bI=a.bI;this.Hy=a.Hy}function Gg(a,b,c,d){b=Hg(b);if(!b)return null;var e=a.Ab.Aa();a=Ig(a,b.pa());isNaN(parseFloat(c*d))?(b.ld(a),b.Vk(e)):(a.gb(c||0),a.ab(d||0),b.ld(a),b.appendTo(e));Jg(b);Kg(b);return b}Fg.prototype.kS=function(a,b,c){var d;d={height:a.Cj().o(),isCutout:!1,mediaId:a.u(),mediaVersion:0,type:"image",width:a.Cj().l()};b=Gg(this,d,b,c);Lg(this.bI,Mg(a),b)};
Fg.prototype.lS=function(a,b,c,d){switch(a.eb()){case Ng:a=Og(a,"image",d);Gg(this,a,b,c);break;case Pg:a=a.Ha().dv()?Og(a,"graphic"):Og(a,"svg");Gg(this,a,b,c);break;default:throw Error("Bad media. Composer unable to add media of type: "+a.eb());}};Fg.prototype.mS=function(a,b,c,d){(a=a.r9?Qg(a,"svg"):Qg(a,"image",d))&&Gg(this,a,b,c)};
function Mg(a){var b=a.Cj(),c=a.ee();return Rg({files_:[{page:0,quality:"THUMBNAIL",height:c.o(),url:c.ma(),width:c.l()},{page:0,quality:"SCREEN",height:b.o(),url:b.ma(),width:b.l()}],id:a.u(),origin:Sg,title:a.getName()})}function Og(a,b,c){var d=a.Ha().nc()[Tg];b={height:d.o(),isCutout:!!c,mediaId:a.u(),mediaVersion:a.Ha().getVersion(),type:b,width:d.l()};a=a.Ha().dv();null!=a&&(b.spritesheetMetadata=Ug(a));return b}
function Qg(a,b,c){if(a.Jb())return{height:a.nb.height,isCutout:!!c,mediaId:a.Jb().u(),mediaVersion:1,type:b,width:a.nb.width}}function Vg(a,b){b.forEach(function(a){a=Mg(a);Wg(this.bI,a)},a)}function Xg(a,b){b.forEach(function(a){Yg(this.Xe,a.u(),a.Ha().getVersion(),a.Ha().nc())},a)}
function Ig(a,b){var c=b.clone(),d=Zg(a.Ab.hb().nb);(function(){var a=c.l()/c.o();c.ca(Math.min(c.o(),d.o()*M.zh));c.na(a*c.o())})();(function(){var a=c.o()/c.l();c.na(Math.min(c.l(),d.l()*M.zh));c.ca(a*c.l())})();return c}Fg.prototype.lI=function(a,b,c){0<b.length&&this.Hy(a,c).upload(b,$g(a))};function ah(a,b){a.OT=b}
function bh(a,b,c,d,e,g){function h(){var a=b.getFile(Tg);return new V(0,0,a.l()*Q,a.o()*Q)}function k(a){var b,d,g;b=a.clientX-e.F()+c.F();d=a.clientY-e.w()+c.w();g=Math.max(Math.min((a.clientX-E)/O,1),0);g=1>r?Math.min(Math.max(r,1+g*(r-1)),1):Math.min(Math.max(1,1+g*(r-1)),r);a.clientX>K?(u=!0,g=r):u=!1;m(b,d,g)}function l(a){var b,c=!1,e,h;b=d.get(0).getBoundingClientRect();b=ch(x.ud,dh(b));c=$(a.target).is(".hotspot");a=eh(ca);e=(b.F()-a.F())/Q;h=(b.w()-a.w())/Q;$(document).off("mouseup",l);
$(document).off("mousemove",k);!z&&c?p():u&&fh(b,a)?(g(e,h,z),p()):setTimeout(q,50);$("#hotspots").remove();gh().write(function(){$("#overlays .align").removeClass("on")})}function m(a,b,c){hh(d[0],{ao:c,Iq:c,ki:a,li:b});a=eh(ca);b=ch(x.ud,dh(d.get(0).getBoundingClientRect()));u&&ih(a,b)&&(null===da&&(da=new jh(d,sa,{left:H,top:D})),a=kh(),lh(da,N,a))}function n(){window.setTimeout(function(){d.remove()},650)}function p(){m(c.F(),c.w(),1);d.css("left",c.F()).css("top",c.w()).css("opacity",0).addClass("draggedMediaPlacing");
n()}function q(){var a="",b="",e=d.get(0).getBoundingClientRect(),g=x.OT||c,h=e.left-g.F(),e=e.top-g.w();100<h?a="draggedMediaReturningLeft":-100>h&&(a="draggedMediaReturningRight");100<e?b="draggedMediaReturningUp":-100>e&&(b="draggedMediaReturningDown");d.addClass(a).addClass(b).addClass("draggedMediaReturning");0>g.w()&&d.addClass("draggedMediaReturningFading").css("opacity",0);m(g.F(),g.w(),1);x.OT=void 0;n()}var u=!1,v,z=!1,r,x=a,H,D,K,E,O,Q=W,N={},da=null;0<d.find("img").length&&(z=mh(d.find("img").get(0))>
M.NI);v=nh(h(),function(){var a=Zg(x.Ab.hb().nb),b=M.zh*Q;return new V(0,0,a.l()*b,a.o()*b)}());r=Math.min(h().l(),v.l())/c.l();H=e.F()-c.F();D=e.w()-c.w();var ca=oh(a.ud),sa=ca.$el.find(".page__content").get(0).getBoundingClientRect();K=$("#objectPanel").get(0).getBoundingClientRect().right;E=K-$(".uploadsLayoutColumn").outerWidth()/2+20;O=K-E;ph();d.on("dragstart",function(a){a.preventDefault();return!1});d.css("width",c.l());d.css("height",c.o());d.css("transform-origin",H+"px "+D+"px");m(c.F(),
c.w(),1);d.attr("class","draggedMedia");$("#content").append(d);(function(){var a=d.find("img"),c=$("\x3cli\x3e\x3c/li\x3e");d.toggleClass("cutout",z);c.data("result",b).append(a.clone());d.data("li",c);a.data("screenWidth",v.l());a.data("screenHeight",v.o());qh(d,x.Ab.Aa(),!1)})();$(document).on("mousemove",k);$(document).on("mouseup",l)};function rh(a){this.kg=new va(a)}var sh="PUBLIC_STREAM TEAM_STREAM TEAM_TEMPLATE MARKETPLACE_LAYOUT MARKETPLACE_TEXT PUBLICLY_REMIXABLE".split(" "),th=["DESIGN_TUTORIAL","FREE_NEW_USER","C4W_INVITED_NEW_USER","C4W_NEW_USER"];rh.prototype=Object.create(va.prototype);rh.prototype.tp=function(){var a=this.kg.get("brandColor",null);return a&&uh(a)};rh.prototype.kh=function(){return this.kg.get("onboardingMode",null)};rh.prototype.KL=function(){return this.kg.get("associatedMedia",null)};
function vh(a){return a.kg.get("enabledPublicationContexts",[])}
function wh(a){return(a=a.kg.get("layoutSearchRequest",null))&&new xh({Pk:C("docId",a),query:B("query",a),xn:Ta(yh,"mediaTypes",a),ol:Va(Wa,Ya,"includeFilters",a),$k:Va(Wa,Ya,"excludeFilters",a),filters:Ha.Fe("filters",a),elevation:C("elevation",a),KE:Ha.Fe("elevateIds",a),az:Na("elevatedOnly",a),sort:Qa(zh,"sort",a),OE:Na("enableSuggest",a),Tq:y("skip",a),limit:y("limit",a),uk:Na("translatable",a),locale:C("locale",a),Eg:C("rootSearchId",a),cg:Na("organic",a),Yg:Na("freeOnly",a),aspectRatio:A("aspectRatio",
a),iU:Na("explain",a),wS:Sa(Ah,"asSchema",a),yT:Sa(Ah,"designSchemaVersion",a),MT:C("domainName",a),category:C("category",a)})}function Bh(a){var b=a.kg.get("recaptchaConfig",{});a=C("siteKey",b)||null;b=C("impl",b)||null;return{pQ:a,zaa:b}}rh.prototype.wz=function(){var a=this.kg.get("account",null);return null!=a?Ch(a):null};function Dh(a,b){switch(b){case "PACK_10":return"PACK_10";case "PACK_20":return"PACK_20";case "PACK_50":return"PACK_50";case "PACK_100":return"PACK_100";default:throw new TypeError('expected CreditPack for property "'+a+'", found: '+JSON.stringify(b));}}
function Eh(a){switch(a){case "PACK_10":return"PACK_10";case "PACK_20":return"PACK_20";case "PACK_50":return"PACK_50";case "PACK_100":return"PACK_100";default:throw new TypeError('expected CreditPack for property "creditPack", found: '+JSON.stringify(a));}}function Fh(a,b){switch(b){case "PAY_SYNCHRONOUS":return"PAY_SYNCHRONOUS";case "CANCEL":return"CANCEL";default:throw new TypeError('expected UpdateInvoiceAction for property "'+a+'", found: '+JSON.stringify(b));}}
function Gh(a,b){switch(b){case "C4W_FREE_MEDIA":return"C4W_FREE_MEDIA";default:throw new TypeError('expected MediaLicenseDiscount for property "'+a+'", found: '+JSON.stringify(b));}}function Hh(a,b){switch(b){case "C4W_FREE_MEDIA":return"C4W_FREE_MEDIA";default:throw new TypeError('expected MediaLicenseDiscount for property "'+a+'", found: '+JSON.stringify(b));}}function Ih(a){this.id=a.id;this.Zj=a.Zj;this.TS=a.TS;this.yv=a.yv;this.dc=a.dc;this.SE=a.SE;this.Fu=a.Fu;this.Mg=a.Mg}Ih.prototype.u=function(){return this.id};
Ih.prototype.zz=function(){return this.dc};function Jh(a){return new Ih({id:C("id",a),Zj:C("owningBrand",a),TS:B("cardBrand",a),yv:B("last4",a),dc:C("country",a),SE:y("expMonth",a),Fu:y("expYear",a),Mg:F(Kh,"billingAddress",a)})}function Lh(a){this.sd=a.sd;this.nS=a.nS;this.wT=a.wT}function Mh(a){return new Lh({sd:Pa(Jh,"card",a),nS:A("addedDate",a),wT:A("deletedDate",a)})}function Nh(a){this.dN=a.dN;this.eN=a.eN;this.fN=a.fN;this.Kd=a.Kd;this.qh=a.qh;this.yb=a.yb;this.gw=a.gw}Nh.prototype.Vr=function(){return this.Kd};
Nh.prototype.Qi=function(){return this.yb};function Oh(a){return{line1:G("line1",a.dN),line2:G("line2",a.eN),line3:G("line3",a.fN),city:G("city",a.Kd),subdivision:G("subdivision",a.qh),countryCode:ib("countryCode",a.yb),postcode:G("postcode",a.gw)}}function Kh(a){return new Nh({dN:C("line1",a),eN:C("line2",a),fN:C("line3",a),Kd:C("city",a),qh:C("subdivision",a),yb:B("countryCode",a),gw:C("postcode",a)})}
function Ph(a){this.id=a.id;this.D=a.D;this.cf=a.cf;this.cZ=a.cZ;this.Iv=a.Iv;this.Ih=a.Ih;this.xT=a.xT;this.vS=a.vS||[];this.$O=a.$O||[]}Ph.prototype.u=function(){return this.id};Ph.prototype.fa=function(){return this.D};function Ch(a){return new Ph({id:B("id",a),D:B("brand",a),cf:Ma("stripe",a),cZ:C("stripeKey",a),Iv:y("marketplaceCreditBalance",a),Ih:F(Jh,"defaultCreditCard",a),xT:Ma("delinquent",a),vS:Qa(Mh,"archivedCards",a),$O:Ta(Qh,"purchaseRoles",a)})}
function Rh(a){this.D=a.D;this.Mg=a.Mg;this.BQ=a.BQ;this.nC=a.nC;this.bZ=a.bZ;this.uP=a.uP}Rh.prototype.fa=function(){return this.D};function Sh(a){return{brand:G("brand",a.D),billingAddress:jb(Oh,"billingAddress",a.Mg),stripeToken:G("stripeToken",a.BQ),stripeCardId:G("stripeCardId",a.nC),stripeCustomerId:G("stripeCustomerId",a.bZ),replaceDefault:gb("replaceDefault",a.uP)}}function Th(a){this.Ii=a.Ii;this.uS=a.uS;this.iT=a.iT;this.jT=a.jT;this.Mg=a.Mg;this.nC=a.nC;this.US=a.US}Th.prototype.kF=function(){return this.Ii};
function Uh(a){return{creditCard:ib("creditCard",a.Ii),archiveCard:hb("archiveCard",a.uS),confirmAddition:hb("confirmAddition",a.iT),confirmRemoval:hb("confirmRemoval",a.jT),billingAddress:jb(Oh,"billingAddress",a.Mg),stripeCardId:G("stripeCardId",a.nC),cardIssuerUpdate:jb(Vh,"cardIssuerUpdate",a.US)}}function Vh(a){return{last4:G("last4",a.yv),fingerprint:G("fingerprint",a.uaa),expiryMonth:eb("expiryMonth",a.Gu),expiryYear:eb("expiryYear",a.Hu),brand:G("brand",a.D),date:db("date",a.date)}}
function Wh(a){this.D=a.D;this.items=a.items||[];this.currency=a.currency;this.qB=a.qB}Wh.prototype.fa=function(){return this.D};Wh.prototype.uf=function(){return this.items};function Xh(a){return{brand:ib("brand",a.D),items:kb(Yh,"items",a.items),currency:ib("currency",a.currency),priceConfig:jb(Zh,"priceConfig",a.qB)}}function $h(a){this.message=a.message}function ai(a){return new $h({message:B("message",a)})}function bi(a){this.xe=a.xe;this.error=a.error}bi.prototype.getError=function(){return this.error};
function ci(a){return new bi({xe:C("invoice",a),error:F(ai,"error",a)})}function di(a){this.media=a.media;this.version=a.version;this.document=a.document;this.Rj=a.Rj;this.Ma=a.Ma}di.prototype.Jb=function(){return this.media};di.prototype.getVersion=function(){return this.version};di.prototype.getDocument=function(){return this.document};
function ei(a){return{media:ib("media",a.media),version:db("version",a.version),document:G("document",a.document),licenseType:lb(fi,"licenseType",a.Rj),discount:mb(Gh,"discount",a.Ma)}}function gi(a){this.order=a.order}gi.prototype.Vm=function(){return this.order};function hi(a){return{order:ib("order",a.order)}}function ii(a){this.order=a.order}ii.prototype.Vm=function(){return this.order};function ji(a){return{order:ib("order",a.order)}}
function ki(a){return{subscription:ib("subscription",a.Je),plan:ib("plan",a.ck),quantity:db("quantity",a.sw),periodStart:db("periodStart",a.uO),periodEnd:db("periodEnd",a.tO),price:db("price",a.da)}}function li(a){this.aq=a.aq;this.dK=a.dK;this.PO=a.PO;this.QO=a.QO;this.Je=a.Je;this.gU=a.gU}li.prototype.PU=function(){return this.aq};li.prototype.getSubscription=function(){return this.Je};
function Yh(a){return{license:jb(ei,"license",a.aq),credit:mb(Dh,"credit",a.dK),printProduct:jb(hi,"printProduct",a.PO),printShipping:jb(ji,"printShipping",a.QO),subscription:jb(ki,"subscription",a.Je),expectedPurchasePrice:eb("expectedPurchasePrice",a.gU)}}function mi(a){this.xe=a.xe;this.items=a.items||[];this.Ma=a.Ma;this.Un=a.Un;this.action=a.action;this.AU=a.AU;this.hU=a.hU;this.qB=a.qB;this.lY=a.lY}mi.prototype.uf=function(){return this.items};
function ni(a){return{invoice:ib("invoice",a.xe),items:kb(Yh,"items",a.items),discount:G("discount",a.Ma),removeDiscount:gb("removeDiscount",a.Un),action:mb(Fh,"action",a.action),forgiven:hb("forgiven",a.AU),expectedTotal:eb("expectedTotal",a.hU),priceConfig:jb(Zh,"priceConfig",a.qB),returnErrors:hb("returnErrors",a.lY)}}function oi(a){this.message=a.message;this.YS=a.YS;this.zV=a.zV}function pi(a){return new oi({message:B("message",a),YS:Ma("chargeFailed",a),zV:Ma("insufficientCredits",a)})}
function qi(a){this.error=a.error}qi.prototype.getError=function(){return this.error};function ri(a){return new qi({error:F(pi,"error",a)})}
function si(a,b){switch(b){case "CREDIT":return"CREDIT";case "LICENSE":return"LICENSE";case "PRINT_PRODUCT":return"PRINT_PRODUCT";case "PRINT_SHIPPING":return"PRINT_SHIPPING";case "SUBSCRIPTION_PRORATION":return"SUBSCRIPTION_PRORATION";case "SUBSCRIPTION":return"SUBSCRIPTION";default:throw new TypeError('expected InvoiceItemType for property "'+a+'", found: '+JSON.stringify(b));}}
function ti(a){this.media=a.media;this.version=a.version;this.title=a.title;this.D=a.D;this.ka=a.ka;this.q3=a.q3;this.Pg=a.Pg;this.Yq=a.Yq;this.da=a.da;this.Hv=a.Hv;this.G8=a.G8;this.Rj=a.Rj;this.document=a.document;this.hp=a.hp;this.user=a.user}f=ti.prototype;f.Jb=function(){return this.media};f.getVersion=function(){return this.version};f.pb=function(){return this.title};f.fa=function(){return this.D};f.getDocument=function(){return this.document};f.LU=function(){return this.hp};f.va=function(){return this.user};
function ui(){}function vi(){return new ui}function wi(a){this.mm=a.mm||[];this.X2=a.X2;this.Z=a.Z;this.limit=a.limit}wi.prototype.JU=function(){return this.mm};wi.prototype.Bb=function(){return this.Z};wi.prototype.Ad=function(){return this.limit};function xi(a){this.Kt=a.Kt||[];this.Z=a.Z}xi.prototype.Bb=function(){return this.Z};function yi(a){return new xi({Kt:Qa(Ch,"accounts",a),Z:C("continuation",a)})}function zi(a){this.type=a.type;this.media=a.media}zi.prototype.eb=function(){return this.type};
zi.prototype.Jb=function(){return this.media};function Ai(a){return new zi({type:Ra(Bi,"type",a),media:F(Ci,"media",a)})}function Bi(a,b){switch(b){case "MEDIA":return"MEDIA";default:throw new TypeError('expected ProductType for property "'+a+'", found: '+JSON.stringify(b));}}function Di(a){this.type=a.type;this.da=a.da;this.Hv=a.Hv}Di.prototype.eb=function(){return this.type};function Ei(a){return new Di({type:Ra(Fi,"type",a),da:y("price",a),Hv:y("markedPrice",a)})}
function Gi(a){this.type=a.type;this.xN=a.xN}Gi.prototype.eb=function(){return this.type};function Hi(a){return new Gi({type:Ra(Fi,"type",a),xN:A("minutesToExpiry",a)})}function Ii(a){this.ha=a.ha;this.ia=a.ia;this.Pg=a.Pg;this.pN=a.pN;this.ig=a.ig;this.nw=a.nw||[];this.cN=a.cN;this.xc=a.xc||[];this.Ma=a.Ma}Ii.prototype.Dz=function(){return this.ha};Ii.prototype.Ez=function(){return this.ia};Ii.prototype.$m=function(){return this.ig};
function Ci(a){return new Ii({ha:B("mediaId",a),ia:y("mediaVersion",a),Pg:B("contributorName",a),pN:C("mediaTitle",a),ig:B("thumbnailUrl",a),nw:Qa(Ei,"pricingOptions",a),cN:Ra(Ji,"licensing",a),xc:Qa(Hi,"licenses",a),Ma:Sa(Hh,"discount",a)})}function Ki(a){this.Sc=a.Sc;this.document=a.document;this.Wb=a.Wb;this.O=a.O||[]}Ki.prototype.getDocument=function(){return this.document};Ki.prototype.Cb=function(){return this.O};
function Li(a){this.mode=a.mode;this.te=a.te;this.media=a.media;this.Z=a.Z;this.limit=a.limit}Li.prototype.Jb=function(){return this.media};Li.prototype.Bb=function(){return this.Z};Li.prototype.Ad=function(){return this.limit};function Mi(a){this.Wc=a.Wc||[];this.Z=a.Z}Mi.prototype.qF=function(){return this.Wc};Mi.prototype.Bb=function(){return this.Z};function Ni(a){return new Mi({Wc:Qa(Ai,"products",a),Z:C("continuation",a)})}function Oi(a){this.value=a.value;this.currency=a.currency}
Oi.prototype.oc=function(){return this.value};function Pi(a){return new Oi({value:y("value",a),currency:B("currency",a)})}function Qi(a){this.id=a.id;this.type=a.type;this.lh=a.lh;this.No=a.No;this.oD=a.oD||[];this.Rg=a.Rg}Qi.prototype.u=function(){return this.id};Qi.prototype.eb=function(){return this.type};Qi.prototype.Az=function(){return this.Rg};
function Ri(a){return new Qi({id:B("id",a),type:Ra(Si,"type",a),lh:A("percentage",a),No:F(Pi,"amount",a),oD:Ta(si,"applicableInvoiceItemTypes",a),Rg:B("couponCode",a)})}function Si(a,b){switch(b){case "PERCENTAGE":return"PERCENTAGE";case "AMOUNT":return"AMOUNT";default:throw new TypeError('expected DiscountType for property "'+a+'", found: '+JSON.stringify(b));}}function Ti(a){this.D=a.D;this.user=a.user;this.Rg=a.Rg}Ti.prototype.fa=function(){return this.D};Ti.prototype.va=function(){return this.user};
Ti.prototype.Az=function(){return this.Rg};function Ui(a){this.Ma=a.Ma}function Vi(a){return new Ui({Ma:Pa(Ri,"discount",a)})}function Wi(a){this.D=a.D;this.user=a.user;this.Rg=a.Rg;this.Z=a.Z;this.limit=a.limit}f=Wi.prototype;f.fa=function(){return this.D};f.va=function(){return this.user};f.Az=function(){return this.Rg};f.Bb=function(){return this.Z};f.Ad=function(){return this.limit};function Xi(a){this.rK=a.rK||[];this.Z=a.Z}Xi.prototype.Bb=function(){return this.Z};
function Yi(a){return new Xi({rK:Qa(Ri,"discounts",a),Z:C("continuation",a)})}function Zh(a){return{currency:ib("currency",a.currency),creditExchangeRate:db("creditExchangeRate",a.eaa),expiryDate:db("expiryDate",a.hz),mediaPriceModel:cb.required("mediaPriceModel",Zi(a.Oaa)),creditPackPriceModel:cb.required("creditPackPriceModel",{prices:kb($i,"prices",a.gaa.Eb)}),token:ib("token",a.yo)}}
function Zi(a){return{licensingPriceModels:kb(aj,"licensingPriceModels",a.s3),discountPriceModels:kb(bj,"discountPriceModels",a.laa)}}function bj(a){return{discount:lb(Gh,"discount",a.Ma),licensingPriceModels:kb(aj,"licensingPriceModels",a.s3)}}function aj(a){return{licensing:lb(cj,"licensing",a.cN),licenseTypePrices:kb(dj,"licenseTypePrices",a.Laa)}}function dj(a){return{licenseType:lb(fi,"licenseType",a.Rj),markedPrice:db("markedPrice",a.Hv)}}
function $i(a){return{creditPack:lb(Dh,"creditPack",a.faa),credits:db("credits",a.Br),markedPrice:db("markedPrice",a.Hv)}}function ej(a){this.id=a.id;this.ck=a.ck;this.D=a.D;this.status=a.status;this.sw=a.sw;this.uZ=a.uZ;this.fB=a.fB;this.uO=a.uO;this.tO=a.tO;this.DS=a.DS;this.bU=a.bU}ej.prototype.u=function(){return this.id};ej.prototype.fa=function(){return this.D};ej.prototype.vg=function(){return this.status};
function fj(a){return new ej({id:B("id",a),ck:Pa(gj,"plan",a),D:B("brand",a),status:Ra(hj,"status",a),sw:y("quantity",a),uZ:A("trialEnd",a),fB:A("paidUntil",a),uO:A("periodStart",a),tO:A("periodEnd",a),DS:Ma("billed",a),bU:Ma("eligibleForMediaDiscounts",a)})}
function ij(a,b){switch(b){case "PENDING":return"PENDING";case "TRIALING":return"TRIALING";case "ACTIVE":return"ACTIVE";case "PAST_DUE":return"PAST_DUE";case "FAILED":return"FAILED";default:throw new TypeError('expected SubscriptionStatus for property "'+a+'", found: '+JSON.stringify(b));}}
function hj(a,b){switch(b){case "PENDING":return"PENDING";case "TRIALING":return"TRIALING";case "ACTIVE":return"ACTIVE";case "PAST_DUE":return"PAST_DUE";case "FAILED":return"FAILED";default:throw new TypeError('expected SubscriptionStatus for property "'+a+'", found: '+JSON.stringify(b));}}function jj(a){this.id=a.id;this.displayName=a.displayName;this.aW=a.aW;this.MZ=a.MZ;this.Zl=a.Zl;this.sU=a.sU;this.Le=a.Le;this.oj=a.oj;this.da=a.da}jj.prototype.u=function(){return this.id};jj.prototype.ob=function(){return this.displayName};
function gj(a){return new jj({id:B("id",a),displayName:B("displayName",a),aW:Ma("legacy",a),MZ:Ma("userLocked",a),Zl:Ra(kj,"tier",a),sU:C("featureBundle",a),Le:y("trialPeriodDays",a),oj:Ra(lj,"billingInterval",a),da:y("price",a)})}function lj(a,b){switch(b){case "MONTHLY":return"MONTHLY";case "YEARLY":return"YEARLY";default:throw new TypeError('expected BillingInterval for property "'+a+'", found: '+JSON.stringify(b));}}
function kj(a,b){switch(b){case "FREE":return"FREE";case "PAID":return"PAID";default:throw new TypeError('expected Tier for property "'+a+'", found: '+JSON.stringify(b));}}function mj(a){this.D=a.D;this.rT=a.rT;this.ck=a.ck;this.Le=a.Le;this.mT=a.mT;this.RQ=a.RQ;this.fB=a.fB;this.status=a.status;this.sw=a.sw;this.KX=a.KX}mj.prototype.fa=function(){return this.D};mj.prototype.vg=function(){return this.status};
function nj(a){return{brand:ib("brand",a.D),currentVersion:eb("currentVersion",a.rT),plan:G("plan",a.ck),trialPeriodDays:eb("trialPeriodDays",a.Le),coupon:G("coupon",a.mT),unbilled:hb("unbilled",a.RQ),paidUntil:eb("paidUntil",a.fB),status:mb(ij,"status",a.status),quantity:eb("quantity",a.sw),prorate:hb("prorate",a.KX)}}function oj(a){this.Je=a.Je}oj.prototype.getSubscription=function(){return this.Je};function pj(a){return new oj({Je:Pa(fj,"subscription",a)})}function qj(a){this.Je=a.Je}
qj.prototype.getSubscription=function(){return this.Je};function rj(a){return new qj({Je:Pa(fj,"subscription",a)})};function sj(a){this.N=a}f=sj.prototype;f.Ij=function(a){throw tj(a.response.errorKey);};f.ZU=function(a){if(a.error)throw new uj(a.error.message);return a};f.ks=function(a){return a instanceof vj&&"CreditCardInvalid"===a.response.errorType};f.VQ=function(a){return wj(this.N,"/billing/creditcards/"+a.Ii,Uh(a)).catch(xj).get(0).then(this.ZU).catch(this.ks,this.Ij)};f.wz=function(a){return yj(this.N,"/billing/brands/"+encodeURIComponent(a)+"/account").catch(xj).get(0).then(La).then(Ch)};
function zj(a,b){var c=b.Z,d=b.limit;b=[].concat(na(b.mm.map(function(a){return"brands\x3d"+encodeURIComponent(a)})),[c&&"continuation\x3d"+encodeURIComponent(c),"limit\x3d"+encodeURIComponent(String(d))]);return yj(a.N,"/billing/paymentaccounts?"+b.filter(function(a){return!!a}).join("\x26")).catch(xj).get(0).then(La).then(yi)}
function Aj(a,b){var c="/billing/designs/"+encodeURIComponent(b.document)+"/"+encodeURIComponent(b.Wb.toString())+"/licenses";0!==b.O.length&&(c+="?pages\x3d"+b.O.join(","));return yj(a.N,c).catch(xj).get(0).then(La).then(Bj)}
function Cj(a,b){var c;switch(b.mode){case "DESIGN":c="/billing/products/design";b=[].concat(["productType\x3d"+encodeURIComponent(b.te.Sc),"document\x3d"+encodeURIComponent(b.te.document),"documentVersion\x3d"+encodeURIComponent(String(b.te.Wb))],na(b.te.O.map(function(a){return"pages\x3d"+encodeURIComponent(String(a))})),[b.Z&&"continuation\x3d"+encodeURIComponent(b.Z),"limit\x3d"+encodeURIComponent(String(b.limit))]);break;case "MEDIA":c="/billing/products/media";b=[].concat(na(b.media.Naa.map(function(a){return"media\x3d"+
encodeURIComponent(a)})));break;default:throw Error("Unknown Mode");}return yj(a.N,c+"?"+b.filter(function(a){return!!a}).join("\x26")).catch(xj).get(0).then(La).then(Ni)}f.getSubscription=function(a){return yj(this.N,a.D?"/billing/brands/"+a.D+"/subscription?excludeStandard\x3d"+(a.qaa?"true":"false"):"/billing/subscriptions/"+a.id).catch(xj).get(0).then(rj)};
function Dj(a,b){w(b.D,"brand required");return wj(a.N,"/billing/brands/"+b.D+"/subscription",nj(b)).catch(xj).get(0).then(pj).catch(a.ks,a.Ij)}f.XD=function(a){return wj(this.N,"/billing/invoice",Xh(a)).catch(xj).get(0).then(La).then(ci).catch(this.ks,this.Ij)};function Ej(a,b){return wj(a.N,"/billing/invoice/"+encodeURIComponent(b.xe),ni(b)).catch(xj).get(0).then(La).then(ri).catch(a.ks,a.Ij)}
f.WG=function(a){return wj(this.N,"/billing/invoices/"+encodeURIComponent(a.xe)+"?pay",{invoice:ib("invoice",a.xe)}).catch(xj).get(0).then(vi).catch(this.ks,this.Ij)};
function Fj(a,b){return yj(a.N,"/billing/discounts?"+["brand\x3d"+encodeURIComponent(b.D),"user\x3d"+encodeURIComponent(b.user),"couponCode\x3d"+encodeURIComponent(b.Rg),null!=b.Z?"continuation\x3d"+encodeURIComponent(b.Z):null,"limit\x3d"+encodeURIComponent(String(b.limit))].filter(function(a){return!!a}).join("\x26")).catch(xj).get(0).then(La).then(Yi)};function Gj(a){this.media=a.media;this.ia=a.ia;this.document=a.document;this.D=a.D;this.da=a.da;this.type=a.type;this.mf=a.mf;this.qL=a.qL||null;this.nY=a.nY;this.ka=a.ka}function Hj(a){return new Gj({media:B("media",a),ia:y("mediaVersion",a),document:C("document",a),D:B("brand",a),da:y("price",a),type:Ra(Fi,"type",a),mf:y("creationDate",a),qL:A("expirationDate",a),nY:Ma("revoked",a),ka:C("layout",a)})}function Ij(a){this.media=a.media;this.Pg=a.Pg;this.xc=a.xc||[]}
function Jj(a){return new Ij({media:Pa(Kj,"media",a),Pg:B("contributorName",a),xc:Qa(Hj,"licenses",a)})}function Lj(a){this.document=a.document;this.Wb=a.Wb;this.O=a.O;this.IF=a.IF;this.JF=a.JF}Lj.prototype.serialize=function(){return{document:this.document,documentVersion:this.Wb,pages:this.O,includeContributorNames:this.IF,includeThumbnailUrls:this.JF}};function Mj(a){this.DB=a.DB;this.Ml=null!=a.Ml?a.Ml:null;this.Wb=a.Wb;this.items=a.items||[]}
function Bj(a){return new Mj({DB:Ma("requiresLicenses",a),Wb:y("documentVersion",a),Ml:A("responseTimestamp",a),items:Qa(Jj,"items",a)})}function Nj(a){ti.call(this,a);this.xc=[]}Nj.prototype=Object.create(ti.prototype);Nj.prototype.constructor=Nj;function Oj(a){this.N=a;this.url="/folders"}Oj.prototype.WJ=P.method(function(a){return wj(this.N,this.url+"/~",a).get(0).then(Pj)});Oj.prototype.wU=P.method(function(a){a=this.url+"/~?"+a.MQ();return yj(this.N,a).get(0).then(Qj)});Oj.prototype.sc=P.method(function(a){var b=a.MQ();a=""+this.ma(a.sc())+(b?"?"+b:"");return yj(this.N,a).get(0).then(Rj)});Oj.prototype.ma=function(a){var b=a.de();return b?[this.url,"~/system",b.va(),b.eb()].join("/"):[this.url,a.u()].join("/")};
P.method(function(a){var b=this.ma(a.sc())+"?removeItems";return wj(this.N,b,a).return()});Oj.prototype.BA=P.method(function(a){a=this.ma(a.sc())+"?list\x26"+a.$q();return yj(this.N,a).get(0).then(Sj)});Oj.prototype.G3=P.method(function(a){var b=this.ma(a.hl())+"?moveItems";return wj(this.N,b,a).return()});Oj.prototype.XQ=P.method(function(a){var b;if(a.sc().de())throw Error("System folders cannot be updated");b=this.url+"/"+a.sc().u();return wj(this.N,b,a).get(0).then(Tj)});function Uj(){}Uj.prototype.$q=function(){var a=this;return Object.keys(a).map(function(b){if("object"!==typeof a[b])return b+"\x3d"+encodeURIComponent(a[b])}).filter(function(a){return!!a}).join("\x26")};function Vj(a,b){a.to=b;return a}Uj.prototype.YZ=function(a){this.items=a;return this};function Wj(a,b){a.from=b;return a}Uj.prototype.uf=function(){return this.items};Uj.prototype.hl=function(){if(this.from)return Xj(this.from)};
function Yj(a){this.id=a.id||null;this.systemFolder=a.t9;return this}function Xj(a){return Object.freeze(Hf(Yj,a))}Yj.prototype.u=function(){return this.id};Yj.prototype.de=function(){if(this.systemFolder)return Object.freeze(Hf(Zj,this.systemFolder))};function $g(a){return a.de()?Xj({systemFolder:Object.freeze(Hf(Zj,{brand:a.fa(),type:a.de(),user:a.va()}))}):Xj({id:a.u()})}function Zj(){}Zj.prototype.fa=function(){return this.brand};Zj.prototype.eb=function(){return this.type};Zj.prototype.va=function(){return this.user};
function ak(){}function Tj(a){return Object.freeze(Hf(ak,a))}ak.prototype.sc=function(){if(this.folder)return bk(this.folder)};ak.prototype.Rm=function(){return this.access};
function ck(a){a=void 0===a?{}:a;this.id=a.id||"";this.thumbnail=a.nd;this.systemFolder=a.t9||null;this.acl=a.Of;this.access=a.Q_;this.name=a.name||null;this.description=a.description||null;this.brand=a.D||"";this.itemCount=a.Haa||0;this.user=a.user||"";this.modifiedDate=a.yN||0;this.shared=a.lba||!1;this.type=a.type||dk;this.userSettings=a.Fba||null}var dk="DESIGN";function bk(a){return Object.freeze(Hf(ck,a))}f=ck.prototype;f.u=function(){return this.id};
f.ee=function(){if(this.thumbnail)return Object.freeze(Hf(ek,this.thumbnail))};f.de=function(){return this.systemFolder};f.Tf=function(){if(this.acl)return Object.freeze(Hf(fk,this.acl))};f.Rm=function(){if(this.access)return this.access};f.getName=function(){return this.name};f.sf=function(){return this.description};f.fa=function(){return this.brand};f.va=function(){return this.user};f.eb=function(){return this.type};f.Jp=function(){if(this.userSettings)return Object.freeze(Hf(gk,this.userSettings))};
f.wy=function(a){a=_.extend(_.pick(this,Object.keys(this)),a);return bk(a)};
var hk=bk({brand:"",id:"FACEBOOK",itemCount:0,modifiedDate:0,name:"Facebook",systemFolder:null,thumbnail:{height:200,url:"https://static.canva.com/static/images/upload_folder_facebook.png",width:200},user:""}),ik=bk({brand:"",id:"UPLOADED_MEDIA",itemCount:0,modifiedDate:0,name:null,systemFolder:null,thumbnail:{height:200,url:"https://static.canva.com/static/images/default_folder_thumbnail_grey_bg.png",width:200},user:""}),jk=bk({brand:"",id:"UNLIMITED_USE",itemCount:0,modifiedDate:0,name:null,systemFolder:null,thumbnail:{height:200,url:"https://static.canva.com/static/images/purchased_folder_thumbnail.png",
width:200},user:""}),kk={o$:hk,N$:ik,M$:jk};function ek(){}ek.prototype.o=function(){return this.height};ek.prototype.l=function(){return this.width};ek.prototype.ma=function(){return this.url};function fk(a){a=void 0===a?{}:a;this.entries=a.entries}fk.prototype.wy=function(a){a=_.extend(_.pick(this,Object.keys(this)),a);return Object.freeze(Hf(fk,a))};fk.prototype.getEntries=function(){if(this.entries)return this.entries.filter(function(a){return!!a}).map(function(a){return Object.freeze(Hf(lk,a))})};
function lk(a){a=void 0===a?{}:a;this.user=a.user;this.brand=a.D;this.access=a.Q_}lk.prototype.wy=function(a){a=_.extend(_.pick(this,Object.keys(this)),a);return Object.freeze(Hf(lk,a))};lk.prototype.fa=function(){return this.brand};lk.prototype.Rm=function(){return this.access};lk.prototype.va=function(){return this.user};function mk(){}f=mk.prototype;f.$q=function(){var a=this;return Object.keys(a).map(function(b){if("object"!==typeof a[b])return b+"\x3d"+encodeURIComponent(a[b])}).filter(function(a){return!!a}).join("\x26")};
f.wk=function(a){this.folder=a;return this};function nk(a,b){a.acl=b;return a}f.Et=function(a){this.name=a;return this};f.TZ=function(a){this.description=a;return this};function ok(a){a.trash=!0;return a}f.yR=function(a){this.userSettings=a;return this};f.sc=function(){if(this.folder)return Xj(this.folder)};f.Tf=function(){if(this.acl)return Object.freeze(Hf(fk,this.acl))};f.getName=function(){return this.name};f.sf=function(){return this.description};
f.Jp=function(){if(this.userSettings)return Object.freeze(Hf(gk,this.userSettings))};function pk(a,b,c){var d;d=function(){var c=[];a.Tf()&&a.Tf().getEntries()&&a.Tf().getEntries().forEach(function(a){a.fa()!==b&&c.push({brand:a.fa(),access:a.Rm()})});return c}();c&&d.push({brand:b,access:c});c=Object.freeze(Hf(fk,{entries:d}));return nk((new mk).wk($g(a)),c)}function qk(a){this.GS=a.GS;this.NX=a.NX;this.DW=a.DW;this.XX=a.XX;this.cW=a.cW;this.hT=a.hT;this.bW=a.bW;this.Hn=a.Hn}function rk(){}
function Sj(a){return Object.freeze(Hf(rk,a))}rk.prototype.uf=function(){if(this.items)return this.items.filter(function(a){return!!a}).map(function(a){return sk(a)})};rk.prototype.Bb=function(){return this.continuation};rk.prototype.sc=function(){if(this.folder)return bk(this.folder)};rk.prototype.Rm=function(){return this.access};function tk(){}f=tk.prototype;f.$q=function(){var a=this;return Object.keys(a).map(function(b){if("object"!==typeof a[b]||Array.isArray(a[b]))return b+"\x3d"+encodeURIComponent(a[b])}).filter(function(a){return!!a}).join("\x26")};
f.lg=function(a){this.limit=a;return this};f.wk=function(a){this.folder=a;return this};function uk(a){a.includeMetadata=!0;return a}f.pi=function(a){this.continuation=a;return this};f.Ad=function(){return this.limit};f.sc=function(){if(this.folder)return Xj(this.folder)};f.QL=function(){return this.decorations};f.Bb=function(){return this.continuation};function vk(){}function Rj(a){return Object.freeze(Hf(vk,a))}vk.prototype.sc=function(){if(this.folder)return bk(this.folder)};function wk(){}f=wk.prototype;
f.$q=function(){var a=this;return Object.keys(a).map(function(b){if("object"!==typeof a[b])return b+"\x3d"+encodeURIComponent(a[b])}).filter(function(a){return!!a}).join("\x26")};f.MQ=function(){return Object.keys(this).map(function(a){var b=this[a];if(Array.isArray(b))return a+"\x3d"+b.map(encodeURIComponent).join(",");if("object"!==typeof b)return a+"\x3d"+encodeURIComponent(b)},this).filter(Boolean).join("\x26")};f.wk=function(a){this.folder=a;return this};f.sc=function(){if(this.folder)return Xj(this.folder)};
f.QL=function(){return this.decorations};function xk(){}function Qj(a){return Object.freeze(Hf(xk,a))}xk.prototype.wp=function(){if(this.folders)return this.folders.filter(function(a){return!!a}).map(function(a){return bk(a)})};xk.prototype.Bb=function(){return this.continuation};function yk(){}f=yk.prototype;f.$q=function(){var a=this;return Object.keys(a).map(function(b){if("object"!==typeof a[b])return b+"\x3d"+encodeURIComponent(a[b])}).filter(function(a){return!!a}).join("\x26")};
f.lg=function(a){this.limit=a;return this};f.oi=function(a){this.brand=a;return this};f.Gt=function(a){this.user=a;return this};function zk(a,b){a.folderTypes=b;return a}f.pi=function(a){this.continuation=a;return this};f.YZ=function(a){this.items=a;return this};f.yR=function(){this.projections||(this.projections=[]);this.projections.push("USER_SETTINGS");return this};f.Ad=function(){return this.limit};f.fa=function(){return this.brand};f.va=function(){return this.user};f.Bb=function(){return this.continuation};
f.MQ=function(){return Object.keys(this).map(function(a){var b=this[a];if(Array.isArray(b))return a+"\x3d"+b.map(encodeURIComponent).join(",");if("object"!==typeof b)return a+"\x3d"+encodeURIComponent(b)},this).filter(Boolean).join("\x26")};function Ak(){}function Pj(a){return Object.freeze(Hf(Ak,a))}Ak.prototype.Rm=function(){return this.access};Ak.prototype.sc=function(){if(this.folder)return bk(this.folder)};function Bk(){}f=Bk.prototype;
f.$q=function(){var a=this;return Object.keys(a).map(function(b){if("object"!==typeof a[b])return b+"\x3d"+encodeURIComponent(a[b])}).filter(function(a){return!!a}).join("\x26")};f.Et=function(a){this.name=a;return this};f.oi=function(a){this.brand=a;return this};f.Gt=function(a){this.user=a;return this};f.yR=function(a){this.userSettings=a;return this};f.getName=function(){return this.name};f.fa=function(){return this.brand};f.va=function(){return this.user};f.eb=function(){return this.type};
f.Jp=function(){return this.userSettings};function Ck(){this.width=this.height=0;this.url="";this.version=0}Ck.prototype.l=function(){return this.width};Ck.prototype.o=function(){return this.height};Ck.prototype.getVersion=function(){return this.version};Ck.prototype.ma=function(){return this.url};
function Dk(){this.type=Ek;this.name=this.id="";this.timestamp=this.version=0;this.trashedTimestamp=null;this.thumbnail=new Ck;this.tags=[];this.stateVersion=this.socialMetadata=this.folders=this.owner=this.marketplaceStatus=null}var Ek="DESIGN";
function sk(a){a=$.extend(new Dk,a);a.owner&&(a.owner=Object.freeze(Hf(Fk,a.owner)));if(a.thumbnail){var b;b=(b=a.thumbnail)?$.extend(new Ck,b):null;a.thumbnail=b}a.socialMetadata&&(b=a.socialMetadata,b=new qk({GS:Na("brandPublik",b),NX:Na("publik",b),DW:Sa(Gk,"myRole",b),XX:y("remixCount",b),cW:y("likerCount",b),hT:y("commentCount",b),bW:Ma("likedByMe",b),Hn:F(Hk,"owner",b)}),a.socialMetadata=b);return a}f=Dk.prototype;f.wy=function(a){a=_.extend(_.pick(this,Object.keys(this)),a);return sk(a)};
f.eb=function(){return this.type};f.u=function(){return this.id};f.getName=function(){return this.name};f.getVersion=function(){return this.version};f.Ip=function(){return this.timestamp};f.ee=function(){return this.thumbnail};f.Hp=function(){return this.tags};f.wp=function(){return this.folders};f.Jb=function(){return this.media?Kj(this.media):null};f.PU=function(){return this.license?Hj(this.license):null};function Fk(){}Fk.prototype.va=function(){return this.user};Fk.prototype.fa=function(){return this.brand};
function gk(a){this.starred=a.qba};function Ik(){this.xhr=null}Ik.prototype.cancel=function(){this.xhr&&(this.xhr.abort(),this.xhr=null)};Ik.prototype.finish=function(){this.xhr=null};function Jk(a){this.pS=a&&a.analyticsContext||null;this.fJ=a&&a.authToken||null;this.gJ=a&&a.authzToken||null;this.HS=a&&a.brandRestriction||null;this.KS=a&&a.buildName||null;this.LS=a&&a.buildSha||null;this.qu=a&&a.csrfTokens||{};this.MP=a&&a.serverRoot||null;this.xY=!!this.MP;this.F8=this.MP?this.MP+"/_ajax":"/_ajax"}
function Kk(a){var b=a.indexOf("/",1);return-1==b?a:a.substring(0,b)}function Lk(a){return 200<=a&&300>a}Jk.prototype.get=function(a,b){var c=new Ik;this.send("GET",a,null,!0,null,c,b);return c};function yj(a,b){var c;return(new P(function(d,e){c=a.get(b,function(a,b){Lk(a)?d([b,a]):e([b,a])})})).cancellable().catch(P.CancellationError,function(a){c.cancel();throw a;})}Jk.prototype.post=function(a,b,c){var d=new Ik;Mk(this,"POST",a,b,!0,0,d,c);return d};
function wj(a,b,c){var d;return(new P(function(e,g){d=a.post(b,c,function(a,b){Lk(a)?e([b,a]):g([b,a])})})).cancellable().catch(P.CancellationError,function(a){d.cancel();throw a;})}function Nk(a,b,c,d){if(a.xY)throw Error("synchronous XHRs cannot be made with withCredentials");a.send("POST",b,d,!1,c,new Ik,function(){})}function Ok(a,b,c){var d=new Ik;Mk(a,"DELETE",b,null,!0,0,d,c);return d}
function Pk(a,b){var c;return(new P(function(d,e){c=Ok(a,b,function(a,b){Lk(a)?d([b,a]):e([b,a])})})).cancellable().catch(P.CancellationError,function(a){c.cancel();throw a;})}function xj(a){var b=Array.isArray(a)&&2===a.length&&"number"===typeof a[1];if(a instanceof Error)throw a;if(b&&Array.isArray(a))throw b=ma(a),a=b.next().value,b=b.next().value,a=Qk(a,b),a.VH=b,a;throw Error("unable to parse error or response tuple. HttpServiceError or [?, statusCode] required.");}
function Mk(a,b,c,d,e,g,h,k){var l=Kk(c);if(l in a.qu){var m=a.qu[l];a.send(b,c,d,e,m,h,function(n,p){418==n&&1>g?(a.qu[l]==m&&delete a.qu[l],Mk(a,b,c,d,e,g+1,h,k)):(k&&k(n,p),h.finish())})}else a.send("GET","/csrf"+l,null,e,null,h,function(m,p){200==m?(l in a.qu||(a.qu[l]=String(p)),Mk(a,b,c,d,e,g,h,k)):(k(m,null),h.finish())})}
Jk.prototype.send=function(a,b,c,d,e,g,h){function k(){4==m.readyState&&l()}function l(){var a,b,c;try{a=m.status;var d,e;try{d=m.getResponseHeader("X-Canva-Auth")}catch(k){}try{e=m.getResponseHeader("X-Canva-Authz")}catch(k){}d&&(n.fJ="!"!=d?d:null);e&&(n.gJ="!"!=e?e:null);b=m.responseText}catch(k){if(k.message&&k.message.match(/c00c023f/))a=0,b="";else throw g.finish(),k;}b=b&&b.trim?b.trim():"";d=b.substring(0,20);if(0<d.length){if("'\"])}while(1);\x3c/x\x3e//"!=d){h(500,null);g.finish();return}b=
b.substring(20);try{c=JSON.parse(b)}catch(k){h(500,null);g.finish();return}}else c=null;h(a,c);g.finish()}b=this.F8+b;var m=g.xhr=new XMLHttpRequest,n=this;m.open(a,b,d);this.xY&&(m.withCredentials=!0);"GET"!=a&&e&&m.setRequestHeader("X-Csrf-Token",e);this.pS&&m.setRequestHeader("X-Canva-Analytics",this.pS);this.fJ&&m.setRequestHeader("X-Canva-Auth",this.fJ);this.gJ&&m.setRequestHeader("X-Canva-Authz",this.gJ);this.HS&&m.setRequestHeader("X-Canva-Brand",this.HS);this.KS&&m.setRequestHeader("X-Canva-Build-Name",
this.KS);this.LS&&m.setRequestHeader("X-Canva-Build-Sha",this.LS);null===c||void 0===c?a=null:(m.setRequestHeader("Content-Type","application/json;charset\x3dUTF-8"),a=JSON.stringify(c));d?(m.onreadystatechange=k,m.send(a)):(m.send(a),l())};function vj(a){this.message=a||"HTTP error encountered";this.response=a;this.VH=null}t(vj,Error);function Rk(a){if(null===a.VH)throw Error("HttpServiceError not initialized correctly");return a.VH}
function Qk(a,b){switch(b){case 400:return new Sk(a);case 403:return new Tk(a);case 404:return new Uk(a);case 409:return new Vk(a);case 418:return new Wk;case 429:return new Xk(a);case 500:return new Yk(a);default:return new Zk(a)}}function $k(a){vj.apply(this,arguments)}t($k,vj);function al(a){vj.apply(this,arguments)}t(al,vj);function Sk(a){$k.apply(this,arguments)}t(Sk,$k);function Tk(a){$k.apply(this,arguments)}t(Tk,$k);function Uk(a){$k.apply(this,arguments)}t(Uk,$k);
function Vk(a){$k.apply(this,arguments)}t(Vk,$k);function Xk(a){$k.apply(this,arguments)}t(Xk,$k);function Yk(a){al.apply(this,arguments)}t(Yk,al);function Wk(){$k.call(this,"CSRF token expired")}t(Wk,$k);function Zk(a){vj.apply(this,arguments)}t(Zk,vj);function bl(a){this.N=a;this.url="/metrics"}function cl(a,b){return wj(a.N,a.url,dl(b)).get(0).then(La).then(el)}function fl(a,b){return wj(a.N,a.url,gl(b)).get(0).then(La).then(el)};function hl(a,b){switch(b){case "HISTOGRAM":return"HISTOGRAM";case "TIMELINE":return"TIMELINE";default:throw new TypeError('expected MetricType for property "'+a+'", found: '+JSON.stringify(b));}}function il(a){this.us=a.us;this.name=a.name;this.value=a.value}il.prototype.getName=function(){return this.name};il.prototype.oc=function(){return this.value};function dl(a){return{metricType:lb(hl,"metricType",a.us),name:ib("name",a.name),value:db("value",a.value)}}
function jl(a){this.us=a.us;this.name=a.name;this.events=a.events||new Map}jl.prototype.getName=function(){return this.name};function gl(a){var b=lb(hl,"metricType",a.us),c=ib("name",a.name);a=ob(pb,rb,"events",a.events);return{metricType:b,name:c,events:a}}function kl(){}function el(){return new kl};function ll(){}ll.prototype.now=function(){return Date.now()};var ml=new ll;var ol=new nl;function nl(){}f=nl.prototype;f.setInterval=function(a,b){return window.setInterval(a,b)};f.clearInterval=function(a){window.clearInterval(a)};f.setTimeout=function(a,b){return window.setTimeout(a,b)};f.clearTimeout=function(a){window.clearTimeout(a)};f.requestAnimationFrame=function(a){return window.requestAnimationFrame(a)};f.cancelAnimationFrame=function(a){window.cancelAnimationFrame(a)};function pl(a){window.requestAnimationFrame(function(){window.requestAnimationFrame(a)})};function ql(a,b,c,d){this.name=a;this.Fh=b;this.vs=c;this.startTime=d;this.events=new Map}ql.prototype.wa=function(a){this.events.set(a,this.Fh.now()-this.startTime)};ql.prototype.done=function(){this.events.size&&rl(this.vs,this.name,this.events)};function sl(a,b){this.name=a;this.vs=b}sl.prototype.update=function(a){tl(this.vs,this.name,a)};function ul(a,b,c){this.yY=a;this.Fh=b;this.T6=c}function vl(a){var b=window.cstart;if(void 0===b)throw Error("cstart undefined");return new ul(a,ml,b)}
ul.prototype.rM=function(a){return new sl(a,this)};function rl(a,b,c){b=new jl({us:"TIMELINE",name:b,events:c});fl(a.yY,b).catch(function(){})}function tl(a,b,c){cl(a.yY,new il({us:"HISTOGRAM",name:b,value:c})).catch(function(){})};var wl=[-Infinity,5E3,8E3,13E3,21E3,34E3,55E3,89E3,144E3,233E3,377E3,61E4,Infinity];function xl(){this.Ey=Array(wl.length-1);this.Ey.fill(0)}xl.prototype.update=function(a){for(var b=0;b+1<wl.length&&!(wl[b]<=a&&a<wl[b+1]);)b++;this.Ey[b]++};xl.prototype.serialize=function(){for(var a=[],b=0;b<this.Ey.length;b++)0<this.Ey[b]&&a.push({lower:wl[b],upper:wl[b+1],count:this.Ey[b]});return{buckets:a}};function yl(a){this.ad=a;this.GE=a.F();this.JE=a.w();if(a.Jk){var b=a.Fx;this.GE=b.F();this.JE=b.w();b.F();a.F();b.w();a.w()}}f=yl.prototype;f.F=function(){return this.ad.cd().F()+this.GE};f.Yb=yl.prototype.F;f.w=function(){return this.ad.cd().w()+this.JE};f.hc=yl.prototype.w;f.l=function(){return this.ad.cd().l()};f.dh=yl.prototype.l;f.o=function(){return this.ad.cd().o()};f.bh=yl.prototype.o;f.Wa=function(){return this.F()+this.l()};f.Bd=yl.prototype.Wa;f.ua=function(){return this.w()+this.o()};
f.ed=yl.prototype.ua;f.Qa=function(){return 0};f.setSize=function(a,b){var c=this.ad.cd();c.na(a);c.ca(b);zl(this.ad,c)};f.na=function(a){var b=this.ad.cd();b.na(a);zl(this.ad,b)};f.ca=function(a){var b=this.ad.cd();b.ca(a);zl(this.ad,b)};f.gb=function(a){var b=this.ad.cd();b.gb(a-this.GE);zl(this.ad,b)};f.ab=function(a){var b=this.ad.cd();b.ab(a-this.JE);zl(this.ad,b)};f.setPosition=function(a,b){var c=this.ad.cd();c.setPosition(a-this.GE,b-this.JE);zl(this.ad,c)};
function Al(a){this.Ek=a;a=Bl(this.Ek.map(function(a){return a.Yb()}));var b=Cl(this.Ek.map(function(a){return a.Bd()})),c=Bl(this.Ek.map(function(a){return a.hc()})),d=Cl(this.Ek.map(function(a){return a.ed()}));this.width=b-a;this.height=d-c}f=Al.prototype;f.F=function(){return Bl(this.Ek.map(function(a){return a.Yb()}))};f.Yb=Al.prototype.F;f.w=function(){return Bl(this.Ek.map(function(a){return a.hc()}))};f.hc=Al.prototype.w;f.l=function(){return this.width};f.dh=Al.prototype.l;f.o=function(){return this.height};
f.bh=Al.prototype.o;f.Wa=function(){return this.F()+this.l()};f.Bd=Al.prototype.Wa;f.ua=function(){return this.w()+this.o()};f.ed=Al.prototype.ua;f.Qa=function(){return 0};f.R=function(){return this.Ek[0].R()};f.pa=function(){return new V(this.F(),this.w(),this.l(),this.o())};f.wv=function(a){return a?fh(this.pa(),a.pa()):!1};f.setSize=function(){};f.na=function(){};f.ca=function(){};f.gb=function(a){var b=a-this.F();this.Ek.forEach(function(a){a.gb(a.F()+b)})};
f.ab=function(a){var b=a-this.w();this.Ek.forEach(function(a){a.ab(a.w()+b)})};f.setPosition=function(a,b){var c=a-this.F(),d=b-this.w();this.Ek.forEach(function(a){a.setPosition(a.F()+c,a.w()+d)})};function jh(a,b,c){this.elem=a;this.El=b;this.height=a.height();this.width=a.width();this.fR=void 0!==c;this.origin=c}f=jh.prototype;f.F=function(){return(this.elem[0].getBoundingClientRect().left-this.El.left)/W};f.Yb=jh.prototype.F;
f.w=function(){return(this.elem[0].getBoundingClientRect().top-this.El.top)/W};f.hc=jh.prototype.w;f.l=function(){return this.elem[0].getBoundingClientRect().width/W};f.dh=jh.prototype.l;f.o=function(){return this.elem[0].getBoundingClientRect().height/W};f.bh=jh.prototype.o;f.Wa=function(){return this.F()+this.l()};f.Bd=jh.prototype.Wa;f.ua=function(){return this.w()+this.o()};f.ed=jh.prototype.ua;f.Qa=function(){return 0};f.setSize=function(){};f.na=function(){};f.ca=function(){};
f.gb=function(a){var b;this.fR?(b=Dl(this.elem[0]).ao,a=a*W+this.El.left+(b-1)*this.origin.left,hh(this.elem[0],{ki:a})):this.elem.css("left",a*W+this.El.left)};f.ab=function(a){var b;this.fR?(b=Dl(this.elem[0]).Iq,a=a*W+this.El.top+(b-1)*this.origin.top,hh(this.elem[0],{li:a})):this.elem.css("top",a*W+this.El.top)};
f.setPosition=function(a,b){var c;this.fR?(c=Dl(this.elem[0]),a=a*W+this.El.left+(c.ao-1)*this.origin.left,b=b*W+this.El.top+(c.Iq-1)*this.origin.top,hh(this.elem[0],{ki:a,li:b})):this.elem.css("left",a*W+this.El.left).css("top",b*W+this.El.top)};function El(a){this.ez=a.ez;this.fz=a.fz;this.user=a.user;this.D=a.D;this.Js=a.Js;this.wr=a.wr;this.Zl=a.Zl;this.yb=a.yb;this.uh=a.uh}function Fl(a){return new El({ez:B("experience",a),fz:Va(Wa,Ya,"experiments",a)||new Map,user:C("user",a)||null,D:C("brand",a)||null,Js:Na("personal",a)||null,wr:A("cohort",a)||null,Zl:C("tier",a)||null,yb:C("countryCode",a)||null,uh:C("userLocale",a)||null})};function Gl(a){El.call(this,a)}t(Gl,El);function Hl(a){El.call(this,a);this.yo=a.yo}t(Hl,El);function Il(a){this.config=a;this.Li=this.te=null;this.CG=[];this.ready=!1}function Jl(a,b){b=Kl(Kl(Kl(Kl(Kl(Kl(new Ll,"id",b.u()),"username",b.Yf()),"personalBrand",b.Hz()),"displayName",b.ob()),"largeAvatarUrl",b.IU("200")),"roles",b.cs()&&b.cs().join(", "));return Kl(Kl(Kl(b,"locale",a.config.uh),"user_cohort",a.config.wr),"country_code",a.config.yb)}function Ml(a,b){return Object.assign({},b,{category:a})}
function Nl(a,b){var c=Object.assign({},b);a.te&&(c.design=a.te);c.experience=a.config.ez;a.config.fz.forEach(function(a,b){c["Experiment:"+b]=a});a.config.D&&(c.brand=a.config.D);null!=a.config.Js&&(c.personal=a.config.Js);null!=a.config.wr&&(c.cohort=a.config.wr);a.config.Zl&&(c.tier=a.config.Zl);null!=a.config.yb&&(c.country_code=a.config.yb);null!=a.config.uh&&(c.locale=a.config.uh);Ol(c);return c}
function Ol(a){try{var b=window.crypto||window.msCrypto,c=new Uint8Array(16);b.getRandomValues(c);a.insert_id=btoa(String.fromCharCode.apply(null,c))}catch(d){}}Il.prototype.ls=function(){return this.ready};
function Ql(a,b){var c=window.lastUserTraits||(new Ll).Ck(),d=Kl(new Ll,"__user",a);a=a!==c.get("__user");if(b&&Rl(b)){for(var e=ma(b),g=e.next();!g.done;g=e.next()){var h=ma(g.value),g=h.next().value,h=h.next().value;a=a||h!==c.get(g)}c=ma(b.keys());for(e=c.next();!e.done;e=c.next())e=e.value,Kl(d,e,b.get(e))}a&&(window.lastUserTraits=d.Ck());return a}
function Sl(a,b){var c=window.lastUserTraits||(new Ll).Ck();a=Kl(new Ll,"__user",a);if(c&&Rl(c))for(var d=ma(c.keys()),e=d.next();!e.done;e=d.next())e=e.value,"__user"!==e&&Kl(a,e,c.get(e));if(b&&Rl(b))for(c=ma(b.keys()),e=c.next();!e.done;e=c.next())d=e.value,Kl(a,d,b.get(d));window.lastUserTraits=a.Ck()}function Rl(a){Ca(a instanceof Map,"Could not convert traits to an object; traits value not considered a Map instance");return!0}
function Tl(a,b,c,d,e,g){var h={};h.type=b;h.section=c;h.subsection=d;h.location=e;g&&Object.assign(h,g);a.track("button_click",h)}function Ul(a,b,c){a.track("tab_clicked",{type:b,location:c})}function Vl(a,b){var c=U;c.te=a;c.Li=b;c.track("design_open",{design:c.te,source:"editor",template:c.Li})}function Wl(a){a.track("design_shared",Ml("Share Design",{design:a.te,template:a.Li,medium:"email",location:"publish",edit_access:void 0}))}function Xl(a,b){a.Li?a.wa(X(b,"template",a.Li)):a.wa(b)}
function Yl(a,b,c,d){a.track("link_click",{type:b,section:"editor",subsection:c,location:d})}function Zl(a,b,c,d){a.track("dialog_close",{type:b,section:"editor",subsection:c,location:d})}function $l(a,b){a.track("broken_layout_used",{id:b||"unknown"})}function am(a){U.track(a,{design:ub.fc(),section:"editor",subsection:"toolbar",location:"top"})}function bm(a){U.track("chart_insert",{chart_type:a})}
function cm(a,b,c){var d=U;a={element_type:a};b&&(a.media_id=b);c&&(a.media_type=c);d.track("element_used",a)}function dm(a,b,c,d){U.track("design_renderability_check",{design:a,renderable:b,warnings:c,error:d})}function em(a,b,c,d,e,g){a.track(b,{type:c,section:d,subsection:e,location:g})}Il.prototype.zoom=function(a,b,c,d,e){this.track("zoom",{type:a,section:b,subsection:c,location:d,value:e})};Il.prototype.wa=function(a){return this.track(a.name,a.fH)};Il.prototype.Qi=function(){return this.config.yb};
function fm(a,b){this.name=a;this.fH={};b&&(this.fH.category=b)}function X(a,b,c){if(a.fH[b])throw Error("duplicated property");a.fH[b]=c;return a}function Ll(){this.items=[]}function Kl(a,b,c){a.items.push({key:b,value:c});return a}Ll.prototype.Ck=function(){return new Map(this.items.map(function(a){return[a.key,a.value]}))};function gm(a){Il.call(this,a);this.la=null}t(gm,Il);f=gm.prototype;f.track=function(a,b){window.console.log("analytics:track",this.la,a,Nl(this,b));return P.resolve()};f.identify=function(a,b,c){this.la=a;Ql(a,b)&&(Sl(a,b),window.console.log("analytics:identify",a,b,c));return P.resolve()};f.alias=function(a){window.console.log("analytics:alias",this.la,a);this.la=a};f.set=function(a){window.console.log("analytics:set",this.la,a);return P.resolve()};
f.union=function(a){window.console.log("analytics:union",this.la,a)};function hm(a,b){Il.call(this,a);this.G=b;this.readyState="PENDING";this.Q7=3E4;this.lv=this.GF=null}t(hm,Il);
function im(a){var b=jm(),c=new hm(a,ol);km(c).then(function(){for(c.ready=!0;c.CG&&0<c.CG.length;)c.CG.shift()();c.CG=null}).catch(function(){});window.segmentAnalyticsLoaded||(window.segmentAnalyticsLoaded=!0,km(c).then(function(){var b={path:location.pathname,url:location.href};jm().page(b,{integrations:{Leanplum:!1}});a.user||(b=window.Appcues||null)&&b.anonymous();b=(new UAParser).getResult();Kl(Kl(new Ll,"Most recent browser",b.browser.name+" "+b.browser.version),"timezone",(new Date).getTimezoneOffset()/
-60).Ck()}).catch(function(){}),b.load(a.yo));return c}function jm(){Fa("undefined"!==typeof window.analytics,"SegmentAnalytics: window['analytics'] not available");return window.analytics}f=hm.prototype;f.track=function(a,b){var c=this;return km(this).then(function(d){return new P(function(e){d.track(a,Nl(c,b),{integrations:{Leanplum:!1}},e)})}).catch(function(){})};
f.identify=function(a,b,c){var d=this;return km(this).then(function(e){if(!Ql(a,b))return d.GF||P.resolve();d.GF=new P(function(g){Sl(a,b);e.identify(a,lm(b),c,function(){d.GF=null;g()})});return d.GF}).catch(function(){})};f.alias=function(a){km(this).then(function(b){return b.alias(a)}).catch(function(){})};f.set=function(a){return km(this).then(function(b){return new P(function(c){return b.identify(lm(a),c)})}).catch(function(){})};f.union=function(){};
function lm(a){var b={};if(a&&Rl(a)){a=ma(a);for(var c=a.next();!c.done;c=a.next()){var d=ma(c.value),c=d.next().value,d=d.next().value;b[c]=d}}return b}
function km(a){var b=jm();if(null!==a.lv)return a.lv;if("SUCCESS"===a.readyState)return P.resolve(b);if("FAILURE"===a.readyState)return P.reject(Error("Segment initialization failed"));a.lv=new P(function(c,d){var e=a.G.setTimeout(function(){a.readyState="FAILURE";a.lv=null;d(Error("Segment initialization failed"))},a.Q7);b.ready(function(){"FAILURE"!==a.readyState&&(a.G.clearTimeout(e),a.readyState="SUCCESS",a.lv=null,c(jm()))})});return a.lv};function mm(a){var b;jm();if(a instanceof Gl)b=new gm(a);else if(a instanceof Hl)b=im(a);else throw Error("Invalid analytics config");a.user&&b.identify(a.user,null);return b}function nm(){var a=La(window.analyticsConfig),b=B("impl",a);switch(b){case "console":return mm(new Gl(Fl(a)));case "segment":return b=Fl(a),a=new Hl({ez:b.ez,fz:b.fz,user:b.user,D:b.D,Js:b.Js,wr:b.wr,Zl:b.Zl,yo:B("segmentWriteKey",a),yb:b.yb,uh:b.uh}),mm(a);default:throw Error('No such analytics type: "'+b+'"');}};function om(){return pm("file_menu","resize_button","document_resize")}function tm(){return pm("object_panel","exclusive_media_usage","non_discounted")}function um(){return pm("object_panel","free_media_filter")}function vm(a){return wm("homepage",a.Ci,a.feature)}function xm(a){return wm("editor",a.Ci,a.feature)}function pm(a,b,c){a=X(X(X(new fm("upgrade_cta_clicked"),"section","editor"),"subsection",a),"location",b);c&&X(a,"variant",c);return a}
function ym(a,b,c){return X(X(X(X(X(new fm("upgrade_dialog_cta_clicked"),"section",a),"subsection","upgrade_dialog"),"location","bottom"),"feature",b),"planType",c)}function wm(a,b,c){return X(X(X(X(new fm("upgrade_dialog_loaded"),"section",a),"subsection","upgrade_dialog"),"can_upgrade",b),"feature",c)};function zm(a,b){var c=Am;return X(X(X(new fm("team_member_invited","Invites"),"email_invited",a),"role_invited",c),"location",b)};function Bm(){}Bm.prototype.load=function(){window.console.log("fullstory:load");return P.resolve()};Bm.prototype.identify=function(a,b){window.console.log("fullstory:identify",a,b)};function Cm(){}
Cm.prototype.load=function(){if(window.fullstoryLoadPromise)return window.fullstoryLoadPromise;window.fullstoryLoadPromise=new P(function(a){window._fs_ready=function(){FS.disableConsole();delete window._fs_ready;a()}});$("\n\x3cscript\x3e\nwindow['_fs_debug'] \x3d false;\nwindow['_fs_host'] \x3d 'fullstory.com';\nwindow['_fs_org'] \x3d '6497R';\nwindow['_fs_namespace'] \x3d 'FS';\n(function(m,n,e,t,l,o,g,y){\n    if (e in m \x26\x26 m.console \x26\x26 m.console.log) { m.console.log('FullStory namespace conflict. Please set window[\"_fs_namespace\"].'); return;}\n    g\x3dm[e]\x3dfunction(a,b){g.q?g.q.push([a,b]):g._api(a,b);};g.q\x3d[];\n    o\x3dn.createElement(t);o.async\x3d1;o.src\x3d'https://'+_fs_host+'/s/fs.js';\n    y\x3dn.getElementsByTagName(t)[0];y.parentNode.insertBefore(o,y);\n    g.identify\x3dfunction(i,v){g(l,{uid:i});if(v)g(l,v)};g.setUserVars\x3dfunction(v){g(l,v)};\n    g.identifyAccount\x3dfunction(i,v){o\x3d'account';v\x3dv||{};v.acctId\x3di;g(o,v)};\n    g.clearUserCookie\x3dfunction(c,d,i){if(!c || document.cookie.match('fs_uid\x3d[`;`]*`[`;`]*`[`;`]*`')){\n    d\x3dn.domain;while(1){n.cookie\x3d'fs_uid\x3d;domain\x3d'+d+\n    ';path\x3d/;expires\x3d'+new Date(0).toUTCString();i\x3dd.indexOf('.');if(i\x3c0)break;d\x3dd.slice(i+1)}}};\n})(window,document,window['_fs_namespace'],'script','user');\n\x3c/script\x3e\n").appendTo("head");return window.fullstoryLoadPromise};
Cm.prototype.identify=function(a,b){FS.identify(a,{displayName:b.displayName,email:b.email})};function Dm(){var a=La(window.analyticsConfig),a=B("fullstoryImpl",a);switch(a){case "console":return new Bm;case "http":return new Cm;default:throw Error('No such fullstory api type: "'+a+'"');}};function Em(){return{UH:function(a){return new P(function(b){function c(b){P.resolve(a(d)).then(function(){e||P.delay(b).then(function(){c(Math.min(1.6*b,3E4))})})}function d(a){b(a);e=!0}Ca(!0,"initialInterval must be positive");Ca(!0,"maxInterval must be greater than initialInterval");Ca(!0,"increaseFactor must not be less than 1");var e=!1;c(1E3)})}}};function Fm(){return"/brand/members"};function V(a,b,c,d){this.left=a;this.top=b;this.width=c;this.height=d}function Gm(a){return a?new V(a.left||0,a.top||0,a.width||0,a.height||0):Hm.clone()}function dh(a){return Gm({left:a.left,top:a.top,width:a.width,height:a.height})}function Im(a,b){a=a||null;b=b||null;return null===a&&null===b?!0:null===a||null===b?!1:a.height===b.height&&a.left===b.left&&a.top===b.top&&a.width===b.width}var Hm=new V(0,0,0,0);f=V.prototype;
f.serialize=function(){return{left:this.left,top:this.top,width:this.width,height:this.height}};f.clone=function(){return new V(this.left,this.top,this.width,this.height)};function Jm(a){var b=isFinite(a.left)&&isFinite(a.top)&&isFinite(a.width)&&isFinite(a.height);return!(isNaN(a.left)||isNaN(a.top)||isNaN(a.width)||isNaN(a.height))&&b}f.F=function(){return this.left};f.Yb=V.prototype.F;f.w=function(){return this.top};f.hc=V.prototype.w;f.Wa=function(){return this.left+this.width};f.Bd=V.prototype.Wa;
f.ua=function(){return this.top+this.height};f.ed=V.prototype.ua;f.l=function(){return this.width};f.dh=V.prototype.l;f.o=function(){return this.height};f.bh=V.prototype.o;f.Gp=function(){return{width:this.width,height:this.height}};function Km(a){return{x:a.dl(),y:a.fl()}}f.dl=function(){return this.left+this.width/2};f.fl=function(){return this.top+this.height/2};f.gb=function(a){this.left=a;return this};f.ab=function(a){this.top=a;return this};
f.setPosition=function(a,b){this.left=a;this.top=b;return this};f.na=function(a){this.width=a;return this};f.ca=function(a){this.height=a;return this};f.setSize=function(a,b){this.width=a;this.height=b;return this};f.Zg=function(){return this.width/this.height};f.translate=function(a,b){this.left+=a;this.top+=b;return this};f.scale=function(a,b){void 0===b&&(b=a);this.left*=a;this.top*=b;this.width*=a;this.height*=b;return this};
function Lm(a,b,c,d,e){a.translate(-b,-c);a.scale(d,e);a.translate(b,c)}function Mm(a,b){a.left-=b;a.top-=b;a.width+=2*b;a.height+=2*b}function Nm(a,b,c){a.width+=b;a.height+=c;return a}function Om(a,b){a.left=b.left-(a.width-b.width)/2;a.top=b.top-(a.height-b.height)/2;return a}function Pm(a,b){var c=a.Zg();a.Zg()>b.Zg()?(a.height=b.height,a.width=c*a.height):(a.width=b.width,a.height=a.width/c);Om(a,b);return a}
function nh(a,b){var c=a.Zg();a.Zg()<b.Zg()?(a.height=b.height,a.width=c*a.height):(a.width=b.width,a.height=a.width/c);Om(a,b);return a}f.round=function(){this.left=Math.round(this.left);this.top=Math.round(this.top);this.width=Math.round(this.width);this.height=Math.round(this.height);return this};function fh(a,b){return a.Wa()<=b.F()||a.ua()<=b.w()||a.F()>=b.Wa()||a.w()>=b.ua()?!1:!0}
f.touches=function(a){return.25>Math.abs(this.w()-a.ua())||.25>Math.abs(this.ua()-a.w())?this.F()<=a.Wa()&&this.Wa()>=a.F():.25>Math.abs(this.Wa()-a.F())||.25>Math.abs(this.F()-a.Wa())?this.w()<=a.ua()&&this.ua()>=a.w():!1};function Qm(a,b){return a.F()<=b.F()&&a.w()<=b.w()&&a.Wa()>=b.Wa()&&a.ua()>=b.ua()}function Rm(a,b){a.Wa()>b.Wa()&&a.translate(b.Wa()-a.Wa(),0);a.F()<b.F()&&a.translate(b.F()-a.F(),0);a.ua()>b.ua()&&a.translate(0,b.ua()-a.ua());a.w()<b.w()&&a.translate(0,b.w()-a.w())}
function Sm(a,b,c){0!=(c&1)&&a.gb(b.l()-a.Wa());0!=(c&2)&&a.ab(b.o()-a.ua());return a}
function Tm(a,b,c){c=Um(c);a.clone();var d,e;if(Im(a,b))return 0;if(0<=c&&90>c){var g=c*Math.PI/180;c=a.clone();d=b.ua()-c.w();e=d*Math.tan(g);c.translate(e,d);if(c.touches(b))return-(d/Math.cos(g));c=a.clone();e=b.F()-c.Wa();d=e/Math.tan(g);c.translate(e,d);if(c.touches(b))return d/Math.cos(g)}else if(90<=c&&180>c){g=(c-90)*Math.PI/180;c=a.clone();d=b.F()-c.Wa();e=d*Math.tan(g);c.translate(d,e);if(c.touches(b))return d/Math.cos(g);c=a.clone();e=b.w()-c.ua();d=e/Math.tan(g);c.translate(d,e);if(c.touches(b))return d/
Math.cos(g)}else if(180<=c&&270>c){g=(c-180)*Math.PI/180;c=a.clone();d=b.w()-c.ua();e=d*Math.tan(g);c.translate(e,d);if(c.touches(b))return d/Math.cos(g);c=a.clone();e=b.Wa()-c.F();d=e/Math.tan(g);c.translate(e,d);if(c.touches(b))return-(d/Math.cos(g))}else if(270<=c&&360>c){g=(c-270)*Math.PI/180;c=a.clone();d=b.Wa()-c.F();e=d*Math.tan(g);c.translate(d,e);if(c.touches(b))return-(d/Math.cos(g));c=a.clone();e=b.ua()-c.w();d=e/Math.tan(g);c.translate(d,e);if(c.touches(b))return-(d/Math.cos(g))}return Infinity}
;var Vm={Page1:{items:[{type:"columns",children:[{type:"item"}]}]},Page2:{items:[{type:"columns",children:[{type:"item",width:66.67},{type:"item"}]}]},Page3:{items:[{type:"columns",children:[{type:"item"},{type:"item"}]}]},Page4:{items:[{type:"item"},{type:"item"}]},Page5:{items:[{type:"item"},{type:"item"},{type:"item"}]},Page6:{items:[{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"}]}]},Page7:{items:[{type:"item",height:60},{type:"columns",children:[{type:"item"},{type:"item"}]}]},
Page8:{items:[{type:"item",height:66.67},{type:"columns",children:[{type:"item",width:33.33},{type:"item"}]}]},Page8_1:{items:[{type:"columns",children:[{type:"item"},{type:"rows",children:[{type:"item"},{type:"item"}]}]}]},Page8_2:{items:[{type:"columns",children:[{type:"rows",children:[{type:"item"},{type:"item"}]},{type:"item"}]}]},Page9:{items:[{type:"columns",children:[{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"}]}]},Page10:{items:[{type:"columns",children:[{type:"item",
width:33.33},{type:"rows",children:[{type:"columns",children:[{type:"item"},{type:"item"}],height:50},{type:"item"}]}]}]},Page11:{items:[{type:"item",height:66.67},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"}]}]},Page12:{items:[{type:"columns",children:[{type:"item",width:66.67},{type:"item"}],height:66.67},{type:"columns",children:[{type:"item",width:33.33},{type:"item"}]}]},Page13:{items:[{type:"columns",children:[{type:"item",width:66.67},{type:"rows",children:[{type:"item"},
{type:"item"},{type:"item"}]}]}]},Page14:{items:[{type:"columns",children:[{type:"rows",children:[{type:"item",height:33.33},{type:"item"}],width:66.67},{type:"rows",children:[{type:"item"},{type:"item"}]}]}]},Page15:{items:[{type:"item",height:66.67},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"}]}]},Page16:{items:[{type:"item",height:50},{type:"columns",children:[{type:"rows",children:[{type:"item",height:50},{type:"item"}],width:33.33},{type:"item"}]}]},Page17:{items:[{type:"item",
height:40},{type:"columns",children:[{type:"item"},{type:"rows",children:[{type:"item"},{type:"item"}]}]}]},Page18:{items:[{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}]}]},Page19:{items:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},Page20:{items:[{type:"columns",children:[{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"rows",children:[{type:"columns",children:[{type:"item"},{type:"item"}]},{type:"item"}]}]}]},Page21:{items:[{type:"columns",
children:[{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"}]}]},Page22:{items:[{type:"columns",children:[{type:"rows",children:[{type:"item",height:66.67},{type:"item"}],width:66.67},{type:"rows",children:[{type:"item",height:33.33},{type:"item"}]}]}]},Page23:{items:[{type:"columns",children:[{type:"item"},{type:"item"}]},{type:"item"},{type:"columns",children:[{type:"item"},{type:"item"}]}]},Page24:{items:[{type:"item",height:75},{type:"columns",children:[{type:"item"},
{type:"item"},{type:"item"},{type:"item"}]}]},Page25:{items:[{type:"item"},{type:"columns",children:[{type:"item",width:50},{type:"item"}]},{type:"columns",children:[{type:"item",width:50},{type:"item"}]}]},Page27:{items:[{type:"columns",children:[{type:"rows",children:[{type:"item"},{type:"item"}],width:25},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"}]}]},Page28:{items:[{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]}]},Page29:{items:[{type:"item"},
{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},Page30:{items:[{type:"columns",children:[{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item",width:50},{type:"rows",children:[{type:"item"},{type:"item"}],width:25},{type:"rows",children:[{type:"item"},{type:"item"}]}]}]},Page31:{items:[{type:"item",height:50},{type:"columns",children:[{type:"item"},{type:"item"}],height:25},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"}]}]},Page32:{items:[{type:"columns",
children:[{type:"rows",children:[{type:"item",height:50},{type:"columns",children:[{type:"item"},{type:"item"}],height:25},{type:"columns",children:[{type:"item"},{type:"item"}]}]},{type:"item"}]}]},Page33:{items:[{type:"columns",children:[{type:"item",width:33.33},{type:"item"}]},{type:"columns",children:[{type:"item",width:66.67},{type:"item"}]},{type:"columns",children:[{type:"item",width:33.33},{type:"item"}]}]},Page34:{items:[{type:"columns",children:[{type:"rows",children:[{type:"item",height:33.33},
{type:"item"}],width:33.33},{type:"rows",children:[{type:"item",height:66.67},{type:"item"}],width:33.33},{type:"rows",children:[{type:"item",height:33.33},{type:"item"}]}]}]},Page35:{items:[{type:"columns",children:[{type:"item",width:66.67},{type:"rows",children:[{type:"item"},{type:"item"}]}],height:66.67},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"}]}]},Page36:{items:[{type:"item"},{type:"columns",children:[{type:"rows",children:[{type:"columns",children:[{type:"item"},
{type:"item"}]},{type:"item"}]},{type:"item"},{type:"item"}]}]},Page37:{items:[{type:"columns",children:[{type:"item",width:75},{type:"rows",children:[{type:"item"},{type:"item"}]}]},{type:"columns",children:[{type:"rows",children:[{type:"item"},{type:"item"}],width:25},{type:"item"}]}]},Page38:{items:[{type:"item"},{type:"columns",children:[{type:"rows",children:[{type:"item"},{type:"item"}]},{type:"item"},{type:"rows",children:[{type:"item"},{type:"item"}]}]}]},Page39:{items:[{type:"item",height:80},
{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]}]},Page40:{items:[{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]}]},Page41:{items:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},Page42:{items:[{type:"item"},{type:"item"},{type:"columns",children:[{type:"item"},{type:"rows",children:[{type:"item"},{type:"item"}]},{type:"item"},{type:"rows",children:[{type:"item"},{type:"item"}]}]}]},
Page43:{items:[{type:"columns",children:[{type:"item"},{type:"rows",children:[{type:"item"},{type:"columns",children:[{type:"item"},{type:"item"}]},{type:"item"},{type:"columns",children:[{type:"item"},{type:"item"}]}]}]}]},Page44:{items:[{type:"columns",children:[{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"}]},{type:"rows",children:[{type:"item"},{type:"item"}]},{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"}]}]}]},Page45:{items:[{type:"columns",children:[{type:"item"},
{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}]}]},Page46:{items:[{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"}]}]},Page47:{items:[{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",
children:[{type:"item"},{type:"item"},{type:"item"}]}]},Page48:{items:[{type:"columns",children:[{type:"item"},{type:"item"}],height:25},{type:"columns",children:[{type:"item"},{type:"item"}],height:25},{type:"columns",children:[{type:"rows",children:[{type:"item"},{type:"item"}]},{type:"item"},{type:"rows",children:[{type:"item"},{type:"item"}]}]}]},Page49:{items:[{type:"columns",children:[{type:"item",width:25},{type:"item",width:25},{type:"item"}],height:25},{type:"columns",children:[{type:"item"},
{type:"rows",children:[{type:"item",height:50},{type:"item"}]}],height:50},{type:"columns",children:[{type:"item",width:25},{type:"item",width:25},{type:"item"}]}]},Page50:{items:[{type:"columns",children:[{type:"rows",children:[{type:"item",height:75},{type:"columns",children:[{type:"item"},{type:"item"}]}],width:66.67},{type:"rows",children:[{type:"item"},{type:"item"}]}],height:66.67},{type:"columns",children:[{type:"item",width:33.33},{type:"rows",children:[{type:"item"},{type:"item"}],width:16.67},
{type:"item"}]}]},Page51:{items:[{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}],height:25},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}],height:25},{type:"item"}]},Page52:{items:[{type:"columns",children:[{type:"item",width:50},{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}],width:25},{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}]}]}]},Page53:{items:[{type:"columns",
children:[{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}],width:25},{type:"item",width:50},{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}]}]}]},Page54:{items:[{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}],height:25},{type:"item",height:50},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}]}]},Page55:{items:[{type:"columns",children:[{type:"item",width:50},{type:"item",
width:25},{type:"item"}],height:50},{type:"columns",children:[{type:"item",width:50},{type:"item",width:25},{type:"item"}],height:25},{type:"columns",children:[{type:"item",width:50},{type:"item",width:25},{type:"item"}]}]},Page56:{items:[{type:"columns",children:[{type:"item",width:40},{type:"rows",children:[{type:"item"},{type:"item"}],width:20},{type:"item"}]},{type:"columns",children:[{type:"rows",children:[{type:"item"},{type:"item"}],width:20},{type:"item",width:60},{type:"rows",children:[{type:"item"},
{type:"item"}]}]}]},Page57:{items:[{type:"columns",children:[{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"}],width:16.67},{type:"item",width:66.67},{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"}]}]}]},Page58:{items:[{type:"columns",children:[{type:"rows",children:[{type:"item",height:66.67},{type:"item"}]},{type:"item"},{type:"rows",children:[{type:"item",height:66.67},{type:"item"}]}]},{type:"columns",children:[{type:"item"},
{type:"rows",children:[{type:"item",height:33.33},{type:"item"}]},{type:"item"}]}]},Page59:{items:[{type:"columns",children:[{type:"rows",children:[{type:"item",height:33.33},{type:"item"}]},{type:"rows",children:[{type:"item",height:66.67},{type:"item"}]},{type:"rows",children:[{type:"item",height:33.33},{type:"item"}]}],height:60},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"}]}]},Page60:{items:[{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"}],height:33.33},
{type:"columns",children:[{type:"rows",children:[{type:"item",height:25},{type:"item",height:50},{type:"item"}]},{type:"rows",children:[{type:"columns",children:[{type:"item"},{type:"item"}],height:25},{type:"item",height:25},{type:"item"}]},{type:"rows",children:[{type:"item"},{type:"item"}]}]}]},Page61:{items:[{type:"columns",children:[{type:"item"},{type:"item"}],height:50},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}],height:16.67},
{type:"columns",children:[{type:"item"},{type:"item"}]}]},Page62:{items:[{type:"columns",children:[{type:"item",width:50},{type:"rows",children:[{type:"item"},{type:"item"}],width:25},{type:"rows",children:[{type:"item"},{type:"item"}]}]},{type:"columns",children:[{type:"rows",children:[{type:"item"},{type:"item"}],width:25},{type:"rows",children:[{type:"item"},{type:"item"}],width:25},{type:"item"}]}]},Page63:{items:[{type:"columns",children:[{type:"item",width:80},{type:"rows",children:[{type:"item"},
{type:"item"},{type:"item"},{type:"item"}]}],height:80},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]}]},Page64:{items:[{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}],height:20},{type:"item",height:60},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]}]},Page65:{items:[{type:"columns",children:[{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"rows",
children:[{type:"item"},{type:"item"},{type:"item"}],width:16.67},{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"}],width:16.67},{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"}],width:16.67},{type:"item"}]}]},Page66:{items:[{type:"columns",children:[{type:"item",width:40},{type:"item",width:20},{type:"item"}],height:25},{type:"columns",children:[{type:"rows",children:[{type:"item",height:50},{type:"item"}],width:20},{type:"item",width:60},{type:"rows",children:[{type:"item",
height:50},{type:"item"}]}],height:50},{type:"columns",children:[{type:"item",width:40},{type:"item",width:20},{type:"item"}]}]},Page67:{items:[{type:"columns",children:[{type:"item",width:33.33},{type:"item"}]},{type:"columns",children:[{type:"item",width:33.33},{type:"rows",children:[{type:"item"},{type:"item"}],width:16.67},{type:"rows",children:[{type:"item"},{type:"item"}],width:16.67},{type:"item"}]},{type:"columns",children:[{type:"item",width:66.67},{type:"item"}]}]},Page68:{items:[{type:"columns",
children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}],height:16.67},{type:"columns",children:[{type:"item",width:75},{type:"rows",children:[{type:"item"},{type:"item"}]}],height:66.67},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}]}]},Page69:{items:[{type:"columns",children:[{type:"rows",children:[{type:"item",height:75},{type:"columns",children:[{type:"item"},{type:"item"}]}],width:40},{type:"rows",children:[{type:"columns",children:[{type:"item"},
{type:"item"},{type:"item"}],height:25},{type:"item"}]}],height:66.67},{type:"columns",children:[{type:"item",width:40},{type:"item",width:40},{type:"rows",children:[{type:"item"},{type:"item"}]}]}]},Page70:{items:[{type:"columns",children:[{type:"item",width:50},{type:"rows",children:[{type:"item"},{type:"item"}],width:16.67},{type:"item"}]},{type:"columns",children:[{type:"item",width:33.33},{type:"rows",children:[{type:"item"},{type:"item"}],width:16.67},{type:"item"}]},{type:"columns",children:[{type:"item",
width:50},{type:"rows",children:[{type:"item"},{type:"item"}],width:16.67},{type:"item"}]}]},Page71:{items:[{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}],height:20},{type:"columns",children:[{type:"item",width:75},{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"}]}],height:60},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}]}]},Page72:{items:[{type:"columns",children:[{type:"rows",children:[{type:"columns",children:[{type:"item"},
{type:"item"}],height:33.33},{type:"item"}],width:50},{type:"item",width:25},{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"}]}]},{type:"columns",children:[{type:"item",width:25},{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"}],width:25},{type:"item"}]}]},Page73:{items:[{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},
{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}]}]},Page74:{items:[{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}],height:25},{type:"columns",children:[{type:"rows",children:[{type:"item"},{type:"item"}],width:25},{type:"item",width:50},{type:"rows",children:[{type:"item"},{type:"item"}]}],height:50},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}]}]},Page75:{items:[{type:"columns",
children:[{type:"item",width:66.67},{type:"rows",children:[{type:"item",height:50},{type:"columns",children:[{type:"item"},{type:"item"}],height:25},{type:"columns",children:[{type:"item"},{type:"item"}]}]}],height:66.67},{type:"columns",children:[{type:"item",width:33.33},{type:"rows",children:[{type:"item"},{type:"item"}],width:16.67},{type:"rows",children:[{type:"item"},{type:"item"}],width:16.67},{type:"item"}]}]},Page76:{items:[{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},
{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}]}]},Page77:{items:[{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}],height:16.67},{type:"columns",children:[{type:"rows",children:[{type:"item",height:50},{type:"item"}],width:25},{type:"item",width:50},{type:"rows",children:[{type:"item",height:50},{type:"item"}]}],height:66.67},{type:"columns",
children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}]}]},Page78:{items:[{type:"columns",children:[{type:"item",width:30},{type:"item",width:45},{type:"item"}],height:30},{type:"columns",children:[{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"}],width:15},{type:"item",width:70},{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"}]}],height:45},{type:"columns",children:[{type:"item",width:30},{type:"item",width:45},{type:"item"}]}]},Page79:{items:[{type:"columns",
children:[{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"}]},{type:"rows",children:[{type:"item"},{type:"item"}]},{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"}]},{type:"rows",children:[{type:"item"},{type:"item"}]},{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"}]}]}]},Page80:{items:[{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",
children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"}]}]},Page81:{items:[{type:"columns",children:[{type:"rows",children:[{type:"columns",children:[{type:"item"},{type:"item"}]},{type:"item"}],width:33.33},{type:"rows",children:[{type:"item"},{type:"columns",children:[{type:"item",width:50},{type:"item"}]}],width:33.33},{type:"item"}],height:40},{type:"item",height:40},{type:"columns",children:[{type:"item",width:16.67},
{type:"item",width:16.67},{type:"item",width:16.67},{type:"item",width:16.67},{type:"item",width:16.67},{type:"item"}]}]},Page82:{items:[{type:"columns",children:[{type:"rows",children:[{type:"item",height:50},{type:"columns",children:[{type:"item",width:50},{type:"rows",children:[{type:"item"},{type:"item"}],width:25},{type:"rows",children:[{type:"item"},{type:"item"}]}],height:25},{type:"item"}]},{type:"rows",children:[{type:"columns",children:[{type:"item",width:50},{type:"rows",children:[{type:"item"},
{type:"item"}],width:25},{type:"rows",children:[{type:"item"},{type:"item"}]}],height:25},{type:"item"}]}]}]},Page83:{items:[{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}],height:25},{type:"columns",children:[{type:"rows",children:[{type:"item"},{type:"item"}],width:20},{type:"item",width:60},{type:"rows",children:[{type:"item"},{type:"item"}]}],height:50},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]}]},
Page84:{items:[{type:"columns",children:[{type:"item",width:66.67},{type:"rows",children:[{type:"item"},{type:"item"}],width:16.67},{type:"rows",children:[{type:"item"},{type:"item"}]}]},{type:"columns",children:[{type:"rows",children:[{type:"item",height:50},{type:"item"}],width:16.67},{type:"rows",children:[{type:"item",height:50},{type:"item"}],width:16.67},{type:"item"}]},{type:"columns",children:[{type:"item",width:66.67},{type:"rows",children:[{type:"item"},{type:"item"}],width:16.67},{type:"rows",
children:[{type:"item"},{type:"item"}]}]}]},Page86:{items:[{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}],height:16.67},{type:"columns",children:[{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"}],width:16.67},{type:"item",width:66.67},{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"}]}],height:50},{type:"columns",children:[{type:"item"},{type:"item"}]}]},Page87:{items:[{type:"columns",children:[{type:"rows",
children:[{type:"item",height:66.67},{type:"columns",children:[{type:"item",width:50},{type:"rows",children:[{type:"item"},{type:"item"}],width:25},{type:"rows",children:[{type:"item"},{type:"item"}]}]}]},{type:"rows",children:[{type:"columns",children:[{type:"item"},{type:"item"}],height:33.33},{type:"item"}]}],height:75},{type:"columns",children:[{type:"item",width:25},{type:"item",width:50},{type:"rows",children:[{type:"item"},{type:"item"}],width:12.5},{type:"rows",children:[{type:"item"},{type:"item"}]}]}]},
Page88:{items:[{type:"columns",children:[{type:"rows",children:[{type:"item",height:50},{type:"columns",children:[{type:"item"},{type:"item"}],height:12.5},{type:"columns",children:[{type:"item"},{type:"item"}],height:12.5},{type:"item"}],width:25},{type:"rows",children:[{type:"item",height:25},{type:"columns",children:[{type:"item"},{type:"item"}],height:12.5},{type:"columns",children:[{type:"item"},{type:"item"}],height:12.5},{type:"item"}],width:25},{type:"rows",children:[{type:"item",height:25},
{type:"item",height:50},{type:"item"}]}]}]},Page89:{items:[{type:"columns",children:[{type:"item",width:50},{type:"rows",children:[{type:"item",height:50},{type:"columns",children:[{type:"item"},{type:"item"}],height:25},{type:"columns",children:[{type:"item"},{type:"item"}]}],width:25},{type:"rows",children:[{type:"columns",children:[{type:"item"},{type:"item"}],height:25},{type:"columns",children:[{type:"item"},{type:"item"}],height:25},{type:"item"}]}]},{type:"columns",children:[{type:"rows",children:[{type:"item"},
{type:"item"}],width:25},{type:"rows",children:[{type:"item"},{type:"item"}],width:25},{type:"item"}]}]},Page90:{items:[{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}]}]},Page91:{items:[{type:"columns",children:[{type:"item",
width:66.67},{type:"rows",children:[{type:"item"},{type:"item"}],width:16.67},{type:"rows",children:[{type:"item"},{type:"item"}]}],height:33.33},{type:"columns",children:[{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}],width:16.67},{type:"rows",children:[{type:"item",height:75},{type:"columns",children:[{type:"item"},{type:"item"}]}],width:33.33},{type:"rows",children:[{type:"columns",children:[{type:"rows",children:[{type:"item"},{type:"item"}],width:33.33},{type:"item"}]},
{type:"item"}]}]}]},Page92:{items:[{type:"columns",children:[{type:"rows",children:[{type:"item",height:66.67},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"}]}],width:50},{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"}],width:16.67},{type:"item"}]},{type:"columns",children:[{type:"item",width:33.33},{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"}],width:16.67},{type:"rows",children:[{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"}],
height:33.33},{type:"item"}]}]}]},Page93:{items:[{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}],height:20},{type:"columns",children:[{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"}],width:20},{type:"item",width:60},{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"}]}],height:60},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]}]},Page94:{items:[{type:"columns",children:[{type:"item"},
{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}],height:16.67},{type:"columns",children:[{type:"rows",children:[{type:"item",height:25},{type:"item",height:25},{type:"item",height:25},{type:"item"}],width:16.67},{type:"item",width:66.67},{type:"rows",children:[{type:"item",height:25},{type:"item",height:25},{type:"item",height:25},{type:"item"}]}],height:66.67},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]}]},Page95:{items:[{type:"columns",
children:[{type:"item",width:50},{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"}],width:16.67},{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"}],width:16.67},{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"}]}]},{type:"columns",children:[{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"}],width:16.67},{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"}],width:16.67},{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"}],
width:16.67},{type:"item"}]}]},Page96:{items:[{type:"columns",children:[{type:"rows",children:[{type:"columns",children:[{type:"item"},{type:"rows",children:[{type:"item"},{type:"item"}]}]},{type:"item"}]},{type:"item"},{type:"item"},{type:"rows",children:[{type:"item"},{type:"columns",children:[{type:"item"},{type:"rows",children:[{type:"item"},{type:"item"}]}]}]}],height:33.33},{type:"columns",children:[{type:"rows",children:[{type:"item"},{type:"columns",children:[{type:"rows",children:[{type:"columns",
children:[{type:"rows",children:[{type:"item"},{type:"item"}]},{type:"item"}]},{type:"item"}]},{type:"item"}]}]},{type:"item"}]}]},Page97:{items:[{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},
{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]}]},Page98:{items:[{type:"columns",children:[{type:"item",width:50},{type:"rows",children:[{type:"item",height:50},{type:"columns",children:[{type:"item"},{type:"item"}],height:25},{type:"columns",children:[{type:"item"},{type:"item"}]}],width:25},{type:"rows",children:[{type:"columns",children:[{type:"item"},{type:"item"}],height:25},{type:"columns",children:[{type:"item"},{type:"item"}],height:25},{type:"item"}]}]},{type:"columns",
children:[{type:"rows",children:[{type:"item",height:50},{type:"columns",children:[{type:"item"},{type:"item"}],height:25},{type:"columns",children:[{type:"item"},{type:"item"}]}],width:25},{type:"rows",children:[{type:"columns",children:[{type:"item"},{type:"item"}],height:25},{type:"columns",children:[{type:"item"},{type:"item"}],height:25},{type:"item"}],width:25},{type:"item"}]}]},Page99:{items:[{type:"columns",children:[{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"rows",children:[{type:"item"},
{type:"item"}],width:12.5},{type:"rows",children:[{type:"item"},{type:"item"}],width:12.5},{type:"item",width:50},{type:"rows",children:[{type:"item"},{type:"item"}],width:12.5},{type:"rows",children:[{type:"item"},{type:"item"}]}]},{type:"columns",children:[{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"rows",children:[{type:"item"},{type:"item"}],width:12.5},{type:"rows",children:[{type:"item"},{type:"item"}],width:12.5},{type:"item",width:50},{type:"rows",children:[{type:"item"},
{type:"item"}],width:12.5},{type:"rows",children:[{type:"item"},{type:"item"}]}]}]},Page100:{items:[{type:"columns",children:[{type:"item",width:50},{type:"rows",children:[{type:"item",height:50},{type:"columns",children:[{type:"item"},{type:"item"}],height:25},{type:"columns",children:[{type:"item"},{type:"item"}]}],width:25},{type:"rows",children:[{type:"columns",children:[{type:"item"},{type:"item"}],height:25},{type:"columns",children:[{type:"item"},{type:"item"}],height:25},{type:"item"}]}],
height:50},{type:"columns",children:[{type:"item",width:25},{type:"rows",children:[{type:"item"},{type:"item"}],width:12.5},{type:"rows",children:[{type:"item"},{type:"item"}],width:12.5},{type:"item",width:25},{type:"item"}],height:25},{type:"columns",children:[{type:"rows",children:[{type:"item"},{type:"item"}],width:12.5},{type:"rows",children:[{type:"item"},{type:"item"}],width:12.5},{type:"item",width:25},{type:"item",width:25},{type:"item"}]}]},Page101:{items:[{type:"columns",children:[{type:"item"},
{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]}]},Page102:{items:[{type:"columns",children:[{type:"item"},
{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},
{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]}]},Page103:{items:[{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},
{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},
{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},
{type:"item"}]}]},Page104:{items:[{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},
{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},
{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},
{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]}]}};var Wm={BARCHART1:{left:0,top:0,width:640,height:480,type:"group",generatorType:"CHART",chart:{chartType:"BAR",bar:{spacing:.2},data:{columns:[{cells:["Item 1","Item 2","Item 3","Item 4","Item 5"]},{cells:[10,20,30,40,50]}]},labelColumn:0,coloringType:"INTERPOLATE",interpolation:{from:"#2de6d5",to:"#0094eb",colorSpace:"HCL"},labelTextStyle:{fontFamily:M.Hd,fontSize:M.Id}}},BARCHART2:{left:0,top:0,width:640,height:480,type:"group",generatorType:"CHART",chart:{chartType:"BAR",bar:{spacing:.45},data:{columns:[{cells:["Item 1",
"Item 2","Item 3","Item 4","Item 5"]},{cells:[10,20,30,40,50]}]},labelColumn:0,coloringType:"INTERPOLATE",interpolation:{from:"#fff753",to:"#00cea4",colorSpace:"HCL"},labelTextStyle:{fontFamily:M.Hd,fontSize:M.Id}}},BARCHART3:{left:0,top:0,width:640,height:480,type:"group",generatorType:"CHART",chart:{chartType:"BAR",bar:{spacing:.7},data:{columns:[{cells:["Item 1","Item 2","Item 3","Item 4","Item 5"]},{cells:[10,20,30,40,50]}]},labelColumn:0,coloringType:"INTERPOLATE",interpolation:{from:"#ff9173",
to:"#a149a6",colorSpace:"HCL"},labelTextStyle:{fontFamily:M.Hd,fontSize:M.Id}}},BARCHART4:{left:0,top:0,width:640,height:480,type:"group",generatorType:"CHART",chart:{chartType:"BAR",bar:{spacing:.2},data:{columns:[{cells:["Item 1","Item 2","Item 3","Item 4","Item 5"]},{cells:[10,20,30,40,50]}]},labelColumn:0,coloringType:"INTERPOLATE",interpolation:{from:"#0094eb",to:"#0094eb",colorSpace:"HCL"},labelTextStyle:{fontFamily:M.Hd,fontSize:M.Id}}},BARCHART5:{left:0,top:0,width:640,height:480,type:"group",
generatorType:"CHART",chart:{chartType:"BAR",bar:{spacing:.45},data:{columns:[{cells:["Item 1","Item 2","Item 3","Item 4","Item 5"]},{cells:[10,20,30,40,50]}]},labelColumn:0,coloringType:"INTERPOLATE",interpolation:{from:"#00cea4",to:"#00cea4",colorSpace:"HCL"},labelTextStyle:{fontFamily:M.Hd,fontSize:M.Id}}},BARCHART6:{left:0,top:0,width:640,height:480,type:"group",generatorType:"CHART",chart:{chartType:"BAR",bar:{spacing:.7},data:{columns:[{cells:["Item 1","Item 2","Item 3","Item 4","Item 5"]},
{cells:[10,20,30,40,50]}]},labelColumn:0,coloringType:"INTERPOLATE",interpolation:{from:"#c94f98",to:"#c94f98",colorSpace:"HCL"},labelTextStyle:{fontFamily:M.Hd,fontSize:M.Id}}},LINECHART1:{left:0,top:0,width:640,height:480,type:"group",generatorType:"CHART",chart:{chartType:"LINE",data:{columns:[{cells:["Item 1","Item 2","Item 3","Item 4","Item 5"]},{cells:[10,22,23,40,45]}]},labelColumn:0,coloringType:"INTERPOLATE",interpolation:{from:"#2de6d5",to:"#0094eb",colorSpace:"HCL"},labelTextStyle:{fontFamily:M.Hd,
fontSize:M.Id}}},LINECHART2:{left:0,top:0,width:640,height:480,type:"group",generatorType:"CHART",chart:{chartType:"LINE",data:{columns:[{cells:["Item 1","Item 2","Item 3","Item 4","Item 5"]},{cells:[10,22,23,40,45]}]},labelColumn:0,coloringType:"INTERPOLATE",interpolation:{from:"#fff753",to:"#00cea4",colorSpace:"HCL"},labelTextStyle:{fontFamily:M.Hd,fontSize:M.Id}}},LINECHART3:{left:0,top:0,width:640,height:480,type:"group",generatorType:"CHART",chart:{chartType:"LINE",data:{columns:[{cells:["Item 1",
"Item 2","Item 3","Item 4","Item 5"]},{cells:[10,22,23,40,45]}]},labelColumn:0,coloringType:"INTERPOLATE",interpolation:{from:"#ff9173",to:"#a149a6",colorSpace:"HCL"},labelTextStyle:{fontFamily:M.Hd,fontSize:M.Id}}},LINECHART4:{left:0,top:0,width:640,height:480,type:"group",generatorType:"CHART",chart:{chartType:"LINE",data:{columns:[{cells:["Item 1","Item 2","Item 3","Item 4","Item 5"]},{cells:[10,22,23,40,45]}]},labelColumn:0,coloringType:"INTERPOLATE",interpolation:{from:"#0094eb",to:"#0094eb",
colorSpace:"HCL"},labelTextStyle:{fontFamily:M.Hd,fontSize:M.Id}}},LINECHART5:{left:0,top:0,width:640,height:480,type:"group",generatorType:"CHART",chart:{chartType:"LINE",data:{columns:[{cells:["Item 1","Item 2","Item 3","Item 4","Item 5"]},{cells:[10,22,23,40,45]}]},labelColumn:0,coloringType:"INTERPOLATE",interpolation:{from:"#00cea4",to:"#00cea4",colorSpace:"HCL"},labelTextStyle:{fontFamily:M.Hd,fontSize:M.Id}}},LINECHART6:{left:0,top:0,width:640,height:480,type:"group",generatorType:"CHART",
chart:{chartType:"LINE",data:{columns:[{cells:["Item 1","Item 2","Item 3","Item 4","Item 5"]},{cells:[10,22,23,40,45]}]},labelColumn:0,coloringType:"INTERPOLATE",interpolation:{from:"#c94f98",to:"#c94f98",colorSpace:"HCL"},labelTextStyle:{fontFamily:M.Hd,fontSize:M.Id}}},PIECHART1:{left:0,top:0,width:640,height:480,type:"group",generatorType:"CHART",chart:{chartType:"PIE",data:{columns:[{cells:["Item 1","Item 2","Item 3","Item 4","Item 5"]},{cells:[10,10,10,10,10]}]},labelColumn:0,coloringType:"INTERPOLATE",
interpolation:{from:"#2de6d5",to:"#596cb3",colorSpace:"HCL"},labelTextStyle:{fontFamily:M.Hd,fontSize:M.Id}}},PIECHART2:{left:0,top:0,width:640,height:480,type:"group",generatorType:"CHART",chart:{chartType:"PIE",data:{columns:[{cells:["Item 1","Item 2","Item 3","Item 4","Item 5"]},{cells:[10,10,10,10,10]}]},labelColumn:0,coloringType:"INTERPOLATE",interpolation:{from:"#fff753",to:"#00ada9",colorSpace:"HCL"},labelTextStyle:{fontFamily:M.Hd,fontSize:M.Id}}},PIECHART3:{left:0,top:0,width:640,height:480,
type:"group",generatorType:"CHART",chart:{chartType:"PIE",data:{columns:[{cells:["Item 1","Item 2","Item 3","Item 4","Item 5"]},{cells:[10,10,10,10,10]}]},labelColumn:0,coloringType:"INTERPOLATE",interpolation:{from:"#ff9173",to:"#684092",colorSpace:"HCL"},labelTextStyle:{fontFamily:M.Hd,fontSize:M.Id}}},DONUTCHART1:{left:0,top:0,width:640,height:480,type:"group",generatorType:"CHART",chart:{chartType:"DONUT",data:{columns:[{cells:["Item 1","Item 2","Item 3","Item 4","Item 5"]},{cells:[10,10,10,10,
10]}]},labelColumn:0,coloringType:"INTERPOLATE",interpolation:{from:"#2de6d5",to:"#596cb3",colorSpace:"HCL"},labelTextStyle:{fontFamily:M.Hd,fontSize:M.Id}}},DONUTCHART2:{left:0,top:0,width:640,height:480,type:"group",generatorType:"CHART",chart:{chartType:"DONUT",data:{columns:[{cells:["Item 1","Item 2","Item 3","Item 4","Item 5"]},{cells:[10,10,10,10,10]}]},labelColumn:0,coloringType:"INTERPOLATE",interpolation:{from:"#fff753",to:"#00ada9",colorSpace:"HCL"},labelTextStyle:{fontFamily:M.Hd,fontSize:M.Id}}},
DONUTCHART3:{left:0,top:0,width:640,height:480,type:"group",generatorType:"CHART",chart:{chartType:"DONUT",data:{columns:[{cells:["Item 1","Item 2","Item 3","Item 4","Item 5"]},{cells:[10,10,10,10,10]}]},labelColumn:0,coloringType:"INTERPOLATE",interpolation:{from:"#ff9173",to:"#684092",colorSpace:"HCL"},labelTextStyle:{fontFamily:M.Hd,fontSize:M.Id}}}};function Xm(a){a&&a.id&&null!=a.version&&(this.id=a.id,this.version=a.version)}function Ym(a){return Zm(new Xm(a.layout),a)}function Zm(a,b){$.extend(!0,a,_.omit(b,"layout"));return a}function $m(a,b){$.extend(!0,a,_.omit(b.content.pages[0],"layout"));return a}function an(a,b,c){if(a=a.elements&&a.elements[0]){var d=a.spacing;void 0===d&&(d=M.ZC);_.extend(a,bn(b,c,d,!1).serialize())}}f=Xm.prototype;f.getName=function(){return this.name};
f.Ag=function(){var a={elements:this.elements,width:this.width,height:this.height,dpi:this.dpi},b=this.serialize();if(b&&a.elements){var c=(new cn(b)).Wt().serialize();a.elements.forEach(function(a){a.origin=c;a.contents&&a.contents.forEach(function(a){a.origin=c})})}return a};f.clone=function(){return Zm(new Xm(this.serialize()),this.Ag())};f.serialize=function(){return this.id&&this.version?{id:this.id,version:this.version}:null};f.na=function(a){this.width=a};f.ca=function(a){this.height=a};
f.l=function(){return this.width};f.o=function(){return this.height};function dn(a){function b(a){a.mediaId&&c.push(new en({id:a.mediaId,version:a.mediaVersion}));a.fontMedia&&c.push(fn(a.fontMedia));Array.isArray(a.htmlFontMedia)&&(c=c.concat(a.htmlFontMedia.map(fn)))}var c=[];a.elements&&a.elements.length&&a.elements.forEach(function(a){b(a);a.contents&&a.contents.length&&a.contents.forEach(b)});return c};function gn(a){for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];b.length||(b=[1,0,0,0,1,0,0,0,1]);this.m=new Float32Array(b)}function hn(a){var b=new gn;b.m[2]=a[0];b.m[5]=a[1];return b}function jn(a){return[a.m[2],a.m[5]]}f=gn.prototype;
f.multiply=function(a){var b=new gn;b.m[0]=this.m[0]*a.m[0]+this.m[1]*a.m[3]+this.m[2]*a.m[6];b.m[1]=this.m[0]*a.m[1]+this.m[1]*a.m[4]+this.m[2]*a.m[7];b.m[2]=this.m[0]*a.m[2]+this.m[1]*a.m[5]+this.m[2]*a.m[8];b.m[3]=this.m[3]*a.m[0]+this.m[4]*a.m[3]+this.m[5]*a.m[6];b.m[4]=this.m[3]*a.m[1]+this.m[4]*a.m[4]+this.m[5]*a.m[7];b.m[5]=this.m[3]*a.m[2]+this.m[4]*a.m[5]+this.m[5]*a.m[8];b.m[6]=this.m[6]*a.m[0]+this.m[7]*a.m[3]+this.m[8]*a.m[6];b.m[7]=this.m[6]*a.m[1]+this.m[7]*a.m[4]+this.m[8]*a.m[7];b.m[8]=
this.m[6]*a.m[2]+this.m[7]*a.m[5]+this.m[8]*a.m[8];this.m=b.m;return this};f.transform=function(a){var b=new gn;b.m=this.m;this.m=a.m;return this.multiply(b)};f.translate=function(a,b){var c=new gn;c.m[2]=a;c.m[5]=b;return this.transform(c)};f.reflect=function(){var a=new gn;a.m[0]=-1;a.m[4]=-1;return this.transform(a)};f.scale=function(a,b){var c=new gn;c.m[0]=a;c.m[4]=void 0===b?a:b;return this.transform(c)};
function kn(a,b){var c=new gn,d=b*Math.PI/180;b=Math.cos(d);d=Math.sin(d);c.m[0]=b;c.m[1]=d;c.m[2]=-0*b-0*d;c.m[3]=-1*d;c.m[4]=b;c.m[5]=-0*b+0*d;return a.transform(c)}f.rotate=function(a){if(0===a||360===Math.abs(a))return this;var b=new gn,c=a*Math.PI/180;a=Math.cos(c);c=Math.sin(c);b.m[0]=a;b.m[1]=c;b.m[3]=-1*c;b.m[4]=a;return this.transform(b)};f.toArray=function(){return Array.prototype.slice.call(this.m)};function ln(a,b,c){return Math.min(Math.max(a,b||0),c||1)}function mn(a,b,c){c=ln(c);var d=a+c*(b-a);a=nn(a,b,c);0<a&&21>a&&(d=parseFloat(d.toPrecision(a)));return d}function nn(a){for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];var d=0;b.forEach(function(a){a=a.toString().split(".");d+=a[0].length;2===a.length&&(d+=a[1].length)});return d};function on(){this.jb=[255,0,255];this.Ui=[300,100,50]}function pn(a,b,c,d){a.Ui=[b,c,d];var e;e=b/60;c/=100;d/=100;b=Math.floor(e);var g=e-b;e=d*(1-c);var h=d*(1-g*c);c=d*(1-(1-g)*c);b%=6;a.jb=[Math.round(255*[d,h,e,e,c,d][b]),Math.round(255*[c,d,d,h,e,e][b]),Math.round(255*[e,e,c,d,d,h][b])];return a}f=on.prototype;f.SU=function(){return this.Ui[1]};f.oc=function(){return this.Ui[2]};f.nk=function(a){return pn(this,this.Ui[0],this.Ui[1],a)};
function qn(a,b,c,d){a.jb=[b,c,d];a.Ui=rn(b,c,d);return a}function sn(a,b,c){var d=new on;a=a*Math.PI/180;b=[c,Math.cos(a)*b,Math.sin(a)*b];b=tn(b[0],b[1],b[2]);d.jb=un(b[0],b[1],b[2]);d.Ui=rn(d.jb[0],d.jb[1],d.jb[2]);return d}function vn(a){var b=new on;if(!/^#?[0-9a-f]{1,6}$/i.test(a))throw new SyntaxError('Invalid hexadecimal color: "'+a+'"');"#"==a.charAt(0)&&(a=a.slice(1));var c=Math.ceil(a.length/3);return qn(b,wn(a,0*c,c),wn(a,1*c,c),wn(a,2*c,c))}
function xn(a){return 0==(a.jb[0]&-256|a.jb[1]&-256|a.jb[2]&-256)}f.qa=function(){return"#"+(256+this.jb[0]).toString(16).slice(-2)+(256+this.jb[1]).toString(16).slice(-2)+(256+this.jb[2]).toString(16).slice(-2)};function yn(a){a=zn(a.jb[0],a.jb[1],a.jb[2]);a=An(a[0],a[1],a[2]);var b=a[1],c=a[2],d=Math.sqrt(b*b+c*c),b=(180*Math.atan2(c,b)/Math.PI+360)%360,b=0===Math.round(1E4*d)?NaN:b;return[b,d,a[0]]}f.clone=function(){var a=new on;a.jb=this.jb;a.Ui=this.Ui;return a};
f.Tu=function(){return Math.round(Math.sqrt(.241*this.jb[0]*this.jb[0]+.691*this.jb[1]*this.jb[1]+.068*this.jb[2]*this.jb[2]))};function Bn(a){return pn(new on,a.Ui[0],a.Ui[1],100)}function Cn(a,b,c){return qn(new on,Math.round(a.jb[0]+(b.jb[0]-a.jb[0])*c),Math.round(a.jb[1]+(b.jb[1]-a.jb[1])*c),Math.round(a.jb[2]+(b.jb[2]-a.jb[2])*c))}
function Dn(a,b,c){b=yn(b);a=yn(a);var d;180<Math.abs(b[0]-a[0])?(d=360-Math.abs(b[0]-a[0]),d=b[0]>a[0]?a[0]-c*d:a[0]+c*d):d=mn(a[0],b[0],c);d=(0>d?360+d:d)%360;var e=mn(a[1],b[1],c);c=mn(a[2],b[2],c);return sn(d,e,c)}
function En(a,b,c,d,e){function g(a,b,c){return mn(a+c,a-c,ln((a-(b-5))/10))}b=void 0===b?1:b;e=void 0===e?36:e;c=(void 0===c?110:c)*b;d=(void 0===d?10:d)*b;b*=e;var h=yn(a),k=h[0],l=h[1],h=h[2];switch(!0){case 55<k&&65>k:k=g(k,60,-c);break;case 0<k&&60>k:k-=c;break;case 295<k&&305>k:k=g(k,300,c);break;case 240<k&&300>k:k+=c;break;default:k=360>=k+c?k+c:k-c}var l=l+d,h=g(h,93-e,b),m=sn(k,l,h);return function(b,c){var d=a.qa();return"#ffffff"===d&&0===b?d:Dn(a,m,b/Math.max(c-1,1)).qa()}}
f.equals=function(a){return null!=a&&a.serialize()===this.serialize()};function Fn(a){var b=uh(a.from),c=uh(a.to);return b instanceof on&&c instanceof on?function(a,e){return Dn(b,c,a/Math.max(e-1,1)).qa()}:null}function uh(a){try{return Gn(a)}catch(b){}return null}
function Gn(a){var b=String(a);if("#"===b.slice(0,1))return vn(b);if("hsl("===b.slice(0,4)){a=new on;var c=/^hsl\((\d*(?:\.\d+)?),\s*(\d*(?:\.\d+)?)%,\s*(\d*(?:\.\d+)?)%\)$/.exec(b);if(!c)throw new SyntaxError('Invalid HSL color: "'+b+'"');var b=+c[2],d=+c[3],b=b/100,d=d/100,e=b*(.5>d?d:1-d),g=d+e,c=[+c[1],100*(0<d?2*e/g:b),100*g];return pn(a,c[0],c[1],c[2])}if("rgb("===b.slice(0,4)){a=new on;c=/^rgb\((\d+),\s*(\d+),\s*(\d+)\)$/.exec(b);if(!c)throw new SyntaxError('Invalid RGB color: "'+b+'"');return qn(a,
+c[1],+c[2],+c[3])}if(6>=b.length)return vn(b);throw Error("could not parse color: "+a);}function Hn(a,b,c){0>c&&(c+=1);1<c&&--c;return c<1/6?a+6*(b-a)*c:.5>c?b:c<2/3?a+(b-a)*(2/3-c)*6:a}function rn(a,b,c){a/=255;b/=255;c/=255;var d=Math.max(a,b,c),e=Math.min(a,b,c),g;if(d==e)g=e=0;else{var h=d-e,e=h/d;switch(d){case a:g=(b-c)/h+(b<c?6:0);break;case b:g=(c-a)/h+2;break;case c:g=(a-b)/h+4}g/=6}return[360*g,100*e,100*d]}
function un(a,b,c){a=[a,b,c];a=a.map(function(a){return ln(a/100)});b=[];b[0]=3.2404542*a[0]-1.5371385*a[1]-.4985314*a[2];b[1]=-.969266*a[0]+1.8760108*a[1]+.041556*a[2];b[2]=.0556434*a[0]-.2040259*a[1]+1.0572252*a[2];b=b.map(function(a){return.00304>=a?12.92*a:1.055*Math.pow(a,1/2.4)-.055});return b=b.map(function(a){return ln(Math.round(255*a),0,255)})}
function zn(a,b,c){a=[a,b,c];a=a.map(function(a){return ln(a/255)});a=a.map(function(a){return.04045>=a?a/12.92:Math.pow((a+.055)/1.055,2.4)});b=[];b[0]=.4124564*a[0]+.3575761*a[1]+.1804375*a[2];b[1]=.2126729*a[0]+.7151522*a[1]+.072175*a[2];b[2]=.0193339*a[0]+.119192*a[1]+.9503041*a[2];return b=b.map(function(a){return 100*a})}
function An(a,b,c){function d(a){return.008856452<a?Math.pow(a,1/3):a/.12841855+.137931034}a=[a/95.047,b/100,c/108.883];b=[];b[0]=116*d(a[1])-16;b[1]=500*(d(a[0])-d(a[1]));b[2]=200*(d(a[1])-d(a[2]));return b}function tn(a,b,c){function d(a){return.206896552<a?a*a*a:.12841855*(a-.137931034)}a=(a+16)/116;return[95.047*d(isNaN(b)?a:a+b/500),100*d(a),108.883*d(isNaN(c)?a:a-c/200)]}function wn(a,b,c){var d=parseInt(a.charAt(b),16)|0;return 16*d+(1==c?d:parseInt(a.charAt(b+1),16)|0)}
function In(a,b,c){return qn(new on,a.jb[0]+Math.round(c*(b.jb[0]-a.jb[0])),a.jb[1]+Math.round(c*(b.jb[1]-a.jb[1])),a.jb[2]+Math.round(c*(b.jb[2]-a.jb[2])))}f.serialize=on.prototype.qa;f.toString=on.prototype.qa;function Jn(){}Jn=Backbone.View.extend({className:"colorPicker showColorCode"});f=Jn.prototype;f.initialize=function(a){this.tl=a.tl;this.Gg=!!a.Gg;this.Mb=(a.Mb||Jn.IR).clone();this.QA=this.QA.bind(this);this.SA=this.SA.bind(this);this.RA=this.RA.bind(this);this.TA=this.TA.bind(this)};f.events=function(){return{"mousedown .colorPickerSpectrum":this.K5,"mousedown .colorPickerValue":this.L5,"keydown .colorPickerHexCode":this.A5,"input .colorPickerHexCode":this.r5,"change .colorPickerApplyAllCheckbox":this.b4}};
f.Ep=function(){return this.Mb.clone()};f.YB=function(a){a.equals(this.Mb)||(this.Mb=a.clone(),Kn(this),Ln(this),Mn(this),this.trigger("preview",this.Ep()))};function Nn(a,b){a.$(".colorPickerApplyAllCheckbox").prop("checked",b)}f.render=function(){this.$el.addClass("on");this.$el.toggleClass("showApplyAll",this.Gg);this.$el.html(On({MD:this.tl.format("colorPickerColorCode"),Gg:this.Gg,pD:this.tl.Po()}).toString());Kn(this);Ln(this);Mn(this);return this};
f.remove=function(){var a=this;this.$el.removeClass("on");this.$el.one("animationend",function(){$(document).off("mousemove",a.QA);$(document).off("mouseup",a.SA);$(document).off("mousemove",a.RA);$(document).off("mouseup",a.TA);Backbone.View.prototype.remove.call(a)});return this};
function Kn(a){var b=Pn(a.Mb.Ui[0]),c=(Jn.YR-Jn.Rx)*a.Mb.SU()/100,d=c*Math.cos(b),b=c*Math.sin(b);a.$(".colorPickerSpectrum \x3e .marker").css("transform","translate("+d+"px, "+b+"px)");a.$(".colorPickerValue").css("background-color",Bn(a.Mb).qa())}function Ln(a){var b=a.Mb.oc(),b=(Jn.cS-2*Jn.Rx)*(100-b)/100;a.$(".colorPickerValue \x3e .marker").css("transform","translateX("+b+"px)")}function Mn(a){var b=a.$(".colorPickerHexCode");b.blur();b.val(a.Mb.qa().slice(1))}
function Qn(a,b){var c=b.clientX,d=b.clientY;b=a.$(".colorPickerSpectrum").get(0).getBoundingClientRect();var e=b.left+b.width/2,g=b.top+b.height/2;b=Rn(e,g,c,d);c=100*Math.min(Sn(e,g,c,d)/(Jn.YR-Jn.Rx),1);d=a.Mb.oc();pn(a.Mb,b,c,d);Kn(a);Mn(a);a.trigger("preview",a.Ep())}function Tn(a,b){b=b.clientX;var c=a.$(".colorPickerValue").get(0).getBoundingClientRect();a.Mb.nk(100-100*Math.max(0,Math.min((b-c.left-Jn.Rx)/(Jn.cS-2*Jn.Rx),1)));Ln(a);Mn(a);a.trigger("preview",a.Ep())}
f.K5=function(a){0===a.button&&(a.preventDefault(),Qn(this,a),this.undelegateEvents(),this.$(".colorPickerSpectrum").addClass("mousedown"),$(document).on("mousemove",this.QA),$(document).on("mouseup",this.SA))};f.QA=function(a){Qn(this,a)};f.SA=function(a){$(document).off("mousemove",this.QA);$(document).off("mouseup",this.SA);this.$(".colorPickerSpectrum").removeClass("mousedown");this.delegateEvents();Qn(this,a)};
f.L5=function(a){0===a.button&&(a.preventDefault(),Tn(this,a),this.undelegateEvents(),this.$(".colorPickerValue").addClass("mousedown"),$(document).on("mousemove",this.RA),$(document).on("mouseup",this.TA))};f.RA=function(a){Tn(this,a)};f.TA=function(a){$(document).off("mousemove",this.RA);$(document).off("mouseup",this.TA);this.$(".colorPickerValue").removeClass("mousedown");this.delegateEvents();Tn(this,a)};f.A5=function(a){if(13===a.which||27===a.which)a.preventDefault(),this.trigger("confirm")};
f.r5=function(){var a=this.$(".colorPickerHexCode"),b=a.val(),c=b.replace(/\W+/g,"").replace(/[^0-9a-f]/gi,""),b=b.length-c.length,c=c.slice(0,6),d=uh(c);this.Mb=d?d:Jn.IR.clone();b=a[0].selectionStart-b;a.val(c);a[0].setSelectionRange(b,b);Kn(this);Ln(this);this.trigger("preview",this.Ep())};f.b4=function(){var a=this.$(".colorPickerApplyAllCheckbox").prop("checked");this.trigger("applyAll",a)};Jn.IR=qn(new on,255,255,255);Jn.YR=100;Jn.Rx=10;Jn.cS=200;function On(a){soy.asserts.assertType(goog.isString(a.MD)||a.MD instanceof goog.soy.data.SanitizedContent,"colorCodeLabel",a.MD,"string|goog.soy.data.SanitizedContent");var b=a.MD;soy.asserts.assertType(goog.isBoolean(a.Gg)||1===a.Gg||0===a.Gg,"showApplyAll",a.Gg,"boolean");var c=!!a.Gg;soy.asserts.assertType(goog.isString(a.pD)||a.pD instanceof goog.soy.data.SanitizedContent,"applyAllLabel",a.pD,"string|goog.soy.data.SanitizedContent");a=a.pD;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"colorPickerSpectrum"\x3e\x3cdiv class\x3d"marker"\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"colorPickerValue"\x3e\x3cdiv class\x3d"marker"\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"colorPickerColorCode"\x3e'+
soy.$$escapeHtml(b)+' #\x3cinput class\x3d"colorPickerHexCode" spellcheck\x3d"false"\x3e\x3c/div\x3e'+(c?'\x3cdiv class\x3d"colorPickerApplyAll"\x3e\x3clabel class\x3d"colorPickerApplyAllLabel"\x3e\x3cinput type\x3d"checkbox" class\x3d"colorPickerApplyAllCheckbox" /\x3e'+soy.$$escapeHtml(a)+"\x3c/label\x3e\x3c/div\x3e":""))};function Un(a){var b=goog.asserts.assertArray(a.bd,"expected parameter 'colors' of type list\x3c[hexString: string]\x3e.");soy.asserts.assertType(null==a.label||a.label instanceof goog.soy.data.SanitizedContent||goog.isString(a.label),"label",a.label,"null|string|undefined");var c=a.label;soy.asserts.assertType(null==a.Ox||goog.isBoolean(a.Ox)||1===a.Ox||0===a.Ox,"workingPalette",a.Ox,"boolean|null|undefined");a=a.Ox;var d='\x3cdiv class\x3d"'+(a?"workingPalette":"pinnedPalette")+'"\x3e'+(c?'\x3ch3 class\x3d"colorPaletteLabel"\x3e'+
soy.$$escapeHtml(c)+"\x3c/h3\x3e":"")+'\x3cmenu class\x3d"colorPaletteGroup"\x3e'+(a?'\x3cli class\x3d"colorPaletteAdd"\x3e\x3c/li\x3e':""),c=b.length;for(a=0;a<c;a++){var e,g=b[a];e=(e=void 0,{});soy.asserts.assertType(goog.isString(g.wg)||g.wg instanceof goog.soy.data.SanitizedContent,"hexString",g.wg,"string|goog.soy.data.SanitizedContent");g=g.wg;e=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cli class\x3d"colorPaletteEntry" data-color\x3d"#'+soy.$$escapeHtmlAttribute(g)+'" title\x3d"#'+soy.$$escapeHtmlAttribute(g)+
'" style\x3d"'+(e.Vb?"/*"+e.Vb+"*/":"")+"color: #"+soy.$$escapeHtmlAttribute(soy.$$filterCssValue(g))+';" \x3e\x3c/li\x3e');d+=e}return soydata.VERY_UNSAFE.ordainSanitizedHtml(d+"\x3c/menu\x3e\x3c/div\x3e")}
function Vn(a){soy.asserts.assertType(goog.isString(a.label)||a.label instanceof goog.soy.data.SanitizedContent,"label",a.label,"string|goog.soy.data.SanitizedContent");var b=a.label;soy.asserts.assertType(null==a.title||a.title instanceof goog.soy.data.SanitizedContent||goog.isString(a.title),"title",a.title,"null|string|undefined");var c=a.title;soy.asserts.assertType(goog.isString(a.url)||a.url instanceof goog.soy.data.SanitizedContent,"url",a.url,"string|goog.soy.data.SanitizedContent");return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3ca class\x3d"colorPaletteCta" href\x3d"'+
soy.$$escapeHtmlAttribute(soy.$$filterNormalizeUri(a.url))+'" '+(c?'title\x3d"'+soy.$$escapeHtmlAttribute(c)+'"':"")+' target\x3d"_blank"\x3e+ '+soy.$$escapeHtml(b)+"\x3c/a\x3e")}
function Wn(a){var b;b=b||{};soy.asserts.assertType(goog.isString(a.Po)||a.Po instanceof goog.soy.data.SanitizedContent,"applyToAll",a.Po,"string|goog.soy.data.SanitizedContent");var c=a.Po;soy.asserts.assertType(null==a.gy||a.gy instanceof goog.soy.data.SanitizedContent||goog.isString(a.gy),"applyToAllColor",a.gy,"null|string|undefined");var d=a.gy;soy.asserts.assertType(null==a.hy||a.hy instanceof goog.soy.data.SanitizedContent||goog.isString(a.hy),"applyToAllResult",a.hy,"null|string|undefined");
a=a.hy;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"colorPaletteApplyAll"\x3e\x3clabel class\x3d"colorPaletteApplyAllLabel"\x3e\x3cinput type\x3d"checkbox" class\x3d"colorPaletteApplyAllCheckbox"\x3e'+soy.$$escapeHtml(c)+(d?'\x3cspan class\x3d"colorPaletteApplyAllColor" style\x3d"'+(b.Vb?"/*"+b.Vb+"*/":"")+"background: "+soy.$$escapeHtmlAttribute(soy.$$filterCssValue(d))+'"\x3e\x3c/span\x3e\x3cspan class\x3d"colorPaletteApplyAllArrow"\x3e\x26#9654;\x3c/span\x3e\x3cspan class\x3d"colorPaletteApplyAllResult" style\x3d"'+
(b.Vb?"/*"+b.Vb+"*/":"")+"background: "+soy.$$escapeHtmlAttribute(soy.$$filterCssValue(a))+'"\x3e\x3c/span\x3e':"")+"\x3c/label\x3e\x3c/div\x3e")};function Xn(){}Xn=Backbone.View.extend({className:"colorPalette"});f=Xn.prototype;f.initialize=function(a){this.tl=a.tl;this.xi=!1;this.Gi=a.Gi;this.yy=a.yy;this.Fl=a.Fl;this.du=Yn({iX:a.du,nW:a.W.H.get(dg),mW:a.W.H.get(eg)});this.Cy=(this.Mb=a.Mb)&&this.Mb.clone();this.LO=!1;this.Ne=null;this.KB=a.KB;this.mD=!!a.mD;this.Gg=!!a.Gg;this.ey=a.ey;this.dV=!1;this.Nl=null;this.j=a.j;this.W=a.W;(this.window=a.window||null)&&$(this.window).on("resize.colorPaletteView",_.throttle(this.gC.bind(this),50))};
f.events=function(){return{"click .colorPaletteAdd":this.N4,"click .colorPaletteEntry":this.o4,"click .colorPaletteCta":this.n4,"change .colorPaletteApplyAllCheckbox":this.c4,mousedown:this.J5,"mousedown .colorPaletteEntry":this.I5}};function Yn(a){var b=-1===a.nW?a.iX:a.iX.slice(0,a.nW);return-1===a.mW?b:b.map(function(b){return new Zn({bd:b.ug().slice(0,a.mW),name:b.getName()})})}
function $n(a){function b(a){return new ao({name:null,wg:a})}return[new Zn({name:a.Gi.format("colorPaletteDefaultColors"),bd:"ff5c5c ffbd4a fff952 99e265 35b729 44d9e6 2eb2ff 5271ff b760e6 ff63b1".split(" ").map(b)}),new Zn({name:"",bd:["000000","666666","a8a8a8","d9d9d9","ffffff"].map(b)})]}
f.render=function(){var a={},b=$("\x3cdiv\x3e").appendTo(this.$el);this.$el.addClass("on");for(var c=[].concat(na(this.du),na($n(this))).filter(function(a){return 0<a.ug().length}),c=ma(c),d=c.next();!d.done;d=c.next()){d=d.value;b.append(Un({bd:d.ug().map(function(a){return{wg:a.wg}}),label:d.getName()}).toString());for(var d=ma(d.ug()),e=d.next();!e.done;e=d.next())a["#"+e.value.wg]=!0}this.mD&&this.W.H.get(qg)&&b.prepend(Vn({label:this.Gi.format("colorPaletteAddPaletteCta"),url:"/brand"}).toString());
c=bo(this.Fl.Ri()).filter(function(b){return a[b]?!1:a[b]=!0});b.prepend(Un({Ox:!0,bd:c.map(function(a){return{wg:a.replace("#","")}}),label:this.Gi.format("colorPaletteDocumentColors")}).toString());this.KB&&(this.$el.addClass("colorPaletteScrollable"),b.addClass("disableAncestorScroll"),this.Nl=new co(b),this.Nl.render());this.listenTo(this.Fl,"paletteEntry:add",this.W3);this.listenTo(this.Fl,"paletteEntry:remove",this.a6);this.listenTo(this.Fl,"paletteEntry:sync",this.gC);return this};
f.appendTo=function(a){this.render().$el.appendTo(a);this.gC()};f.gC=function(){if(this.$el.width()){var a=Math.floor(this.$el.width()/40);this.$el.find(".colorPaletteGroup").each(function(b,c){c=$(c);b=$(c).find("li");for(var d=[];0<b.length;)d.push(b.splice(0,a));c.children().detach();d.forEach(function(a){var b=$("\x3cdiv\x3e").addClass("colorPalette__row");a.forEach(function(a){b.append(a)});b.appendTo(c)});d.length&&d[d.length-1].length<a&&c.find(".colorPalette__row:nth-last-child(2)").addClass("colorPalette__row--roundSecondLast")})}};
f.Ep=function(){return this.Mb&&this.Mb.clone()};f.YB=function(a){null===a&&null!==this.Mb?(this.Mb=null,this.trigger("preview",a,this.xi)):a.equals(this.Mb)||(this.Mb=a.clone(),this.trigger("preview",a,this.xi),this.Gg&&(this.dV||(this.dV=!0,this.$el.append(Wn({Po:this.Gi.Po(),gy:this.ey?this.ey.qa():null,hy:this.Mb?this.Mb.qa():null}).toString())),this.$(".colorPaletteApplyAllResult").css("background",a.qa())));a&&this.Ne&&(this.Ne.YB(a),this.$(".colorPaletteAdd").css("color",a.qa()));return this};
f.confirm=function(){(null===this.Mb&&null!==this.Cy||this.Mb&&!this.Mb.equals(this.Cy))&&eo(this);return this};function fo(a){a.Ne&&(a.Ne.remove(),a.Ne=null,a.trigger("hideColorPicker"));a.LO&&(go(a),a.LO=!1);a.$(".colorPaletteAdd").css("color","transparent")}
f.remove=function(){fo(this);this.Nl&&(this.Nl.remove(),this.Nl=null);this.$el.hasClass("on")&&(this.$el.removeClass("on"),this.$el.one("animationend",Backbone.View.prototype.remove.bind(this)),this.Cy&&ho(this,this.Cy)&&this.j.track("brand_color_used"));this.window&&$(this.window).off("resize.colorPaletteView");return this};function eo(a){a.Cy=a.Ep();a.trigger("confirm",a.xi)}
function go(a){if(a.Mb){var b=a.Mb.qa();a.$(".colorPaletteEntry").toArray().some(function(a){return $(a).data("color")===b})||(io(a.Fl,a.Mb),eo(a))}}f.o4=function(a){a.preventDefault();a=$(a.currentTarget).data("color");if(a=uh(a))this.YB(a),this.Ne||this.confirm()};
f.N4=function(a){a.preventDefault();this.Ne?fo(this):(this.Ne||(this.Ne=new Jn({tl:this.tl,Mb:this.Mb,Gg:!1}),this.listenTo(this.Ne,"preview",this.Y5),this.listenTo(this.Ne,"confirm",this.P4),this.listenTo(this.Ne,"applyAll",this.X3),this.Ne.render(),this.yy.am(this.Ne.$el,this.$(".colorPaletteAdd")),this.trigger("showColorPicker")),Nn(this.Ne,this.xi))};f.c4=function(a){a=!0===$(a.target).prop("checked");this.xi!==a&&(this.xi=a,this.trigger("changeApplyAll",this.xi),this.Ne&&Nn(this.Ne,this.xi))};
f.n4=function(){Tl(this.j,"add_another_palette","editor","toolbar","color_palette")};f.J5=function(a){0===a.button&&(0<$(a.target).closest(".colorPaletteAdd, .colorPaletteEntry").length?a.preventDefault():fo(this))};
f.I5=function(a){if(0===a.button&&(a.preventDefault(),!$(a.currentTarget).parents(".pinnedPalette").length)){var b=$(a.currentTarget).data("color"),c=(new jo({target:a.currentTarget})).eJ(a.clientX,a.clientY);this.listenTo(c,"end",function(a){var e=uh(b);!e||this.$el.is(a)||this.$el.get(0).contains(a)||(ko(this.Fl,e),eo(this));this.stopListening(c)})}};
f.W3=function(a){if(!ho(this,a)&&!lo(this,a)){a=a.qa();var b=$("\x3cli\x3e");b.addClass("colorPaletteEntry");b.data("color",a);b.attr("data-color",a);b.css("color",a);b.insertAfter(this.$(".colorPaletteAdd"))}};function ho(a,b){var c=b.qa().substr(1);return a.du.some(function(a){return a.bd.some(function(a){return a.wg===c})})}function lo(a,b){var c=b.qa().substr(1);return $n(a).some(function(a){return a.bd.some(function(a){return a.wg===c})})}
f.a6=function(a){var b=a.qa();this.$(".workingPalette .colorPaletteEntry").filter(function(){return $(this).data("color")===b}).remove()};f.Y5=function(a){this.Ne&&(this.LO=!0,this.YB(a))};f.P4=function(){fo(this);this.confirm()};f.X3=function(a){this.xi!==a&&(this.xi=a,this.trigger("changeApplyAll",this.xi),this.$(".colorPaletteApplyAllCheckbox").prop("checked",this.xi))};function jo(a){this.target=a.target;this.Dm=null;this.yE={x:0,y:0};this.AE=void 0!==a.AE?a.AE:5;this.VT=!1;this.sC=null;this.yW=this.J2.bind(this);this.zW=this.K2.bind(this)}f=jo.prototype;f.trigger=Backbone.Events.trigger;f.on=Backbone.Events.on;f.off=Backbone.Events.off;f.listenTo=Backbone.Events.listenTo;f.eJ=function(a,b){this.yE.x=a;this.yE.y=b;this.Dm=this.target.cloneNode(!0);document.addEventListener("mousemove",this.yW);document.addEventListener("mouseup",this.zW);return this};
f.release=function(a){document.removeEventListener("mousemove",this.yW);document.removeEventListener("mouseup",this.zW);$(this.target).removeClass("fauxDraggerTarget");this.Dm&&this.Dm.parentNode&&this.Dm.parentNode.removeChild(this.Dm);this.Dm=null;this.trigger("end",a);this.off()};f.J2=function(a){var b=a.pageX-this.yE.x;a=a.pageY-this.yE.y;this.VT?$(this.Dm).css("top",this.sC.top+a+"px").css("left",this.sC.left+b+"px"):(Math.abs(b)>this.AE||Math.abs(a)>this.AE)&&this.OK()};
f.K2=function(a){a.preventDefault();a.target instanceof Element&&this.release(a.target)};f.OK=function(){this.sC=this.target.getBoundingClientRect();$(this.Dm).css("top",this.sC.top+"px").css("left",this.sC.left+"px").addClass("fauxDraggerClone");$(this.target).addClass("fauxDraggerTarget");document.body.appendChild(this.Dm);this.trigger("start");this.VT=!0};function mo(a,b){this.item={uv:!1,elements:[],hw:null,timestamp:0,hm:null,jm:null};this.lC=a;this.$Y=(b||"anonymous")+"-copybuffer"}function no(a){var b=JSON.stringify({elements:a.item.elements.map(function(a){return a.serialize()}),timestamp:a.item.timestamp,activeFilterable:a.item.hm,activeText:a.item.jm});try{a.lC.setItem(a.$Y,b)}catch(c){}}
function oo(a){var b;return a.lC&&(b=a.lC.getItem(a.$Y))&&(b=JSON.parse(b),b.timestamp>a.item.timestamp)?{elements:(b.elements||[]).map(function(a){return Hg(a)}),hw:null,timestamp:b.timestamp,hm:b.activeFilterable,jm:b.activeText}:null}
function po(a,b){a.item.timestamp=Date.now();a.item.uv=!0;a.item.elements=[b];a.item.hm=null;b.Kp()&&-1!==b.xz()&&(a.item.hm={elementIndex:0,filterableIndex:b.xz()});a.item.jm=null;b.fe()&&-1!==b.ub()&&(a.item.jm={elementIndex:0,textIndex:b.ub()});a.item.hw=null;a.lC&&no(a)}function qo(a,b){var c=bc;c.item.timestamp=Date.now();c.item.uv=!1;c.item.elements=a;c.item.hw=b?b:null;c.lC&&no(c)}
function ro(){var a=bc,b=oo(a);return b?b:{uv:a.item.uv,elements:a.item.elements,hw:a.item.hw,timestamp:a.item.timestamp,hm:a.item.hm,jm:a.item.jm}};function so(a,b){this.G=a;this.lZ=b||null;this.zI=this.iH=null}so.prototype.read=function(a){this.iH||(to++,uo.splice(to,0,this));this.iH=a;if(vo==wo||vo==xo)this.G.requestAnimationFrame(yo),vo=zo;return this};so.prototype.write=function(a){this.zI||(Ao++,Bo.splice(Ao,0,this));this.zI=a;vo==wo&&(this.G.requestAnimationFrame(yo),vo=zo);return this};function gh(a){return new so(ol,a)}var wo=0,zo=1,xo=3,vo=wo,uo=[],Bo=[],to=0,Ao=0;
function yo(){var a,b;vo=2;Ao=-1;for(a=0;a<uo.length;a++){to=a;b=uo[a];var c=b.iH;b.iH=null;c&&c.call(b.lZ,b)}uo.length=0;to=-1;vo=xo;for(a=0;a<Bo.length;a++)Ao=a,b=Bo[a],c=b.zI,b.zI=null,c&&c.call(b.lZ,b);Bo.length=0;Ao=-1;vo!=zo&&(vo=wo)};function Co(){this.N=Hb;this.url="/designschool"};function Do(){}function Eo(a){return Object.freeze(Hf(Do,a))};var Fo=new Jf("fg",!1);function Go(a){this.sa=a.sa;this.H=a.H}function Ho(a){var b=["featureOnboardingManager",a.Mk.u()].join("."),c=null;try{c=Io(b)}catch(d){}return new Go({H:a.H,sa:c})}function Jo(a){return a.sa&&a.H.get(Fo)}function Ko(a){return Jo(a)&&!!Lo(a.sa,Mo)}var Mo="magicResize";function No(a){this.j=a.j;this.W=a.W;this.bK=a.bK;this.sg=a.sg;this.sa=a.sa;this.nQ=!1}function Oo(a,b){if(a.nQ?0:b===Po?!Qo(a):1){var c=a.bK(),d=c.YG;c.on("signup",function(){$(window).off("beforeunload");var c=b===Ro,g=Jo(a.sg);c&&g?(c=a.sg,Jo(c)&&So(c.sa,Mo),c=a.sg,Jo(c)&&So(c.sa,"onboardingPending"),window.location.reload()):window.location=d});c.on("hide",function(){a.nQ=!1});c.show(b);a.nQ=!0;b===Po&&To(a)}}function Qo(a){var b=Uo;return a.sa?!!Lo(a.sa,b):!0}
function To(a){var b=Uo;a.sa&&So(a.sa,b)}function Vo(a){a=[Wo,a.u()].join(".");var b=null;try{b=Io(a)}catch(c){}return b}var Wo="EditorCtaHandler",Uo="ExclusiveMediaUpgradeDialogShown";function Xo(a,b){this.action=a;this.param=b}var Yo={G$:"tab",F_:"search",s$:"folder"};function Zo(){var a=window.location.hash;if(!a)return null;a=a.slice(1).split("\x3d");if(2!==a.length)return null;var b;b=a[0];var c=_.values(Yo);b=b&&-1<c.indexOf(b)?b:null;if(!b)return null;var d;try{d=decodeURIComponent(a[1])}catch(e){d=a[1]}a=d;c=_.values(ec);return"tab"===b&&-1===c.indexOf(a)||!/^[\w ]+$/.test(d)?null:new Xo(b,d||null)};function $o(a){this.bd=ap(a);this.ND=null}function ap(a){if(a){var b={};return a.filter(function(a){a=a.qa();return b[a]?!1:b[a]=!0})}return[]}function bp(a,b){return 0<=bo(a).indexOf(b.qa())}$o.prototype.se=function(){this.ND=null};function cp(a,b){xn(b)&&!bp(a,b)&&(a.bd.push(b),a.se())}function dp(a,b){xn(b)&&bp(a,b)&&(a.bd=a.bd.filter(function(a){return!a.equals(b)}),a.se())}$o.prototype.unshift=function(a){xn(a)&&!bp(this,a)&&(this.bd.unshift(a),this.se())};
function ep(){var a=new $o;a.bd=[];a.se();return a}$o.prototype.ug=function(){return this.bd};function bo(a){a.ND||(a.ND=a.bd.map(function(a){return a.qa()}));return a.ND}$o.prototype.serialize=function(){this.se();return this.bd.map(function(a){return a.serialize()})};function fp(a){function b(a){var b=m+Rn(h,k,void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX,void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY)-n;$("#overlays .rotation.align").addClass("on");var c=b%45;0>c&&(c+=45);var d=b>l.Qa(),e=d&&42<c,d=!d&&3>c,g=3>c||42<c;if(a.shiftKey)r=!1,$("#overlays .rotationGuide").removeClass("willSnap"),g||(p=!1);else{g?$("#overlays .rotationGuide").addClass("willSnap"):(r=!1,$("#overlays .rotationGuide").removeClass("willSnap"));if(r)return!1;
e?(b=b+45-c,r=!0):d&&($("#overlays .rotationGuide").addClass("willSnap"),b-=c,r=!0)}a=b;$("#overlays .rotationGuide").css("transform",gp({Dw:a}));c=a=b;0>c&&(c=360+c);v.html(Math.round(c)+"\x26deg;").css("transform",gp({Dw:360-a}));l.Sl(b);l instanceof hp&&ip(l);return!1}function c(){l.jg=!1;z.off("mousemove|touchmove",b).off("mouseup|touchend",c);d.removeClass("on");l.Sj&&l.Sj();$(".cornerHandles .rotate").empty();$("#overlays .align").removeClass("on");$("#overlays .rotationGuide").removeClass("willSnap");
$(document).off("keydown",q);$(document).off("keydown",u);if(m!=l.Qa()){var a={elementIndex:l.K(),pageIndex:jp(I,l.R()),"new":{rotation:l.Qa()},old:{rotation:m}};L.register(new Y(kp,a))}}T.trigger("hideContextualControlsRequested");lp();var d=$(this),e=$(this).parents(".selectionBox").data("element");if(e){var g=e.offset(),h=g.left+e.width()/2,k=g.top+e.height()/2,l=e.data("canvaElement");if(l){var m=l.Qa(),n=Rn(h,k,void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX,void 0!==a.clientY?
a.clientY:a.originalEvent.touches[0].clientY),p=!1,q=function(a){a.shiftKey&&$("#overlays .rotationGuide").hasClass("willSnap")&&(p=!0,$("#overlays .rotationGuide").removeClass("willSnap"))},u=function(){p&&(p=!1,$("#overlays .rotationGuide").addClass("willSnap"))},v=$('\x3cspan class\x3d"degrees"\x3e\x3c/span\x3e');$(".cornerHandles .rotate").append(v);d.addClass("on");$(document).on("keydown",q);$(document).on("keyup",u);var z=new mp($(document));l.jg=!0;z.on("mousemove|touchmove",b).on("mouseup|touchend",
c);a=np(l);var r=!1,e=$("#overlays").get(0).getBoundingClientRect();$("#overlays .rotation.align").first().css("left",a.x-e.left+"px").css("top",a.y-e.top+"px");$("#overlays .rotationGuide").first().css("left",a.x-e.left+"px").css("top",a.y-e.top+"px").css("margin-top",-1*op(l)/2+"px").css("height",op(l)+"px");return!1}}};function pp(a,b){this.jJ=a;this.namespace=void 0===b?null:b}function Io(a){if(window.localStorage)return new pp(window.localStorage,a);throw Error("ClientStore: localStorage is not defined on window, likely an unsupported browser");}pp.prototype.setItem=function(a,b){try{return this.jJ.setItem(null==this.namespace?a:this.namespace+"."+a,b),!0}catch(c){return!1}};pp.prototype.getItem=function(a){return this.jJ.getItem(null==this.namespace?a:this.namespace+"."+a)};
function Lo(a,b){try{var c=a.getItem(b);return null!==c?JSON.parse(c):null}catch(d){return null}}function So(a,b){try{var c=JSON.stringify(!0);a.setItem(b,c)}catch(d){}}pp.prototype.removeItem=function(a){this.jJ.removeItem(null==this.namespace?a:this.namespace+"."+a)};function qp(a){this.type=a.type;this.sa=a.sa;this.G=a.G;this.i=a.i}
qp.prototype.show=function(){var a=this,b=rp,c;a:switch(this.type){case sp:c={Ly:"upgraderWelcomeDialog--freeMedia",wc:"https://static.canva.com/static/images/free_media_dialog_header.png",title:this.i.format("upgraderWelcomeDialogFreeMediaTitle",3E5),my:this.i.Oa("upgraderWelcomeDialogFreeMediaBodyHtml"),button:this.i.format("upgraderWelcomeDialogFreeMediaButton")};break a;default:throw Error("Could not get model for unknown UpgraderWelcomeDialog.Type: "+this.type);}b=new b({content:tp(c).$el,$e:this.type!==sp,G:this.G});
b.$el.addClass("upgraderWelcomeDialog");return up(b).tap(function(){So(a.sa,""+a.type)})};function vp(a){a.G.setTimeout(function(){return a.show()},1500)}var sp="FREE_MEDIA",wp=new Jf("ga",!1);function xp(a){this.$el=a}t(xp,fc);
function tp(a){var b=$,c;soy.asserts.assertType(a.my instanceof soydata.SanitizedHtml||a.my instanceof soydata.UnsanitizedText||goog.isString(a.my),"bodyHtml",a.my,"soydata.SanitizedHtml");c=a.my;soy.asserts.assertType(goog.isString(a.button)||a.button instanceof goog.soy.data.SanitizedContent,"button",a.button,"string|goog.soy.data.SanitizedContent");var d=a.button;soy.asserts.assertType(goog.isString(a.title)||a.title instanceof goog.soy.data.SanitizedContent,"title",a.title,"string|goog.soy.data.SanitizedContent");
var e=a.title;soy.asserts.assertType(goog.isString(a.wc)||a.wc instanceof goog.soy.data.SanitizedContent,"imageUrl",a.wc,"string|goog.soy.data.SanitizedContent");var g=a.wc;soy.asserts.assertType(null==a.Ly||a.Ly instanceof goog.soy.data.SanitizedContent||goog.isString(a.Ly),"cssClasses",a.Ly,"null|string|undefined");a=a.Ly;c=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cimg class\x3d"upgraderWelcomeDialog__headerImage" src\x3d"'+soy.$$escapeHtmlAttribute(soy.$$filterNormalizeMediaUri(g))+'"\x3e\x3csection class\x3d"upgraderWelcomeDialog__content'+
(a?" "+soy.$$escapeHtmlAttribute(a):"")+'"\x3e\x3cheader class\x3d"upgraderWelcomeDialog__header"\x3e\x3ch2\x3e'+soy.$$escapeHtml(e)+'\x3c/h2\x3e\x3c/header\x3e\x3cdiv class\x3d"upgraderWelcomeDialog__body"\x3e'+soy.$$escapeHtml(c)+'\x3c/div\x3e\x3cfooter class\x3d"upgraderWelcomeDialog__footer"\x3e\x3cbutton class\x3d"button done upgraderWelcomeDialog__button"\x3e\x3cdiv class\x3d"upgraderWelcomeDialog__buttonContent"\x3e'+yp({ya:"upgraderWelcomeDialog__buttonIcon",color:"#FFF"})+soy.$$escapeHtml(d)+
"\x3c/div\x3e\x3c/button\x3e\x3c/footer\x3e\x3c/section\x3e");b=b(c.toString());return new xp(b)};function zp(a){this.W=a.W;this.H=a.H;this.Tc=a.Tc;this.sg=a.sg;this.Ub=a.Ub;this.jp=a.jp;this.X=a.X;this.i=a.i;this.j=a.j;this.De=a.De;this.sa=a.sa;this.Mk=a.Mk;this.nu=a.nu;this.Ga=a.Ga;this.cb=a.cb;this.rb=a.rb;this.ea=a.ea}
zp.prototype.go=function(a,b,c,d,e,g){a=a&&a.content;b=new Ap(b);if(!a)throw Error("Malformed document. Missing content.");Bp(this,a,b,c,d,e,g);d=this.H.get(wp)?sp:null;var h;try{h=Io("upgraderWelcomeDialog."+this.Mk.u())}catch(k){h=null}d&&h&&!Ko(this.sg)&&!c.kh()&&(c=this.i,c.bR||(c.bR=new uf(c.config)),h=new qp({i:c.bR,G:ol,sa:h,type:d}),Lo(h.sa,""+h.type)||vp(h))};
function Bp(a,b,c,d,e,g,h){a.j.identify(a.Mk.u(),Jl(a.j,a.Mk).Ck());b={content:b,rc:c,d2:!(-1==th.indexOf(d.kh())&&!d.kh()),Tc:a.Tc,jp:a.jp,Ub:a.Ub,Ni:d,T_:g,z9:h,i:a.i,Ai:e,W:a.W,H:a.H,nu:a.nu,j:a.j,rb:a.rb,ea:a.ea,Ga:a.Ga,cb:a.cb,oU:function(){var b=["C4W_UPGRADED_USER","C4W_INVITED_EXISTING_USER"],c=d.kh(),e;if(I){if(-1!=th.indexOf(d.kh())){var g=a.i;g.bg||(g.bg=new rf(g.config));(new Cp(I,d,g.bg)).go()}g=new Dp(a.X,d,a.i,a.W);if(!c&&a.sa&&"1"==a.sa.getItem("onboardingPhase")){if(a.W.H.get(bg)){var h,
q;q=a.i;q.NK||(q.NK=new sf(q.config));q=q.NK;h=_.defaults({},h,{j:a.j,mg:"download_hint",De:a.De,tC:5,title:q.DO(),content:q.BO(),Qe:q.AO(),anchor:$("button.editorActionExport"),nD:"download",position:Ep});new Fp(h)}a.sa.setItem("onboardingPhase","2");h="first_design";a.W.H.get(vg)&&(h="appcues_first_design_1");a.j.identify(a.Mk.u(),Kl(new Ll,"onboarding",h).Ck())}"FREE_NEW_USER"===c?(g.go(),Gp(a),e="regular"):Hp()?(g.go(),Gp(a),new Fp({j:a.j,mg:"five_saves_view_designs",De:a.De,tC:5,title:gd(a.i).DO(),
content:$('\x3cp class\x3d"viewYourDesigns"\x3e\x3c/p\x3e').text(gd(a.i).BO()),Qe:gd(a.i).AO(),anchor:$("#editorLogo"),nD:"homepage"}),e="layouts"):-1<b.indexOf(c)&&(Ip({kh:c,Qy:a.W.Qy(),N7:0<=vh(d).indexOf("TEAM_TEMPLATE"),ne:ed(a.i)}).start(),e="c4w");e&&a.j.identify(a.Mk.u(),Kl(new Ll,"onboarding",e).Ck())}}};Jp(b)}function Gp(a){a.sa&&a.sa.setItem("onboardingPhase","1")};function Kp(a,b,c){var d=this;Date.now();this.rc=b;this.Rk=a.doctype?Lp(a.doctype):null;this.hZ=a.pages||[];this.ye=a.keywords||[];this.locale=a.locale||null;this.Yi=ep();this.fonts=[];this.Eu=ep();this.Gl=ep();new Map;a.palette&&a.palette.forEach(function(a){var b="!"===a.charAt(0);if(a=uh(b?a.slice(1):a))b?cp(this.Eu,a):(cp(this.Yi,a),cp(this.Gl,a))},this);0===this.Yi.ug().length&&(this.Yi=new $o,this.Gl=new $o,this.Eu.ug().forEach(function(a){dp(this.Yi,a);dp(this.Gl,a)},this));this.O=[];this.yi=
null;this.title=new Mp(c,a.title,this.hb().getName());this.title.on("change",this.O2.bind(this));this.mI={title:{},subtitle:{},body:{}};$.extend(this.mI,a.defaultFonts);this.rr={title:{fontSize:M.k_,fontFamily:M.j_},subtitle:{fontSize:M.h_,fontFamily:M.g_},body:{fontSize:M.Id,fontFamily:M.Hd}};$.extend(this.rr,a.canvaDefaultFonts);a=Np(this,a);a.pages?a.pages.forEach(function(a){d.O.push(new Op(d,a))}):this.O.push(new Op(this,this.Ag()));Pp(this,0);this.zM=!1}f=Kp.prototype;f.hb=function(){return this.rc};
f.Ag=function(){return this.rc.Ag()};f.trigger=Backbone.Events.trigger;f.listenTo=Backbone.Events.listenTo;f.stopListening=Backbone.Events.stopListening;f.on=Backbone.Events.on;f.once=Backbone.Events.once;f.off=Backbone.Events.off;_.extend(Kp.prototype,Backbone.Events);f=Kp.prototype;f.Ri=function(){return this.Gl};
function Qp(a){var b=[];I.ja().forEach(function(c){0<c.C().parents(".group.chart").length||(c.ds&&c.ds().forEach(function(d,e){d instanceof on&&a.equals(d)&&b.push({element:c,index:e,type:"TEXT"})}),c.Za&&c.Za().forEach(function(d,e){d instanceof on&&a.equals(d)&&b.push({element:c,index:e,type:"FILL"})}))});return b}
f.jH=function(){var a=this,b=this.Gl,c=ep();this.Yi.ug().forEach(function(a){cp(c,a)});this.O.forEach(function(b){b.Ri().ug().forEach(function(b){bp(a.Eu,b)||cp(c,b)})});for(var b=b.ug(),d=c.ug(),e=b.length-1,g=d.length-1;0<=e;)0>g||b[e].qa()!==d[g].qa()?this.trigger("paletteEntry:remove",b[e]):g--,e--;for(;0<=g;)this.trigger("paletteEntry:add",d[g]),g--;this.trigger("paletteEntry:sync");this.Gl=c};
f.tB=function(){var a=[];this.O.forEach(function(b){b.ja().forEach(function(b){(b instanceof Rp||b instanceof hp)&&b.Vu().forEach(function(b){-1==a.indexOf(b)&&a.push(b)})})});this.fonts=a};function io(a,b){if(xn(b)){var c=bo(a.Gl);0<c.length&&c[0]===b.qa()||(ko(a,b),dp(a.Eu,b),a.Yi.unshift(b),a.Gl.unshift(b),a.trigger("paletteEntry:add",b),a.trigger("paletteEntry:sync"))}}
function ko(a,b){xn(b)&&bp(a.Gl,b)&&(cp(a.Eu,b),dp(a.Yi,b),dp(a.Gl,b),a.trigger("paletteEntry:remove",b),a.trigger("paletteEntry:sync"))}function Sp(a){return bo(a.Yi).concat(a.Eu.ug().map(function(a){return"!"+a.qa()}))}
f.serialize=function(){var a;a=this.O.reduce(function(a,c){c.sh||a.push(c.serialize());return a},[]);a={canvaDefaultFonts:this.rr,defaultFonts:this.mI,layout:this.hb().u(),doctype:this.Rk?Tp(this.Rk):null,pages:a,palette:Sp(this),title:this.title.Zm()};this.ye&&0<this.ye.length&&(a.keywords=this.ye);return a};f.pb=function(){return this.title};f.il=function(){return this.ye};function Up(a,b){a.ye=b;""!==a.ye.join("")&&(a.trigger("change:keywords",a),a.trigger("change",a))}f.Vf=function(){return this.locale};
f.setLocale=function(a){var b=this.locale;this.locale=a;this.locale!==b&&(this.trigger("change:locale",this),this.trigger("change",this))};function Vp(a){return Zg(a.rc.nb).o()||(a.hZ[0]||{}).height||0}function Wp(a){return Zg(a.rc.nb).l()||(a.hZ[0]||{}).width||0}f.Gj=function(){return this.rc.nb.Gj()};f.Aa=function(){for(var a=0;a<this.O.length;a++)if(this.O[a].yf())return this.O[a];return this.O[0]};function Xp(a){var b=a.Aa();return jp(a,b)}f.Cb=function(){return this.O};f.gc=function(){return this.O.length};
function Yp(a){return a.O.filter(function(a){return!a.sh})}function Pp(a,b){b=Math.min(Math.max(0,b),a.O.length-1);b=a.O[b];var c=b.yf();b.mk(!0);var d=b.yf();c!==d&&a.trigger("page:change:selected",a,b)}function jp(a,b){return b?a.O.indexOf(b):-1}
function Zp(a){var b=new Op(a,a.Ag());if(0<a.O.length){var c=$p(a.O[a.O.length-1]);0<c.length&&(c=c[c.length-1].clone(),c.appendTo(b),c.kc()&&aq(c))}a.O.push(b);a.trigger("page:add",a,b);b.ja().forEach(function(a){b.trigger("element:add",b,a)});return b}
function bq(a,b,c,d){var e=a.O.indexOf(b),g=!0;!1===d&&(g=!1);cq(b,a);-1==e?(a.O.splice(c,0,b),a.trigger("page:add",a,b,c,g)):(a.O.splice(c,0,a.O.splice(e,1)[0]),a.trigger("page:move",a,b,e,c));-1==e&&b.ja().forEach(function(a){b.trigger("element:add",b,a)})}function dq(a,b){var c=Xp(a),d=a.O.indexOf(b);-1<d&&(a.O.splice(d,1),b.remove(),c>d&&c--,Pp(a,Math.max(0,Math.min(a.O.length-1,c))),a.trigger("page:remove",a,b,d))}
f.Ta=function(){var a=[],b=this.O.map(function(a){return a.Ta()});return a.concat.apply(a,b)};function eq(){return I.O.some(function(a){return 0<a.Ta().length})}f.ja=function(){var a=[],b=this.O.map(function(a){return a.ja()});return a.concat.apply(a,b)};function fq(a){a=a.ja();var b=a.filter(function(a){return a.Mj()});a.filter(function(a){return a.rv()}).forEach(function(a){a.Cz().forEach(function(a){b.push(a)})});return b}
function gq(a){var b={};fq(a).filter(function(a){return a.Kb()}).map(function(a){return a.Kb()}).forEach(function(a){hq(vb,a)&&(b[a.u()]=a)});return _.values(b)}function iq(a){return fq(a).some(function(a){return(a=a.Kb())&&!hq(vb,a)?!0:!1})}f.Wr=function(a){return $.extend(!0,{},this.rr[a],this.mI[a])};
function Np(a,b){b=$.extend(!0,{},b);(function(a){var b=[];(a.pages||[]).forEach(function(a){(a.elements||[]).forEach(function(a){"text"===a.type?b.push(a):"svg"===a.type&&a.contents&&a.contents.forEach(function(a){"text"===a.type&&b.push(a)})})});return b})(b).forEach(function(b){var d=Object.keys(dc).map(function(a){return dc[a]}),e=b.style;-1<d.indexOf(e)&&(d=a.Wr(e),void 0===b.fontFamily&&(b.fontFamily=d.fontFamily),void 0===b.fontSize&&(b.fontSize=d.fontSize))});return b}
function jq(a){function b(a,h){if(Array.isArray(h))h.forEach(function(e){d=d&&c(a,e);"object"==typeof e&&b(a,e)});else for(var k in h)if(h.hasOwnProperty(k)){var l=h[k];"invalid"===k&&l?(e="Invalid "+(h.type||a),d=!1):"childRange"!==k||kq(l)||(e="Invalid group childRange",d=!1);d=d&&c(k,l);"object"==typeof l&&b(k,l)}}function c(a,b){return"number"===typeof b&&isNaN(b)?(e="Invalid value NaN for "+a,!1):!0}var d=!0,e="";b("document",a);return{result:d,description:e}}
function kq(a){return!!(a&&2===a.length&&0<a[0]&&a[1]>=a[0])}f.isEmpty=function(){return 0<this.ja().length?this.ja().every(function(a){return a.sh}):!0};f.O2=function(){this.trigger("change:title",this);this.trigger("change",this)};f.resize=function(a,b){this.rc=a;this.Rk=b;this.O.forEach(function(b){b.resize(a)});this.trigger("resize");this.trigger("change")};f.SQ=function(a,b,c){this.rc=b;this.Rk=c;this.O.forEach(function(b,c){b.SQ(a.pages[c])});this.trigger("resize");this.trigger("change")};
function lq(){return I.O.some(function(a){return a.qv()})};function mq(){Error.captureStackTrace&&Error.captureStackTrace(this,mq)}mq.prototype=Object.create(Error.prototype);function nq(){mq.call(this)}nq.prototype=Object.create(mq.prototype);function oq(){mq.call(this)}oq.prototype=Object.create(mq.prototype);function pq(){mq.call(this)}pq.prototype=Object.create(mq.prototype);function qq(a,b,c){this.N=a;this.CK=b;this.q8=c;this.path="/documents"}function rq(a){var b=Hb,c;a:switch(c=Ib.CK(),c){case "NONE":c="NONE";break a;case "LOG":c="LOG";break a;case "THROW":c="THROW";break a;default:throw Error("unknown DocumentDeserializationMode: "+c);}return new qq(b,c,a)}f=qq.prototype;f.duplicate=function(a){return wj(this.N,this.path+"?duplicate\x3d"+encodeURIComponent(a.id),a).get(0).tap(sq(this,"CreateDocumentResponseProto (duplicate)",tq)).then(uq)};
f.delete=function(a){return wj(this.N,this.path+"/"+encodeURIComponent(a)+"?delete",null).return()};f.move=function(a,b,c){return wj(this.N,this.path+"/"+encodeURIComponent(a)+"?move",{owner:{user:b,brand:c}}).get(0).get("doc")};f.Os=function(a){return wj(this.N,this.path+"/"+encodeURIComponent(a)+"?publicify",null).return()};f.Gx=function(a){return wj(this.N,this.path+"/"+encodeURIComponent(a)+"?unpublicify",null).return()};
f.qJ=function(a){return wj(this.N,this.path+"/"+encodeURIComponent(a)+"?brandPublicify",null).return()};f.rJ=function(a){return wj(this.N,this.path+"/"+encodeURIComponent(a)+"?brandUnpublicify",null).return()};f.wC=function(a){return wj(this.N,this.path+"/"+encodeURIComponent(a)+"?templatify",null).return()};f.HC=function(a){return wj(this.N,this.path+"/"+encodeURIComponent(a)+"?untemplatify",null).return()};
f.getDocument=function(a){a=[this.path,null!=a.og?"/"+encodeURIComponent(a.og):"","?includePages\x3d"+encodeURIComponent(String(!!a.gA))].join("");return yj(this.N,a).get(0).tap(sq(this,"GetDocumentResponseProto",vq)).then(xq)};
function yq(a,b){b=[a.path+"?",null!=b.Z?"\x26continuation\x3d"+encodeURIComponent(b.Z):"",null!=b.ka?"\x26designType\x3d"+encodeURIComponent(b.ka):"",b.Or?"\x26excludeApiDocuments":"",b.lL?"\x26excludeEmpty":"",0<b.nl.length?"\x26ids\x3d"+encodeURIComponent(b.nl.join(",")):"",null!=b.limit?"\x26limit\x3d"+encodeURIComponent(b.limit.toString()):"",null!=b.mh?"\x26brand\x3d"+encodeURIComponent(b.mh.D):"",null!=b.mh&&null!=b.mh.user?"\x26user\x3d"+encodeURIComponent(b.mh.user):"",0<b.aH.length?"\x26principalRoles\x3d"+
encodeURIComponent(b.aH.join(",")):"",b.LX?"\x26public":"",0<b.zR.length?"\x26withoutTags\x3d"+encodeURIComponent(b.zR.join(",")):""].join("").replace("?\x26","?");return yj(a.N,b).get(0).tap(sq(a,"FindDocumentsResponseProto",zq)).then(function(a){return{documents:a.documents.map(Aq),continuation:a.continuation}})}function Bq(a,b){return yj(a.N,a.path+"/"+encodeURIComponent(b)+"/acl").get(0).tap(sq(a,"GetDocumentAclResponseProto",Cq)).then(Dq)}
function Eq(a,b){return wj(a.N,a.path+"/"+encodeURIComponent(b.document)+"/acl",b).get(0).tap(sq(a,"UpdateDocumentAclResponseProto",Fq)).then(Gq)}f.search=function(a){return yj(this.N,this.path+"/search?query\x3d"+encodeURIComponent(a.query)).get(0).tap(sq(this,"SearchDocumentsResponseProto",Hq)).then(Iq)};function Jq(a,b){return wj(a.N,a.path+"/"+encodeURIComponent(b.og)+"/imagesets?generate",b).then(Kq)}
function Lq(a){var b=xb;return yj(b.N,b.path+"/"+encodeURIComponent(a)+"/media").get(0).then(Mq)}function sq(a,b,c){return function(d){try{c(La(d))}catch(e){switch(a.CK){case "THROW":throw e;case "LOG":a.q8.log("Failed deserialization of "+b,{error:e})}}}};function Nq(){this.remix=this.edit=this.view=this["default"]=null}Nq.prototype.KU=function(){return this["default"]};Nq.prototype.ml=function(){return this.view};Nq.prototype.MU=function(){return this.edit};function Oq(a){var b=new Nq;a&&$.extend(b,a);return b}function Pq(a){this.width=a.width;this.height=a.height;this.url=a.url}function Qq(){}function uq(a){return Object.freeze(Hf(Qq,a))}Qq.prototype.getDocument=function(){return Aq(this.document)};Qq.prototype.getSession=function(){return this.session};
function Rq(){}function xq(a){return Object.freeze(Hf(Rq,a))}Rq.prototype.getDocument=function(){return Aq(this.document)};function Sq(){}function Dq(a){return Object.freeze(Hf(Sq,a))}Sq.prototype.Tf=function(){return Object.freeze(Hf(Tq,this.acl))};function Uq(){}function Vq(a){var b=new Uq;b.document=a;return b}function Xq(a,b){a.principalRoleChanges=b;return a}function Yq(a,b){a.defaultRoleChange=b;return a}function Zq(){}function Gq(a){return Object.freeze(Hf(Zq,a))}
Zq.prototype.Tf=function(){return Object.freeze(Hf(Tq,this.acl))};function $q(){}$q.prototype.o=function(){return this.height};$q.prototype.VL=function(){return this.images};$q.prototype.getVersion=function(){return this.version};$q.prototype.l=function(){return this.width};function ar(a){if(!a)return null;a=$.extend(new $q,a);if(a.images){var b;b=(b=a.images)?b.map(br):null;a.images=b}return a}function cr(){}cr.prototype.R=function(){return this.page};cr.prototype.ma=function(){return this.url};
cr.prototype.getKey=function(){return this.key};function br(a){return a?$.extend(new cr,a):null}function dr(){}dr.prototype.u=function(){return this.id};dr.prototype.getVersion=function(){return this.version};dr.prototype.VL=function(){return this.images};function er(a){a=Hf(dr,a);var b=a.images;if(b)for(var c in b)b[c]=fr(b[c]);return a}function Mq(a){return a.map(er)}function gr(){}function Iq(a){return Object.freeze(Hf(gr,a))}
gr.prototype.Jz=function(){return this.results?this.results.map(hr):[]};function ir(){}function hr(a){return Object.freeze(Hf(ir,a))}ir.prototype.pb=function(){return this.title};ir.prototype.u=function(){return this.id};ir.prototype.ee=function(){var a=this.thumbnail;return new Pq({width:A("width",a),height:A("height",a),url:B("url",a)})};function Tq(){}Tq.prototype.Kz=function(){return this.rules.map(jr)};function kr(){}kr.prototype.eb=function(){return this.type};
kr.prototype.Ej=function(){var a=this.eb();Fa("USER"==a||"BRAND"==a,"only USER or BRAND assignments have principals");return Object.freeze(Hf(lr,this.principal))};kr.prototype.Si=function(){return this.role};kr.prototype.Nd=function(){return this.origin?Object.freeze(Hf(mr,this.origin)):null};function jr(a){return Object.freeze(Hf(kr,a))}function lr(){}lr.prototype.fa=function(){return this.brand};lr.prototype.va=function(){return this.user};function mr(){}mr.prototype.eb=function(){return this.type};
mr.prototype.u=function(){return this.id};function nr(a){this.principal=a.mh;this.roleChange=a.o8;this.origin=a.origin}function or(a){this.op=a.XW;this.role=a.cj}function pr(a,b,c){return new nr({mh:{user:a,brand:b},o8:{op:"SET",role:c.toString()},origin:{type:"MANUAL"}})}function qr(){}f=qr.prototype;f.Uu=function(){return this.extensions};f.u=function(){return this.id};f.we=function(){return this.draft};f.Hp=function(){return this.tags};
function rr(a,b){if((a=a.draft)&&a.imageSets&&a.imageSets.thumbnail){a=a.imageSets.thumbnail.images;for(var c=0;c<a.length;c++)if(a[c].page==b+1)return a[c].url}return null}f.pb=function(){try{return this.draft.content.title.trim()||null}catch(a){return null}};f.getVersion=function(){var a=this.draft;return a?a.version:-1};
function Gk(a,b){switch(b){case "NONE":return"NONE";case "EDITOR":return"EDITOR";case "OWNER":return"OWNER";case "REMIXER":return"REMIXER";case "VIEWER":return"VIEWER";default:throw Error('unexpected accessRole type for property "'+a+'": '+b);}}var sr={NONE:0,VIEWER:1,REMIXER:2,EDITOR:3,OWNER:4};function Aq(a){var b=new qr;$.extend(b,a);b.extensions=Oq(a.extensions);return b};function tr(a,b){switch(b){case "MINIMIZE_HEIGHT":return"MINIMIZE_HEIGHT";case "MAXIMIZE_FONT_SIZE":return"MAXIMIZE_FONT_SIZE";default:throw new TypeError('expected ReflowMode for property "'+a+'", found: '+JSON.stringify(b));}}function ur(a,b){switch(b){case "rows":return"COLUMN";case "columns":return"ROW";case "item":return"ITEM";default:throw new TypeError('expected GridStructureType for property "'+a+'", found: '+JSON.stringify(b));}}
function vr(a,b){switch(b){case "NON_ZERO":return"NON_ZERO";case "EVEN_ODD":return"EVEN_ODD";default:throw new TypeError('expected ShapeElementPathFillRule for property "'+a+'", found: '+JSON.stringify(b));}}function wr(a,b){switch(b){case "CHART":return"CHART";default:throw new TypeError('expected GroupGeneratorType for property "'+a+'", found: '+JSON.stringify(b));}}
function xr(a,b){switch(b){case "BAR":return"BAR";case "PIE":return"PIE";case "LINE":return"LINE";case "DONUT":return"DONUT";default:throw new TypeError('expected ChartType for property "'+a+'", found: '+JSON.stringify(b));}}function yr(a,b){switch(b){case "INTERPOLATE":return"INTERPOLATE";case "PALETTE":return"PALETTE";default:throw new TypeError('expected ColoringType for property "'+a+'", found: '+JSON.stringify(b));}}
function zr(a,b){switch(b){case "RGB":return"RGB";case "HSV":return"HSV";case "HSL":return"HSL";case "LAB":return"LAB";case "HCL":return"HCL";default:throw new TypeError('expected ColorSpace for property "'+a+'", found: '+JSON.stringify(b));}}function Ar(a,b){switch(b){case "CANVA":return"CANVA";case "FACEBOOK":return"FACEBOOK";case "LAYOUT":return"LAYOUT";case "DOCUMENT":return"DOCUMENT";default:throw new TypeError('expected ElementOriginType for property "'+a+'", found: '+JSON.stringify(b));}}
function Br(a){this.fontFamily=a.fontFamily;this.fontSize=a.fontSize;this.bold=a.bold;this.italic=a.italic;this.Pj=a.Pj;this.letterSpacing=a.letterSpacing;this.lineHeight=a.lineHeight;this.color=a.color}f=Br.prototype;f.Qc=function(){return this.fontSize};f.Bz=function(){return this.Pj};f.$r=function(){return this.letterSpacing};f.jl=function(){return this.lineHeight};f.Pb=function(){return this.color};
function Cr(a){return new Br({fontFamily:C("fontFamily",a),fontSize:A("fontSize",a),bold:Na("bold",a),italic:Na("italic",a),Pj:C("justification",a),letterSpacing:A("letterSpacing",a),lineHeight:A("lineHeight",a),color:C("color",a)})}function Dr(a){this.title=a.title;this.hg=a.hg;this.body=a.body}Dr.prototype.pb=function(){return this.title};function Er(a){return new Dr({title:F(Cr,"title",a),hg:F(Cr,"subtitle",a),body:F(Cr,"body",a)})}
function Fr(a){this.ka=a.ka;this.title=a.title;this.description=a.description;this.ye=a.ye||[];this.rr=a.rr;this.vT=a.vT;this.O=a.O||[];this.doctype=a.doctype}Fr.prototype.pb=function(){return this.title};Fr.prototype.sf=function(){return this.description};Fr.prototype.il=function(){return this.ye};Fr.prototype.Cb=function(){return this.O};
function Gr(a){return new Fr({ka:B("layout",a),title:C("title",a),description:C("description",a),ye:Ha.Fe("keywords",a),rr:F(Er,"canvaDefaultFonts",a),vT:F(Er,"defaultFonts",a),O:Qa(Hr,"pages",a),doctype:Pa(Lp,"doctype",a)})}function Ir(a){this.height=a.height;this.width=a.width;this.Oc=a.Oc;this.elements=a.elements||[];this.type=a.type}Ir.prototype.o=function(){return this.height};Ir.prototype.l=function(){return this.width};Ir.prototype.ja=function(){return this.elements};Ir.prototype.eb=function(){return this.type};
function Hr(a){return new Ir({height:y("height",a),width:y("width",a),Oc:A("dpi",a),elements:Qa(Jr,"elements",a),type:C("type",a)})}
function Kr(a){this.type=a.type;this.top=a.top;this.left=a.left;this.height=a.height;this.width=a.width;this.Fb=a.Fb;this.rotation=a.rotation;this.Xb=a.Xb;this.kc=a.kc;this.fd=a.fd;this.fh=a.fh;this.xg=a.xg;this.backgroundColor=a.backgroundColor;this.Da=a.Da;this.ha=a.ha;this.ia=a.ia;this.tc=a.tc;this.filter=a.filter;this.style=a.style;this.html=a.html;this.fontFamily=a.fontFamily;this.fontSize=a.fontSize;this.color=a.color;this.bold=a.bold;this.italic=a.italic;this.Ou=a.Ou;this.Pj=a.Pj;this.letterSpacing=
a.letterSpacing;this.lineHeight=a.lineHeight;this.Ev=a.Ev||[];this.padding=a.padding;this.textTransform=a.textTransform;this.border=a.border;this.QV=a.QV||[];this.RX=a.RX;this.link=a.link;this.spacing=a.spacing;this.items=a.items||[];this.contents=a.contents||[];this.scale=a.scale;this.Km=a.Km||[];this.rk=a.rk;this.index=a.index;this.ZT=a.ZT;this.XU=a.XU;this.viewBox=a.viewBox;this.Hl=a.Hl||[];this.$S=a.$S||[];this.EU=a.EU;this.Gb=a.Gb;this.pt=a.pt;this.origin=a.origin}f=Kr.prototype;f.eb=function(){return this.type};
f.w=function(){return this.top};f.F=function(){return this.left};f.o=function(){return this.height};f.l=function(){return this.width};f.tF=function(){return this.Fb};f.Qa=function(){return this.rotation};f.WL=function(){return this.xg};f.$g=function(){return this.backgroundColor};f.Tm=function(){return this.Da};f.Dz=function(){return this.ha};f.Ez=function(){return this.ia};f.TL=function(){return this.filter};f.Qc=function(){return this.fontSize};f.Pb=function(){return this.color};f.Bz=function(){return this.Pj};
f.$r=function(){return this.letterSpacing};f.jl=function(){return this.lineHeight};f.bs=function(){return this.padding};f.Um=function(){return this.link};f.ce=function(){return this.spacing};f.uf=function(){return this.items};f.K=function(){return this.index};f.dv=function(){return this.pt};f.Nd=function(){return this.origin};
function Jr(a){return new Kr({type:B("type",a),top:y("top",a),left:y("left",a),height:y("height",a),width:y("width",a),Fb:A("transparency",a),rotation:A("rotation",a),Xb:A("flipOrientation",a),kc:Na("isBackground",a),fd:Na("isRecolorable",a),fh:Na("isCutout",a),xg:Na("isDark",a),backgroundColor:C("backgroundColor",a),Da:F(Lr,"imageBox",a),ha:C("mediaId",a),ia:A("mediaVersion",a),tc:Na("mediaApproved",a),filter:F(Mr,"filter",a),style:C("style",a),html:C("html",a),fontFamily:C("fontFamily",a),fontSize:A("fontSize",
a),color:C("color",a),bold:Na("bold",a),italic:Na("italic",a),Ou:F(fn,"fontMedia",a),Pj:C("justification",a),letterSpacing:A("letterSpacing",a),lineHeight:A("lineHeight",a),Ev:Ja.Fe("lineLengths",a),padding:A("padding",a),textTransform:C("textTransform",a),border:F(Nr,"border",a),QV:Qa(Or,"kerning",a),RX:Sa(tr,"reflowMode",a),link:C("link",a),spacing:A("spacing",a),items:Qa(Pr,"items",a),contents:Qa(Qr,"contents",a),scale:A("scale",a),Km:Qa(Rr,"fillColors",a),rk:F(Sr,"svgMetadata",a),index:A("index",
a),ZT:A("elementIndex",a),XU:A("groupIndex",a),viewBox:F(Lr,"viewBox",a),Hl:Qa(Tr,"paths",a),$S:Ja.Fe("childRange",a),EU:Sa(wr,"generatorType",a),Gb:F(Ur,"chart",a),pt:F(Vr,"spritesheetMetadata",a),origin:F(Wr,"origin",a)})}
function Xr(a){this.type=a.type;this.top=a.top;this.left=a.left;this.height=a.height;this.width=a.width;this.Xb=a.Xb;this.backgroundColor=a.backgroundColor;this.Da=a.Da;this.ha=a.ha;this.ia=a.ia;this.tc=a.tc;this.filter=a.filter;this.html=a.html;this.fontFamily=a.fontFamily;this.fontSize=a.fontSize;this.color=a.color;this.bold=a.bold;this.italic=a.italic;this.Ou=a.Ou;this.Pj=a.Pj;this.letterSpacing=a.letterSpacing;this.lineHeight=a.lineHeight;this.Ev=a.Ev||[];this.textTransform=a.textTransform;this.index=
a.index}f=Xr.prototype;f.eb=function(){return this.type};f.w=function(){return this.top};f.F=function(){return this.left};f.o=function(){return this.height};f.l=function(){return this.width};f.$g=function(){return this.backgroundColor};f.Tm=function(){return this.Da};f.Dz=function(){return this.ha};f.Ez=function(){return this.ia};f.TL=function(){return this.filter};f.Qc=function(){return this.fontSize};f.Pb=function(){return this.color};f.Bz=function(){return this.Pj};f.$r=function(){return this.letterSpacing};
f.jl=function(){return this.lineHeight};f.K=function(){return this.index};
function Qr(a){return new Xr({type:B("type",a),top:A("top",a),left:A("left",a),height:A("height",a),width:A("width",a),Xb:A("flipOrientation",a),backgroundColor:C("backgroundColor",a),Da:F(Lr,"imageBox",a),ha:C("mediaId",a),ia:A("mediaVersion",a),tc:Na("mediaApproved",a),filter:F(Mr,"filter",a),html:C("html",a),fontFamily:C("fontFamily",a),fontSize:A("fontSize",a),color:C("color",a),bold:Na("bold",a),italic:Na("italic",a),Ou:F(fn,"fontMedia",a),Pj:C("justification",a),letterSpacing:A("letterSpacing",
a),lineHeight:A("lineHeight",a),Ev:Ja.Fe("lineLengths",a),textTransform:C("textTransform",a),index:y("index",a)})}function Yr(a){this.width=a.width}Yr.prototype.l=function(){return this.width};function Nr(a){return new Yr({width:y("width",a)})}function Zr(a){this.hX=a.hX;this.Qt=a.Qt}function Or(a){return new Zr({hX:B("pair",a),Qt:y("adjustment",a)})}function $r(a){this.type=a.type;this.width=a.width;this.height=a.height;this.children=a.children||[]}$r.prototype.eb=function(){return this.type};
$r.prototype.l=function(){return this.width};$r.prototype.o=function(){return this.height};$r.prototype.getChildren=function(){return this.children};function Pr(a){return new $r({type:Sa(ur,"type",a),width:A("width",a),height:A("height",a),children:Qa(Pr,"children",a)})}function as(a){this.top=a.top;this.left=a.left;this.width=a.width;this.height=a.height}as.prototype.w=function(){return this.top};as.prototype.F=function(){return this.left};as.prototype.l=function(){return this.width};
as.prototype.o=function(){return this.height};function Lr(a){return new as({top:y("top",a),left:y("left",a),width:y("width",a),height:y("height",a)})}function bs(a){this.index=a.index;this.color=a.color}bs.prototype.K=function(){return this.index};bs.prototype.Pb=function(){return this.color};function Rr(a){return new bs({index:y("index",a),color:B("color",a)})}function cs(a){this.viewBox=a.viewBox;this.kZ=a.kZ||[];this.rX=a.rX||[];this.XS=a.XS;this.oZ=a.oZ}
function Sr(a){return new cs({viewBox:Pa(Lr,"viewBox",a),kZ:Qa(Lr,"textHolderBoxes",a),rX:Qa(Lr,"photoHolderBoxes",a),XS:F(Lr,"centerBox",a),oZ:Na("tile",a)})}function ds(a){this.blur=a.blur;this.brightness=a.brightness;this.contrast=a.contrast;this.saturation=a.saturation;this.gf=a.gf;this.vignette=a.vignette;this.Nf=a.Nf;this.rh=a.rh;this.name=a.name}ds.prototype.Tu=function(){return this.brightness};ds.prototype.SU=function(){return this.saturation};ds.prototype.getName=function(){return this.name};
function Mr(a){return new ds({blur:A("blur",a),brightness:A("brightness",a),contrast:A("contrast",a),saturation:A("saturation",a),gf:A("tint",a),vignette:A("vignette",a),Nf:A("xpro",a),rh:A("tintAmount",a),name:C("name",a)})}function es(a){this.fill=a.fill;this.bl=a.bl;this.d=a.d}function Tr(a){return new es({fill:B("fill",a),bl:Sa(vr,"fillRule",a),d:B("d",a)})}function fs(a){this.name=a.name;this.cells=a.cells||[]}fs.prototype.getName=function(){return this.name};
function gs(a){return new fs({name:C("name",a),cells:Ha.Fe("cells",a)})}function hs(a){this.ra=a.ra||[]}function is(a){return new hs({ra:Qa(gs,"columns",a)})}function js(a){this.data=a.data;this.RV=a.RV;this.Rc=a.Rc;this.tA=a.tA;this.gT=a.gT;this.hs=a.hs;this.Yi=a.Yi;this.Di=a.Di;this.uX=a.uX;this.BS=a.BS;this.dW=a.dW;this.NT=a.NT}js.prototype.getData=function(){return this.data};js.prototype.Zr=function(){return this.Rc};js.prototype.XL=function(){return this.tA};js.prototype.Ri=function(){return this.Yi};
function Ur(a){return new js({data:Pa(is,"data",a),RV:A("labelColumn",a),Rc:Pa(Cr,"labelTextStyle",a),tA:F(fn,"labelFontMedia",a),gT:Ra(yr,"coloringType",a),hs:F(ks,"interpolation",a),Yi:F(ls,"palette",a),Di:Ra(xr,"chartType",a),uX:F(ms,"pie",a),BS:F(ns,"bar",a),dW:F(os,"line",a),NT:F(ps,"donut",a)})}function qs(a){this.spacing=a.spacing;this.padding=a.padding}qs.prototype.ce=function(){return this.spacing};qs.prototype.bs=function(){return this.padding};
function ms(a){return new qs({spacing:A("spacing",a),padding:A("padding",a)})}function rs(a){this.spacing=a.spacing;this.padding=a.padding}rs.prototype.ce=function(){return this.spacing};rs.prototype.bs=function(){return this.padding};function ns(a){return new rs({spacing:A("spacing",a),padding:A("padding",a)})}function ss(a){this.spacing=a.spacing;this.padding=a.padding}ss.prototype.ce=function(){return this.spacing};ss.prototype.bs=function(){return this.padding};
function os(a){return new ss({spacing:A("spacing",a),padding:A("padding",a)})}function ts(a){this.spacing=a.spacing;this.padding=a.padding}ts.prototype.ce=function(){return this.spacing};ts.prototype.bs=function(){return this.padding};function ps(a){return new ts({spacing:A("spacing",a),padding:A("padding",a)})}function us(a){this.fT=a.fT;this.from=a.from;this.to=a.to}us.prototype.hl=function(){return this.from};
function ks(a){return new us({fT:Ra(zr,"colorSpace",a),from:B("from",a),to:B("to",a)})}function vs(a){this.bd=a.bd||[]}vs.prototype.ug=function(){return this.bd};function ls(a){return new vs({bd:Ha.Fe("colors",a)})}function ws(a){this.id=a.id;this.version=a.version;this.type=a.type}ws.prototype.u=function(){return this.id};ws.prototype.getVersion=function(){return this.version};ws.prototype.eb=function(){return this.type};
function Wr(a){return new ws({id:B("id",a),version:y("version",a),type:Ra(Ar,"type",a)})};function xs(a,b){switch(b){case "USER":return"USER";case "BRAND":return"BRAND";case "EXTENSION":return"EXTENSION";case "DEFAULT":return"DEFAULT";default:throw new TypeError('expected AccessControlListActorType for property "'+a+'", found: '+JSON.stringify(b));}}
function ys(a,b){switch(b){case "NONE":return"NONE";case "OWNER":return"OWNER";case "VIEWER":return"VIEWER";case "REMIXER":return"REMIXER";case "EDITOR":return"EDITOR";default:throw new TypeError('expected AccessControlListRole for property "'+a+'", found: '+JSON.stringify(b));}}function zs(a,b){switch(b){case "MANUAL":return"MANUAL";case "FOLDER":return"FOLDER";default:throw new TypeError('expected AccessControlListOriginType for property "'+a+'", found: '+JSON.stringify(b));}}
function As(a,b){switch(b){case "CENTIMETERS":return"CENTIMETERS";case "INCHES":return"INCHES";case "MILLIMETERS":return"MILLIMETERS";case "PIXELS":return"PIXELS";default:throw new TypeError('expected Units for property "'+a+'", found: '+JSON.stringify(b));}}
function Bs(a,b){switch(b){case "CENTIMETERS":return"CENTIMETERS";case "INCHES":return"INCHES";case "MILLIMETERS":return"MILLIMETERS";case "PIXELS":return"PIXELS";default:throw new TypeError('expected Units for property "'+a+'", found: '+JSON.stringify(b));}}function Cs(a,b){switch(b){case "WEB_1":return"web-1";case "WEB_2":return"web-2";case "ANDROID_1":return"android-1";default:throw new TypeError('expected Schema for property "'+a+'", found: '+JSON.stringify(b));}}
function Ah(a,b){switch(b){case "web-1":return"WEB_1";case "web-2":return"WEB_2";case "android-1":return"ANDROID_1";default:throw new TypeError('expected Schema for property "'+a+'", found: '+JSON.stringify(b));}}function Ds(a,b){switch(b){case "EDITING_AFFECTED":return"EDITING_AFFECTED";case "RENDERING_AFFECTED":return"RENDERING_AFFECTED";case "UNREPRESENTABLE":return"UNREPRESENTABLE";default:throw new TypeError('expected ConversionLoss for property "'+a+'", found: '+JSON.stringify(b));}}
function Es(a){this.rules=a.rules||[];this.version=a.version;this.Hn=a.Hn}Es.prototype.Kz=function(){return this.rules};Es.prototype.getVersion=function(){return this.version};function Fs(a){return new Es({rules:Qa(Gs,"rules",a),version:y("version",a),Hn:Pa(Hs,"owner",a)})}function Is(a){this.type=a.type;this.mh=a.mh;this.cj=a.cj;this.origin=a.origin;this.timestamp=a.timestamp}f=Is.prototype;f.eb=function(){return this.type};f.Ej=function(){return this.mh};f.Si=function(){return this.cj};f.Nd=function(){return this.origin};
f.Ip=function(){return this.timestamp};function Gs(a){return new Is({type:Ra(xs,"type",a),mh:F(Hs,"principal",a),cj:Ra(ys,"role",a),origin:F(Js,"origin",a),timestamp:A("timestamp",a)})}function Ks(a){this.D=a.D;this.user=a.user}Ks.prototype.fa=function(){return this.D};Ks.prototype.va=function(){return this.user};function Hs(a){return new Ks({D:B("brand",a),user:C("user",a)})}function Ls(a){this.type=a.type;this.id=a.id}Ls.prototype.eb=function(){return this.type};Ls.prototype.u=function(){return this.id};
function Js(a){return new Ls({type:Ra(zs,"type",a),id:C("id",a)})}function Ms(a){this.default=a.default;this.view=a.view;this.WX=a.WX;this.SK=a.SK}Ms.prototype.KU=function(){return this.default};Ms.prototype.ml=function(){return this.view};Ms.prototype.MU=function(){return this.SK};function Ns(a){return new Ms({default:C("default",a),view:C("view",a),WX:C("remix",a),SK:C("edit",a)})}function Os(a){this.type=a.type}
function Tp(a){switch(a.type){case "REFERENCE":return{type:"REFERENCE",id:ib("id",a.id),version:db("version",a.version)};case "INLINE":return{type:"INLINE",width:db("width",a.width),height:db("height",a.height),units:lb(As,"units",a.units)};default:throw Error();}}
function Lp(a){switch(a.type){case "REFERENCE":return Ca("REFERENCE"===a.type),new Ps({id:B("id",a),version:y("version",a)});case "INLINE":return Ca("INLINE"===a.type),new Qs({width:y("width",a),height:y("height",a),units:Ra(Bs,"units",a)});default:throw Error("unknown case: "+a.type);}}function Ps(a){this.type="REFERENCE";this.id=a.id;this.version=a.version}t(Ps,Os);Ps.prototype.u=function(){return this.id};Ps.prototype.getVersion=function(){return this.version};
function Qs(a){this.type="INLINE";this.width=a.width;this.height=a.height;this.units=a.units}t(Qs,Os);Qs.prototype.l=function(){return this.width};Qs.prototype.o=function(){return this.height};Qs.prototype.Gj=function(){return this.units};function Rs(a){this.id=a.id;this.version=a.version}Rs.prototype.u=function(){return this.id};Rs.prototype.getVersion=function(){return this.version};function Ss(a){return new Rs({id:B("id",a),version:y("version",a)})}
function Ts(a){this.id=a.id;this.Zj=a.Zj;this.mf=a.mf;this.origin=a.origin;this.Jm=a.Jm;this.tags=a.tags||[];this.Of=a.Of;this.tj=a.tj;this.version=a.version;this.timestamp=a.timestamp;this.EC=a.EC}f=Ts.prototype;f.u=function(){return this.id};f.Nd=function(){return this.origin};f.Uu=function(){return this.Jm};f.Hp=function(){return this.tags};f.Tf=function(){return this.Of};f.we=function(){return this.tj};f.getVersion=function(){return this.version};f.Ip=function(){return this.timestamp};
function Us(a){return new Ts({id:B("id",a),Zj:B("owningBrand",a),mf:y("creationDate",a),origin:F(Ss,"origin",a),Jm:F(Ns,"extensions",a),tags:Ha.Fe("tags",a),Of:F(Fs,"acl",a),tj:Pa(Vs,"draft",a),version:y("version",a),timestamp:A("timestamp",a),EC:F(Ws,"trashed",a)})}function Xs(a){this.timestamp=a.timestamp}Xs.prototype.Ip=function(){return this.timestamp};function Ws(a){return new Xs({timestamp:y("timestamp",a)})}
function Ys(a){this.content=a.content;this.version=a.version;this.timestamp=a.timestamp;this.oa=a.oa;this.jd=a.jd;this.eA=a.eA;this.yi=a.yi}f=Ys.prototype;f.getContent=function(){return this.content};f.getVersion=function(){return this.version};f.Ip=function(){return this.timestamp};f.getSession=function(){return this.oa};f.gc=function(){return this.jd};f.KL=function(){return this.yi};
function Vs(a){return new Ys({content:Pa(Zs,"content",a),version:y("version",a),timestamp:y("timestamp",a),oa:A("session",a),jd:y("pageCount",a),eA:Pa($s,"imageSets",a),yi:C("associatedMedia",a)})}function at(a){this.ka=a.ka;this.title=a.title;this.description=a.description;this.ye=a.ye||[];this.doctype=a.doctype}at.prototype.pb=function(){return this.title};at.prototype.sf=function(){return this.description};at.prototype.il=function(){return this.ye};
function Zs(a){return new at({ka:C("layout",a),title:C("title",a),description:C("description",a),ye:Ha.Fe("keywords",a),doctype:Pa(Lp,"doctype",a)})}function bt(a){this.nd=a.nd;this.lw=a.lw}bt.prototype.ee=function(){return this.nd};function $s(a){return new bt({nd:Pa(ct,"thumbnail",a),lw:F(ct,"preview",a)})}function dt(a){this.height=a.height;this.width=a.width;this.version=a.version;this.images=a.images||[]}dt.prototype.o=function(){return this.height};dt.prototype.l=function(){return this.width};
dt.prototype.getVersion=function(){return this.version};dt.prototype.VL=function(){return this.images};function ct(a){return new dt({height:y("height",a),width:y("width",a),version:y("version",a),images:Qa(et,"images",a)})}function ft(a){this.bucket=a.bucket;this.key=a.key;this.page=a.page;this.url=a.url}ft.prototype.getKey=function(){return this.key};ft.prototype.R=function(){return this.page};ft.prototype.ma=function(){return this.url};
function et(a){return new ft({bucket:B("bucket",a),key:B("key",a),page:y("page",a),url:C("url",a)})}function gt(a){this.width=a.width;this.height=a.height;this.url=a.url}gt.prototype.l=function(){return this.width};gt.prototype.o=function(){return this.height};gt.prototype.ma=function(){return this.url};function ht(a){return new gt({width:A("width",a),height:A("height",a),url:B("url",a)})}function it(a){this.id=a.id;this.title=a.title;this.a1=a.a1||new Map}it.prototype.u=function(){return this.id};
it.prototype.pb=function(){return this.title};function jt(a){this.og=a.og;this.oa=a.oa;this.Xg=a.Xg;this.gA=a.gA;this.Z2=a.Z2;this.s8=a.s8||[]}jt.prototype.getSession=function(){return this.oa};jt.prototype.getExtension=function(){return this.Xg};function kt(a){this.type=a.type;this.id=a.id;this.version=a.version}kt.prototype.u=function(){return this.id};kt.prototype.getVersion=function(){return this.version};
function lt(a){switch(a.type){case "RASTER":return Ca("RASTER"===a.type),new mt({id:B("id",a),version:y("version",a),files:Qa(nt,"files",a)});case "VECTOR":return Ca("VECTOR"===a.type),new ot({id:B("id",a),version:y("version",a),files:Qa(nt,"files",a)});case "DESIGN":return Ca("DESIGN"===a.type),new pt({id:B("id",a),version:y("version",a),files:Qa(nt,"files",a)});case "FONT":return Ca("FONT"===a.type),new qt({id:B("id",a),version:y("version",a),files:Qa(rt,"files",a)});case "ELEMENT_GROUP":return Ca("ELEMENT_GROUP"===
a.type),new st({id:B("id",a),version:y("version",a),files:Qa(nt,"files",a)});case "UNKNOWN":return Ca("UNKNOWN"===a.type),new tt({id:B("id",a),version:y("version",a),files:Qa(ut,"files",a)});default:throw Error("unknown case: "+a.type);}}function mt(a){kt.call(this,{type:"RASTER",id:a.id,version:a.version,files:a.files});this.files=a.files||[]}t(mt,kt);mt.prototype.nc=function(){return this.files};
function ot(a){kt.call(this,{type:"VECTOR",id:a.id,version:a.version,files:a.files});this.files=a.files||[]}t(ot,kt);ot.prototype.nc=function(){return this.files};function pt(a){kt.call(this,{type:"DESIGN",id:a.id,version:a.version,files:a.files});this.files=a.files||[]}t(pt,kt);pt.prototype.nc=function(){return this.files};function qt(a){kt.call(this,{type:"FONT",id:a.id,version:a.version,files:a.files});this.files=a.files||[]}t(qt,kt);qt.prototype.nc=function(){return this.files};
function st(a){kt.call(this,{type:"ELEMENT_GROUP",id:a.id,version:a.version,files:a.files});this.files=a.files||[]}t(st,kt);st.prototype.nc=function(){return this.files};function tt(a){kt.call(this,{type:"UNKNOWN",id:a.id,version:a.version,files:a.files});this.files=a.files||[]}t(tt,kt);tt.prototype.nc=function(){return this.files};function vt(a){this.url=a.url;this.width=a.width;this.height=a.height;this.Kx=a.Kx;this.Zh=a.Zh}vt.prototype.ma=function(){return this.url};vt.prototype.l=function(){return this.width};
vt.prototype.o=function(){return this.height};vt.prototype.rF=function(){return this.Zh};function nt(a){return new vt({url:B("url",a),width:y("width",a),height:y("height",a),Kx:Ma("watermarked",a),Zh:Sa(wt,"quality",a)})}function xt(a){this.url=a.url}xt.prototype.ma=function(){return this.url};function rt(a){return new xt({url:B("url",a)})}function yt(a){this.url=a.url;this.width=a.width;this.height=a.height;this.Kx=a.Kx;this.Zh=a.Zh}yt.prototype.ma=function(){return this.url};yt.prototype.l=function(){return this.width};
yt.prototype.o=function(){return this.height};yt.prototype.rF=function(){return this.Zh};function ut(a){return new yt({url:B("url",a),width:A("width",a),height:A("height",a),Kx:Na("watermarked",a),Zh:Sa(wt,"quality",a)})}function zt(a){this.Of=a.Of}zt.prototype.Tf=function(){return this.Of};function Cq(a){return new zt({Of:Pa(Fs,"acl",a)})}
function At(a){this.nl=a.nl||[];this.mh=a.mh;this.aH=a.aH||[];this.lL=a.lL;this.LX=a.LX;this.zR=a.zR||[];this.ka=a.ka;this.Or=a.Or;this.Z=a.Z;this.limit=a.limit}At.prototype.Ej=function(){return this.mh};At.prototype.Bb=function(){return this.Z};At.prototype.Ad=function(){return this.limit};function Bt(a){this.KT=a.KT||[];this.Z=a.Z}Bt.prototype.Bb=function(){return this.Z};function zq(a){return new Bt({KT:Qa(Us,"documents",a),Z:C("continuation",a)})}
function Ct(a){this.id=a.id;this.sZ=a.sZ;this.Aw=a.Aw||[];this.Z=a.Z}Ct.prototype.u=function(){return this.id};Ct.prototype.Jz=function(){return this.Aw};Ct.prototype.Bb=function(){return this.Z};function Hq(a){return new Ct({id:B("id",a),sZ:y("totalHits",a),Aw:Qa(Dt,"results",a),Z:C("continuation",a)})}function Et(a){this.ct=a.ct;this.Ss=a.Ss;this.id=a.id;this.title=a.title;this.description=a.description;this.Zj=a.Zj;this.mf=a.mf;this.EC=a.EC;this.nd=a.nd;this.uu=a.uu}f=Et.prototype;f.TU=function(){return this.ct};
f.RU=function(){return this.Ss};f.u=function(){return this.id};f.pb=function(){return this.title};f.sf=function(){return this.description};f.ee=function(){return this.nd};function Dt(a){return new Et({ct:B("searchId",a),Ss:y("rank",a),id:B("id",a),title:B("title",a),description:C("description",a),Zj:B("owningBrand",a),mf:y("creationDate",a),EC:Ma("trashed",a),nd:Pa(ht,"thumbnail",a),uu:B("designTypeDisplayName",a)})}function Ft(a){this.Of=a.Of}Ft.prototype.Tf=function(){return this.Of};
function Fq(a){return new Ft({Of:Pa(Fs,"acl",a)})}function Gt(a){this.og=a.og;this.version=a.version;this.pw=a.pw;this.force=a.force}Gt.prototype.getVersion=function(){return this.version};function Ht(){}function Kq(){return new Ht};function It(a){this.id=a.id;this.Zj=a.Zj;this.mf=a.mf;this.origin=a.origin;this.Jm=a.Jm;this.tags=a.tags||[];this.Of=a.Of;this.tj=a.tj;this.version=a.version;this.timestamp=a.timestamp}f=It.prototype;f.u=function(){return this.id};f.Nd=function(){return this.origin};f.Uu=function(){return this.Jm};f.Hp=function(){return this.tags};f.Tf=function(){return this.Of};f.we=function(){return this.tj};f.getVersion=function(){return this.version};f.Ip=function(){return this.timestamp};
function Jt(a){return new It({id:B("id",a),Zj:B("owningBrand",a),mf:y("creationDate",a),origin:F(Ss,"origin",a),Jm:Pa(Ns,"extensions",a),tags:Ha.Fe("tags",a),Of:F(Fs,"acl",a),tj:Pa(Kt,"draft",a),version:y("version",a),timestamp:A("timestamp",a)})}function Lt(a){this.content=a.content;this.version=a.version;this.timestamp=a.timestamp;this.oa=a.oa;this.jd=a.jd;this.media=a.media||[];this.eA=a.eA;this.yi=a.yi}f=Lt.prototype;f.getContent=function(){return this.content};f.getVersion=function(){return this.version};
f.Ip=function(){return this.timestamp};f.getSession=function(){return this.oa};f.gc=function(){return this.jd};f.Jb=function(){return this.media};f.KL=function(){return this.yi};function Kt(a){return new Lt({content:Pa(Gr,"content",a),version:y("version",a),timestamp:y("timestamp",a),oa:A("session",a),jd:y("pageCount",a),media:Qa(fn,"media",a),eA:Pa($s,"imageSets",a),yi:C("associatedMedia",a)})}function Mt(a){this.document=a.document;this.oa=a.oa}Mt.prototype.getDocument=function(){return this.document};
Mt.prototype.getSession=function(){return this.oa};function tq(a){return new Mt({document:Pa(Jt,"document",a),oa:y("session",a)})}function Nt(a){this.document=a.document;this.Xe=a.Xe||[];this.oa=a.oa;this.fS=a.fS;this.RJ=a.RJ}Nt.prototype.getDocument=function(){return this.document};Nt.prototype.getSession=function(){return this.oa};function vq(a){return new Nt({document:Pa(Jt,"document",a),Xe:Qa(lt,"mediaMap",a),oa:A("session",a),fS:Ra(ys,"accessRole",a),RJ:Sa(Ds,"conversionLoss",a)})};function Ot(a,b,c,d,e){this.Pa=a;this.N=b;this.context=c;this.Xq=null;this.gZ=d;this.Tp=!1;this.Rz=this.pX=this.Nt=this.dw=this.im=null;this.j=e}f=Ot.prototype;f.start=function(){null!=this.context.id&&(Pt(this,6666),Qt(this))};function Pt(a,b){b!=a.Nt&&(null!=a.im&&window.clearInterval(a.im),a.Nt=b,a.im=null!=b?window.setInterval(function(){a.save()},b):null)}function Qt(a){12E5!=a.pX&&(null!=a.dw&&window.clearInterval(a.dw),a.pX=12E5,a.dw=window.setInterval(function(){a.sync()},12E5))}
f.save=function(){this.context.Ti()&&this.sync()};f.sync=function(){function a(a){var e=b.Nt;a=a.throttle;if(b.Xq==c){b.Xq=null;var g=e;!0===a?g=Math.min(2*b.Nt,6E5):!1===a&&(g=Math.max(b.Nt-1E3,6666));g!=b.Nt&&Pt(b,g)}return e}if(this.Tp&&null!=this.context.id&&!this.Xq){var b=this,c=new Rt(b.N,b.context,b.j);b.Xq=c;b.Xq.sync().then(a).then(function(a){b.gZ.update(a)})}};
f.close=function(){this.Tp=!1;this.Xq&&(this.Xq.stop(),this.Xq=null);this.im&&(window.clearInterval(this.im),this.im=null);this.dw&&(window.clearInterval(this.dw),this.dw=null)};f.aQ=function(a){this.context.aQ(a)};f.post=function(a,b){var c=this.context,d=null;3!=c.df&&(c.Gk!=a?(c.df=3,c.state=null):(c.df=0,c.state=b,c.Gk++,d=c.Gk));St(c);a=d;null!=a&&(this.Rz=b);return a};f.Kv=function(a){this.Rz||(this.Rz=a)};function Tt(a,b){return!(!a.Rz||_.isEqual(a.Rz,b))}
f.Os=function(a){var b=this.context.u();if(this.context.Ti())return P.reject(new oq);if(!this.context.Lz())return P.reject(new nq);if(!b)return P.reject(new pq);switch(a){case "BRAND":return this.Pa.qJ(b);case "GLOBAL":return this.Pa.Os(b)}return P.reject(new mq)};f.Gx=function(a){var b=this.context.u();if(!b)return P.reject(new pq);switch(a){case "BRAND":return this.Pa.rJ(b);case "GLOBAL":return this.Pa.Gx(b)}return P.reject(new mq)};
f.wC=function(){var a=this.context.u();return a?this.Pa.wC(a):P.reject(Error("synced context has no id"))};f.HC=function(){var a=this.context.u();return a?this.Pa.HC(a):P.reject(Error("synced context has no id"))};f.fc=function(){return this.context.u()};function Ut(a){return a.context.Uu().KU()}f.timestamp=function(){return this.context.Ip()};f.version=function(){return this.context.Gk};f.Td=function(){return this.context.Td};f.Ti=function(){return this.context.Ti()};f.vv=function(){return this.context.vv()};
f.state=function(){return this.context.Lz()};function Vt(a,b,c,d,e,g,h,k,l,m){this.id=a;this.Gk=c;this.vy=d;this.Td=e;this.QB=g;this.state=k;this.VV=null;this.timestamp=h;this.Jm=l;this.RJ=m;this.TV=this.df=b;this.aI=null}f=Vt.prototype;f.u=function(){return this.id};f.Uu=function(){return this.Jm};f.Ip=function(){return this.timestamp};f.Ti=function(){return 0==this.df||1==this.df};f.vv=function(){return 3!=this.df};f.Lz=function(){return this.state};
f.aQ=function(a){if(this.aI)throw Error("Cannot overwrite DocumentContext sync listener");this.aI=a};function Wt(a,b,c){b==a.Gk&&c==a.Td&&0==a.df&&(a.df=1,St(a))}function Xt(a,b,c){3!=a.df&&a.Td==b&&(b=c.document.draft,b.version<=a.Td||(a.timestamp=b.timestamp,a.Td=b.version,a.QB=b.session,a.QB!=a.vy&&(a.Gk++,a.df=3,a.state=null),St(a)))}
function Yt(a,b,c,d,e){3!=a.df&&(e=e.document.draft,a.Td==d&&(a.VV=b,a.Gk==c&&(a.df=2),a.timestamp=e.timestamp,a.Td=e.version,a.QB=e.session,a.vy=e.session,St(a)))}function Zt(a,b,c,d){3==a.df||a.Td>c||(a.timestamp=d.timestamp,a.Td=d.version,a.QB=d.session,a.QB!=a.vy?(a.Gk++,a.df=3,a.state=null):a.Gk==b&&(a.df=2),St(a))}function St(a){a.df!=a.TV&&null!=a.id&&(a.TV=a.df,a.aI&&a.aI(a.df))}function Rt(a,b,c){this.N=a;this.context=b;this.Zq=this.request=this.callback=null;this.j=c}
function $t(a){var b=.2*Math.random()-.1;return null==a?5E3:6E5<a?6E5:a*(1.6+b)}Rt.prototype.stop=function(){this.callback=null;this.request&&(this.request.cancel(),this.request=null);null!=this.Zq&&(window.clearTimeout(this.Zq),this.Zq=null)};Rt.prototype.sync=function(){if(this.callback)throw Error("already syncing");return new P(function(a){this.callback=a;au(this,$t(null),1)}.bind(this))};
Rt.prototype.finish=function(a,b,c,d){var e=this.callback;e&&(this.callback=null,e({success:a,throttle:b}));this.j&&this.j.track("sync_attempts",{status:c,attempts:d})};
function bu(a,b){var c=null,d=!1,e=b;if(null!=a){var g=[],h;for(h in b)"pages"===h||_.isEqual(b[h],a[h])||g.push(h);a=a.pages;h=b.pages;if(a&&h){var k=a.length==h.length,l=!_.isEqual(a,h);if(0==g.length&&k&&l){for(b=0;b<a.length;b++)if(!_.isEqual(a[b],h[b]))if(null==c)c=b;else{c=null;break}null!=c&&(e=h[c])}else l||1!=g.length||"title"!=g[0]||(e={title:b.title},d=!0)}}return{A9:d,Hs:c,v7:e}}
function au(a,b,c){function d(d,g){window.clearTimeout(a.Zq);a.request=null;a.Zq=null;var h=g&&null!=g.throttle?!!g.throttle:null,m=!1;p&&200==d?Yt(e,n,k,l,g):p&&409==d?Zt(e,k,l,g):p||200!=d?0!=d&&(m=!0):Xt(e,l,g);m?a.Zq=window.setTimeout(function(){au(a,$t(b),c+1)},b):a.finish(200==d,h,d,c)}var e=a.context,g=e.u(),h=e.vy,k=e.Gk,l=e.Td,m,n=e.Lz(),p=e.Ti();if(p&&n)m=bu(e.VV,n),g="/documents"+(null==g?"":"/"+encodeURIComponent(g)+"/content"),m.A9?g+="/title":null!=m.Hs&&(g+="/pages/"+m.Hs),g+="?version\x3d"+
encodeURIComponent(l.toString())+(null==h?"":"\x26session\x3d"+encodeURIComponent(h.toString()))+"";else{if(null==g)return;g="/documents/"+encodeURIComponent(g)+"?includePages\x3dfalse"+(null==h?"":"\x26session\x3d"+encodeURIComponent(h.toString()))}a.Zq=window.setTimeout(function(){var d=a.callback;a.callback=null;a.request&&a.request.cancel();a.request=null;a.Zq=null;a.callback=d;au(a,$t(b),c+1)},b);p?(a.request=a.N.post(g,m.v7,d),Wt(e,k,l)):a.request=a.N.get(g,d)};function cu(){this.N=Hb};function du(a){this.ig=a.ig;this.nZ=a.nZ;this.mZ=a.mZ;this.XT=a.XT;this.displayName=a.displayName;this.pK=a.pK;this.MY=a.MY;this.fp=a.fp;this.Cm=a.Cm;this.WS=a.WS}du.prototype.$m=function(){return this.ig};du.prototype.ob=function(){return this.displayName};
function eu(a){return new du({ig:B("thumbnailUrl",a),nZ:y("thumbnailWidth",a),mZ:y("thumbnailHeight",a),XT:B("editorPath",a),displayName:B("displayName",a),pK:B("dimensionsLabel",a),MY:Ma("showNewBadge",a),fp:C("doctypeId",a),Cm:C("doctypeName",a),WS:C("categoryId",a)})}function fu(a){this.vF=a.vF;this.options=a.options||[]}fu.prototype.Bj=function(){return this.options};function gu(a){return new fu({vF:B("groupingDisplayName",a),options:Qa(eu,"options",a)})}function hu(a){this.wF=a.wF||[]}
function iu(a){return new hu({wF:Qa(gu,"groups",a)})};function ju(a){this.N=a;this.yK="/doctypes"}ju.prototype.hb=function(a){a=this.yK+"/"+encodeURIComponent(a.id)+"?"+a.$q();return yj(this.N,a).get(0).then(La).then(ku)};ju.prototype.createDocumentType=function(a){return wj(this.N,this.yK,lu(a)).get(0).then(La).then(mu)};
function nu(a,b){b=[a.yK+"?",null!=b.limit?"\x26limit\x3d"+encodeURIComponent(b.limit.toString()):"",null!=b.visible?"\x26visible\x3d"+encodeURIComponent(String(b.visible)):"",null!=b.Np?"\x26includeAllDescriptions\x3d"+encodeURIComponent(String(b.Np)):"",0<b.nl.length?"\x26ids\x3d"+encodeURIComponent(b.nl.join(",")):"",null!=b.Z?"\x26continuation\x3d"+encodeURIComponent(b.Z):""].join("").replace("?\x26","?");return yj(a.N,b).get(0).then(La).then(ou)};function pu(a,b){switch(b){case "FACEBOOK":return"FACEBOOK";case "GOOGLE":return"GOOGLE";case "LINKEDIN":return"LINKEDIN";case "PINTEREST":return"PINTEREST";case "TWITTER":return"TWITTER";case "WEIBO":return"WEIBO";default:throw new TypeError('expected SocialPlatform for property "'+a+'", found: '+JSON.stringify(b));}}
function qu(a,b){switch(b){case "FACEBOOK":return"FACEBOOK";case "GOOGLE":return"GOOGLE";case "LINKEDIN":return"LINKEDIN";case "PINTEREST":return"PINTEREST";case "TWITTER":return"TWITTER";case "WEIBO":return"WEIBO";default:throw new TypeError('expected SocialPlatform for property "'+a+'", found: '+JSON.stringify(b));}}
function ru(a,b){switch(b){case "DEFAULT":return"DEFAULT";case "GROUP":return"GROUP";case "PAGE":return"PAGE";default:throw new TypeError('expected SocialTargetType for property "'+a+'", found: '+JSON.stringify(b));}}function su(a,b){switch(b){case "DEFAULT":return"DEFAULT";case "GROUP":return"GROUP";case "PAGE":return"PAGE";default:throw new TypeError('expected SocialTargetType for property "'+a+'", found: '+JSON.stringify(b));}}
function tu(a,b){switch(b){case "PIXELS":return"PIXELS";case "INCHES":return"INCHES";case "CENTIMETERS":return"CENTIMETERS";case "MILLIMETERS":return"MILLIMETERS";default:throw new TypeError('expected DocumentTypeDimensionsUnits for property "'+a+'", found: '+JSON.stringify(b));}}
function uu(a,b){switch(b){case "PIXELS":return"PIXELS";case "INCHES":return"INCHES";case "CENTIMETERS":return"CENTIMETERS";case "MILLIMETERS":return"MILLIMETERS";default:throw new TypeError('expected DocumentTypeDimensionsUnits for property "'+a+'", found: '+JSON.stringify(b));}}function vu(a,b){switch(b){case "IMAGE":return"IMAGE";case "PDF":return"PDF";default:throw new TypeError('expected DocumentTypeDefaultExportSettings for property "'+a+'", found: '+JSON.stringify(b));}}
function wu(a,b){switch(b){case "IMAGE":return"IMAGE";case "PDF":return"PDF";default:throw new TypeError('expected DocumentTypeDefaultExportSettings for property "'+a+'", found: '+JSON.stringify(b));}}
function Ap(a){this.id=a.id;this.name=a.name;this.dj=a.dj;this.category=a.category;this.visible=a.visible;this.aC=a.aC;this.ys=a.ys;this.Sv=a.Sv||[];this.nd=a.nd;this.Py=a.Py||new Map;this.nb=a.nb;this.iE=a.iE;this.Is=a.Is;this.Mp=a.Mp;this.version=a.version;this.jN=a.jN||[];this.lO=a.lO||[];this.YO=a.YO||[]}f=Ap.prototype;f.u=function(){return this.id};f.getName=function(){return this.name};f.ee=function(){return this.nd};f.getVersion=function(){return this.version};
function xu(a){return{id:G("id",a.id),name:G("name",a.name),sentenceName:G("sentenceName",a.dj),category:G("category",a.category),visible:hb("visible",a.visible),showAsNew:hb("showAsNew",a.aC),multiPage:hb("multiPage",a.ys),newPageElements:kb(yu,"newPageElements",a.Sv),thumbnail:jb(zu,"thumbnail",a.nd),descriptions:nb(Au,"descriptions",a.Py),dimensions:jb(Bu,"dimensions",a.nb),defaultExportSettings:mb(vu,"defaultExportSettings",a.iE),pdfExportSettings:jb(Cu,"pdfExportSettings",a.Is),imageExportSettings:jb(Du,
"imageExportSettings",a.Mp),version:eb("version",a.version),localizedDescriptions:kb(Eu,"localizedDescriptions",a.jN),pageFormats:kb(Fu,"pageFormats",a.lO),publishHints:kb(Gu,"publishHints",a.YO)}}
function Hu(a){return new Ap({id:C("id",a),name:C("name",a),dj:C("sentenceName",a),category:C("category",a),visible:Na("visible",a),aC:Na("showAsNew",a),ys:Na("multiPage",a),Sv:Qa(Iu,"newPageElements",a),nd:F(Ju,"thumbnail",a),Py:Ua(Ku,"descriptions",a),nb:F(Lu,"dimensions",a),iE:Sa(wu,"defaultExportSettings",a),Is:F(Mu,"pdfExportSettings",a),Mp:F(Nu,"imageExportSettings",a),version:A("version",a),jN:Qa(Ou,"localizedDescriptions",a),lO:Qa(Pu,"pageFormats",a),YO:Qa(Qu,"publishHints",a)})}
function Ru(a,b,c){return new Ap({id:"custom",name:(new Su({width:a,height:b,units:c})).print(),dj:"design",nb:new Su({width:a,height:b,units:c}),visible:!1,order:0,ys:!0,aC:!1,custom:new Su({width:a,height:b,units:c}),Mp:new Tu({Oc:96,taa:"JPG",Wo:null,Jaa:null,Iaa:null}),Is:new Uu({Oc:300})})}f.Ag=function(){var a=this.Mp,b=Zg(this.nb);return{elements:this.Sv,width:b.l(),height:b.o(),dpi:a&&a.Oc}};
function Vu(a){a=a.Sv;return Array.isArray(a)?a.filter(function(a){return"fixed"===a.type}).map(yu):[]}function Wu(a){a=Vu(a);a=_.min(_.pluck(a,"left"));return Math.min(0,a)}function Xu(a){a=Vu(a);a=_.min(_.pluck(a,"top"));return Math.min(0,a)}function Yu(a){var b=Vu(a),b=_.max(b.map(function(a){return a.top+a.height})),c=Xu(a);a=a.nb?Zg(a.nb).o():0;return Math.max(a,b)-c}
function Zu(a){var b=Vu(a),b=_.max(b.map(function(a){return a.left+a.width})),c=Wu(a);a=a.nb?Zg(a.nb).l():0;return Math.max(a,b)-c}function $u(a){this.type=a.type;this.nb=a.nb;this.zL=a.zL||[];this.EN=a.EN;this.xJ=a.xJ}$u.prototype.eb=function(){return this.type};function Fu(a){return{type:G("type",a.type),dimensions:cb.required("dimensions",Bu(a.nb)),fixedElements:kb(yu,"fixedElements",a.zL),nameTemplate:G("nameTemplate",a.EN),cardinality:cb.required("cardinality",av(a.xJ))}}
function Pu(a){return new $u({type:C("type",a),nb:Pa(Lu,"dimensions",a),zL:Qa(Iu,"fixedElements",a),EN:C("nameTemplate",a),xJ:Pa(bv,"cardinality",a)})}function cv(a){this.lower=a.lower;this.upper=a.upper}function av(a){return{lower:eb("lower",a.lower),upper:eb("upper",a.upper)}}function bv(a){return new cv({lower:A("lower",a),upper:A("upper",a)})}function dv(a){this.type=a.type}
function Gu(a){switch(a.type){case "SHARE_SPEC":return{type:"SHARE_SPEC",platform:mb(pu,"platform",a.platform),targetType:mb(ru,"targetType",a.ef)};case "DOWNLOAD_SPEC":return{type:"DOWNLOAD_SPEC",format:mb(vu,"format",a.format),fileType:G("fileType",a.Se),compression:G("compression",a.Wo),dpi:eb("dpi",a.Oc),jpgQuality:eb("jpgQuality",a.Oj),jpgTargetFileSizeKb:eb("jpgTargetFileSizeKb",a.Xp)};default:throw Error();}}
function Qu(a){switch(a.type){case "SHARE_SPEC":return Ca("SHARE_SPEC"===a.type),new ev({platform:Sa(qu,"platform",a),ef:Sa(su,"targetType",a)});case "DOWNLOAD_SPEC":return Ca("DOWNLOAD_SPEC"===a.type),new fv({format:Sa(wu,"format",a),Se:C("fileType",a),Wo:C("compression",a),Oc:A("dpi",a),Oj:A("jpgQuality",a),Xp:A("jpgTargetFileSizeKb",a)});default:throw Error("unknown case: "+a.type);}}function ev(a){this.type="SHARE_SPEC";this.platform=a.platform;this.ef=a.ef}t(ev,dv);
function fv(a){this.type="DOWNLOAD_SPEC";this.format=a.format;this.Se=a.Se;this.Wo=a.Wo;this.Oc=a.Oc;this.Oj=a.Oj;this.Xp=a.Xp}t(fv,dv);function gv(a){this.locale=a.locale;this.name=a.name;this.dj=a.dj;this.nO=a.nO||new Map}gv.prototype.Vf=function(){return this.locale};gv.prototype.getName=function(){return this.name};
function Eu(a){var b=ib("locale",a.locale),c=ib("name",a.name),d=ib("sentenceName",a.dj);a=ob(pb,sb,"pageNameTemplates",a.nO);return{locale:b,name:c,sentenceName:d,pageNameTemplates:a}}function Ou(a){return new gv({locale:B("locale",a),name:B("name",a),dj:B("sentenceName",a),nO:Va(Wa,Ya,"pageNameTemplates",a)})}function hv(a){this.type=a.type;this.placeholder=a.placeholder;this.url=a.url;this.jn=a.jn;this.top=a.top;this.left=a.left;this.width=a.width;this.height=a.height;this.Fb=a.Fb}f=hv.prototype;
f.eb=function(){return this.type};f.ma=function(){return this.url};f.w=function(){return this.top};f.F=function(){return this.left};f.l=function(){return this.width};f.o=function(){return this.height};f.tF=function(){return this.Fb};function yu(a){return{type:ib("type",a.type),placeholder:G("placeholder",a.placeholder),url:G("url",a.url),image:G("image",a.jn),top:db("top",a.top),left:db("left",a.left),width:db("width",a.width),height:db("height",a.height),transparency:eb("transparency",a.Fb)}}
function Iu(a){return new hv({type:B("type",a),placeholder:C("placeholder",a),url:C("url",a),jn:C("image",a),top:y("top",a),left:y("left",a),width:y("width",a),height:y("height",a),Fb:A("transparency",a)})}function iv(a){this.bucket=a.bucket;this.key=a.key;this.url=a.url;this.width=a.width;this.height=a.height}iv.prototype.getKey=function(){return this.key};iv.prototype.ma=function(){return this.url};iv.prototype.l=function(){return this.width};iv.prototype.o=function(){return this.height};
function zu(a){return{bucket:G("bucket",a.bucket),key:G("key",a.key),url:G("url",a.url),width:eb("width",a.width),height:eb("height",a.height)}}function Ju(a){return new iv({bucket:C("bucket",a),key:C("key",a),url:C("url",a),width:A("width",a),height:A("height",a)})}function jv(a){this.locale=a.locale;this.name=a.name;this.dj=a.dj;this.JL=a.JL;this.nd=a.nd}jv.prototype.Vf=function(){return this.locale};jv.prototype.getName=function(){return this.name};jv.prototype.ee=function(){return this.nd};
function Au(a){return{locale:ib("locale",a.locale),name:G("name",a.name),sentenceName:G("sentenceName",a.dj),gender:G("gender",a.JL),thumbnail:jb(zu,"thumbnail",a.nd)}}function Ku(a){return new jv({locale:B("locale",a),name:C("name",a),dj:C("sentenceName",a),JL:C("gender",a),nd:F(Ju,"thumbnail",a)})}function Su(a){this.height=a.height;this.width=a.width;this.units=a.units}Su.prototype.o=function(){return this.height};Su.prototype.l=function(){return this.width};Su.prototype.Gj=function(){return this.units};
function Bu(a){return{height:db("height",a.height),width:db("width",a.width),units:lb(tu,"units",a.units)}}function Lu(a){return new Su({height:y("height",a),width:y("width",a),units:Ra(uu,"units",a)})}function kv(a){switch(a){case "PIXELS":return"px";case "CENTIMETERS":return"cm";case "INCHES":return"in";case "MILLIMETERS":return"mm";default:throw Error("Unknown units: "+a);}}Su.prototype.print=function(){var a=this.l(),b=this.o(),c=kv(this.Gj());return a+" "+c+" × "+b+" "+c};
function Zg(a){var b;switch(a.Gj()){case "PIXELS":return a;case "CENTIMETERS":b=a.l()/2.54*96;a=a.o()/2.54*96;break;case "INCHES":b=96*a.l();a=96*a.o();break;case "MILLIMETERS":b=a.l()/25.4*96;a=a.o()/25.4*96;break;default:throw Error("Unknown units: "+a.Gj());}return new Su({units:"PIXELS",width:b,height:a})}function Uu(a){this.Oc=a.Oc}function Cu(a){return{dpi:eb("dpi",a.Oc)}}function Mu(a){return new Uu({Oc:A("dpi",a)})}
function Tu(a){this.Se=a.Se;this.Wo=a.Wo;this.Oc=a.Oc;this.Oj=a.Oj;this.Xp=a.Xp}function Du(a){return{fileType:G("fileType",a.Se),compression:G("compression",a.Wo),dpi:eb("dpi",a.Oc),jpgQuality:eb("jpgQuality",a.Oj),jpgTargetFileSizeKb:eb("jpgTargetFileSizeKb",a.Xp)}}function Nu(a){return new Tu({Se:C("fileType",a),Wo:C("compression",a),Oc:A("dpi",a),Oj:A("jpgQuality",a),Xp:A("jpgTargetFileSizeKb",a)})}
function lu(a){return{category:G("category",a.category),visible:hb("visible",a.visible),showAsNew:hb("showAsNew",a.aC),multiPage:hb("multiPage",a.ys),newPageElements:kb(yu,"newPageElements",a.Sv),thumbnail:jb(zu,"thumbnail",a.nd),descriptions:nb(Au,"descriptions",a.Py),dimensions:jb(Bu,"dimensions",a.nb),pdfExportSettings:jb(Cu,"pdfExportSettings",a.Is),imageExportSettings:jb(Du,"imageExportSettings",a.Mp)}}function lv(a){this.rc=a.rc}function mu(a){return new lv({rc:Pa(Hu,"docType",a)})}
function mv(a){this.id=a.id;this.Np=a.Np;this.locale=a.locale}mv.prototype.u=function(){return this.id};mv.prototype.Vf=function(){return this.locale};mv.prototype.$q=function(){var a={id:ib("id",this.id),includeAllDescriptions:gb("includeAllDescriptions",this.Np),locale:G("locale",this.locale)};return Object.keys(a).map(function(b){var c=a[b];if(void 0!==c&&"object"!==typeof c)return b+"\x3d"+encodeURIComponent(c)}).filter(function(a){return!!a}).join("\x26")};function nv(a){this.rc=a.rc}
function ku(a){return new nv({rc:Pa(Hu,"docType",a)})}function ov(a){this.limit=a.limit;this.visible=a.visible;this.Np=a.Np;this.nl=a.nl||[];this.Z=a.Z}ov.prototype.Ad=function(){return this.limit};ov.prototype.Bb=function(){return this.Z};function pv(a){this.vu=a.vu||[];this.Z=a.Z}pv.prototype.Bb=function(){return this.Z};function ou(a){return new pv({vu:Qa(Hu,"docTypes",a),Z:C("continuation",a)})};function qv(a,b){switch(b){case "DOWNLOAD":return"DOWNLOAD";case "WORKFLOW":return"WORKFLOW";default:throw new TypeError('expected DestinationCode for property "'+a+'", found: '+JSON.stringify(b));}}function rv(a,b){switch(b){case "PNG":return"PNG";case "PDF":return"PDF";case "JPG":return"JPG";default:throw new TypeError('expected FileFormat for property "'+a+'", found: '+JSON.stringify(b));}}
function sv(a,b){switch(b){case "LOSSLESS":return"LOSSLESS";case "LOSSY":return"LOSSY";case "NONE":return"NONE";default:throw new TypeError('expected OptimizationStrategy for property "'+a+'", found: '+JSON.stringify(b));}}function tv(a,b){switch(b){case "PRINT":return"PRINT";case "SCREEN":return"SCREEN";case "THUMBNAIL":return"THUMBNAIL";default:throw new TypeError('expected ExportMediaQuality for property "'+a+'", found: '+JSON.stringify(b));}}
function uv(a,b){switch(b){case "HIGH":return"HIGH";case "MEDIUM":return"MEDIUM";case "LOW":return"LOW";default:throw new TypeError('expected Priority for property "'+a+'", found: '+JSON.stringify(b));}}function vv(a,b){switch(b){case "COMPLETE":return"COMPLETE";case "FAILED":return"FAILED";case "CREATED":return"CREATED";default:throw new TypeError('expected ExportStatus for property "'+a+'", found: '+JSON.stringify(b));}}
function wv(a){this.Yt=a.Yt;this.Pk=a.Pk;this.zK=a.zK;this.HT=a.HT;this.uQ=a.uQ;this.pw=a.pw;this.wX=a.wX;this.AX=a.AX;this.dY=a.dY;this.aX=a.aX||[];this.CP=a.CP}
function xv(a){return{attachment:hb("attachment",a.Yt),docId:ib("docId",a.Pk),docVersion:eb("docVersion",a.zK),docMedia:jb(yv,"docMedia",a.HT),spec:jb(zv,"spec",a.uQ),priority:mb(uv,"priority",a.pw),pollableJob:hb("pollableJob",a.wX),prefetchDocument:hb("prefetchDocument",a.AX),renderSpec:jb(Av,"renderSpec",a.dY),outputSpecs:kb(Bv,"outputSpecs",a.aX),schema:lb(Cs,"schema",a.CP)}}function Cv(a){return{bleedMicrons:eb("bleedMicrons",a.X$),resizeBleedBackground:gb("resizeBleedBackground",a.fba)}}
function Av(a){return{bleed:jb(Cv,"bleed",a.cu),crops:gb("crops",a.Dr),mediaQuality:lb(tv,"mediaQuality",a.EA),mediaDpi:db("mediaDpi",a.ss),pages:fb(a.O),watermark:gb("watermark",a.Hba),scaleFactor:eb("scaleFactor",a.Fd),removeCanvas:hb("removeCanvas",a.Us)}}function Dv(a){return{type:lb(Ev,"type",a.type),queue:jb(Fv,"queue",a.queue),workflow:jb(Gv,"workflow",a.wh)}}
function Ev(a,b){switch(b){case "WORKFLOW":return"WORKFLOW";case "QUEUE":return"QUEUE";default:throw new TypeError('expected Destination2Type for property "'+a+'", found: '+JSON.stringify(b));}}function Fv(a){return{queueName:ib("queueName",a.aba),token:G("token",a.yo),expiryHours:eb("expiryHours",a.raa)}}function Gv(a){return{taskToken:ib("taskToken",a.wba)}}
function Bv(a){return{destination:jb(Dv,"destination",a.destination),format:lb(rv,"format",a.format),pages:fb(a.O),jpg:jb(Hv,"jpg",a.sA),png:jb(Iv,"png",a.oB),pdf:jb(Jv,"pdf",a.Saa)}}function Hv(a){return{width:eb("width",a.width),height:eb("height",a.height),jpgQuality:eb("jpgQuality",a.Oj),targetImageSizeKb:eb("targetImageSizeKb",a.xx),zipped:hb("zipped",a.BI)}}
function Iv(a){return{width:eb("width",a.width),height:eb("height",a.height),zipped:hb("zipped",a.BI),optimizationStrategy:mb(sv,"optimizationStrategy",a.gO)}}function Jv(a){return{rasterizePages:hb("rasterizePages",a.bba)}}function Kv(a){this.type=a.type;this.cu=a.cu;this.Dr=a.Dr;this.destination=a.destination;this.ss=a.ss;this.format=a.format;this.gO=a.gO;this.EA=a.EA;this.O=a.O||[];this.xx=a.xx;this.rV=a.rV;this.nV=a.nV;this.BI=a.BI;this.Oj=a.Oj;this.Us=a.Us}Kv.prototype.eb=function(){return this.type};
Kv.prototype.Cb=function(){return this.O};
function zv(a){return{type:lb(Lv,"type",a.type),bleed:hb("bleed",a.cu),crops:hb("crops",a.Dr),destination:mb(qv,"destination",a.destination),mediaDpi:db("mediaDpi",a.ss),format:lb(rv,"format",a.format),optimizationStrategy:mb(sv,"optimizationStrategy",a.gO),mediaQuality:lb(tv,"mediaQuality",a.EA),pages:fb(a.O),targetImageSizeKb:eb("targetImageSizeKb",a.xx),imageWidth:eb("imageWidth",a.rV),imageHeight:eb("imageHeight",a.nV),zipped:hb("zipped",a.BI),jpgQuality:eb("jpgQuality",a.Oj),removeCanvas:hb("removeCanvas",
a.Us)}}function Lv(a,b){switch(b){case "CUSTOM":return"CUSTOM";case "PRINT":return"PRINT";case "SCREEN":return"SCREEN";default:throw new TypeError('expected ExportType for property "'+a+'", found: '+JSON.stringify(b));}}function Mv(a){this.wj=a.wj}Mv.prototype.SL=function(){return this.wj};function Nv(a){return new Mv({wj:Pa(Ov,"export",a)})}function Pv(a){this.id=a.id;this.aB=a.aB;this.status=a.status}Pv.prototype.u=function(){return this.id};Pv.prototype.vg=function(){return this.status};
function Ov(a){return new Pv({id:A("id",a),aB:F(Qv,"output",a),status:Ra(vv,"status",a)})}function Rv(a){this.title=a.title;this.UE=a.UE||[]}Rv.prototype.pb=function(){return this.title};function Qv(a){return new Rv({title:C("title",a),UE:Qa(Sv,"exportBlobs",a)})}function Tv(a){this.bucket=a.bucket;this.key=a.key;this.page=a.page;this.url=a.url;this.width=a.width;this.height=a.height}f=Tv.prototype;f.getKey=function(){return this.key};f.R=function(){return this.page};f.ma=function(){return this.url};
f.l=function(){return this.width};f.o=function(){return this.height};function Sv(a){return new Tv({bucket:B("bucket",a),key:B("key",a),page:y("page",a),url:C("url",a),width:A("width",a),height:A("height",a)})}function Uv(a){this.Yt=a.Yt;this.id=a.id}Uv.prototype.u=function(){return this.id};function Vv(a){this.wj=a.wj}Vv.prototype.SL=function(){return this.wj};function Wv(a){return new Vv({wj:Pa(Ov,"export",a)})}function Xv(a){this.id=a.id}Xv.prototype.u=function(){return this.id};
function Yv(){}function Zv(){return new Yv};function $v(a,b){this.N=a;this.path="/export";this.vN=void 0!=b?b.vN:1E3;this.lW=void 0!=b?b.lW:3E4;this.AV=void 0!=b?b.AV:1.6}$v.prototype.UD=function(a){var b=this;return wj(this.N,this.path,xv(a)).get(0).then(La).then(Nv).bind(this).then(function(a){w(a.wj.id);var d=a.wj.id;return aw(b,a.wj,b.vN).catch(P.CancellationError,function(a){return bw(b,new Xv({id:d})).finally(function(){return P.reject(a)})})})};
function aw(a,b,c){c=Math.max(c||0,a.vN);return"FAILED"===b.status?P.reject(b):"CREATED"!==b.status?P.resolve(b):P.delay(c).cancellable().bind(a).then(function(){Ca(!!b.id,"Job id required to get an export");return this.SL(new Uv({id:b.id,Yt:!0}))}).then(function(a){return aw(this,a.wj,Math.min(c*this.AV,this.lW))})}$v.prototype.SL=function(a){return yj(this.N,this.path+"/"+encodeURIComponent(a.id+"")+("?attachment\x3d"+encodeURIComponent(a.Yt+""))).get(0).then(La).then(Wv)};
function bw(a,b){return Pk(a.N,a.path+"/"+encodeURIComponent(b.id+"")).get(0).then(La).then(Zv)};var cw={n$:"FACEBOOK",t$:"GOOGLE",y$:"LINKEDIN",A$:"PINTEREST",K$:"TUMBLR",L$:"TWITTER",P$:"WEIBO"};function dw(a,b){switch(b){case "FACEBOOK":return"FACEBOOK";case "GOOGLE":return"GOOGLE";case "LINKEDIN":return"LINKEDIN";case "PINTEREST":return"PINTEREST";case "TUMBLR":return"TUMBLR";case "TWITTER":return"TWITTER";case "WEIBO":return"WEIBO";default:throw new TypeError('expected Platform for property "'+a+'", found: '+JSON.stringify(b));}}
function ew(a,b){switch(b){case "FACEBOOK":return"FACEBOOK";case "GOOGLE":return"GOOGLE";case "LINKEDIN":return"LINKEDIN";case "PINTEREST":return"PINTEREST";case "TUMBLR":return"TUMBLR";case "TWITTER":return"TWITTER";case "WEIBO":return"WEIBO";default:throw new TypeError('expected Platform for property "'+a+'", found: '+JSON.stringify(b));}}
function fw(a,b){switch(b){case "GET_BASIC_PROFILE":return"GET_BASIC_PROFILE";case "GET_EMAIL":return"GET_EMAIL";case "PUBLISH":return"PUBLISH";case "PUBLISH_TO_GROUP":return"PUBLISH_TO_GROUP";case "PUBLISH_TO_PAGE":return"PUBLISH_TO_PAGE";default:throw new TypeError('expected Permission for property "'+a+'", found: '+JSON.stringify(b));}}
function gw(a,b){switch(b){case "GET_BASIC_PROFILE":return"GET_BASIC_PROFILE";case "GET_EMAIL":return"GET_EMAIL";case "PUBLISH":return"PUBLISH";case "PUBLISH_TO_GROUP":return"PUBLISH_TO_GROUP";case "PUBLISH_TO_PAGE":return"PUBLISH_TO_PAGE";default:throw new TypeError('expected Permission for property "'+a+'", found: '+JSON.stringify(b));}}
function hw(a,b){switch(b){case "DEFAULT":return"DEFAULT";case "PAGE":return"PAGE";case "GROUP":return"GROUP";default:throw new TypeError('expected TargetType for property "'+a+'", found: '+JSON.stringify(b));}}function iw(a,b){switch(b){case "DEFAULT":return"DEFAULT";case "PAGE":return"PAGE";case "GROUP":return"GROUP";default:throw new TypeError('expected TargetType for property "'+a+'", found: '+JSON.stringify(b));}}
function jw(a){this.platform=a.platform;this.gR=a.gR;this.ev=a.ev||[];this.tu=a.tu||[];this.username=a.username}jw.prototype.Yf=function(){return this.username};function kw(a){return new jw({platform:Ra(ew,"platform",a),gR:Ma("userDeniedAuthorization",a),ev:Ta(gw,"grantedPermissions",a),tu:Ta(gw,"deniedPermissions",a),username:C("username",a)})};var lw={neverShowReplacePageContentWarning:"aa"};function mw(a){this.N=a;this.path="/profile"}mw.prototype.va=P.method(function(a){return yj(this.N,this.path+"/users/"+encodeURIComponent(a)).get(0).then(nw)});function ow(a,b){return yj(a.N,a.path+"/users/"+encodeURIComponent(b)+"?detailed").get(0).then(pw)}
function qw(a){return yj(a.N,a.path+"/user/uiinfo").get(0).then(function(a){for(var c=_.invert(lw),d=ma(Object.keys(a)),e=d.next();!e.done;e=d.next())e=e.value,c[e]&&(a[c[e]]=a[e],delete a[e]);return a})}function rw(a,b,c){return qw(a).then(function(a){lw[b]&&(delete a[b],b=lw[b]);if(a[b]===c)return a;a[b]=c;return wj(this.N,this.path+"/user/uiinfo",a).get(0)}.bind(a))}function sw(a,b){return wj(a.N,a.path+"/brands/"+encodeURIComponent(b.brand),b).get(0).then(tw)}
mw.prototype.fa=function(a){return yj(this.N,this.path+"/brands/"+encodeURIComponent(a)).get(0).then(uw)};mw.prototype.wY=P.method(function(a){var b=this.path+"/brands/"+encodeURIComponent(a.fa())+"/invitations";return wj(this.N,b,a).spread(vw)});
P.method(function(a){a=this.path+"/brands/"+encodeURIComponent(a.fa())+"/invitations?"+(null!=a.Bb()?"\x26continuation\x3d"+encodeURIComponent(a.Bb()):"")+(null!=a.Ad()?"\x26limit\x3d"+encodeURIComponent(a.Ad()):"")+(a.countOnly?"\x26countOnly\x3d"+encodeURIComponent(a.countOnly):"");return yj(this.N,a).spread(ww)});P.method(function(a){var b=this.path+"/brands/"+encodeURIComponent(a.fa())+"/invitations?update\x3dtrue";return wj(this.N,b,a).spread(xw)});
mw.prototype.Sr=P.method(function(a){a=this.path+"/brands/"+encodeURIComponent(a.fa())+"/members?"+(a.includeAvatars?"\x26includeAvatars\x3d"+encodeURIComponent(a.includeAvatars):"")+(a.includeEmails?"\x26includeEmails\x3d"+encodeURIComponent(a.includeEmails):"")+(a.countOnly?"\x26countOnly\x3d"+encodeURIComponent(a.countOnly):"")+(null!=a.Bb()?"\x26continuation\x3d"+encodeURIComponent(a.Bb()):"")+(null!=a.Ad()?"\x26limit\x3d"+encodeURIComponent(a.Ad()):"")+(null!=a.uF()?"\x26users\x3d"+encodeURIComponent(a.uF().join(",")):
"");return yj(this.N,a).spread(yw)});P.method(function(a){var b=this.path+"/brands/"+encodeURIComponent(a.fa())+"/members";return wj(this.N,b,a).spread(zw)});function Aw(a,b){return yj(a.N,a.path+"/users/"+encodeURIComponent(b.user)+"/oauth/"+encodeURIComponent(b.platform)).get(0).then(La).then(Bw)};var Am="MEMBER";function Qh(a,b){switch(b){case "MEMBER":return Am;case "DESIGNER":return"DESIGNER";case "ADMIN":return"ADMIN";case "OWNER":return"OWNER";default:throw new TypeError('expected BrandUserRole for property "'+a+'", found: '+JSON.stringify(b));}}function Cw(a,b){switch(b){case "PENDING":return"PENDING";case "SUCCEEDED":return"SUCCEEDED";case "FAILED":return"FAILED";default:throw new TypeError('expected AvatarBundleStatus for property "'+a+'", found: '+JSON.stringify(b));}}
function Dw(a,b){switch(b){case "PENDING":return"PENDING";case "SUCCEEDED":return"SUCCEEDED";case "FAILED":return"FAILED";default:throw new TypeError('expected AvatarBundleStatus for property "'+a+'", found: '+JSON.stringify(b));}}
function Ew(a,b){switch(b){case "AD":return"AD";case "AE":return"AE";case "AF":return"AF";case "AG":return"AG";case "AI":return"AI";case "AL":return"AL";case "AM":return"AM";case "AO":return"AO";case "AQ":return"AQ";case "AR":return"AR";case "AS":return"AS";case "AT":return"AT";case "AU":return"AU";case "AW":return"AW";case "AX":return"AX";case "AZ":return"AZ";case "BA":return"BA";case "BB":return"BB";case "BD":return"BD";case "BE":return"BE";case "BF":return"BF";case "BG":return"BG";case "BH":return"BH";
case "BI":return"BI";case "BJ":return"BJ";case "BL":return"BL";case "BM":return"BM";case "BN":return"BN";case "BO":return"BO";case "BQ":return"BQ";case "BR":return"BR";case "BS":return"BS";case "BT":return"BT";case "BV":return"BV";case "BW":return"BW";case "BY":return"BY";case "BZ":return"BZ";case "CA":return"CA";case "CC":return"CC";case "CD":return"CD";case "CF":return"CF";case "CG":return"CG";case "CH":return"CH";case "CI":return"CI";case "CK":return"CK";case "CL":return"CL";case "CM":return"CM";
case "CN":return"CN";case "CO":return"CO";case "CR":return"CR";case "CU":return"CU";case "CV":return"CV";case "CW":return"CW";case "CX":return"CX";case "CY":return"CY";case "CZ":return"CZ";case "DE":return"DE";case "DJ":return"DJ";case "DK":return"DK";case "DM":return"DM";case "DO":return"DO";case "DZ":return"DZ";case "EC":return"EC";case "EE":return"EE";case "EG":return"EG";case "EH":return"EH";case "ER":return"ER";case "ES":return"ES";case "ET":return"ET";case "FI":return"FI";case "FJ":return"FJ";
case "FK":return"FK";case "FM":return"FM";case "FO":return"FO";case "FR":return"FR";case "GA":return"GA";case "GB":return"GB";case "GD":return"GD";case "GE":return"GE";case "GF":return"GF";case "GG":return"GG";case "GH":return"GH";case "GI":return"GI";case "GL":return"GL";case "GM":return"GM";case "GN":return"GN";case "GP":return"GP";case "GQ":return"GQ";case "GR":return"GR";case "GS":return"GS";case "GT":return"GT";case "GU":return"GU";case "GW":return"GW";case "GY":return"GY";case "HK":return"HK";
case "HM":return"HM";case "HN":return"HN";case "HR":return"HR";case "HT":return"HT";case "HU":return"HU";case "ID":return"ID";case "IE":return"IE";case "IL":return"IL";case "IM":return"IM";case "IN":return"IN";case "IO":return"IO";case "IQ":return"IQ";case "IR":return"IR";case "IS":return"IS";case "IT":return"IT";case "JE":return"JE";case "JM":return"JM";case "JO":return"JO";case "JP":return"JP";case "KE":return"KE";case "KG":return"KG";case "KH":return"KH";case "KI":return"KI";case "KM":return"KM";
case "KN":return"KN";case "KP":return"KP";case "KR":return"KR";case "KW":return"KW";case "KY":return"KY";case "KZ":return"KZ";case "LA":return"LA";case "LB":return"LB";case "LC":return"LC";case "LI":return"LI";case "LK":return"LK";case "LR":return"LR";case "LS":return"LS";case "LT":return"LT";case "LU":return"LU";case "LV":return"LV";case "LY":return"LY";case "MA":return"MA";case "MC":return"MC";case "MD":return"MD";case "ME":return"ME";case "MF":return"MF";case "MG":return"MG";case "MH":return"MH";
case "MK":return"MK";case "ML":return"ML";case "MM":return"MM";case "MN":return"MN";case "MO":return"MO";case "MP":return"MP";case "MQ":return"MQ";case "MR":return"MR";case "MS":return"MS";case "MT":return"MT";case "MU":return"MU";case "MV":return"MV";case "MW":return"MW";case "MX":return"MX";case "MY":return"MY";case "MZ":return"MZ";case "NA":return"NA";case "NC":return"NC";case "NE":return"NE";case "NF":return"NF";case "NG":return"NG";case "NI":return"NI";case "NL":return"NL";case "NO":return"NO";
case "NP":return"NP";case "NR":return"NR";case "NU":return"NU";case "NZ":return"NZ";case "OM":return"OM";case "PA":return"PA";case "PE":return"PE";case "PF":return"PF";case "PG":return"PG";case "PH":return"PH";case "PK":return"PK";case "PL":return"PL";case "PM":return"PM";case "PN":return"PN";case "PR":return"PR";case "PS":return"PS";case "PT":return"PT";case "PW":return"PW";case "PY":return"PY";case "QA":return"QA";case "RE":return"RE";case "RO":return"RO";case "RS":return"RS";case "RU":return"RU";
case "RW":return"RW";case "SA":return"SA";case "SB":return"SB";case "SC":return"SC";case "SD":return"SD";case "SE":return"SE";case "SG":return"SG";case "SH":return"SH";case "SI":return"SI";case "SJ":return"SJ";case "SK":return"SK";case "SL":return"SL";case "SM":return"SM";case "SN":return"SN";case "SO":return"SO";case "SR":return"SR";case "SS":return"SS";case "ST":return"ST";case "SV":return"SV";case "SX":return"SX";case "SY":return"SY";case "SZ":return"SZ";case "TC":return"TC";case "TD":return"TD";
case "TF":return"TF";case "TG":return"TG";case "TH":return"TH";case "TJ":return"TJ";case "TK":return"TK";case "TL":return"TL";case "TM":return"TM";case "TN":return"TN";case "TO":return"TO";case "TR":return"TR";case "TT":return"TT";case "TV":return"TV";case "TW":return"TW";case "TZ":return"TZ";case "UA":return"UA";case "UG":return"UG";case "UM":return"UM";case "US":return"US";case "UY":return"UY";case "UZ":return"UZ";case "VA":return"VA";case "VC":return"VC";case "VE":return"VE";case "VG":return"VG";
case "VI":return"VI";case "VN":return"VN";case "VU":return"VU";case "WF":return"WF";case "WS":return"WS";case "YE":return"YE";case "YT":return"YT";case "ZA":return"ZA";case "ZM":return"ZM";case "ZW":return"ZW";case "ZZ":return"ZZ";default:throw new TypeError('expected CountryCode for property "'+a+'", found: '+JSON.stringify(b));}}
function Fw(a,b){switch(b){case "ROOT":return"ROOT";case "USER":return"USER";case "REVIEWER":return"REVIEWER";case "ETCHER":return"ETCHER";case "SUPPORT":return"SUPPORT";case "THIRD_PARTY":return"THIRD_PARTY";case "FUSION":return"FUSION";case "MARKETPLACE_ADMIN":return"MARKETPLACE_ADMIN";default:throw new TypeError('expected UserRole for property "'+a+'", found: '+JSON.stringify(b));}}
function Gw(a){this.platform=a.platform;this.valid=a.valid;this.permissions=a.permissions||[];this.ev=a.ev||[];this.tu=a.tu||[];this.username=a.username}Gw.prototype.Yf=function(){return this.username};function Hw(a){return new Gw({platform:Ra(ew,"platform",a),valid:Ma("valid",a),permissions:Ta(gw,"permissions",a),ev:Ta(gw,"grantedPermissions",a),tu:Ta(gw,"deniedPermissions",a),username:C("username",a)})}function Iw(a){this.user=a.user;this.platform=a.platform}Iw.prototype.va=function(){return this.user};
function Jw(a){this.summary=a.summary}function Bw(a){return new Jw({summary:Pa(Hw,"summary",a)})}function Kw(a){this.version=a.version;this.sizes=a.sizes||new Map;this.status=a.status}Kw.prototype.getVersion=function(){return this.version};Kw.prototype.vg=function(){return this.status};function Lw(a){return{version:db("version",a.version),sizes:nb(Mw,"sizes",a.sizes),status:mb(Cw,"status",a.status)}}
function Nw(a){return new Kw({version:y("version",a),sizes:Ua(Ow,"sizes",a),status:Sa(Dw,"status",a)})}function Pw(a){this.size=a.size;this.width=a.width;this.height=a.height;this.url=a.url}Pw.prototype.Gp=function(){return this.size};Pw.prototype.l=function(){return this.width};Pw.prototype.o=function(){return this.height};Pw.prototype.ma=function(){return this.url};function Mw(a){return{size:db("size",a.size),width:db("width",a.width),height:db("height",a.height),url:ib("url",a.url)}}
function Ow(a){return new Pw({size:y("size",a),width:y("width",a),height:y("height",a),url:B("url",a)})}function ao(a){this.wg=a.wg;this.name=a.name}ao.prototype.getName=function(){return this.name};function Qw(a){return new ao({wg:B("hexString",a),name:C("name",a)})}function Zn(a){this.bd=a.bd||[];this.name=a.name}Zn.prototype.ug=function(){return this.bd};Zn.prototype.getName=function(){return this.name};function Rw(a){return new Zn({bd:Qa(Qw,"colors",a),name:C("name",a)})}
function Sw(a){this.family=a.family;this.size=a.size;this.bold=a.bold;this.italic=a.italic;this.media=a.media}Sw.prototype.Gp=function(){return this.size};Sw.prototype.Jb=function(){return this.media};function Tw(a){return new Sw({family:C("family",a),size:y("size",a),bold:Na("bold",a),italic:Na("italic",a),media:F(fn,"media",a)})}function Uw(a){this.name=a.name;this.font=a.font}Uw.prototype.getName=function(){return this.name};
function Vw(a){return new Uw({name:C("name",a),font:F(Tw,"font",a)})}function Ww(a){this.name=a.name;this.yC=a.yC||[]}Ww.prototype.getName=function(){return this.name};function Xw(a){return new Ww({name:C("name",a),yC:Qa(Vw,"textStyles",a)})}function Yw(a){this.Nb=a.Nb;this.xy=a.xy||[];this.xC=a.xC||[]}Yw.prototype.tp=function(){return this.Nb};function Zw(a){return new Yw({Nb:F(Qw,"brandColor",a),xy:Qa(Rw,"colorPalettes",a),xC:Qa(Xw,"textStylePalettes",a)})}
function $w(a){this.id=a.id;this.username=a.username;this.nB=a.nB;this.displayName=a.displayName;this.sM=a.sM;this.Kd=a.Kd;this.yb=a.yb;this.uD=a.uD;this.qH=a.qH||[];this.locale=a.locale;this.hE=a.hE}f=$w.prototype;f.u=function(){return this.id};f.Yf=function(){return this.username};f.Hz=function(){return this.nB};f.ob=function(){return this.displayName};f.Vr=function(){return this.Kd};f.Qi=function(){return this.yb};f.HU=function(){return this.uD};f.cs=function(){return this.qH};f.Vf=function(){return this.locale};function ax(){this.enabled=null;this.allowedReferrers=[]}ax.prototype.isEnabled=function(){return this.enabled};function bx(){this.id="";this.brandname=this.displayName=null;this.thirdParty=this.layoutContributor=this.contributor=this.personal=!1;this.billingInfo=this.brandKit=this.apiSettings=null}f=bx.prototype;f.u=function(){return this.id};f.ob=function(){return this.displayName};f.ML=function(){return this.brandname};f.DV=function(){return this.contributor};f.JV=function(){return this.layoutContributor};
f.Ph=function(){return this.personal};f.NV=function(){return this.thirdParty};f.up=function(){return this.brandKit?Zw(this.brandKit):null};function tw(a){if(!a)return null;a=Hf(bx,a);var b;b=(b=a.apiSettings)?Hf(ax,b):null;a.apiSettings=b;return a}function cx(a){a=void 0===a?{}:a;this.id=a.id||"";this.displayName=a.displayName||null;this.brandname=a.Y$||null;this.personal=a.Js||!1;this.contributor=a.caa||!1;this.layoutContributor=a.Kaa||!1;this.thirdParty=a.yba||!1;this.brandColor=a.Nb||null}f=cx.prototype;
f.u=function(){return this.id};f.ob=function(){return this.displayName};f.ML=function(){return this.brandname};f.DV=function(){return this.contributor};f.JV=function(){return this.layoutContributor};f.Ph=function(){return this.personal};f.NV=function(){return this.thirdParty};f.tp=function(){return this.brandColor};function uw(a){return a?Hf(cx,a):null}
function dx(){this.brand="";this.owner=this.billingInfo=this.hiddenMagicTemplates=this.personal=this.brandKit=this.apiSettings=this.displayName=this.brandname=null}f=dx.prototype;f.Do=function(a){this.brand=a;return this};f.u=function(){return this.brand};f.Et=function(a){this.brandname=a;return this};f.getName=function(){return this.brandname};function ex(a,b){a.displayName=b;return a}f.ob=function(){return this.displayName};function gx(a){a.personal=!1;return a}
function hx(a){a=void 0===a?{}:a;this.id=a.id||"UNKNOWN_USER_ID";this.username=a.username||"";this.personalBrand=a.nB||"";this.displayName=a.displayName||"";this.homepage=a.sM||null;this.city=a.Kd||null;this.countryCode=a.yb||null;this.avatar=a.uD||null;this.roles=a.qH||[];this.deactivated=a.hE||!1;this.locale=a.locale||"en"}f=hx.prototype;f.u=function(){return this.id};f.Yf=function(){return this.username};f.Hz=function(){return this.personalBrand};f.ob=function(){return this.displayName};f.Vr=function(){return this.city};
f.Qi=function(){return this.countryCode};f.sp=function(){return this.avatar};f.cs=function(){return this.roles};function nw(a){if(!a)return null;a=Hf(hx,a);a.avatar&&(a.avatar=Nw(a.avatar));return a}function Hk(a){return nw(a)}
f.AC=function(){var a=Object.assign({},this,{avatar:this.avatar&&Lw(this.avatar)});return new $w({id:B("id",a),username:C("username",a),nB:C("personalBrand",a),displayName:C("displayName",a),sM:C("homepage",a),Kd:C("city",a),yb:Sa(Ew,"countryCode",a),uD:Pa(Nw,"avatar",a),qH:Ta(Fw,"roles",a),locale:B("locale",a),hE:Ma("deactivated",a)})};f.IU=function(a){var b=this.sp();return b&&(a=b.sizes.get(a))?a.ma():null};function ix(){}
function jx(){this.id="";this.creationDate=0;this.temporary=this.deactivated=!1;this.email=this.displayName="";this.emailVerified=!1;this.emailStatus=null;this.username="";this.userNotificationSettings=this.countryCode=this.city=this.homepage=null;this.avatars=[];this.apiDetails=this.google=this.facebook=this.credentials=this.avatar=null;this.roles=[];this.personalBrand="";this.brands={};this.uiInfo=null;this.features=[];this.locale="";this.profession=null}f=jx.prototype;f.u=function(){return this.id};
f.ob=function(){return this.displayName};f.tf=function(){return this.email};f.FV=function(){return this.emailStatus?"VERIFIED"===this.emailStatus:this.emailVerified};f.Yf=function(){return this.username};f.Vr=function(){return this.city};f.Qi=function(){return this.countryCode};f.AY=function(a){this.countryCode=a};f.sp=function(){return this.avatar};f.cs=function(){return this.roles};f.Hz=function(){return this.personalBrand};f.JU=function(){return this.brands};f.Nz=function(){return this.uiInfo};
f.Vf=function(){return this.locale};f.setLocale=function(a){this.locale=a};function pw(a){var b;if(!a)return null;b=Hf(jx,a);b.avatar&&(b.avatar=Nw(b.avatar));a.userNotificationSettings&&(b.userNotificationSettings=Hf(ix,a.userNotificationSettings));return b}f.IU=function(a){var b=this.sp();return b&&(a=b.sizes.get(a))?a.ma():null};
f.AC=function(){return nw({id:this.id,username:this.username,personalBrand:this.personalBrand,displayName:this.displayName,homepage:this.homepage,city:this.city,countryCode:this.countryCode,avatar:this.avatar&&Lw(this.avatar),roles:this.roles,deactivated:this.deactivated,locale:this.locale})};var kx=Nw({version:0,sizes:{50:{size:50,width:50,height:50,url:"https://static.canva.com/static/images/default_avatar_50.png"},200:{size:200,width:200,height:200,url:"https://static.canva.com/static/images/default_avatar_200.png"}}});function lx(){}
lx.prototype.tf=function(){return this.email};lx.prototype.Si=function(){return this.role};function mx(){}mx.prototype.oi=function(a){this.brand=a;return this};mx.prototype.fa=function(){return this.brand};function nx(a,b){a.invitees=b;return a}function ox(a,b){a.utmContent=b;return a}function px(){}function vw(a){return Object.freeze(Hf(px,a))}function qx(){}qx.prototype.Bb=function(){return this.continuation};qx.prototype.getCount=function(){return this.count};
function ww(a){return Object.freeze(Hf(qx,a))}function rx(a){a=void 0===a?{}:a;this.user=a.user;this.email=a.email;this.role=a.cj}rx.prototype.va=function(){return this.user};rx.prototype.tf=function(){return this.email};rx.prototype.Si=function(){return this.role};function sx(a){a=Hf(rx,a);a.user=nw(a.user);return Object.freeze(a)}function tx(){}f=tx.prototype;f.oi=function(a){this.brand=a;return this};f.fa=function(){return this.brand};f.pi=function(a){this.continuation=a;return this};f.Bb=function(){return this.continuation};
f.lg=function(a){this.limit=a;return this};f.Ad=function(){return this.limit};function ux(a){a.includeAvatars=!0;return a}function vx(a){a.includeEmails=!0;return a}function wx(a){a.countOnly=!0;return a}function xx(a,b){a.users=b;return a}f.uF=function(){return this.users};function yx(a){a=void 0===a?{}:a;this.members=a.yn}yx.prototype.$u=function(){return this.members};yx.prototype.Bb=function(){return this.continuation};yx.prototype.getCount=function(){return this.count};
function yw(a){a=Hf(yx,a);a.members&&(a.members=a.members.map(sx));return Object.freeze(a)}function zx(){}zx.prototype.$u=function(){return this.members};zx.prototype.fa=function(){return this.brand};function zw(a){a=Hf(zx,a);a.members&&(a.members=a.members.map(sx));return Object.freeze(a)}function Ax(){}function xw(a){return Object.freeze(Hf(Ax,a))};function Bx(){this.N=Hb;this.path="/social"};function Cx(){}function Dx(){var a=Hf(Cx,window.clientInfo),b;b=Hf(Ex,a.brandInfo);b.brand=uw(b.brand);b.subscription&&(b.subscription=fj(b.subscription));b=Object.freeze(b);a.brandInfo=b;b=Hf(Fx,a.user);b.avatar&&(b.avatar=Nw(b.avatar));b=Object.freeze(b);a.user=b;return Object.freeze(a)}function Gx(a){return a.brandInfo}function Hx(a){return a.user}function Ex(){}Ex.prototype.fa=function(){return this.brand};Ex.prototype.up=function(){return this.brandKit?Zw(this.brandKit):null};
Ex.prototype.getSubscription=function(){return this.subscription||null};function Ix(a){return a.brandMembersCount}function Jx(a){return a.brandInvitationsCount}function Fx(){}f=Fx.prototype;f.u=function(){return this.id};f.HU=function(){return this.avatar};f.tf=function(){return this.email};f.FV=function(){return this.emailVerified};f.Yf=function(){return this.username};f.ob=function(){return this.displayName};f.cs=function(){return this.roles};f.Hz=function(){return this.personalBrand};f.Nz=function(){return this.uiInfo};
f.Vf=function(){return this.locale};f.zz=function(){return this.country};f.AC=function(){return nw({id:this.u(),username:this.Yf(),personalBrand:this.Hz(),displayName:this.ob(),avatar:Lw(this.HU()),roles:this.cs(),countryCode:this.zz(),locale:this.Vf()})};function Kx(){this.N=Hb;this.url="/session"}function Lx(a){return wj(a.N,a.url+"/brand?invalidateCache",null)}function Mx(a){return wj(a.N,a.url+"/user?invalidateCache",null)};function Nx(a){this.N=a;this.url="/shares"}Nx.prototype.cM=function(a){return yj(this.N,this.url+"/"+encodeURIComponent(a.id)).get(0).then(La).then(Ox)};function Px(a,b){return wj(a.N,a.url+"/targetqueues",Qx(b)).get(0).then(La).then(Rx)}
function Sx(a,b){return yj(a.N,a.url+"/targetqueues?"+(b.user?"\x26user\x3d"+encodeURIComponent(b.user):"")+(b.D?"\x26brand\x3d"+encodeURIComponent(b.D):"")+(b.ef?"\x26targetType\x3d"+encodeURIComponent(b.ef):"")+(b.externalId?"\x26externalId\x3d"+encodeURIComponent(b.externalId):"")+(b.platform?"\x26platform\x3d"+encodeURIComponent(b.platform):"")+(b.Z?"\x26continuation\x3d"+encodeURIComponent(b.Z):"")+("\x26limit\x3d"+encodeURIComponent(String(b.limit)))).get(0).then(La).then(Tx)}
function Ux(a,b){return wj(a.N,a.url+"/email/document/"+encodeURIComponent(b.lb),Vx(b)).get(0).then(La).then(Wx)}function Xx(a,b){return yj(a.N,a.url+"/email/quota/"+encodeURIComponent(b.Kw)).get(0).then(La).then(Yx)};function Zx(a,b){switch(b){case "NEW":return"NEW";case "IN_PROGRESS":return"IN_PROGRESS";case "SUCCESS":return"SUCCESS";case "FAILURE":return"FAILURE";default:throw new TypeError('expected Status for property "'+a+'", found: '+JSON.stringify(b));}}
function $x(a,b){switch(b){case "PREPARATION_REQUIRED":return"PREPARATION_REQUIRED";case "PREPARATION_STARTED":return"PREPARATION_STARTED";case "PREPARATION_COMPLETED":return"PREPARATION_COMPLETED";case "PREPARATION_FAILED":return"PREPARATION_FAILED";default:throw new TypeError('expected PreparationStatus for property "'+a+'", found: '+JSON.stringify(b));}}
function ay(a,b){switch(b){case "WAITING_FOR_MEDIA":return"WAITING_FOR_MEDIA";case "READY_FOR_UPLOAD":return"READY_FOR_UPLOAD";case "MEDIA_GENERATION_FAILED":return"MEDIA_GENERATION_FAILED";case "UPLOAD_IN_PROGRESS":return"UPLOAD_IN_PROGRESS";case "UPLOAD_COMPLETED":return"UPLOAD_COMPLETED";case "UPLOAD_FAILED":return"UPLOAD_FAILED";case "DELETED_BY_USER":return"DELETED_BY_USER";case "SKIPPED":return"SKIPPED";default:throw new TypeError('expected UploadTaskStatus for property "'+a+'", found: '+JSON.stringify(b));
}}function by(a,b){switch(b){case "UPLOAD_NOW":return"UPLOAD_NOW";case "SCHEDULE_FOR_DATE":return"SCHEDULE_FOR_DATE";case "APPEND_TO_QUEUE":return"APPEND_TO_QUEUE";case "PREPEND_TO_QUEUE":return"PREPEND_TO_QUEUE";default:throw new TypeError('expected Action for property "'+a+'", found: '+JSON.stringify(b));}}
function cy(a,b){switch(b){case "UPLOAD_NOW":return"UPLOAD_NOW";case "SCHEDULE_FOR_DATE":return"SCHEDULE_FOR_DATE";case "APPEND_TO_QUEUE":return"APPEND_TO_QUEUE";case "PREPEND_TO_QUEUE":return"PREPEND_TO_QUEUE";default:throw new TypeError('expected Action for property "'+a+'", found: '+JSON.stringify(b));}}
function dy(a,b){switch(b){case "DELETED":return"DELETED";case "RESTRICTED":return"RESTRICTED";case "UNRESTRICTED":return"UNRESTRICTED";default:throw new TypeError('expected TargetQueueStatus for property "'+a+'", found: '+JSON.stringify(b));}}function ey(a){this.platform=a.platform;this.ef=a.ef;this.externalId=a.externalId}function fy(a){return{platform:lb(dw,"platform",a.platform),targetType:lb(hw,"targetType",a.ef),externalId:G("externalId",a.externalId)}}
function gy(a){this.id=a.id;this.platform=a.platform;this.yx=a.yx;this.yS=a.yS||[];this.version=a.version;this.document=a.document;this.Wb=a.Wb;this.message=a.message;this.title=a.title;this.AA=a.AA;this.status=a.status;this.JZ=a.JZ;this.url=a.url;this.mp=a.mp;this.zT=a.zT;this.IZ=a.IZ;this.HZ=a.HZ}f=gy.prototype;f.u=function(){return this.id};f.getVersion=function(){return this.version};f.getDocument=function(){return this.document};f.pb=function(){return this.title};f.vg=function(){return this.status};
f.ma=function(){return this.url};f.NU=function(){return this.mp};function hy(a){return new gy({id:B("id",a),platform:Ra(ew,"platform",a),yx:F(iy,"targetQueue",a),yS:Qa(jy,"attachments",a),version:y("version",a),document:C("document",a),Wb:A("documentVersion",a),message:C("message",a),title:C("title",a),AA:C("linkUrl",a),status:Ra(Zx,"status",a),JZ:Sa(ay,"uploadTaskStatus",a),url:C("url",a),mp:C("errorMessage",a),zT:A("desiredUploadDate",a),IZ:A("uploadStartDate",a),HZ:A("uploadEndDate",a)})}
function ky(a){this.id=a.id;this.mf=a.mf;this.user=a.user;this.D=a.D;this.action=a.action;this.status=a.status;this.CX=a.CX;this.Hx=a.Hx||[]}ky.prototype.u=function(){return this.id};ky.prototype.va=function(){return this.user};ky.prototype.fa=function(){return this.D};ky.prototype.vg=function(){return this.status};
function ly(a){return new ky({id:B("id",a),mf:y("creationDate",a),user:B("user",a),D:B("brand",a),action:Ra(cy,"action",a),status:Ra(Zx,"status",a),CX:Sa($x,"preparationStatus",a),Hx:Qa(hy,"uploads",a)})}function my(a){this.id=a.id;this.user=a.user;this.D=a.D;this.platform=a.platform;this.ef=a.ef;this.externalId=a.externalId;this.jU=a.jU;this.kU=a.kU;this.paused=a.paused;this.wZ=a.wZ||[];this.xZ=a.xZ;this.QX=a.QX;this.qY=a.qY;this.timeZone=a.timeZone;this.status=a.status}my.prototype.u=function(){return this.id};
my.prototype.va=function(){return this.user};my.prototype.fa=function(){return this.D};my.prototype.vg=function(){return this.status};
function iy(a){return new my({id:B("id",a),user:B("user",a),D:B("brand",a),platform:Ra(ew,"platform",a),ef:Ra(iw,"targetType",a),externalId:C("externalId",a),jU:C("externalName",a),kU:C("externalThumb",a),paused:Ma("paused",a),wZ:Qa(ny,"triggerPatterns",a),xZ:y("triggerPatternsCount",a),QX:y("queuedUploadsCount",a),qY:y("scheduledUploadsCount",a),timeZone:C("timeZone",a),status:Sa(dy,"status",a)})}
function oy(a){this.user=a.user;this.D=a.D;this.document=a.document;this.Wb=a.Wb;this.O=a.O||[];this.NZ=a.NZ||[];this.message=a.message;this.title=a.title;this.AA=a.AA;this.tj=a.tj;this.oK=a.oK||[];this.st=a.st||[];this.action=a.action;this.pY=a.pY}f=oy.prototype;f.va=function(){return this.user};f.fa=function(){return this.D};f.getDocument=function(){return this.document};f.Cb=function(){return this.O};f.pb=function(){return this.title};f.we=function(){return this.tj};
function py(a){return{user:ib("user",a.user),brand:ib("brand",a.D),document:G("document",a.document),documentVersion:eb("documentVersion",a.Wb),pages:fb(a.O),userUploads:kb(qy,"userUploads",a.NZ),message:G("message",a.message),title:G("title",a.title),linkUrl:G("linkUrl",a.AA),draft:G("draft",a.tj),destinations:kb(fy,"destinations",a.oK),targetQueues:$a.Fe("targetQueues",a.st),action:lb(by,"action",a.action),scheduleDate:G("scheduleDate",a.pY)}}function ry(a){this.id=a.id;this.Ul=a.Ul}
ry.prototype.u=function(){return this.id};ry.prototype.cM=function(){return this.Ul};function sy(a){return new ry({id:B("id",a),Ul:Pa(ly,"share",a)})}function ty(a){this.id=a.id}ty.prototype.u=function(){return this.id};function uy(a){this.Ul=a.Ul}uy.prototype.cM=function(){return this.Ul};function Ox(a){return new uy({Ul:Pa(ly,"share",a)})}function vy(a){this.user=a.user;this.D=a.D;this.platform=a.platform;this.ef=a.ef;this.timeZone=a.timeZone;this.externalId=a.externalId}vy.prototype.va=function(){return this.user};
vy.prototype.fa=function(){return this.D};function Qx(a){return{user:ib("user",a.user),brand:ib("brand",a.D),platform:lb(dw,"platform",a.platform),targetType:lb(hw,"targetType",a.ef),timeZone:ib("timeZone",a.timeZone),externalId:G("externalId",a.externalId)}}function wy(a){this.yx=a.yx}function Rx(a){return new wy({yx:Pa(iy,"targetQueue",a)})}function xy(a){this.user=a.user;this.D=a.D;this.platform=a.platform;this.ef=a.ef;this.externalId=a.externalId;this.Z=a.Z;this.limit=a.limit}
xy.prototype.va=function(){return this.user};xy.prototype.fa=function(){return this.D};xy.prototype.Bb=function(){return this.Z};xy.prototype.Ad=function(){return this.limit};function yy(a){this.st=a.st||[];this.Z=a.Z}yy.prototype.Bb=function(){return this.Z};function Tx(a){return new yy({st:Qa(iy,"targetQueues",a),Z:C("continuation",a)})}function zy(a){this.d=a.d;this.h=a.h;this.m=a.m}function ny(a){return new zy({d:y("d",a),h:y("h",a),m:y("m",a)})}
function Ay(a){this.lb=a.lb;this.JT=a.JT;this.mode=a.mode;this.Xg=a.Xg;this.ta=a.ta;this.Mr=a.Mr||[];this.wc=a.wc;this.Kw=a.Kw;this.MC=a.MC;this.kH=a.kH}Ay.prototype.fc=function(){return this.lb};Ay.prototype.getExtension=function(){return this.Xg};
function Vx(a){return{documentId:ib("documentId",a.lb),documentUrl:G("documentUrl",a.JT),mode:ib("mode",a.mode),extension:G("extension",a.Xg),brandId:G("brandId",a.ta),emails:$a.Fe("emails",a.Mr),imageUrl:G("imageUrl",a.wc),senderId:G("senderId",a.Kw),utmSource:G("utmSource",a.MC),recaptchaToken:G("recaptchaToken",a.kH)}}function By(a){this.dP=a.dP}function Wx(a){return new By({dP:Na("recaptchaRequired",a)})}function Cy(a){this.Kw=a.Kw}function Dy(a){this.kp=a.kp}
function Yx(a){return new Dy({kp:y("emailsRemaining",a)})}function Ey(a){this.displayName=a.displayName;this.bucket=a.bucket;this.oV=a.oV;this.qV=a.qV;this.wc=a.wc;this.Yq=a.Yq;this.order=a.order}Ey.prototype.ob=function(){return this.displayName};Ey.prototype.Vm=function(){return this.order};function jy(a){return new Ey({displayName:C("displayName",a),bucket:B("bucket",a),oV:B("imageKey",a),qV:B("imageThumbKey",a),wc:B("imageUrl",a),Yq:B("thumbUrl",a),order:A("order",a)})}
function qy(a){return{key:ib("key",a.key),displayName:ib("displayName",a.displayName)}};function rp(){}rp=Backbone.View.extend();rp.prototype.initialize=function(a){a=_.defaults({},a,{ur:!0,content:$(),$e:!0,oo:!0});this.G=a.G;this.ur=!!a.ur;this.content=a.content;this.Ed=new Fy({style:this.Ap(),G:this.G});this.listenTo(this.Ed,"maskClick",this.blur);this.result=1;this.$e=!!a.$e;this.He=!!a.He;this.oo=!!a.oo;this.title=a.oo?a.title:"";this.qU=null;this.ix=!1};rp.MR=300;f=rp.prototype;f.blur=function(){this.ur&&(this.result=0,this.remove())};f.cancel=function(){this.result=1;this.remove()};
f.fail=function(a){this.result=3;this.qU=a||null;this.remove()};f.events=function(){return{"click .close":this.rG,"click .dialogMaskCloseButton":this.rG,"click button.done":this.ok}};f.Ap=function(){return Gy};f.ok=function(){this.result=2;this.remove()};f.rG=function(a){a.preventDefault();this.cancel()};
f.remove=function(){var a=this;this.$el.children(".dialog").addClass("disappearing");this.Ed.hide();this.ix=!1;this.trigger("hide",this.result);this.G.setTimeout(function(){a.trigger("remove",a);Backbone.View.prototype.remove.call(a)},rp.MR);return this};f.render=function(){this.$el.html(this.template(this.ai()));this.$(".content").append(this.content);this.$(".dialog").data("Canva_Views_Dialog",this);return this};
f.ai=function(){return{showCloseButton:this.$e,showDialogMaskCloseButton:this.He,showTitle:this.oo,title:this.title}};f.N8=function(a){this.$("h2").text(a);this.title=a};
f.show=function(){function a(d){d.target===d.currentTarget&&(b.off("animationend transitionend",a),c.trigger("showTransitionEnd",c))}var b,c=this;this.render();b=this.$el.children(".dialog");this.Ed.show(this.$el);this.ix=!0;this.trigger("show",this);pl(function(){b.removeClass("preparing");b.on("animationend transitionend",a)});return this};function up(a){return new P(function(a,c){this.once("hide",function(d){3!==d?a(d):c(this.qU)}.bind(this));this.show()}.bind(a))}f.template=_.template('\x3c% if (showDialogMaskCloseButton) { %\x3e\x3ca class\x3d"dialogMaskCloseButton"\x3eClose\x3c/a\x3e\x3c% } %\x3e\x3cdiv class\x3d"dialog preparing"\x3e\x3c% if (showTitle) { %\x3e\x3ch2 class\x3d"dialog__title"\x3e\x3c%- title %\x3e\x3c/h2\x3e\x3c% } %\x3e\x3cdiv class\x3d"content"\x3e\x3c/div\x3e\x3c% if (showCloseButton) { %\x3e\x3ca class\x3d"close" href\x3d"#" title\x3d"Close this dialog"\x3eClose\x3c/a\x3e\x3c% } %\x3e\x3c/div\x3e');function Hy(){}Hy=rp.extend({className:"fontUploadDialog"});Hy.create=function(a){return new Hy(a)};f=Hy.prototype;f.events=function(){return _.extend(rp.prototype.events.call(this),{"click .fontUploadDialogConfirm":this.B4,"click .fontUploadDialogFinish":this.ok,"click .fontUploadDialogCancel":this.RS})};f.initialize=function(a){rp.prototype.initialize.call(this,{G:ol,$e:!0,ur:!0,He:!1});this.error=null;this.Rf=a.Rf;this.uz=this.Rf.haa();this.opentype=opentype;this.progress=!1};
f.render=function(){rp.prototype.render.call(this);Iy(this);this.$(".fontFileInput").remove();var a=$('\x3cinput class\x3d"fontFileInput" type\x3d"file" accept\x3d".ttf,.otf,.woff"\x3e');this.$el.append(a);a.on("change",this.g4.bind(this));return this};
f.g4=function(){var a={message:this.Rf.cba()},b=this.$(".fontFileInput")[0].files;if(b.length&&/.*\.(ttf|otf|woff)$/gi.test(b[0].name)){if(this.error=null,this.eF=b[0],this.uz=this.eF.name,this.opentype){var c=new FileReader;c.onload=function(){if(c.result)try{var b=this.opentype.parse(c.result);b&&b.supported?b.names&&b.names.fullName&&b.names.fullName.en&&(this.uz=b.names.fullName.en):this.error=a}catch(e){this.error=a}else this.error=a;this.show()}.bind(this);c.readAsArrayBuffer(this.eF);return}}else this.error=
{message:this.Rf.V$()};this.show()};f.B4=function(){this.$(".fontUploadDialogDisclaimerCheck").prop("checked")?(this.progress=1,this.$(".fontUploadDialogBlurb").html(this.Rf.Waa()),this.$(".fontUploadDialogConfirm").addClass("buttonProgress").html('\x3cspan class\x3d"buttonProgressIndicator"\x3e\x3c/span\x3e\x3cspan class\x3d"buttonProgressText"\x3e'+this.Rf.Eba()+"\x26hellip;\x3c/span\x3e"),this.eF&&this.trigger("fontUpload",this.eF)):Jy(this)};
function Ky(a){return{canEditFontName:!1,error:null!=a.error?a.error.message:!1,supportUrl:null!=a.error?a.error.$H:null,supportTitle:null!=a.error?a.error.uba:"fonts",fontName:a.uz,progress:a.progress||!1,sorrySomethingWentWrong:a.Rf.pba(),pleaseSeeSupportArticle:a.Rf.Vaa(),beforeYouUpload:a.Rf.W$(),fontNameHeading:a.Rf.vaa(),ok:a.Rf.ok(),youMustConfirm:a.Rf.Jba(),iOwnThisFont:a.Rf.yaa(),uploadAway:a.Rf.Dba(),cancelUpload:a.Rf.RS()}}
function Jy(a){a.$(".fontUploadDialogDisclaimerError").addClass("on");setTimeout(function(){this.$(".fontUploadDialogDisclaimerError").removeClass("on")}.bind(a),3200)}f.le=function(a){this.error=a;Iy(this)};function Iy(a){a.$(".fontUploadDialogContents").remove();a.$(".dialog .content").append(a.PJ(Ky(a)))}f.OY=function(a){this.progress=Math.round(100*a);this.$(".buttonProgressIndicator").css("width",String(this.progress)+"%")};f.RS=function(){this.trigger("fontUploadCancel");this.cancel()};
f.PJ=_.template('\x3cdiv class\x3d"fontUploadDialogContents"\x3e\x3c% if (error) { %\x3e\x3ch2\x3e\x3c%- sorrySomethingWentWrong %\x3e\x3c/h2\x3e\x3cdiv class\x3d"fontUploadDialogError"\x3e\x3cp\x3e\x3c%- error %\x3e\x3c/p\x3e\x3c% if (supportUrl !\x3d null) { %\x3e\x3cp\x3e\x3c%- pleaseSeeSupportArticle %\x3e\x3ca href\x3d"\x3c%- supportUrl %\x3e" target\x3d"_blank"\x3e\x3c%- supportTitle %\x3e\x3c/a\x3e \x3c/p\x3e\x3c% } %\x3e\x3cdiv class\x3d"fontUploadDialogControls"\x3e\x3cbutton class\x3d"button buttonBlock buttonSubmittable fontUploadDialogFinish"\x3e\x3c%- ok %\x3e\x3c/button\x3e\x3c/div\x3e\x3c/div\x3e\x3c% } else { %\x3e\x3ch2\x3e\x3c%- beforeYouUpload %\x3e\x3c/h2\x3e\x3cdiv class\x3d"fontUploadDialogDisclaimer"\x3e\x3cp\x3e\x3cstrong\x3e\x3c%- fontNameHeading %\x3e\x3c/strong\x3e: \x3c% if (canEditFontName) { %\x3e\x3cinput class\x3d"fontUploadDialogFontName" autocomplete\x3d"off" value\x3d"\x3c%- fontName %\x3e"\x3e\x3c% } else { %\x3e\x3c%- fontName %\x3e\x3c% } %\x3e\x3c/p\x3e\x3cp\x3e\x3cspan class\x3d"fontUploadDialogDisclaimerError"\x3e\x3c%- youMustConfirm %\x3e\x3c/span\x3e\x3clabel\x3e\x3cinput class\x3d"fontUploadDialogDisclaimerCheck" type\x3d"checkbox"\x3e\x3cspan class\x3d"fontUploadDialogDisclaimerText"\x3e\x3c%- iOwnThisFont %\x3e\x3c/span\x3e\x3c/label\x3e\x3c/p\x3e\x3c/div\x3e\x3cdiv class\x3d"fontUploadDialogControls"\x3e\x3cbutton class\x3d"button buttonBlock buttonSubmittable fontUploadDialogConfirm"\x3e\x3c%- uploadAway %\x3e\x3c/button\x3e\x3cspan class\x3d"fontUploadDialogCancel"\x3e\x3c%- cancelUpload %\x3e\x3c/span\x3e\x3c/div\x3e\x3c% } %\x3e\x3c/div\x3e');function Ly(){}Ly=Backbone.View.extend({className:"multipageDialog"});f=Ly.prototype;f.initialize=function(a){this.G=ol;this.ng=0;this.XE=a.XE||[];this.Fi=void 0===a.Fi||a.Fi;this.He=!!a.He;this.Ed=new Fy({G:this.G,style:Gy});this.O=a.O;this.O.forEach(function(a){this.listenTo(a,"next",this.V8);this.listenTo(a,"back",this.X8)},this)};f.events=function(){return{click:this.Af,"click .dialogMaskCloseButton":this.hide}};
f.hide=function(){this.$el.addClass("multipageDialogDisappearing");this.Ed.hide();this.G.setTimeout(function(){this.trigger("hide")}.bind(this),300)};f.Af=function(a){$(a.target).is(".multipageDialogPage, .multipageDialogPageWrapper")&&this.Fi&&this.hide()};
f.render=function(){var a=this;(function(){a.XE.forEach(function(b){a.$el.addClass(b)})})();(function(){a.O.forEach(function(a){a.$el.detach()});a.$el.empty()})();a.He&&a.$el.append('\x3cbutton class\x3d"buttonLink dialogMaskCloseButton"\x3eClose\x3c/button\x3e');(function(){a.O.forEach(function(b){var c,d;c=$("\x3cdiv\x3e").addClass("multipageDialogPageWrapper");d=$("\x3cdiv\x3e").addClass("multipageDialogPage");c.append(d);d.append(b.render().$el);a.$el.append(c)})})();My(this,this.ng);return this};
f.show=function(){this.$el.addClass("multipageDialogAppearing");this.Ed.show(this.render().$el);this.G.setTimeout(function(){this.$el.removeClass("multipageDialogAppearing")}.bind(this),300)};f.V8=function(){var a=this.ng+1;a>=this.O.length?this.hide():My(this,a)};f.X8=function(){var a=this.ng-1;0>a?this.hide():My(this,a)};
function My(a,b){a.trigger("pageChange",a.O[b]);var c=a.$(".multipageDialogPageWrapper"),d=a.$(".multipageDialogPage");a.ng=b;c.css("transform","translateY("+-100*b+"%)");d.removeClass("multipageDialogCurrentPage");d.eq(b).addClass("multipageDialogCurrentPage")};function Ny(a){var b={},c=a.qS.dl(),d=a.Yo.l(),e=c-a.margin-a.sI.F(),g=a.sI.Wa()-c-a.margin;b.left=Math.round((g>=d||g>=e?c+a.margin:c-a.margin-d)-a.EW.F())+"px";c=a.qS.fl();d=a.Yo.o();e=c-a.margin-a.sI.w();g=a.sI.ua()-c-a.margin;b.top=Math.round((g>=d||g>=e?c+a.margin:c-a.margin-d)-a.EW.w())+"px";return b}function Oy(a){this.$x=a.$x;this.Oz=a.Oz;this.margin=a.margin||0;this.mC=a.mC}
Oy.prototype.am=function(a,b){if(0!==b.length&&0!==a.length){this.$x(a);var c=a.get(0),d=b.get(0),e=c.offsetParent||c.ownerDocument.body;b=this.Oz().get(0)||c.ownerDocument.body;c=dh(c.getBoundingClientRect());d=dh(d.getBoundingClientRect());e=dh(e.getBoundingClientRect());b=dh(b.getBoundingClientRect());Mm(d,this.margin);Mm(b,-this.margin);b=this.mC({margin:this.margin,qS:d,Yo:c,EW:e,sI:b});a.css(b)}};function Py(){}Py=rp.extend();Py.prototype.initialize=function(a){rp.prototype.initialize.call(this,_.extend(a,{G:ol}));this.sK=a.sK};Py.prototype.render=function(){rp.prototype.render.call(this);this.$(".dialog").addClass("alert");this.$(".content").append('\x3cp class\x3d"buttonContainer"\x3e\x3cbutton class\x3d"button done"\x3e'+(this.sK?this.sK:"OK")+"\x3c/button\x3e\x3c/p\x3e");return this};var Ep="top",Qy={LEFT:"left",w$:"leftTop",I$:Ep,J$:"topLeft",C$:"rightTop"};function Ry(){}Ry=rp.extend();f=Ry.prototype;f.initialize=function(a){rp.prototype.initialize.call(this,_.extend({G:ol},a));this.Qe=a.Qe||"Done";this.bx=void 0!==a.bx?a.bx:!0;this.Yx=null;this.yX=a.position instanceof Array?a.position:[a.position||Ep];this.position=null;this.Ef=_.defaults({},a.Ef,{left:0,top:0});this.$v=a.$v||!1;this.on("hide",this.sT);this.keydown=this.keydown.bind(this)};
f.V7=function(){$(document).off("keydown",this.keydown)};f.Ap=function(){return Sy};f.getCurrentPosition=function(){return this.position};f.render=function(){rp.prototype.render.call(this);this.$(".dialog").addClass("popover").addClass(this.$v?"paddingLess":"").prepend('\x3cdiv class\x3d"pointer"\x3e\x3c/div\x3e');this.bx&&this.$(".content").append('\x3cp class\x3d"buttonContainer"\x3e\x3cbutton class\x3d"button buttonBlock done"\x3e'+this.Qe+"\x3c/button\x3e\x3c/p\x3e");return this};
f.ei=function(a){if(!this.Yx){var b=_.debounce(this.am.bind(this),300);window.addEventListener("resize",b,!1);this.on("remove",function(){window.removeEventListener("resize",b,!1)})}this.show();$(document).on("keydown",this.keydown);this.on("remove",this.V7);Ty(this,a);this.am();return this};function Uy(){this.yO=this.Il=this.dialogLeft=this.dialogTop=null}
f.am=function(){for(var a,b,c=0;c<this.yX.length;c++){a=b=this.yX[c];var d=this.$v?5:13,e=this.$v?20:40,g=this.Yx,h=g.offset(),k=h.top-$(document).scrollTop(),l=g.outerWidth(),m=g.outerHeight(),n=this.$(".dialog").outerHeight(),p=this.$(".dialog").outerWidth(),q=this.$el.width(),g=new Uy,u=Math.round(h.left+l/2-p/2);switch(a){case Ep:g.dialogLeft=u+p+10>q?q-p-10:u;g.dialogLeft+=this.Ef.left;g.dialogTop=Math.round(k)+m+d+this.Ef.top;a=u-g.dialogLeft;g.Il="calc(50% - 7px + "+a+"px)";break;case "topLeft":g.dialogLeft=
h.left+p+10>q?q-p-10:h.left;g.dialogLeft+=this.Ef.left;g.dialogTop=Math.round(k)+m+d+this.Ef.top;g.Il=g.dialogLeft+d;break;case "left":g.dialogLeft=h.left+l+this.Ef.left;g.dialogTop=k-n/2+d+this.Ef.top;break;case "leftTop":g.dialogLeft=h.left+l+this.Ef.left+d;g.dialogTop=k+m/2-e+this.Ef.top;10>g.dialogTop&&(g.yO=g.dialogTop-10,g.dialogTop=10);break;case "rightTop":g.dialogLeft=h.left-p+this.Ef.left-d,g.dialogTop=k+m/2-e+this.Ef.top,10>g.dialogTop&&(g.yO=g.dialogTop-10,g.dialogTop=10)}d=a=g;e=this.$(".dialog");
if(!(d.dialogLeft+e.outerWidth()>$(window).width()||d.dialogTop+e.outerHeight()>$(window).height()))break}this.position=b;this.$(".dialog").css("top",a.dialogTop).css("left",a.dialogLeft);c=this.$(".pointer");c.removeClass(_.values(Qy).join(" ")).addClass(b);c.css("left",a.Il||"");c.css("margin-top",a.yO||"");return this};function Ty(a,b){a.sT();a.Yx=b;b.addClass("on");b.blur()}f.sT=function(){this.Yx&&this.Yx.removeClass("on")};
f.keydown=function(a){27===a.which&&(this.cancel(),a.stopPropagation(),a.preventDefault())};function Vy(a){soy.asserts.assertType(goog.isString(a.CI)||a.CI instanceof goog.soy.data.SanitizedContent,"zoomInLabel",a.CI,"string|goog.soy.data.SanitizedContent");var b=a.CI;soy.asserts.assertType(goog.isString(a.EI)||a.EI instanceof goog.soy.data.SanitizedContent,"zoomOutLabel",a.EI,"string|goog.soy.data.SanitizedContent");var c=a.EI;soy.asserts.assertType(goog.isString(a.hF)||a.hF instanceof goog.soy.data.SanitizedContent,"fullscreenModeLabel",a.hF,"string|goog.soy.data.SanitizedContent");var d=
a.hF;soy.asserts.assertType(goog.isString(a.pG)||a.pG instanceof goog.soy.data.SanitizedContent,"normalModeLabel",a.pG,"string|goog.soy.data.SanitizedContent");var e=a.pG,g=goog.asserts.assertArray(a.kf,"expected parameter 'zoomLevels' of type list\x3cstring\x3e."),h=goog.asserts.assertArray(a.i$,"expected parameter 'zoomTranslations' of type list\x3cstring\x3e."),k=goog.asserts.assertNumber(a.xm,"expected parameter 'currentZoomIndex' of type int.");soy.asserts.assertType(goog.isString(a.aF)||a.aF instanceof
goog.soy.data.SanitizedContent,"fitLabel",a.aF,"string|goog.soy.data.SanitizedContent");var l=a.aF;soy.asserts.assertType(goog.isString(a.ZE)||a.ZE instanceof goog.soy.data.SanitizedContent,"fillLabel",a.ZE,"string|goog.soy.data.SanitizedContent");var m=a.ZE;soy.asserts.assertType(goog.isBoolean(a.Nr)||1===a.Nr||0===a.Nr,"enablePresentationMode",a.Nr,"boolean");a=!!a.Nr;b='\x3csection class\x3d"zoomer zoomer__pane '+(a?"zoomer--presentation":"")+'"\x3e\x3cdiv class\x3d"zoomer__toolbar"\x3e'+(a?'\x3cbutton class\x3d"zoomer__item zoomer__toolbarItem zoomer__fullscreen" title\x3d"'+
soy.$$escapeHtmlAttribute(d)+'"\x3e\x3c/button\x3e\x3cbutton class\x3d"zoomer__item zoomer__toolbarItem zoomer__normal" title\x3d"'+soy.$$escapeHtmlAttribute(e)+'"\x3e\x3c/button\x3e\x3cdiv class\x3d"zoomer__divider"\x3e\x3c/div\x3e':"")+'\x3cbutton class\x3d"zoomer__item zoomer__toolbarItem zoomer__out" title\x3d"'+soy.$$escapeHtmlAttribute(c)+'"\x3e\x26ndash;\x3c/button\x3e\x3cbutton class\x3d"zoomer__item zoomer__toolbarItem zoomer__prev" title\x3d"'+soy.$$escapeHtmlAttribute(c)+'"\x3e\x26nbsp;\x3c/button\x3e\x3cspan class\x3d"zoomer__item zoomer__toolbarItem zoomer__status zoomer__zoomLevel"\x3e'+
soy.$$escapeHtml(g[k])+'\x3c/span\x3e\x3cspan class\x3d"zoomer__item zoomer__toolbarItem zoomer__status zoomer__pageIndex"\x3e\x3c/span\x3e\x3cbutton class\x3d"zoomer__item zoomer__toolbarItem zoomer__in" title\x3d"'+soy.$$escapeHtmlAttribute(b)+'"\x3e+\x3c/button\x3e\x3cbutton class\x3d"zoomer__item zoomer__toolbarItem zoomer__next" title\x3d"'+soy.$$escapeHtmlAttribute(b)+'"\x3e\x26nbsp;\x3c/button\x3e\x3c/div\x3e\x3cdiv class\x3d"zoomer__popover zoomer__pane"\x3e\x3cul class\x3d"zoomer__popoverList"\x3e';
c=g.length;for(d=0;d<c;d++)e=g[d],b+='\x3cli data-zoom\x3d"'+soy.$$escapeHtmlAttribute(e)+'" class\x3d"zoomer__item zoomer__popoverItem '+(d==k?"zoomer__item--selected":"")+'"\x3e'+("fit"==e?soy.$$escapeHtml(l):"fill"==e?soy.$$escapeHtml(m):soy.$$escapeHtml(h[d]))+"\x3c/li\x3e";return soydata.VERY_UNSAFE.ordainSanitizedHtml(b+'\x3c/ul\x3e\x3c/div\x3e\x3cdiv class\x3d"zoomer__popoverArrow"\x3e\x3c/div\x3e\x3c/section\x3e')};function Wy(a,b,c){Backbone.View.call(this,{className:"zoomToolbar"});this.G=a;this.kj=b;this.Nr=c;this.kf=[];this.xm=0;this.Sf=!1;this.Px=this.kV=0;this.paused=!1;this.lp=this.lp.bind(this)}t(Wy,Backbone.View);f=Wy.prototype;f.eJ=function(a,b){this.kf=b;this.xm=Math.max(0,b.indexOf("100%"));this.Px=parseInt(this.kf[this.xm],10);this.render().$el.appendTo(a)};
f.events=function(){return{"click .zoomer__out":this.d_,"click .zoomer__in":this.c_,"click .zoomer__next":this.T3,"click .zoomer__prev":this.y7,"click .zoomer__fullscreen":this.IL,"click .zoomer__normal":this.U3,"click .zoomer__popover .zoomer__item":this.h$,"click .zoomer__zoomLevel":this.pZ,"mouseenter .zoomer__popover":this.pZ.bind(this,!0),"mouseleave .zoomer":this.jV}};f.c_=function(){this.trigger("zoomInClick")};f.d_=function(){0<this.xm&&this.trigger("zoomOutClick")};f.T3=function(){this.trigger("nextPageClick")};
f.y7=function(){this.trigger("prevPageClick")};f.IL=function(){this.trigger("presentationModeClick");this.lp()};f.U3=function(){this.exitFullscreen()};f.h$=function(a){this.trigger("zoomLevelClick",$(a.currentTarget).data("zoom"))};f.pZ=function(a){this.Sf||(this.G.clearTimeout(this.kV),this.$el.toggleClass("zoomer--expanded",a))};f.jV=function(){var a=this;this.kV=this.G.setTimeout(function(){a.$el.removeClass("zoomer--expanded")},500)};
f.X9=function(a,b){a="string"==typeof a?this.kf.indexOf(a):-1;-1<a&&(this.xm=a);this.$el.removeClass("zoomer--minZoom zoomer--maxZoom");0===a?this.$el.addClass("zoomer--minZoom"):a===this.kf.indexOf("fill")-1&&this.$el.addClass("zoomer--maxZoom");a=this.kf[this.xm];"number"!=typeof b||"fill"!=a&&"fit"!=a||(this.Px=100*b,a=this.Px.toFixed(1));a=this.kj.Px(parseInt(a,10));this.$el.find(".zoomer__zoomLevel").text(a);this.$el.find(".zoomer__popoverItem").removeClass("zoomer__item--selected").eq(this.xm).addClass("zoomer__item--selected")};
f.EZ=function(a){this.$el.removeClass("zoomer--firstPage zoomer--lastPage");var b=Xp(a);a=a.gc();0===b&&this.$el.addClass("zoomer--firstPage");b===a-1&&this.$el.addClass("zoomer--lastPage");this.$el.find(".zoomer__pageIndex").text(++b+" / "+a);this.Sf&&this.paused&&this.lp()};f.exitFullscreen=function(){this.Sf&&(this.$el.removeClass("zoomer--fullscreenMode"),this.Sf=!1,this.trigger("fullscreenMode",this.Sf))};
f.lp=function(){this.$el.addClass("zoomer--fullscreenMode");this.Sf=!0;this.jV();this.trigger("fullscreenMode",this.Sf)};function Xy(a){a.paused=!1;$("body").removeClass("zoomer--fullscreenWindowMode");$("#content").off("click",a.lp)}
f.render=function(){var a=this;this.el.innerHTML=Vy({kf:this.kf,xm:this.xm,Nr:this.Nr,i$:this.kf.map(function(b){return a.kj.Px(parseInt(b,10))}),CI:this.kj.format("zoomToolbarZoomIn"),EI:this.kj.format("zoomToolbarZoomOut"),hF:this.kj.Sf(),pG:this.kj.format("zoomToolbarNormalMode"),ZE:this.kj.fill(),aF:this.kj.format("zoomToolbarFit")});return this};var W=1;function Yy(a,b,c,d,e,g){this.ud=a;this.si=b;this.vX=c;this.wO=!1;this.G=d;this.W=e;this.j=g;this.eB=!1;this.lastIndex=0;this.ew=!0;this.xW=0;this.zF=this.zF.bind(this)}function Zy(a,b,c,d,e,g,h){d=new Wy(ol,d,e.H.get(cg));a=new Yy(a,d,a.$el,ol,e,g);$y(a);d.listenTo(c,"documentView:zoom",d.X9);d.listenTo(b,"page:change:selected",d.EZ);d.on("fullscreenMode",h);d.EZ(b);a.listenTo(c,"pausePresentationOnExit",a.d7);return a}
function $y(a){var b=$(".documentContainer"),c=_.values(az);a.kM=a.kM.bind(a);a.si.eJ(b,c);a.listenTo(a.si,{zoomInClick:a.Y0,zoomOutClick:a.$0,nextPageClick:a.EJ,prevPageClick:a.FJ,zoomLevelClick:a.Z0,presentationModeClick:a.N0,fullscreenMode:a.M2});$(document).on("webkitfullscreenchange mozfullscreenchange fullscreenchange MSFullscreenChange",function(){var b=$("body");if(bz())cz(a);else if(a.ew){a.lastIndex=Xp(a.ud.model);var c=a.si;$("body").addClass("zoomer--fullscreenWindowMode");c.paused=!0;
$("#content").on("click",c.lp);a.ew=b.hasClass("modalContentVisible")}else dz(a)});$(document).on("keyup",function(b){return ez(a,b)});$(window).on("mousewheel wheel",a.kM)}
function ez(a,b){if(!$("body").hasClass("modalContentVisible"))if(!b.metaKey&&!b.ctrlKey&&!b.altKey)switch(b.which){case 27:if(bz())return a.ew=!1,!0;a.si.paused&&dz(a);break;case 38:case 37:case 33:return a.FJ(),!1;case 40:case 39:case 34:case 32:case 13:return a.EJ(),!1;case 116:return a.si.IL(),!1}else if(b.ctrlKey&&b.shiftKey&&13===b.which)return a.si.IL(),!1}f=Yy.prototype;f.M2=function(a){$("body");this.lastIndex=Xp(this.ud.model);a?(this.ew=!1,fz().lp()):(this.ew=!1,fz().exitFullscreen(),dz(this))};
function dz(a){var b=$("body");Xy(a.si);a.si.exitFullscreen();M.eD=M.q_;b.off("mousemove",a.zF);b.removeClass("fullscreenMode fullscreenModeLinkAnimations fullscreenModeTransitionIn");gz(a.ud,!1);kz(a.ud,a.lastIndex)}function cz(a){var b=$("body");Xy(a.si);M.eD=M.t_;ph();lz();b.addClass("fullscreenMode");gz(a.ud,!0);b.on("mousemove",a.zF);P.delay(100).then(function(){kz(a.ud,a.lastIndex);return P.delay(100)}).then(function(){b.addClass("fullscreenModeTransitionIn")})}
f.d7=function(a){bz()&&(this.ew=a)};f.zF=function(a){var b=$("body");120>a.clientY?b.addClass("hoverTop"):120>$(window).outerHeight()-a.clientY?b.addClass("zoomer--hoverBottom"):b.removeClass("zoomer--hoverBottom hoverTop");this.G.clearTimeout(this.xW);a=$(a.target);a.is(".zoomer__toolbar")||a.parents(".zoomer__toolbar").length||(this.xW=this.G.setTimeout(function(){return b.removeClass("zoomer--hoverBottom hoverTop")},mz))};
f.kM=function(a){var b=this,c=a.originalEvent.wheelDeltaY||a.originalEvent.deltaY,d=a.originalEvent.wheelDeltaX||a.originalEvent.deltaX,c=Math.abs(d)>Math.abs(c)?d:c;!this.si.Sf&&this.vX&&this.vX.find(a.target).length&&a.ctrlKey&&(a.preventDefault(),nz(this,c));this.si.Sf&&!this.eB&&(120<=c?(this.FJ(),this.eB=!0,this.G.setTimeout(function(){b.eB=!1},600)):-120>=c&&(this.EJ(),this.eB=!0,this.G.setTimeout(function(){b.eB=!1},600)))};
function nz(a,b){a.wO||(0<b?a.si.c_():a.si.d_(),a.wO=!0,a.G.setTimeout(function(){return a.wO=!1},250))}f.Y0=function(){var a=oz(this.ud);this.j.zoom("zoom_in","editor","zoom_toolbar","bottom_right",a);return!1};f.$0=function(){var a=pz(this.ud);this.j.zoom("zoom_out","editor","zoom_toolbar","bottom_right",a);return!1};f.Z0=function(a){qz(this.ud,a);this.j.zoom("popover_item","editor","zoom_toolbar","bottom_right",a);return!1};
f.N0=function(){em(this.j,"fullscreen_mode","button","editor","zoom_toolbar","bottom_right");return!1};f.EJ=function(){var a=this.ud,b=Xp(a.model);b+1<a.model.gc()&&kz(a,b+1);return!1};f.FJ=function(){var a=this.ud,b=Xp(a.model);0<=b-1&&kz(a,b-1);return!1};var mz=5E3;f=Yy.prototype;f.listenTo=Backbone.Events.listenTo;f.off=Backbone.Events.off;f.on=Backbone.Events.on;f.stopListening=Backbone.Events.stopListening;f.trigger=Backbone.Events.trigger;var rz=new Jf("jz",!1);function sz(a){a.get(rz)&&(ol.setTimeout(function(){window.location.hash="#3minMark";window.Appcues&&window.Appcues.page();ol.setTimeout(function(){window.location.hash="#"},6E3)},18E4),ol.setTimeout(function(){window.location.hash="#7minMark";window.Appcues&&window.Appcues.page();ol.setTimeout(function(){window.location.hash="#"},6E3)},42E4))};function Jp(a){M.v_&&$("html").addClass("isMac");$("#content").addClass("preparing");tz();window.setTimeout(function(){uz(a.content,a.rc,a.Ni,a.i,a.T_,a.z9);vz({Ga:a.Ga,cb:a.cb,rb:a.rb,ea:a.ea});var b=new wz({i:xc(a.i)});$("#canvaDocument").before(b.render());b.init({Ai:a.Ai,i:a.i,j:a.j});xz({i:a.i,Tc:a.Tc,jp:a.jp,Ub:a.Ub,H:a.H});a.nu(J,I,T,id(a.i),a.W,a.j,function(a){Mb.toggle(a,I.ja())});yz(a.i);zz(!!a.d2);Az(0,!0);a.oU&&a.oU();sz(a.H);$("body").hasClass("preroll")?(window.setTimeout(function(){window.requestAnimationFrame(Bz)},
M.za.$j*M.Qx),window.setTimeout(function(){Cz()},2E3)):window.setTimeout(function(){$("#content").removeClass("preparing").addClass("on")},M.za.$j*M.Qx)},M.Cc)}function Bz(){var a=$(".preroll .prerollDelay6");if(1>a.length)window.requestAnimationFrame(Bz);else $(a).one("animationend",Cz)}function Cz(){$("#content").removeClass("preparing").addClass("on");$("#search").css("transform","translateX(0)");$("body").removeClass("preroll")}
function tz(){Pb=Ob=Nb=0;var a=Dz("editorPageToolbarStylesheet");if(null!=a)for(var b=0;b<a.length&&!(".pageToolbar"==a[b].selectorText?(Pb=parseInt(a[b].style.marginTop,10),Nb=parseInt(a[b].style.width,10)):".pageToolbar.vertical"==a[b].selectorText&&(Ob=parseInt(a[b].style.width,10)),Ob&&Nb&&Pb);b++);}function Dz(a){for(var b=null,c=0;c<document.styleSheets.length;c++)if(document.styleSheets[c].ownerNode.id==a){b=document.styleSheets[c];break}return null==b?null:b.cssRules||null}
function Az(a,b){if(!Ez&&!Fz){var c=$("#objectPanel");Gz();var d=$(".layer",c).eq(0).width();a=Math.ceil(d/M.C_);var e=Math.ceil(d/M.A_),d=Math.ceil(d/M.B_),g=Dz("objectPanelStylesheet");null!=g&&(g[0].style.width=Math.round(100/a*10)/10+"%",g[1].style.width=Math.round(100/e*10)/10+"%",g[2].style.width=Math.round(100/d*10)/10+"%");Hz();window.setTimeout(function(){c.find(".results \x3e .layer \x3e .inner \x3e .browseCategories").each(function(){Iz($(this),!0)})},M.Cc);J&&J.DA(b)}}
function Jz(a){return ub.vv()?ub.Ti()?new P(function(b,c){function d(a){2==a?(e(),b()):1!=a&&0!=a&&(e(),c())}function e(){window.clearTimeout(g);T.off("session:sync",d)}var g=window.setTimeout(function(){e();c()},a||M.i_);T.on("session:sync",d);ub.save()}):P.resolve():P.reject()};function Kz(a){this.N=a.N;this.fO=a.fO;this.te=a.te;this.oa=a.oa;this.$K=a.$K;this.JQ=a.JQ;this.lJ=a.lJ;this.TK=a.TK}
Kz.prototype.zP=function(){if(!this.$K&&!M.H_&&this.oa&&this.oa.vv()&&!$("#savingError").hasClass("on")){if(0<this.JQ.DC.length)return"You're in the middle of uploading an image. Are you sure you want to leave the Canva editor?";if(this.oa.Ti())return this.oa.save(),"We are still auto-saving the latest changes to your design. Are you sure you want to leave the Canva editor?";var a=I;if(a&&Tt(this.oa,a.serialize()))return a.trigger("change"),"We are still auto-saving the latest changes to your design. Are you sure you want to leave the Canva editor?";
this.oa.close();this.lJ||(a=Math.floor((Date.now()-this.fO)/1E3),Nk(this.N,"/session/editor/"+encodeURIComponent(this.te)+"?close",this.TK,{docId:this.te,session:this.oa.context.vy,durationSecs:a}))}};var Lz="bold fontFamily fontSize italic justification letterSpacing lineHeight list textTransform".split(" ");function Mz(a){a=a.children(".inner").get(0);a=Nz(a);for(var b=window.getSelection(),c=a.filter(function(a){return Oz(b,a,!1)}),d=a.map(function(a){return a.textContent||""}).join(""),e="",g=0,h=b.rangeCount;g!=h;g++)e+=b.getRangeAt(g).toString();d=Pz(d,e);(e=a.length)&&"BR"==a[e-1].nodeName&&--e;return c.length>=e&&d}
function Pz(a,b){if(a==b)return!0;a=a.replace(/^\s*/,"").replace(/\s*$/,"").replace(/(?!^)\s+(?!$)/gi," ");b=b.replace(/^\s*/,"").replace(/\s*$/,"").replace(/(?!^)\s+(?!$)/gi," ");return a==b}function Qz(a){var b=window.getSelection();return 0<b.rangeCount&&(b=b.getRangeAt(0).cloneRange(),b.collapse(!0),a=a.get(0))?(b.setStart(a,0),b.toString().slice(-1)):""}
function Rz(a){var b=window.getSelection();if(0==b.rangeCount)return-1;a=a.children(".inner");if(0==a.length)return-1;a=a.get(0);return Sz(b,a)?b.toString().length:-1}function Tz(a){var b=window.getSelection();if(0==b.rangeCount)return!0;a=a.children(".inner");if(0==a.length)return!0;a=a.get(0);return Sz(b,a)?b.isCollapsed:!0}
function Sz(a,b){if(!b||Uz(a))return!1;var c=a.getRangeAt(0);a=c.startContainer;c=c.endContainer;if(!a||!c)return!1;a=3==a.nodeType||4==a.nodeType?Vz(a):a;var d=3==c.nodeType||4==c.nodeType?Vz(c):c,c=!(b!=a&&b!=d);b=!(!b.contains(a)&&!b.contains(d));return c||b}function Wz(a,b){var c=a.$a(b).children(".inner");Xz(c);Yz(c);c.find("*").css({"font-size":"","line-height":"","letter-spacing":"",color:""});c.find("br").removeAttr("color");Zz(a,b)}
function Zz(a,b){function c(a){if(1!==a.length)return!1;a=a.get(0);if(a.nodeType!==Node.ELEMENT_NODE)return!1;var b=a.nodeName.toLowerCase();return"ul"===b||"li"===b?!1:1===a.parentNode.childNodes.length}for(var d=a.Sb(b),e=a.$a(b).children(".inner").contents(),g=e,h=!1;c(e);)$z(d,e.get(0)),h=!0,e=e.contents();h&&(g.replaceWith(e),a.ej(b,d))}
function $z(a,b){function c(a){a=a.match(/"[^"]*"|'[^']*'|[^\s"',]+/g);if(!a)return"";a=a[0];var b=a.charAt(0);if('"'===b||"'"===b)a=a.slice(1,-1).trim();return a}var d=b.nodeName.toLowerCase();if("b"===d||"strong"===d)a.bold=!0;else{var e=b.style.fontWeight;a.bold="bold"===e||"600"<=e&&"900">=e}"i"===d||"em"===d?a.italic=!0:(e=b.style.fontStyle,a.italic="italic"===e||"oblique"===e);e=uh(b.style.color);b.color&&(e=uh(b.color));e&&(a.color=e.qa());e=null;(e="font"===d?c(b.face):c(b.style.fontFamily))&&
(b=aA(e))&&(a.fontFamily=b)}function bA(a){var b=[],c=[],d=a.children(".inner").get(0);Nz(d).forEach(function(d){"br"!==d.nodeName.toLowerCase()&&(d=cA(Vz(d),a),Array.prototype.push.apply(b,d.Te),Array.prototype.push.apply(c,d.rf))});return{Te:b,rf:c}}
function dA(a,b){var c=a.clone();c.addClass("doNotTransform");c.children(".inner").addClass("doNotTransform");c.appendTo("#limbo");eA(c,b);for(var d=c.find(".char"),e=0,g=[],h=fA(d),k=1;k<h.length;k++)if(!gA(h[k-1],h[k])){var l=d.index(h[k]);g.push(l-e);e=l}g.push(d.length-e);c.remove();a.data("cachedLineLengths",g);b&&(g=g.map(function(a){return a-1}));return g}function fA(a){return a.filter(function(){return 0!==this.offsetHeight||0!==this.offsetWidth})}
function gA(a,b){var c=a.offsetTop-b.offsetTop;return 0<=c||c>=b.offsetHeight-a.offsetHeight}
function eA(a,b){function c(){if(this.nodeType===Node.ELEMENT_NODE){var a=this.nodeName.toLowerCase();if("br"===a)if(b){var e=document.createElement("span");e.textContent="​";e.classList.add("char");$(this).before(e)}else return;if("script"!==a&&"style"!==a){e=$(this).contents();if("span"===a){if(this.classList.contains("fauxCaret"))return;if(this.classList.contains("char")){if(1===e.length&&e[0].nodeType===Node.TEXT_NODE&&1===e[0].data.length)return;e.replaceAll(this)}}e.each(c)}}else this.nodeType===
Node.TEXT_NODE&&(a=this.data.split("").map(function(a){var b=document.createElement("span");b.classList.add("char");d.test(a)&&b.classList.add("diacriticalMark");b.appendChild(document.createTextNode(a));return b}),$(this).replaceWith(a))}var d=/[\u0300-\u036f]/,e=String(a.data("fontFamily"));Jb&&hA(e)||a.children(".inner").each(c)}function iA(a,b){!b&&a.data("kernPairs")||a.find(".char").each(function(){var a=$(this),b=a.contents();0<b.length?a.replaceWith(b):a.remove()})}var jA=!1;
function kA(a,b){function c(a){return" "===a||"\n"===a||"\t"===a||"\r"===a||"᠎"===a||"\u2028"===a||"\u2029"===a||"﻿"===a}eA(a);var d=[],e=a.children(".inner"),g=e.find(".char"),h=a.data("letterSpacing")||0,k=0!==h?h/1E3+"em":"0",l=a.parent(),m=a.prev();if(function(){return b.reduce(function(a,b){return a+b},0)}()===g.length){e.addClass("explicitLineBreaksLayoutMode");e.find(".implicitLineBreak").remove();a.removeData("ephemeralLetterSpacing");a.css("letter-spacing",k);a.data("cachedLineLengths",b);
document.body.contains(a[0])||(e.addClass("doNotTransform"),a.addClass("doNotTransform"),a.appendTo("#limbo"),d.push(function(){0<l.length?0<m.length?a.insertAfter(m):a.prependTo(l):a.detach();a.removeClass("doNotTransform");e.removeClass("doNotTransform")}));var n=0,p=-1,q=0,u=0,v=0;b.forEach(function(a){var b=n,e=Math.min(b+a,g.length);if(!(b>=e)){for(var h=b,k=e-1;h<=k&&c(g[h].firstChild.data);)h++;for(;h<=k&&c(g[k].firstChild.data);)k--;d.push(function(){g.slice(b,h).addClass("superfluousWhitespace");
g.slice(k+1,e).addClass("superfluousWhitespace")});h<=k&&(0<=p&&gA(g[p],g[h])&&d.push(function(){$("\x3cbr\x3e").addClass("implicitLineBreak").insertBefore(g[b])}),p=k,h!==k&&(a=g[k].offsetLeft+g[k].offsetWidth-g[h].offsetLeft,a>q&&(q=a,u=h,v=k)));n=e}});k=e[0].offsetWidth;if(q>k){var z=fA(g.slice(u,v+1)).length,k=(k-q)/z,z=parseFloat(window.getComputedStyle(e[0]).getPropertyValue("font-size")),r=Math.max(h-1E3/12,1E3*k/z),x=a.data("index")||0;d.push(function(){var b=a.data("canvaElement");b&&b.EH(x,
r)})}d.forEach(function(a){a()});jA=!0;lA(a);jA=!1}}function mA(a,b){jA||(iA(a,b),a.removeData("cachedLineLengths"),b=a.children(".inner"),b.hasClass("explicitLineBreaksLayoutMode")&&(b.removeClass("explicitLineBreaksLayoutMode"),b.find(".implicitLineBreak").remove(),b.find(".superfluousWhitespace").removeClass("superfluousWhitespace"),lA(a)))}
function Xz(a){for(var b=a.find("*"),c=b.length-1;0<=c;c--){var d=b[c],e=d.nodeName.toLowerCase();"br"!==e&&"div"!==e&&"ul"!==e&&"li"!==e&&"p"!==e&&(("span"!==e&&"font"!==e||0!==d.attributes.length)&&""!==d.textContent.trim()||$(d).contents().replaceAll(d))}a.get(0).normalize()}
function Yz(a){function b(a,b){if(!a||!b)return!1;var e;if(a.nodeType===Node.ELEMENT_NODE){e=a.nodeName.toLowerCase();if("br"===e||"div"===e||"ul"===e||"li"===e||"p"===e)return!1;for(;(a=a.lastChild)&&a.nodeType===Node.ELEMENT_NODE;)if("br"===a.nodeName.toLowerCase())return!1}return b.nodeType===Node.ELEMENT_NODE&&(e=b.nodeName.toLowerCase(),"ul"===e||"li"===e)?!1:!0}a.find("div, p").each(function(){var a=$(this);b(this.previousSibling,this.firstChild||this.nextSibling)&&$("\x3cbr\x3e").insertBefore(this);
b(this.lastChild||this.previousSibling,this.nextSibling)&&$("\x3cbr\x3e").insertAfter(this);a.replaceWith(a.contents())})}function Uz(a){if(0===a.rangeCount)return!1;a=a.getRangeAt(0);return null!=a.startContainer&&!(a.startContainer instanceof Object)||null!=a.endContainer&&!(a.endContainer instanceof Object)}
function nA(a){function b(a){var b;$.browser.msie?(b=document.selection.createRange(),b.collapse(!0),b=b.parentElement()):b=window.getSelection().getRangeAt(0).startContainer;return a.contains(b)}var c=[],d=[],e=window.getSelection(),g=a.children(".inner").get(0);if(Uz(e))return{Te:[],rf:[]};Tz(a)?1==e.rangeCount&&b(g)&&(g=cA(Vz(e.getRangeAt(0).startContainer),a),c=c.concat(g.Te),d=d.concat(g.rf)):Nz(g).filter(function(a){return Oz(e,a,!0)&&a.nodeType==Node.TEXT_NODE}).forEach(function(b){b=cA(Vz(b),
a);c=c.concat(b.Te);d=d.concat(b.rf)});c=c.filter(function(a,b){return c.lastIndexOf(a)===b});d=d.filter(function(a,b){return d.lastIndexOf(a)===b});return{Te:c,rf:d}}
function cA(a,b){var c,d,e=[],g=[],h=b.children(".inner").get(0);c=b.get(0);var k=b.data("fontName");b=b.data("fill");if(a==h||a==c)c=k,d=uh(b),c&&e.push(c),d&&g.push(d.qa());else{for(;a!==h;)"font"==a.tagName.toLowerCase()&&((c=a.getAttribute("face"))&&e.push(c),(d=uh($(a).css("color")||a.getAttribute("color")))&&g.push(d.qa())),a=a.parentElement;0==e.length&&k&&e.push(k);0==g.length&&b&&g.push(b)}return{Te:e,rf:g}}
function Nz(a){for(var b=[],c=0;c<a.childNodes.length;c++){var d=a.childNodes[c];0==d.childNodes.length?b.push(d):b=b.concat(Nz(d))}return b}function Vz(a){if(a.parentElement)return a.parentElement;for(a=a.parentNode;a&&a.nodeType!==Node.ELEMENT_NODE;)a=a.parentNode;return a}
function Oz(a,b,c){if(a.containsNode)return a.containsNode(b,c);c=document.createRange();c.selectNodeContents(b);b=0;for(var d;b<a.rangeCount;++b){d=a.getRangeAt(b);try{if(0>=d.compareBoundaryPoints(d.START_TO_START,c)&&0<=d.compareBoundaryPoints(d.END_TO_END,c))return!0}catch(e){if(e.code!==DOMException.WRONG_DOCUMENT_ERR)throw e;}}return!1}function oA(a){if(!a)return[];for(var b=/<font[^>]+\bface="([^"]+)/gi,c,d=[];c=b.exec(a);)c=c[1].replace(/('|&#39;)/g,""),d.push(c);return _.uniq(d)}
function pA(a){var b=a.html().toString();a.data("fontFamily")&&(b+='\x3cfont face\x3d"'+a.data("fontFamily")+'"\x3e\x3c/font\x3e');return oA(b).filter(function(a){return null!==qA(Jb,a)})}function rA(a,b){b?this.$a(a).data("fontMedia",{id:b.id,version:b.version}):this.$a(a).removeData("fontMedia")}function sA(a,b){function c(a){return{id:a.u(),version:a.getVersion()}}b&&0<b.length?this.$a(a).data("htmlFontMedia",b.map(c)):this.$a(a).removeData("htmlFontMedia")}
function tA(a,b,c,d){function e(a){if(a){var d="'"+m.family+"'",e;if(e=Ib)e=Ib.H.get(Nf);e?d+=", notdef":$.browser.msie||(d+=", "+m.generic);h.css("font-family",d).css("font-weight",void 0!==m.weight?m.weight:"");h.toggleClass("noBold",!m.variants.bold);h.toggleClass("noItalic",!m.variants.italic);h.toggleClass("noBoldItalic",!m.variants.boldItalic);lA(h);g.trigger("change:fontFamily",this,h,b)}c&&c(a)}var g=this,h=this.$a(a),k=h.data("fontName"),l=!1;b&&hA(String(b))&&(l=!0);d||h.find("font").removeAttr("face");
b!==k&&(this.Vs(a),this.yw(a),mA(h),l&&Xz(h));if(void 0===b)h.removeData("fontName").removeData("fontFamily").removeData("fontWeight").removeData("fontMedia").removeData("htmlFontMedia").css("font-family","").css("font-weight",""),c&&c(!0);else if(Jb){h.data("fontFamily",b);var m=qA(Jb,b);d=uA(b);m||d?(h.data("fontName",m.name||m.family).data("fontFamily",m.family),this.Mq(a,d),vA(Jb,d,b,e)):c&&c(!1)}else c&&c(!1)}
function wA(a,b,c){var d=this.$a(a),e=parseFloat(d.data("fontSize"))/b;if(isNaN(e)||!c&&(2<=e||.5>=e))this.Vs(a),this.yw(a),mA(d);void 0===b?d.removeData("fontSize").css("font-size",""):(d.data("fontSize",b).css("font-size",b*M.ti+"%"),!0!==c&&lA(d,!0))}function xA(a){this.ke(this.ub(),a)}function yA(a){return this.$a(a).data("fontSize")||M.YC}function zA(){for(var a=[],b=0;b<this.sF();b++){var c=this.$a(b).data("fontFamily");c&&a.push(""+c)}return a}
function AA(a,b){a=this.$a(a);void 0===b?a.removeData("justification").css("text-align",""):a.data("justification",b).css("text-align",b)}
function BA(a,b){function c(a,b,c){a.children(".inner").find("*").filter(function(){var a=uh($(this).css("color")||$(this).attr("color"));return a&&a.equals(b)}).attr("color",c?c.qa():"")}function d(a,b,c){b?a.data("fill",b.qa()).css("color",b.qa()):a.removeData("fill").css("color","");c&&a.find("*").removeAttr("color").css("color","")}a=this.$a(a);var e=Mz(a),g=Tz(a),h=a.is(".focused"),k=uh(a.data("fill")),l=uh(nA(a).rf[0]);h&&b&&document.execCommand("foreColor",!1,b.qa());h&&g?(e=0<nA(a).rf.length,
k=l&&l.equals(k),!e||k?d(a,b,!1):c(a,l,b)):(e||g)&&d(a,b,h)}function CA(a,b){a=this.$a(a);a.is(".focused")&&document.execCommand("bold",!1,null);if(Mz(a)||Tz(a))void 0===b?a.removeData("bold").removeClass("bold"):(a.data("bold",b),b?a.addClass("bold"):a.removeClass("bold"));lA(a,!0)}
function DA(a,b){a=this.$a(a);a.is(".focused")&&document.execCommand("italic",!1,null);if(Mz(a)||Tz(a))void 0===b?a.removeData("italic").removeClass("italic"):(a.data("italic",b),b?a.addClass("italic"):a.removeClass("italic"));lA(a,!0)}
function EA(a,b){function c(){var b;l.focus();e()?b=!0:(l.click(),b=e());b&&(document.execCommand("selectAll",!1,null),document.execCommand("insertUnorderedList",!1,null),Wz(g,a),document.execCommand("selectAll",!1,null),d());l.attr("contentEditable",m)}function d(){window.setTimeout(function(){lA(h,!0)},0)}function e(){return null!==window.getSelection().focusNode&&"BODY"!==window.getSelection().focusNode.tagName}var g=this,h=this.$a(a),k=0<h.find("li").length;if(!!b!==k){var l=h.children(".inner"),
m=String(l.prop("contentEditable"));l.attr("contentEditable","true");l.focus();FA(l,c)}b?h.data("list",!0):h.removeData("list")}function GA(a){return"uppercase"===this.$a(a).data("textTransform")}function HA(a,b){a=this.$a(a);b?a.data("textTransform",b).css("text-transform",b):a.removeData("textTransform").css("text-transform","none");lA(a,!0)}
function IA(a,b){a=this.$a(a);var c=a.children(".inner");b?(a.data("lineHeight",b),c.css("line-height",b/100)):(a.removeData("lineHeight"),c.css("line-height",M.Ht/100));lA(a,!0)}function JA(a){return this.$a(a).data("lineHeight")||M.Ht}function KA(a,b){a=this.$a(a);a.removeData("ephemeralLetterSpacing");void 0===b||0===b?(a.removeData("letterSpacing"),a.css("letter-spacing","0")):(a.data("letterSpacing",b),a.css("letter-spacing",b/1E3+"em"));lA(a,!0)}
function LA(a,b){a=this.$a(a);var c=0!==b?b/1E3+"em":"0";a.data("ephemeralLetterSpacing",b);a.css("letter-spacing",c)}function MA(a){a=this.$a(a);var b=a.data("ephemeralLetterSpacing"),c=a.data("letterSpacing")||0;b!==c&&a.css("letter-spacing",0!==c?c/1E3+"em":"0");a.removeData("ephemeralLetterSpacing")}function NA(a){a=this.$a(a);var b=a.data("ephemeralLetterSpacing");return void 0!==b?b:a.data("letterSpacing")||0}function OA(a){return this.$a(a).data("kernPairs")||{}}
function PA(a,b){return(a=this.$a(a).data("kernPairs"))&&a.hasOwnProperty(b)?parseFloat(a[b]):0}function QA(a){a=this.$a(a);a.data("kernPairs")&&(a.removeData("kernPairs"),iA(a,!0))}
function RA(a){var b=this.$a(a);a=this.Yr(a);if(0<Object.keys(a).length){if(eA(b),a=b.data("kernPairs")||null)if(b=b[0].querySelectorAll(".char"),0!==b.length)for(var c=b[0].firstChild.data,d=1;d<b.length;d++){var e=b[d].firstChild.data,c=a[c+e]||0;0===c?b[d].removeAttribute("style"):b[d].style.marginLeft=c/1E3+"em";c=e}}else iA(b)}function SA(a,b,c){if(2===c.length){var d=this.$a(a);a=this.Yr(a);a[c]=b;d.data("kernPairs",a)}}function TA(a,b){this.$a(a).data("kernPairs",b)}
function UA(){var a=this.ve();0<a.parents("#overlays").length&&VA(a)}function WA(a){var b=this.Yr(a),c=[];b&&0!==Object.keys(b).length&&Object.keys(b).forEach(function(a){c.push({pair:a,adjustment:b[a]})});return c}function XA(a){if(void 0===a||0===a.length)return null;var b={};a.forEach(function(a){b[a.pair]=a.adjustment});return b}
function YA(a){function b(a){if(a=uA(a))return{id:a.id,version:a.version}}function c(){var a=h.data("cachedLineLengths");if(!a){a=h[0].style;if(""===a.fontFamily||""===a.width)return;a=h.data("fontScaling");if(void 0!==a&&1!==a||h.hasClass("focused"))return;a=dA(h)}g.lineLengths=a}function d(){var b=e.AH(a);0!==b.length&&(g.kerning=b)}var e=this,g={index:a},h=this.$a(a),k=String(h.data("fontFamily")),k=hA(k);(function(){var a=h.clone();mA(a,!0);g.html=a.children(".inner").html()})();(function(){Lz.forEach(function(a){var b=
h.data(a);void 0!==b&&(g[a]=b)});h.data("fill")&&(g.color=h.data("fill"))})();k||(c(),d());(function(){var a=uA(g.fontFamily);a?g.fontMedia={id:a.id,version:a.version}:h.data("fontMedia")&&(g.fontMedia=h.data("fontMedia"));var c=pA(h).map(b).filter(function(a){return!!a}).filter(function(b){return!a||b.id!==a.id});0<c.length?g.htmlFontMedia=c:h.data("htmlFontMedia")&&(g.htmlFontMedia=h.data("htmlFontMedia"))})();return g};function cn(a){this.type=a.type;this.id=a.id||"";this.version=a.version||0}cn.prototype.eb=function(){return this.type};cn.prototype.u=function(){return this.id};cn.prototype.Wt=function(){this.type=ZA;return this};cn.prototype.serialize=function(){return this.type===ZA||this.type===$A?{type:this.type,id:this.id,version:this.version}:this.type?{type:this.type}:null};function aB(a){this.source=a;this.filename="";this.viewBox=[]}function bB(a){if(a===cB)return cB;if(a=uh(a||""))return a}function dB(a){if(a===cB)return cB;if(a instanceof on)return a.qa()}aB.prototype.WZ=function(a){this.filename=a;return this};var cB="inherit";function eB(a,b){a:{var c;try{c=$.parseXML(a)}catch(d){a=null;break a}a=$(c.documentElement)}return!a||!b&&fB(a)||gB(a)?!1:!0}function fB(a){return hB(a).some(function(a){return-1===iB.indexOf(a.localName.toLowerCase())})}function gB(a){return hB(a).some(function(a){a=a.attributes;for(var c=0;c<a.length;c++){var d=a[c].name.toLowerCase(),e;if(e="xlink:href"===d)e=a[c].value,e=!("#"===e.charAt(0)||jB.test(e));if(e||-1===kB.indexOf(d))return!0}return!1})}
function hB(a){a=a.get(0);var b=Array.from(a.getElementsByTagName("*"));return[a].concat(b)}
var jB=/^data:image\/[^,;]+;base64,/,iB="circle clippath defs desc ellipse feblend fecolormatrix fecomponenttransfer fecomposite feconvolvematrix fediffuselighting fedisplacementmap fedistantlight feflood fefunca fefuncb fefuncg fefuncr fegaussianblur feimage femerge femergenode femorphology feoffset fepointlight fespecularlighting fespotlight fetile feturbulence filter g hkern image line lineargradient marker mask path pattern polygon polyline radialgradient rect stop svg symbol text textpath title tref tspan use view vkern".split(" "),kB=
"amplitude azimuth basefrequency baseline-shift bias class clip clip-path clip-rule clippathunits color color-interpolation color-interpolation-filters color-profile color-rendering cursor cx cy d diffuseconstant direction display divisor dominant-baseline dx dy edgemode elevation enable-background exponent fill fill-opacity fill-rule filter filterres filterunits flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight fx fy g1 g2 glyph-orientation-horizontal glyph-orientation-vertical gradienttransform gradientunits height id image-rendering in in2 intercept k k1 k2 k3 k4 kernelmatrix kernelunitlength kerning lengthadjust letter-spacing lighting-color limitingconeangle marker-end marker-mid marker-start markerheight markerunits markerwidth mask maskcontentunits maskunits method mode numoctaves offset opacity operator order orient overflow pathlength patterncontentunits patterntransform patternunits pointer-events points pointsatx pointsaty pointsatz preservealpha preserveaspectratio primitiveunits r radius refx refy result rotate rx ry scale seed shape-rendering slope spacing specularconstant specularexponent spreadmethod startoffset stddeviation stitchtiles stop-color stop-opacity stroke stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width style surfacescale tablevalues targetx targety text-anchor text-decoration text-rendering textlength transform type u1 u2 unicode-bidi values version viewbox viewtarget visibility width word-spacing writing-mode x x1 x2 xchannelselector xlink:actuate xlink:arcrole xlink:href xlink:role xlink:show xlink:title xlink:type xml:base xml:lang xml:space xmlns xmlns:svg xmlns:xlink y y1 y2 ychannelselector z zoomandpan".split(" ");function lB(a){var b=a.indexOf("\x3csvg",0),c=a.slice(0,b);-1===c.toUpperCase().indexOf("\x3c!DOCTYPE")&&(a=c+'\x3c!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"\x3e\n'+a.slice(b));return a}function mB(a){function b(a){return 0!==a.filter(function(a){return isNaN(a)}).length}var c=($($.parseXML(a)).find("svg").attr("viewBox")||"").split(/\s/);a=c.map(function(a,b){return parseFloat(c[b])});return 4!==a.length||b(a)?[]:a}
function nB(a){function b(a){a=g.attr(a);return"undefined"==typeof a||""===a?NaN:parseFloat(a.replace(/[^0-9\.]/g,""))}var c=$("#limbo"),d=!1;0>=c.length&&(c=$('\x3cdiv id\x3d"limbo"\x3e\x3c/div\x3e'),$("body").append(c),d=!0);var e=$($.parseXML(a)),g,h,k,l,m;if(4!==mB(a).length){g=e.find("svg");if(!g)throw Error("SVG with no \x3csvg\x3e!");h=b("x");k=b("y");l=b("width");m=b("height");var n=e.find("svg");c.append(n);n=n.get(0).getBBox();isNaN(h)&&(h=n.x);isNaN(k)&&(k=n.y);isNaN(l)&&(l=n.width);isNaN(m)&&
(m=n.height);e.remove();d&&c.remove();c=' viewBox\x3d"'+[h,k,l,m].join(" ")+'" ';d=a.indexOf("\x3csvg",0)+4;return a.substring(0,d)+c+a.substring(d)}return a}
function oB(a){if(!eB(a))throw Error("Aborting attempt to generate color changes on unacceptable SVG");var b=$(a).filter("svg"),c='\x3c?xml version\x3d"1.0" standalone\x3d"no"?\x3e',d=a.match(/<\?xml([^?]*)\?>/gi);d&&0<=d.length&&(c=d[0]);d=b.find("[fill]").not('[fill\x3d"none"]');if(0<b.find("g").filter(function(){return/^change/gi.test(this.id)}).length)return a;var e=[],g={};d.each(function(){var a=uh($(this).attr("fill"));if(a){var b=a.qa();g.hasOwnProperty(b)||(e.push(a.qa()),g[b]=1);a=e.indexOf(b)+
1;$(this).wrap('\x3cg id\x3d"change'+a+"_"+g[b]+'"\x3e\x3c/g\x3e');g[b]+=1}});a=$("\x3cdiv\x3e\x3c/div\x3e").append(b).html();return c+a}
function pB(a,b){for(var c=/SVGID_/g,d=new Set,e=/((url\(|xlink:href=)['"]?#)([a-z0-9_-]+)(['"]?)/gi,g;g=e.exec(a);)g[3]&&!d.has(g[3])&&(c&&c.test(g[3])||d.add(g[3]));return 0==d.size?a:a.replace(e,function(a,c,e,g,n){return(c||"")+(d.has(g)?b+g:g)+(n||"")}).replace(/(xml:)?(id=['"]?)([a-z0-9_-]+)(['"]?)/gi,function(a,c,e,g,n){return(c||"")+(e||"")+(d.has(g)?b+g:g)+(n||"")})};function qB(a,b){a=a.trim();a=a.replace(/SVGID_/g,b+"SVGID_");a=pB(a,b);a=a.replace(/font-size\s*:\s*\d+\.?\d*(?=[\s;"])/g,"$\x26px");a=lB(a);return a=nB(a)}function rB(a){var b=a.get(0);b.removeAttribute("width");b.removeAttribute("height");b.removeAttribute("id");$("g",a).each(function(a,b){b.id=b.id.toLowerCase()});$("style",a).remove();sB(a);tB(a);uB(a);vB(a);wB(a)}
function sB(a){var b=0,c=0,d=/^[neswc]_repeat/i,e=/^([ns][ew]?|e|w|c)(_\d+)(_|$)/i;$("g",a).each(function(a,g){d.test(g.id)?(g.id=g.id.substr(0,1),g.classList.add("repeat")):(a=g.id.match(e))&&a[1]&&(g.id=a[1]);-1<["w","e"].indexOf(g.id)&&b++;-1<["n","s"].indexOf(g.id)&&c++});var g=0<b&&0===c,h=0<c&&0===b,k=a.get(0);g?(k.classList.add("horizontalOnly"),$("g#w, g#c, g#e",a).each(function(a,b){b.id="n"+b.id;"nc"==b.id&&(b.id="n")})):h&&(k.classList.add("verticalOnly"),$("g#n, g#c, g#s",a).each(function(a,
b){b.id+="w";"cw"==b.id&&(b.id="w")}))}
function tB(a){function b(a,b){var c,k,l;l=(k=(c=a.getAttribute("style"))&&c.match(xB))?c.match(xB)[2]:a.getAttribute("fill");k&&(c=c.replace(xB,""),a.setAttribute("style",c),a.setAttribute("fill",l));a.hasAttribute("fill")&&(a.classList.add("color"),a.setAttribute("data-color",a.getAttribute("fill")),a.classList.add("color-"+b));b=a.getAttribute("fill");c=uh(b);k=null;yB.equals(c)?k="primaryColor":zB.equals(c)?k="secondaryColor":AB.equals(c)&&(k="tertiaryColor");(c=k)?a.classList.add(c):b&&(d=!1)}
var c=/^change(\d+|$)/i,d=!0;a.find("g").filter(function(){return c.test(this.id)}).each(function(a,c){var d=parseFloat(c.id.substr(6)),d=isNaN(d)?1:d;c.removeAttribute("id");b(c,d);$("[style*\x3dfill], [fill], [FILL]",c).each(function(){b(this,d)})});d&&a.get(0).classList.add("baseColors")}
function uB(a){var b=/^stack(_|$)/i;a.find("g").filter(function(){return b.test(this.id)}).each(function(a,b){var e=b.id;b.removeAttribute("id");b.classList.add("canva");b.classList.add("stack");e=e.match(/_(vcenter|vtop|vbottom)(_|$)/i);b.setAttribute("data-valign",e?e[1].substr(1).toUpperCase():"CENTER");b.setAttribute("data-stack-id",a)})}
function vB(a){var b=BB(a),c=b.F(),d=b.w(),e=/^[op](_|$)/i,g=0;a.find("g").filter(function(){return e.test(this.id)}).each(function(a,b){a=document.createElementNS("http://www.w3.org/2000/svg","g");a.setAttribute("class","canva");b.parentNode.insertBefore(a,b);b.parentNode.removeChild(b);b=CB(b,["circle","ellipse","path","polygon","rect"]);if(null!==b){var e=document.createElementNS("http://www.w3.org/2000/svg","clipPath");a.appendChild(e);e.id=DB();e.setAttribute("transform","translate("+-c+", "+
-d+")");b.setAttribute("class","photoPlaceholder");e.appendChild(b);var m=document.createElementNS("http://www.w3.org/2000/svg","image");m.setAttribute("class","placeholder");m.setAttribute("clip-path","url(#"+e.id+")");m.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href","https://static.canva.com/static/images/placeholder.jpg");m.setAttribute("transform","translate("+c+", "+d+")");m.setAttribute("data-placeholder-index",g.toString());g++;a.appendChild(m);b=EB(b,"cx cy r rx ry d pathLength points x y width height transform".split(" "));
b.setAttribute("class","outline");b.setAttribute("fill","none");a.appendChild(b)}})}
function wB(a){var b=/^t(_|$)/i;a.find("g").filter(function(){return b.test(this.id)}).each(function(a,b){var e=document.createElementNS("http://www.w3.org/2000/svg","g");e.setAttribute("class","canva");b.parentNode.insertBefore(e,b);b.parentNode.removeChild(b);a=CB(b,["rect"]);if(null!==a){a=EB(a,"rx ry x y width height".split(" "));a.setAttribute("class","textPlaceholder");a.setAttribute("fill","none");e.appendChild(a);var e=CB(b,["text"]),e=GB(e),g=b.id,h=/_(dfont)(_|$)/.test(g),k=/_(dwidth)(_|$)/.test(g),
l=/_(dheight)(_|$)/.test(g),m=g.match(/_(left|center|right)(_|$)/),g=g.match(/_ls([0-9]+)(_|$)/),e=$.extend({},e,{justification:m?m[1]:void 0,"line-spacing":g?parseFloat(g[1].substring(0,1)+"."+g[1].substring(1)):void 0,"dynamic-font-size":h,"dynamic-width":k&&!l,"dynamic-height":l}),n;for(n in e)a.setAttribute("data-"+n,e[n]);if(b){n=[];b=b.getElementsByTagNameNS("http://www.w3.org/2000/svg","text");for(e=0;e<b.length;e++)h=b[e],h.textContent&&0<h.textContent.trim().length&&n.push(h.textContent.trim());
b=n.join(" ")}else b="";""!=b&&a.setAttribute("data-placeholder-text",b)}})}function EB(a,b){var c=document.createElementNS("http://www.w3.org/2000/svg",a.nodeName);b.forEach(function(b){a.hasAttribute(b)&&c.setAttribute(b,a.getAttribute(b))});return c}function CB(a,b){var c=[];b.forEach(function(b){b=a.getElementsByTagNameNS("http://www.w3.org/2000/svg",b);for(var e=0;e<b.length;e++)c.push(b[e])});return 0===c.length?null:c[0]}
function GB(a){function b(a){for(var b=a.replace(/^['"]|['"]$/g,""),d=HB(Jb),e,g,p=0;p<d.length;p++)for(g in e=d[p],e.styles)if(e.styles[g].psName&&e.styles[g].psName.toLowerCase()===b.toLowerCase())return a=-1<[e.styles.bold,e.styles.boldItalic].indexOf(e.styles[g]),g=-1<[e.styles.italic,e.styles.boldItalic].indexOf(e.styles[g]),{"font-name":e.name||e.family,"font-family":e.family,bold:a,italic:g};return c(a)}function c(a){var b=["bold","italic","bolditalic","black"],c={},d=HB(Jb),e=a.replace(/^['"]|['"]$/g,
"").toLowerCase();if(a=_.find(d,function(a){return(a.internalName||"").toLowerCase()===e}))return c["font-name"]=a.name||a.family,c["font-family"]=a.family,c;var d=d.filter(function(a){a=(a.internalName||"").toLowerCase().replace(/-[^-]+$/,"");return 0===e.indexOf(a)}),g=_.find(d,function(a){return-1<(a.internalName||"").toLowerCase().indexOf("-regular")})||d[0];g&&b.forEach(function(a){var b=(g.internalName||"").toLowerCase().replace(/-[^-]+$/,"");e==b+"-"+a&&(c["font-name"]=g.name||g.family,c["font-family"]=
g.family,c.bold="bold"==a||"bolditalic"==a||"black"==a,c.italic="italic"==a||"bolditalic"==a)});return c}var d=["fill","font-size","font-family"];if(!a)return{};var e={};d.forEach(function(b){var c=(a.getAttribute(b)||"").trim();""!==c&&(e[b]=c)});(a.getAttribute("style")||"").split(";").forEach(function(a){var b=a.split(":");2==b.length&&(a=b[0].trim(),b=b[1].trim(),-1<d.indexOf(a)&&(e[a]=b))});if(e.fill){var g=uh(e.fill);g?e.fill=g.qa():delete e.fill}e["font-size"]&&(e["font-size"]=.72*parseFloat(e["font-size"]));
e["font-family"]&&(g=b(e["font-family"]),delete e["font-family"],$.extend(e,g));return e}var xB=/(\b|^)fill\s*:\s*([^;]+);\s*/i;function Z(a){this.i=Kb;this.Na=$('\x3cdiv class\x3d"element" /\x3e');this.Na.data("canvaElement",this);this.selected=!1;this.Ts=!0;this.Xb=this.rotation=this.height=this.width=this.top=this.left=0;this.page=this.ge=null;this.um=this.jP=!1;this.Fb=0;this.link="";this.uB=this.sh=!1;this.lm=this.origin=null;this.vD=!0;this.ly=1;this.be=null;this.HE=["copy","arrange","transparency","link","delete"];this.nI=!0;this.ky=!1;if(a){var b=Gm({left:a.left,top:a.top,width:a.width,height:a.height});this.ld(b);
null!=a.rotation&&(this.rotation=a.rotation);null!=a.flipOrientation&&(this.Xb=a.flipOrientation);0<=Object.keys(a).indexOf("userEdited")&&(this.nI=a.userEdited);0<=Object.keys(a).indexOf("transparency")&&(this.Fb=a.transparency);0<=Object.keys(a).indexOf("link")&&(this.link=a.link);null!=a.origin&&(this.origin=new cn(a.origin));null!=a.groupIndex&&(this.ky=!0)}}f=Z.prototype;f.qv=function(){return!1};f.NQ=function(){this.pe="top"};f.uN=function(){this.pe="middle"};f.nJ=function(){this.pe="bottom"};
f.Wu=function(){return M.MI};f.UU=function(){return{Wi:0,Uj:0,maxLength:0,Cd:0,IJ:[]}};f.FM=function(){return!1};f.yg=function(){return!1};function IB(a){return"middle"===a.pe}function JB(a){return"bottom"===a.pe}f.trigger=Backbone.Events.trigger;f.listenTo=Backbone.Events.listenTo;f.stopListening=Backbone.Events.stopListening;f.on=Backbone.Events.on;f.once=Backbone.Events.once;f.off=Backbone.Events.off;_.extend(Z.prototype,Backbone.Events);f=Z.prototype;f.eZ=function(){return!1};f.EQ=function(){return!1};
f.transform=function(a){var b=jn(hn([this.F(),this.w()]).transform(a));this.Sl(KB(this.Qa(),180*Math.atan2(a.m[3],a.m[4])/Math.PI*-1));this.setPosition(b[0],b[1])};f.C=function(){return this.Na};function LB(a){a=a.Na[0].children;for(var b=0;b<a.length;b++){var c=a[b];if(c.classList.contains("inner"))return $(c)}return $()}f.vf=function(){return!1};f.hv=function(){return!1};f.lM=function(){return!1};f.oM=function(){return!1};f.Wz=function(){return!1};f.kW=function(){this.sh=!0};f.fe=function(){return!1};
f.Kp=function(){return!1};f.gV=function(){return!1};f.hH=function(){};f.rp=function(){};f.qp=function(){};f.Eq=function(){this.uB=!0};f.gk=function(){this.uB=!1};f.Xr=function(){return this.HE};f.Vp=function(){return!0};f.FU=function(){return[]};f.zd=function(){return 0};
function MB(a,b){function c(){d.off("placeholderImage:loaded",e);d.MF(b)}if(void 0===a.Ua||void 0===a.Uc)throw Error("loadImagesAndFilters must be called on elements that have placeable and filterable images");var d=a,e=_.after(a.Ua.length,c);a.on("placeholderImage:loaded",e);0===a.Ua.length?window.setTimeout(c,0):a.Ua.forEach(function(a,b){a.update(function(){d.trigger("placeholderImage:loaded",b)})})}
f.MF=function(a){function b(){c.mH();a&&a()}if(void 0===this.Ua||void 0===this.Uc)throw Error("initializeFilters must be called on elements that have placeable and filterable images");var c=this,d=_.after(this.Uc.length,b);0===this.Uc.length?window.setTimeout(b,0):this.Uc.forEach(function(a){a.initialize(d)})};f.Nd=function(){return this.origin};
function NB(a,b){for(var c=[],d,e=_.pluck(a,"index"),g,h=0;h<b.length;h++)d={},g=e.indexOf(h),-1<g?d=a[g]:d.index=h,c.push(OB(d.filter,b[d.index]));return c}function PB(a,b,c){for(var d=[],e,g=_.pluck(a,"index"),h,k=0;k<b;k++)e={},h=g.indexOf(k),-1<h?e=a[h]:e.index=k,h=c.is(".svg.element")?c.find("svg image.placeholder").eq(k).parent():c.find(".placeholder").eq(k).parent(),d.push(new QB(e,h));return d}
function Hg(a){switch(a.type){case "text":return new Rp(a);case "image":return new RB(a);case "graphic":return"print"!==SB?a=new TB(a):(a=new hp(a),a.EV=!0),a;case "svg":return new hp(a);case "shape":return new UB(a);case "grid":return new VB(a);case "fixed":return new WB(a);case "group":switch(a.generatorType){case XB:return YB(a);default:return new ZB(a)}}return null}f.se=function(){delete this.he};
f.remove=function(){this.page&&this.page.aj(this,{W7:!0});this.be&&this.be.remove();this.be=this.ge=this.page=null;this.jP=!0};f.K=function(){return this.page?this.page.ja().indexOf(this):-1};f.R=function(){return this.page};f.Nq=function(a){this.page=a};f.Tl=function(a){this.Fb=a;this.lc()};f.tF=function(){return this.Fb};function $B(a){for(var b in aC)if(aC.hasOwnProperty(b)&&aC[b].test(a))return!0;return!1}function bC(a,b){$B(b)?a.link=b||"":a.link=""}
f.Um=function(){return $B(this.link)?this.link:""};f.gb=function(a){cC(this,a);this.lc()};function cC(a,b){void 0!==b&&!isNaN(b)&&isFinite(b)&&(a.left=b)}function dC(a,b){a.left-=b;a.lc()}function eC(a,b){a.top-=b;a.lc()}function fC(a,b){a.left+=b;a.lc()}function gC(a,b){a.top+=b;a.lc()}f.F=function(){return this.left};function hC(a){return{Fb:a.Fb,rotation:a.Qa(),top:a.w(),left:a.F(),width:a.l(),height:a.o()}}
function iC(a){var b={left:0,top:0,right:0,bottom:0,width:0,height:0},c=W;if(a.ge){var d=a.C().get(0);a=a.ge;d.parentNode&&a.get(0).parentNode&&(d=d.getBoundingClientRect(),a=a.find(".page__content").get(0).getBoundingClientRect(),b.left=(d.left-a.left)/c,b.right=(d.right-a.left)/c,b.top=(d.top-a.top)/c,b.bottom=(d.bottom-a.top)/c,b.width=b.right-b.left,b.height=b.bottom-b.top)}return b}f.Yb=function(){return iC(this).left};f.Bd=function(){return iC(this).right};f.hc=function(){return iC(this).top};
f.ed=function(){return iC(this).bottom};f.dh=function(){return iC(this).width};f.bh=function(){return iC(this).height};f.RL=function(){var a=Math.round(this.left*W),b=0;this.page&&(b=jC(J.Ia[this.page?this.page.K():0])||0);return b+a};f.ab=function(a){kC(this,a);this.lc()};function kC(a,b){void 0!==b&&!isNaN(b)&&isFinite(b)&&(a.top=b)}f.w=function(){return this.top};f.setPosition=function(a,b){cC(this,a);kC(this,b);this.lc()};
f.na=function(a){void 0!==a&&!isNaN(a)&&isFinite(a)&&(this.width=a);a=lC(this);this.C().css("width",a)};f.l=function(){return this.width};function lC(a){return Math.round(a.l()*W)}f.ca=function(a){void 0!==a&&!isNaN(a)&&isFinite(a)&&(this.height=a);a=op(this);this.C().css("height",a)};f.o=function(){return this.height};function op(a){return Math.round(a.o()*W)}f.setSize=function(a,b){this.na(a);this.ca(b)};
function np(a){a=a.C().get(0).getBoundingClientRect();return{x:a.left+a.width/2,y:a.top+a.height/2}}f.ld=function(a){var b=a.F(),c=a.w();cC(this,b);kC(this,c);this.setSize(a.l(),a.o())};f.pa=function(){return new V(this.F(),this.w(),this.l(),this.o())};f.Sl=function(a){this.rotation=a;this.lc()};f.Qa=function(){return this.rotation};f.Ow=function(a){this.Xb=a};f.ht=function(a){var b=this.Xb^a;this.Ow(a);1!=b&&2!=b||this.kw();this.lc()};f.Rp=function(){return!1};f.kw=function(){};
f.Wa=function(){return this.left+this.width};f.ua=function(){return this.top+this.height};f.Ei=function(){};f.Uo=function(){return!this.ky};f.ED=function(){return!0};f.py=function(){return!0};f.FD=function(){return!1};f.fh=function(){return!1};f.yf=function(){return this.selected};f.kc=function(){return!1};f.gD=function(){return!1};f.iS=function(){return!1};f.jr=function(){return!1};f.Ot=function(){return!1};f.jS=function(){return!1};f.Zx=function(){return!1};f.vJ=function(){return!1};f.ib=function(){return!1};
f.QF=function(){return!1};f.mk=function(a){this.selected=a};function mC(a){return 0<a.C().parents(".group").length}function nC(a){a=a.C().parents(".group");return a.length&&(a=a.data("canvaElement"),a instanceof ZB)?a:null}
f.lc=function(a){var b=this.C(),c=Math.round(this.left*W),d=Math.round(this.top*W);if(0<this.C().parents("#overlays").length&&!mC(this))var e=J.Ia[this.page?this.page.K():0],c=c+Math.round(jC(e)),d=d+Math.round(oC(e));b.css("transform",gp({Dw:this.rotation,li:d,ki:c}));b.css("opacity",(100-this.Fb)/100);this.Rp()&&this.jI();!a&&this.ge&&this.Xa()};f.jI=function(){};function pC(a){var b=M.QR*a.l();a.C().css("perspective",b+"px")}f.clone=function(){return Hg(this.serialize())};
f.Vk=function(a){a.addElement(this,!0)};f.appendTo=function(a){-1==a.elements.indexOf(this)?a.addElement(this):qC(a,this,a.ja().length)};f.wv=function(a){return a?fh(this.pa(),a.pa()):!1};f.insertAfter=function(a){var b=a.K();if(-1!=b){var c=a.page,d=c.elements.indexOf(this);-1==d?qC(c,this,b+1):d<b?qC(c,this,b):d>b&&qC(c,this,b+1);!this.ge&&a.ge&&(this.ge=a.ge);this.Ya()}};
f.insertBefore=function(a){var b=a.K();if(-1!=b){var c=a.R(),d=c.elements.indexOf(this);-1==d?qC(c,this,b):d<b-1?qC(c,this,b-1):d>b&&qC(c,this,b);!this.ge&&a.ge&&(this.ge=a.ge)}};f.Ya=function(){function a(){b.ge&&b.Xa()}var b=this;this.Ts&&(cC(this),kC(this),this.lc(!0),this.na(),this.ca(),this.lc(),this.be&&this.be.ls()?this.be.update(!1,a):a())};f.Xa=function(){if(this.ge){var a=this.C().data("toolbar");a&&(rC(a),sC(a,this));tC(this)}};
function tC(a){gh(a).write(function(){var a=this.C(),c=a.data("selectionBox");if(c){var d=this.RL(),e;e=Math.round(this.top*W);var g=0;this.page&&(g=oC(J.Ia[this.page?this.page.K():0])||0);e=g+e;var g=this.Qa(),h=lC(this),a=op(this)||a.height(),k=0,l=0,m=80>h||80>a;this.Nh&&this.Nh()&&(k=this.C().css("font-size").replace("px",""),k=this.Nh()/1E3*parseInt(k,10)*W);this.bs&&(l=(this.padding||0)*W);c.css("transform",gp({ki:d,li:e,Dw:g})).css("width",h+2*(k+l)).css("height",a+2*(k+l));c.toggleClass("tightTargets",
m);uC(c,g)}})}f.oh=function(){var a=this.C(),b=a.data("toolbar"),c=a.data("selectionBox"),d=a.data("sideDrawer");d&&(vC(d,!1),P.delay(200).then(function(){a.removeData("sideDrawer");d.remove()}));b&&b.remove();c&&c.remove();a.removeData("selectionBox").removeData("toolbar");T.trigger("hideContextualControlsRequested")};
f.serialize=function(){var a={elementIndex:this.K(),left:this.left,top:this.top,width:this.width,height:this.height,rotation:this.rotation,transparency:this.Fb,userEdited:this.nI};this.link&&(a.link=this.link);var b=this.origin&&this.origin.serialize();b&&(a.origin=b);0!=this.Xb&&(a.flipOrientation=this.Xb);return a};f.Mj=function(){return!1};f.rv=function(){return!1};f.Ri=function(){return this.he||(this.he=new $o)};f.Xz=function(){return!1};f.Mz=function(){return{}};f.EY=function(){};f.Ay=function(){return!1};
function wC(a){var b;b=I.Aa();var c=Gx(Dx()).fa().tp();b=(c=c?uh("#"+c):null)?{Ms:c,et:c.Tu()<M.GI?qn(new on,255,255,255):qn(new on,0,0,0),ut:c.Tu()<M.GI?Cn(c,qn(new on,255,255,255),M.ZR):Cn(c,qn(new on,0,0,0),M.ZR)}:!xC(b)||b.xg()?{Ms:qn(new on,255,255,255),et:qn(new on,0,0,0),ut:qn(new on,127,127,127)}:{Ms:qn(new on,0,0,0),et:qn(new on,255,255,255),ut:qn(new on,127,127,127)};c=a.lm;c===b||c&&b&&c.Ms.equals(b.Ms)&&c.et.equals(b.et)&&c.ut.equals(b.ut)||(a.lm=b,a.vD=!0)}
function yC(a,b){b!=a.ly&&(a.ly=b,a.vD=!0)}f.AB=function(){};function zC(){return 0==this.tg().length}function AC(){var a=this.Uf();if(!a)return null;var b=this.cd(),c=this.Ua?this.Ua[this.Fc()].Xb:this.Xb;return Sm(a,b,c)}
function BC(){var a=this.C(),b=this.tg(),c=this.cd(),d=a.data("selectionBox");if(d){c.scale(W).round();var e=a.data("cropControls");e||(e=$('\x3cdiv class\x3d"cropControls"\x3e\x3cdiv class\x3d"viewPort"\x3e\x3cdiv class\x3d"inner"\x3e\x3cimg class\x3d"masked" /\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"cropBox cornerHandles"\x3e\x3cdiv class\x3d"inner"\x3e\x3c/div\x3e\x3ca class\x3d"handle tl" href\x3d"#"\x3e\x3c/a\x3e\x3ca class\x3d"handle tr" href\x3d"#"\x3e\x3c/a\x3e\x3ca class\x3d"handle br" href\x3d"#"\x3e\x3c/a\x3e\x3ca class\x3d"handle bl" href\x3d"#"\x3e\x3c/a\x3e\x3ca class\x3d"move" href\x3d"#"\x3e\x3c/a\x3e\x3cimg class\x3d"uncropped" /\x3e\x3c/div\x3e\x3c/div\x3e'),e.data("canvaElement",
this),a.data("cropControls",e),e.appendTo("#overlays"));var g=e.find(".viewPort");g.css(CC(c,0));g.children(".inner").css("width",c.l()).css("height",c.o());var h=b.attr("src")||b.attr("xlink:href"),b=e.find("img.masked, img.uncropped");b.attr("src")!=h&&b.each(function(){DC(EC,$(this),h)});b=FC(d);e.css(CC(b,this.Qa()));b=this.Uf();b.scale(W).round();var k=this.Ua?this.Ua[this.Fc()].Xb:this.Xb;GC(g.find("img.masked"),b,k);b.translate(c.F(),c.w());c=e.find(".cropBox");c.css(CC(b,0));GC(c.find("img.uncropped"),
null,k);d.addClass("cropping");HC(a);a=a.data("confirmationToolbar");rC(a)}}function IC(a,b){var c=this.Uf(),d=this.cd();d.gb(0).ab(0);a>d.F()?a=d.F():a+c.l()<d.Wa()&&(a=d.Wa()-c.l());b>d.w()?b=d.w():b+c.o()<d.ua()&&(b=d.ua()-c.o());c.gb(a).ab(b);this.Ql(c)}function JC(a){var b=this.Fc();-1<b&&KC(this.Ua[b],a)}
function LC(){var a=this.C();a.removeClass("cropping");var b=a.data("confirmationToolbar"),c=a.data("cropControls");a.removeData("confirmationToolbar").removeData("cropControls");b&&b.remove();c&&c.remove();(a=a.data("selectionBox"))&&a.removeClass("cropping")}function MC(){this.C().removeClass("cropping");var a=this.tg();if(a){var b=this.jF().scale(W).round();a.css(CC(b,0)).attr("data-image-rect",JSON.stringify(this.Uf().serialize()))}}function NC(){var a=this.Fc();return this.Ym(0<=a?a:0)}
function OC(){var a=this.Fc();if(-1===a)return!1;a=this.kl(a);return void 0!==a.mediaId&&void 0!==a.mediaVersion}
function PC(a){function b(b){if(c.data("mediaId")===a.ha&&c.data("mediaVersion")===a.ia){var d=!!b;b=!!b&&b.src||"";d&&DC(EC,c,b);a.Xv&&a.Xv(d)}}var c=a.jn;c.data("mediaId",a.ha);c.data("mediaVersion",a.ia);var d=Fb.Gc(a.ha,a.ia);if(d){var d=d[QC],e=RC(a.ha,a.ia,"print"===SB?SC:Tg);DC(EC,c,d.ma());e.then(function(a){return TC(EC,a.ma())}).then(b).catch(b.bind(null,void 0))}else a.Xv&&a.Xv(!1)}
function RB(a){var b=this;Z.call(this,a);this.background=!!a.isBackground;this.Am=!!a.isDark;this.backgroundColor=a.backgroundColor||null;this.ha="string"===typeof a.mediaId?a.mediaId:null;this.ia="number"===typeof a.mediaVersion?a.mediaVersion:null;this.tc=void 0===a.mediaApproved||!!a.mediaApproved;this.Wp()?(this.AF=!0,this.My=!1):(this.AF=void 0!==a.isCutout,this.My=!this.AF||a.isCutout);this.lH=!!a.isRecolorable;this.um=!this.Wp();var c=this.Kb(),d=null!==c,e=this.C();e.addClass("image").toggleClass("hasMedia",
d);if(d){var g=$("\x3cdiv\x3e").addClass("imageWrapper");g.append("\x3cimg\x3e");g.appendTo(e);this.Jc=new QB({mediaId:this.ha,mediaVersion:this.ia,mediaApproved:this.tc},g);this.be=OB(a.filter,this.Jc);this.Rl(c.id,c.version).bind(this).then(function(){T.trigger("elementLoaded",this);T.trigger("elementLoaded:image",this)}).catch(function(){T.trigger("elementLoadingError",this)})}else this.be=this.Jc=null;this.lH&&this.backgroundColor&&e.css("background-color",this.backgroundColor);this.Jg=new V((this.width-
this.width*M.bD)/2,(this.height-this.height*M.bD)/2,this.width*M.bD,this.height*M.bD);this.Da=new V(-this.Jg.F(),-this.Jg.w(),this.width,this.height);this.Fx=this.pa();this.Jk=!1;if(c=a.imageBox)zl(this,new V(-1*c.left,-1*c.top,this.width,this.height)),this.Ql(Gm(c)),this.Fx=this.Uf(),this.Cr(),a=Gm({left:a.left,top:a.top,width:a.width,height:a.height}),this.ld(a);this.background&&aq(this);d||window.setTimeout(function(){T.trigger("elementLoaded",b);T.trigger("elementLoaded:image",b)},0)}
RB.prototype=Object.create(Z.prototype);f=RB.prototype;f.constructor=RB;f.Qp=zC;f.OP=IC;f.Fq=LC;f.cd=NC;f.jF=AC;f.Kp=function(){return!!this.be};f.gV=function(){return!0};f.yd=function(){return this.be};f.xz=function(){return 0};f.vp=function(a){return 0===a?this.be:null};f.Vp=function(){return!(!this.be||!this.be.ls())};f.Xr=function(){return this.gD()?["transparency","delete"]:this.HE};f.f3=RB.prototype.Vp;f.hH=function(a,b){UC(this.be,b)};f.rp=function(){this.be.rp()};f.qp=function(){this.be.qp()};
f.MF=function(a){function b(){c.mH();a&&a()}var c=this;this.be&&this.be.initialize(b)};f.mH=function(){var a;this.f3()&&(a=this.C().data("toolbar"))&&a.view.Cu("filter")};f.FD=function(){return!this.kc()&&!this.fh()};f.Wp=function(){return this.tc&&null===this.Kb()};f.appendTo=function(a){this.kc()?(qC(a,this,0),VC(a)):Z.prototype.appendTo.call(this,a)};
f.serialize=function(){var a=Z.prototype.serialize.call(this),b;this.be&&(b=WC(this.be))&&(a.filter=b);a.type="image";a.mediaId=this.ha;a.mediaVersion=this.ia;a.isBackground=this.background;a.isRecolorable=this.lH;a.isCutout=this.My;a.isDark=this.Am;this.backgroundColor&&(a.backgroundColor=this.backgroundColor);this.tc||(a.mediaApproved=!1);this.Jk&&(a.imageBox=this.Da.serialize());return a};
f.na=function(a){void 0===a&&(a=this.width);var b=this.C(),c=a!=this.width;this.Da&&c&&!b.is(".cropping")&&(b=a/this.width,this.Da.scale(b,1),this.Jg.scale(b,1));this.Jc&&KC(this.Jc,this.Jk?this.Da:new V(0,0,a,this.height));Z.prototype.na.call(this,a)};
f.ca=function(a){void 0===a&&(a=this.height);var b=this.C(),c=a!=this.height;this.Da&&c&&!b.is(".cropping")&&(b=a/this.height,this.Da.scale(1,b),this.Jg.scale(1,b));this.Jc&&KC(this.Jc,this.Jk?this.Da:new V(0,0,this.width,a));Z.prototype.ca.call(this,a)};f.Rp=function(){return null!==this.Jc};f.Ow=function(a){Sm(this.Da,this.Jg,this.Xb^a);this.Jg.gb(-this.Da.F());this.Jg.ab(-this.Da.w());this.Xb=a};f.jI=function(){GC(this.C().find(".imageWrapper"),null,this.Xb)};
f.kw=function(){pC(this);var a=this.C().find(".imageWrapper");a.addClass("flipping");a.one("transitionend",function(){a.removeClass("flipping")})};f.Ya=function(){Z.prototype.Ya.call(this);var a=this.C();if(this.Jk&&!a.is(".cropping")){var b=this.jF().scale(W).round();$("img",a).css(CC(b,0))}};f.Xa=function(){Z.prototype.Xa.call(this);this.C().is(".cropping")?this.Xy():this.Fq()};f.NC=function(a){this.Wp()||hq(a,this.Kb())||(this.TB(!1),this.ia=this.ha=null)};f.Mj=function(){return!0};
f.Kb=function(){return null!=this.ha&&null!=this.ia?new en({id:this.ha,version:this.ia}):null};f.ww=function(){var a=this.Kb();return a?this.Rl(a.id,a.version):P.resolve()};f.Rl=function(a,b){return new P(function(c,d){this.ha=a;this.ia=b;var e=this;PC({jn:e.C().find("img"),ha:a,ia:b,Xv:function(a){a?e.MF(c):d()}})}.bind(this))};f.qA=function(){return this.tc};f.TB=function(a){this.tc=a;this.C().toggleClass("unapproved",!a);this.Xa()};f.ft=function(){};f.tg=function(){return this.C().find("img")};
f.Fc=function(){return 0};f.Iz=function(a){return 0!=a?$():$("img",this.C()).eq(0)};f.Xf=function(){return 1};f.Ym=function(){return this.Jg.clone()};f.kl=function(){return null};f.Bp=function(){return this.Jc};f.Pq=function(){};f.yB=function(){};function zl(a,b){var c=a.Jg.F(),d=a.Jg.w();a.Jg=b.clone();a.Da.translate(c-a.Jg.F(),d-a.Jg.w())}f.Uf=function(){return this.Da.clone()};f.pM=function(){return!0};
f.Xy=function(){if(this.page){var a=this.C();this.gI||(this.gI=!0,this.Fx=new V(this.left+(this.Jk?this.Da.F():0),this.top+(this.Jk?this.Da.w():0),this.Da.l(),this.Da.o()));var b=XC(J,this.page),c=jC(b)||0,d=oC(b)||0,b=this.Fx.clone();b.scale(W).translate(c,d).round();(c=a.data("selectionBox"))&&c.css(CC(b,this.Qa()));BC.call(this);0==$(".viewPort .frameHandle").length&&(c=$('\x3ca class\x3d"frameHandle tl" href\x3d"#"\x3e\x3cspan class\x3d"tl"\x3e\x3c/span\x3e\x3c/a\x3e\x3ca class\x3d"frameHandle tr" href\x3d"#"\x3e\x3cspan class\x3d"tr"\x3e\x3c/span\x3e\x3c/a\x3e\x3ca class\x3d"frameHandle br" href\x3d"#"\x3e\x3cspan class\x3d"br"\x3e\x3c/span\x3e\x3c/a\x3e\x3ca class\x3d"frameHandle bl" href\x3d"#"\x3e\x3cspan class\x3d"bl"\x3e\x3c/span\x3e\x3c/a\x3e'),
(a=a.data("cropControls"))&&a.find(".viewPort").append(c))}};f.oh=function(){Z.prototype.oh.call(this);this.Fq()};f.Ql=function(a){this.Da=a.clone()};f.Cr=function(){MC.call(this);var a=this.C();this.tg().css("position","absolute");a.css("overflow","hidden");var b=this.Jg.clone();b.translate(this.Fx.F(),this.Fx.w());a.addClass("cropping");this.ld(b);a.removeClass("cropping");this.Jg.gb(-this.Da.F()).ab(-this.Da.w());this.Jk=!0;this.gI=!1};
function aq(a){var b=a.fd();a.background=!0;a.um=!1;a.C().addClass("background");a.page&&(qC(a.page,a,0),VC(a.page),a.page.trigger("change:background",a.page));a.fd()!==b&&a.Xa();a.se()}function YC(a){var b=a.fd();a.background=!1;a.um=!a.Wp();a.C().removeClass("background");a.fh()&&null!==a.backgroundColor&&a.Mw(null);a.fd()!==b&&a.Xa();a.page&&a.page.trigger("change:background",a.page);a.se()}f.kc=function(){return this.background};f.vJ=function(){return!0};f.gD=function(){return this.background};
f.jr=function(){return!0};f.hv=function(){return!0};f.fd=function(){return this.fh()?this.kc():this.lH};f.WL=function(){if(this.fd()){var a=uh(this.backgroundColor||M.II);if(a)return a.Tu()<M.GI}return this.Am};f.fh=function(){var a=this;this.AF||null===this.Kb()||(this.AF=!0,Bb.Jb(this.ha,(new ZC).xk(this.ia),function(b,c){a.My=c.Ha().fh()}));return this.My};f.Za=function(){var a=[];if(this.fd()){var b=uh(this.backgroundColor||M.II);b&&a.push(b)}return a};f.zd=function(){return this.Za().length};
f.$g=function(){return null!==this.backgroundColor?uh(this.backgroundColor):null};f.Mw=function(a){var b=this.C();a?(this.backgroundColor=a.qa(),b.css("background-color",this.backgroundColor)):(this.backgroundColor=null,b.css("background-color",""));this.kc()&&this.page&&this.page.trigger("change:background",this.page);this.se()};f.Ud=function(a,b){if(0!==a)throw Error("ImageElement.setChangeableColorAtIndex - invalid index: "+a.toString());this.Mw(b)};
f.Ri=function(){if(this.he)return this.he;var a=new $o;this.Za().forEach(function(b){cp(a,b)});return this.he=a};
function hp(a){this.fw=[];this.sb=this.yc=this.XI=null;this.Tb=$();this.nx=[];this.vQ=$();this.Ua=[];this.Uc=[];this.EV=this.loaded=!1;Z.call(this,a);if(void 0!==a&&void 0!==a.mediaId){this.ha=a.mediaId;this.ia=a.mediaVersion;this.tc=void 0===a.mediaApproved?!0:a.mediaApproved;var b=this.C();b.addClass("svg");var c=$('\x3cimg class\x3d"placeholder" /\x3e');b.append(c);this.listenTo(this,"change:fontSize",this.NW);this.listenTo(this,"change:fontFamily",this.NW);this.contents=a.contents?a.contents.slice(0):
null;a.scale&&(this.scale=a.scale);this.rk=null;a.svgMetadata&&(this.rk=a.svgMetadata);a.fillColors&&(this.Km=a.fillColors.map(function(a){return{index:a.index,color:bB(a.color)}}),Object.freeze(this.Km));this.Rl(this.ha,this.ia).bind(this).then(function(){T.trigger("elementLoaded",this);T.trigger("elementLoaded:svg",this)}).catch(function(){T.trigger("elementLoadingError",this)})}}hp.prototype=Object.create(Z.prototype);f=hp.prototype;f.constructor=hp;f.Qp=zC;f.Fq=LC;f.cd=NC;f.pM=OC;f.jF=AC;
f.Oo=RA;f.lE=XA;f.Qc=yA;f.Vu=zA;f.nF=PA;f.Yr=OA;f.$r=NA;f.jl=JA;f.mF=GA;f.yw=MA;f.Vs=QA;f.AH=WA;f.Lw=YA;f.eo=CA;f.setColor=BA;f.EH=LA;f.Mq=rA;f.SB=sA;f.lk=tA;f.ke=wA;f.RB=xA;f.ho=DA;f.ci=AA;f.Qw=SA;f.GH=TA;f.Rw=KA;f.Sw=IA;f.Tw=EA;f.Rq=HA;f.vx=UA;f.Rp=function(){return this.EV};f.pA=function(){return!0};f.jr=function(){return!this.vf()};f.Ot=function(){return this.fe()&&!this.hv()};f.fe=function(){return this.Tb&&0<this.Tb.length};f.Kp=function(){return this.Uc&&0<this.Uc.length};
f.jI=function(){GC(this.C().children("svg"),null,this.Xb)};f.kw=function(){pC(this);var a=this.C().children("svg");a.get(0).classList.add("flipping");a.one("transitionend",function(){a.get(0).classList.remove("flipping")})};f.NC=function(a){hq(a,this.Kb())||(this.TB(!1),this.ia=this.ha=null)};f.Mj=function(){return!0};
f.yD=function(a,b){function c(){k.jP?b&&b(!1):(k.Tb.each(function(a,b){k.ej(a,k.Sb(a),x,!0);$(b).css("opacity","")}),k.Ya(),l.forEach(function(a){var b=a.index,c=k.$a(b);k.ej(b,a,function(b){b&&void 0!==a.lineLengths&&kA(c,a.lineLengths);x()},!0)}),k.fw=$C(p,".photoPlaceholder"),k.um=0<k.Xf(),aD(p,k.fw),bD(p,k.fw),cD(p,k.fw),m&&(k.Ua=PB(m,k.Xf(),h),k.Uc=NB(m,k.Ua),Object.freeze(k.Uc),Object.freeze(k.Ua)),k.Ua.forEach(function(a,b){Im(a.Tm(),Hm)&&KC(a,dD(k,b))}),MB(k,function(){r=!0;e()}))}function d(){z=
!0;window.setTimeout(e,0)}function e(){if(r&&z&&!k.loaded&&(k.lc(),k.loaded=!0,p.css("position","absolute"),b&&b(!0),null!=k.rk&&(null==v||JSON.stringify(k.rk)!==JSON.stringify(v)))){var a=k.R();(a=a?a.Ab:null)&&a.trigger("change")}}function g(a,b){var c=a.parent(),d=a.prev(),e=BB(a),e=$("\x3cdiv\x3e\x3c/div\x3e").css("opacity",0).css("width",e.l()*W).css("height",e.o()*W).append(a).appendTo("#limbo");try{b()}finally{0<c.length?0<d.length?a.insertAfter(d):a.prependTo(c):a.detach(),e.remove()}}var h=
this.C(),k=this,l=this.contents?this.contents.filter(function(a){return"text"==a.type}):[],m=this.contents?this.contents.filter(function(a){return"image"==a.type}):[];if(!eB(a,!0)||this.jP)b&&b(!1);else{var n=DB();a=qB(a,n);var p=$(a).filter("svg");rB(p);p=$(p.get(0).cloneNode(!0));p.appendTo(h);this.yc=BB(p);this.width&&this.height||(this.na(this.yc.l()),this.ca(this.yc.o()));this.Tb=eD(p,lc(this.i));this.Tb.css("opacity",0).data("canvaElement",this).appendTo(h);fD(this);gD(this).each(function(){var a=
$(this).data("designObject");k.listenTo(a,"change:width",k.KW);k.listenTo(a,"change:height",k.JW)});a=hD(p,this.Tb);this.nx=a.nx;this.nx.forEach(function(a){k.listenTo(a,"change",k.UW)});this.vQ=a.I1;this.vQ.appendTo(h);this.Km&&this.Km.forEach(function(a){k.Ud(a.index,a.color)});var q=[],u=[];this.Tb.each(function(){var a=$(this).data("fontFamily"),b=bA($(this)).Te;a&&q.push(a);q=q.concat(b)});l.forEach(function(a){var b=oA('\x3cfont face\x3d"'+a.fontFamily+'"\x3e\x3c/font\x3e'+a.html);q=q.concat(b);
a.lineLengths&&k.$a(a.index).data("cachedLineLengths",a.lineLengths);a.fontMedia&&(u=u.concat(fn(a.fontMedia)));Array.isArray(a.htmlFontMedia)&&(u=u.concat(a.htmlFontMedia.map(fn)))});var u=u.filter(Boolean),v=this.rk;g(p,function(){k.sb=iD(p);k.rk=jD(k,p)});k.sb&&(k.scale&&kD(k),k.na(k.l()),k.ca(k.o()));var z=!1,r=!1;a=this.Tb.length+l.length;var x=_.after(a,d);0===a&&d();this.se();lD(Jb,u,q,c)}};f.Ya=function(){Z.prototype.Ya.call(this);mD(this);ip(this);nD(this)};
f.ds=function(){var a=this,b=[];this.Tb&&this.Tb.each(function(c){b.push(uh(a.Sb(c).color))});return b};f.yd=function(){var a=this.Fc();return-1<a?this.Uc[a]:null};f.xz=function(){return this.Fc()};f.vp=function(a){return this.Uc[a]||null};f.Vp=function(){return!(!this.yd()||!this.yd().ls())};f.Xr=function(){var a=this.HE.slice();0<this.Xf()&&a.push("deletePlaceholder");return a};f.rp=function(){this.yd()&&this.yd().rp()};f.qp=function(){this.yd()&&this.yd().qp()};
f.mH=function(){if(this.yd()&&this.yd().ls()){var a=this.C().data("toolbar");a&&a.view.Cu("filter")}};f.hH=function(a,b){UC(this.Uc[a],b)};f.NW=function(a,b){(a=b.data("designObject"))&&this.loaded&&oD(a)};var pD=0;function DB(){pD=pD==Math.pow(2,53)?0:pD+1;return"CANVA"+pD+"_"}function qD(a){return 0<$("g",a).filter(function(){return-1!="nw n ne w c e sw s se".split(" ").indexOf(this.id)}).length}
function iD(a){function b(a,b){var c=b.firstElementChild;c?b.insertBefore(a,c):b.appendChild(a)}function c(a,c,d,e,g){if(0!=a.length){var h=a.get(0),k=document.createElementNS("http://www.w3.org/2000/svg","g"),m=document.createElementNS("http://www.w3.org/2000/svg","clipPath"),n=DB(),K=DB(),E=document.createElementNS("http://www.w3.org/2000/svg","rect"),O=document.createElementNS("http://www.w3.org/2000/svg","rect"),Q=a.get(0).cloneNode(!0),N=document.createElementNS("http://www.w3.org/2000/svg",
"rect");m.id=n;E.setAttribute("width",e);E.setAttribute("height",g);E.setAttribute("x",c);E.setAttribute("y",d);m.appendChild(E);k.id=K;Q.removeAttribute("id");$("g.canva, .textPlaceholder, .photoPlaceholder",Q).remove();k.appendChild(Q);l.appendChild(k);l.appendChild(m);a.children(":not(.canva)").remove();a.data("clipId",n);a.data("useId",K);h.setAttribute("clip-path","url(#"+n+")");N.setAttribute("width",e);N.setAttribute("height",g);N.setAttribute("x",c);N.setAttribute("y",d);N.setAttribute("class",
"repeat");N.setAttribute("visibility","hidden");N.setAttribute("pointer-events","none");O.setAttribute("width",e);O.setAttribute("height",g);O.setAttribute("class","repeat");O.setAttribute("display","none");O.setAttribute("pointer-events","none");O.setAttribute("class","canva dimensions");b(N,h);h.insertBefore(O,N);h.setAttribute("class","canva tiled");rD(a)}}if(!qD(a))return null;var d=BB(a),e={left:0,right:0,top:0,bottom:0,repeat:!1,Ys:!0,Xn:!0},g=a.get(0),h=d.l(),k=d.o();$("g",a).each(function(a,
b){-1!=["n","e","s","w"].indexOf(b.id)&&(e.repeat|=b.classList.contains("repeat"));-1!=["ne","e","se"].indexOf(b.id)?(e.right=Math.max(e.right,h-b.getBBox().x),e.right==h&&(e.right=0)):-1!=["n","c","s"].indexOf(b.id)&&(e.left=Math.max(e.left,b.getBBox().x));-1!=["sw","s","se"].indexOf(b.id)?(e.bottom=Math.max(e.bottom,k-b.getBBox().y),e.bottom==k&&(e.bottom=0)):-1!=["w","c","e"].indexOf(b.id)&&(e.top=Math.max(e.top,b.getBBox().y))});e.Ys=!g.classList.contains("verticalOnly");e.Xn=!g.classList.contains("horizontalOnly");
if(e.repeat){var l=document.createElementNS("http://www.w3.org/2000/svg","defs");b(l,g);var d=e.left+e.right,m=e.top+e.bottom,n=g.classList.contains("horizontalOnly"),g=g.classList.contains("verticalOnly");c($("g#n",a),e.left,0,h-d,n?k:e.top);c($("g#s",a),e.left,k-e.bottom,h-d,n?k:e.bottom);c($("g#c",a),e.left,e.top,h-d,k-m);c($("g#w",a),0,e.top,g?h:e.left,k-m);c($("g#e",a),h-e.right,e.top,g?h:e.right,k-m)}return e}
function rD(a){var b=a.data("clipId"),c=a.data("useId"),d=a.get(0);if(b&&c){var b=d.querySelector(".repeat"),e=d.querySelector(".dimensions");if(b&&e){var g=Number(b.getAttribute("width")),h=Number(b.getAttribute("height")),b=Number(e.getAttribute("width")),e=Number(e.getAttribute("height")),g=Math.ceil(g/b),h=Math.ceil(h/e);if(!(isNaN(g*h)||!isFinite(g*h)||0>h||0>g||g===Number(a.data("columns"))&&h===Number(a.data("rows")))){a.find("use").remove();for(var k=0;k<g;k++)for(var l=0;l<h;l++){var m=document.createElementNS("http://www.w3.org/2000/svg",
"use"),n=k*b-.5*k,p=l*e-.5*l;m.setAttributeNS("http://www.w3.org/1999/xlink","href","#"+c);m.setAttribute("transform","translate("+n+","+p+")");d.appendChild(m)}a.data("columns",g);a.data("rows",h)}}}}
function $C(a,b){var c=[];if(0===a.find(b).length)return c;var d=a.parent(),e=a.prev(),g=BB(a),h=$("\x3cdiv\x3e\x3c/div\x3e");h.appendTo($("#limbo"));h.css("width",g.l()).css("height",g.o());a.appendTo(h);a.attr("stroke","transparent").attr("stroke-width",0);Ff(a);var k=a.get(0).getBoundingClientRect();$(b,a).each(function(a,b){a=$(b).clone();a.attr("fill","transparent").appendTo($(b).parents("g, svg").first());Ff(a);b=dh(a.get(0).getBoundingClientRect());a.remove();b.translate(-k.left,-k.top);c.push(b)});
0<d.length?0<e.length?a.insertAfter(e):a.prependTo(d):a.detach();h.remove();return c}
function eD(a,b){var c=$(),d=$C(a,".textPlaceholder"),e=$(".canva .textPlaceholder",a);d.forEach(function(a,d){var k=e.eq(d),l=k.data()||{},m=$(['\x3cdiv class\x3d"text"\x3e\x3cdiv class\x3d"inner"\x3e',l.placeholderText||b.format("documentSvgPlaceholderText"),"\x3c/div\x3e\x3c/div\x3e"].join(""));m.data("textIndex",d).data("placeholderElement",k).data("placeholderText",l.placeholderText).data("rect",a).data("justification",l.justification||"center").css("text-align",l.justification||"center").data("fontSize",
l.fontSize||M.YC).css("font-size",(l.fontSize||M.YC)*M.ti+"%").data("defaultFontSize",l.fontSize||M.YC).data("original-fill",l.fill).data("is-primary-color",l.fill&&yB.equals(uh(l.fill))).data("is-secondary-color",l.fill&&zB.equals(uh(l.fill))).data("is-tertiary-color",l.fill&&AB.equals(uh(l.fill))).data("fill",l.fill).css("color",l.fill||"").data("fontName",l.fontName).data("fontFamily",l.fontFamily).css("font-family",l.fontFamily?l.fontFamily:"").data("bold",l.bold).data("italic",l.italic).data("lineSpacing",
l.lineSpacing||M.KI).css("line-height",l.lineSpacing||M.KI).data("dynamicFontSize",l.dynamicFontSize).data("dynamicHeight",l.dynamicHeight).data("dynamicWidth",l.dynamicWidth);0<k.parents().filter(function(){return this.classList.contains("stack")}).length||sD(m);a=new tD(m,0,0);m.data("designObject",a);c=c.add(m)});return c}
function hD(a,b){function c(a,b,c){var d=[];$(a).find(".textPlaceholder").each(function(e,g){e=c.filter(function(){return $(this).data("placeholderElement").get(0)==g});if(1===e.length){var q=new tD(e.eq(0),b.F(),b.w());e.data("stackId",a.getAttribute("data-stack-id")).data("designObject",q);d.push(q)}});return d}var d=$(),e=[],g=$C(a,".canva.stack");a.find(".canva.stack").each(function(a,k){a=g[a];var l=0<$(k).parents("#n, #c, #s").length,m=0<$(k).parents("#w, #c, #e").length,n=c(k,a,b);a={valign:k.getAttribute("data-valign"),
box:a.serialize(),resizeHorizontal:l,resizeVertical:m,contents:n};a=new uD(a);e.push(a);l=$('\x3cdiv class\x3d"stack"\x3e\x3c/div\x3e');m=b.filter(function(){return $(this).data("stackId")==k.getAttribute("data-stack-id")});l.data("sourceElement",k).data("stack",a).append(m);d=d.add(l)});return{nx:e,I1:d}}
function sD(a){var b=a.data("placeholderElement"),c=0<b.parents("#n, #c, #s").length,b=0<b.parents("#w, #c, #e").length;c||b?b?a.data("dynamicHeight",!0):c&&a.data("dynamicWidth",!0):a.data("dynamicFontSize",!0)}function aD(a,b){b.forEach(function(b,d){var e=new V(0,0,M.SR,M.RR);Pm(e,b);a.find("image.placeholder").eq(d).attr("x",e.F()).attr("y",e.w()).attr("width",e.l()).attr("height",e.o())})}
function bD(a,b){b.forEach(function(b,d){var e=Math.max(b.l(),b.o()),e=new V(0,0,e,e);d=a.find("image.placeholder").eq(d);var g=document.createElementNS("http://www.w3.org/2000/svg","rect");Om(Pm(e,b).scale(Math.max(1,M.Xx)),b);Jm(e)&&(g.classList.add("vignette"),$(g).appendTo(d.parent()).attr("fill","none").attr("clip-path",d.attr("clip-path")).attr("x",e.F()).attr("y",e.w()).attr("width",e.l()).attr("height",e.o()))})}
function cD(a,b){b.forEach(function(b,d){d=a.find("image.placeholder").get(d);var e=d.cloneNode(!0);e.classList.remove("placeholder");e.classList.add("broken");b=Om(b.clone().scale(.33),b);$(e).appendTo(d.parentNode).attr("x",b.F()).attr("y",b.w()).attr("width",b.l()).attr("height",b.o());e.setAttributeNS("http://www.w3.org/1999/xlink","href","https://static.canva.com/static/images/broken_image_icon.svg")})}
function vD(a,b,c,d){if(!c)return b.clone().scale(d.scale);b=b.clone();b.scale(d.scale);c=a.parents("g#ne, g#e, g#se");0<c.length&&(c=c.data("offsetX")||0,b.translate(d.scale*c,0));c=a.parents("g#n, g#c, g#s");0<c.length&&(c=c.data("deltaX")||0,Nm(b,c*d.scale,0));c=a.parents("g#sw, g#s, g#se");0<c.length&&(c=c.data("offsetY")||0,b.translate(0,d.scale*c));c=a.parents("g#w, g#c, g#e");0<c.length&&(a=c.data("deltaY")||0,Nm(b,0,a*d.scale));return b}f=hp.prototype;
f.KW=function(a,b){if(this.sb&&this.sb.Ys&&0!==b){var c=Nm(this.pa(),b,0);switch(a.yk.data("justification")){case wD:c.translate(-b/2,0);break;case xD:c.translate(-b,0)}yD(this,c);this.lc()}};f.JW=function(a,b){this.sb&&this.sb.Xn&&0!==b&&(a=Nm(this.pa(),0,b),a.translate(0,-b/2),yD(this,a),this.lc())};function yD(a,b){var c=a.Xa,d=a.lc;a.Xa=function(){};a.lc=function(){};a.ld(b);a.lc=d;a.Xa=c}
f.UW=function(a){if(this.sb&&(this.sb.Ys||this.sb.Xn)){var b=!1,c=a.pa(),d=this.C().children(".stack").filter(function(){return $(this).data("stack")===a}),d=vD($(d.data("sourceElement")),a.Gz(),!0,zD(this));if(this.sb.Xn){var e=c.ua()-d.ua(),b=b||0!==e;this.ca(this.o()+e)}this.sb.Ys&&(c=c.Wa()-d.Wa(),b=b||0!==c,this.na(this.l()+c));b&&this.Ya()}};
function kD(a){var b,c=a.yc;b={scale:a.scale,deltaX:a.l()/a.scale-c.l(),deltaY:a.o()/a.scale-c.o()};var c=b.scale,d=b.deltaX;b=b.deltaY;a.setSize(a.yc.l()*c,a.yc.o()*c);d&&a.na(c*d+a.l());b&&a.ca(c*b+a.o())}
f.setSize=function(a,b){var c=this.width;AD(a,this.width)&&!AD(b,this.height)?this.ca(b):AD(b,this.height)&&!AD(a,this.width)?this.na(a):(Z.prototype.na.call(this,a),Z.prototype.ca.call(this,b),mD(this),nD(this),fD(this),void 0!==a&&!isNaN(a)&&isFinite(a)&&this.Ua.forEach(function(b){var e=b.Tm();e.scale(a/c);KC(b,e)}))};
f.na=function(a){var b;Z.prototype.na.call(this,a);if(this.sb&&void 0!==this.width&&void 0!==a&&0!=$("svg",this.C()).length){this.Tb.each(function(){var a=$(this);a.data("dynamicWidth")&&mA(a)});b=BB($("svg",this.C()));b.o()==this.yc.o()?(a=this.yc.o()*this.width/this.height,b=this.yc.clone()):(a=b.o()*this.width/this.height,b=b.clone());b.na(a);b=[b.F(),b.w(),b.l(),b.o()].join(" ");$("svg",this.C()).get(0).setAttribute("viewBox",b);b=this.sb.left+this.sb.right;var c=this.yc.l()-b,d=a-b,e=d/c,g=-this.sb.left*
(e-1),h=this;$("g#n, g#c, g#s",this.C()).each(function(){var a=void 0===$(this).data("scaleY")?1:$(this).data("scaleY"),b=$(this).data("offsetY")||0;"c"==this.id&&(b=-h.sb.top*(a-1));h.sb.repeat?($(".repeat",this).attr("width",d),(a=$("#"+$(this).data("clipId")+" rect").get(0))&&a.setAttribute("width",d)):$(this).attr("transform","translate("+g.toString()+", "+b.toString()+") scale("+e.toString()+", "+a.toString()+")");$(this).data("deltaX",d-c).data("scaleX",e)});var k=d-c-1;$("g#ne, g#e, g#se",
this.C()).each(function(){var a=$(this).data("offsetY")||0,b=void 0===$(this).data("scaleY")?1:$(this).data("scaleY");"e"==this.id&&(a=-h.sb.top*(b-1));"e"==this.id&&h.sb.repeat?$(this).attr("transform","translate("+k.toString()+")").data("offsetX",k):$(this).attr("transform","translate("+k.toString()+", "+a.toString()+") scale(1, "+b.toString()+")").data("offsetX",k)});$("g#nw, g#w, g#sw",this.C()).each(function(){var a=$(this).data("offsetY")||0,b=void 0===$(this).data("scaleY")?1:$(this).data("scaleY");
"w"==this.id&&(a=-h.sb.top*(b-1));"w"==this.id&&h.sb.repeat?$(this).attr("transform","translate(1, 0)").data("offsetX",1):$(this).attr("transform","translate(1,"+a.toString()+") scale(1,"+b.toString()+")").data("offsetX",1)});mD(this);nD(this)}};
f.ca=function(a){Z.prototype.ca.call(this,a);if(this.sb&&void 0!==this.height&&void 0!==a&&0!=$("svg",this.C()).length){var b;b=BB($("svg",this.C()));b.l()==this.yc.l()?(a=this.yc.l()*this.height/this.width,b=this.yc.clone()):(a=b.l()*this.height/this.width,b=b.clone());b.ca(a);$("svg",this.C()).get(0).setAttribute("viewBox",b.F()+" "+b.w()+" "+b.l()+" "+b.o());b=this.sb.top+this.sb.bottom;var c=this.yc.o()-b,d=a-b,e=d/c,g=-this.sb.top*(e-1),h=this;$("g#w, g#c, g#e",this.C()).each(function(){var a=
void 0===$(this).data("scaleX")?1:$(this).data("scaleX"),b=$(this).data("offsetX")||0;"c"==this.id&&(b=-h.sb.left*(a-1));h.sb.repeat?($(".repeat",this).attr("height",d),(a=$("#"+$(this).data("clipId")+" rect").get(0))&&a.setAttribute("height",d)):$(this).attr("transform","translate("+b.toString()+", "+g.toString()+") scale("+a.toString()+", "+e.toString()+")");$(this).data("deltaY",d-c).data("scaleY",e)});var k=d-c-1;$("g#sw, g#s, g#se",this.C()).each(function(){var a=$(this).data("offsetX")||0,b=
void 0===$(this).data("scaleX")?1:$(this).data("scaleX");"s"==this.id&&(a=-h.sb.left*(b-1));"s"==this.id&&h.sb.repeat?$(this).attr("transform","translate(0, "+k.toString()+")").data("offsetY",k):$(this).attr("transform","translate("+a.toString()+", "+k.toString()+") scale("+b.toString()+", 1)").data("offsetY",k)});$("g#nw, g#n, g#ne",this.C()).each(function(){var a=$(this).data("offsetX")||0,b=void 0===$(this).data("scaleX")?1:$(this).data("scaleX");"n"==this.id&&(a=-h.sb.left*(b-1));"n"==this.id&&
h.sb.repeat?$(this).attr("transform","translate(0, 1)").data("offsetY",1):$(this).attr("transform","translate("+a.toString()+", 1) scale("+b.toString()+", 1)").data("offsetY",1)});mD(this);nD(this)}};function BD(a){return a.yc?a.l()/a.yc.l():0}
function zD(a){var b={scale:BD(a),deltaX:0,deltaY:0};if(!a.sb)return b;var c,d=BB($("svg",a.C()));a.yc.l()!=d.l()&&a.yc.o()!=d.o()?c=a.width/d.l():a.yc.o()==d.o()?c=a.height/a.yc.o():(a.yc.l(),d.l(),c=a.width/a.yc.l());b.scale=c;b.deltaX=d.l()-a.yc.l();b.deltaY=d.o()-a.yc.o();return b}
function ip(a){a.Tb.each(function(){var b=$(this),c=b.data("fontSize"),d=void 0!==b.data("stackId"),e=zD(a),c=c*e.scale;b.css("font-size",c*M.ti+"%");!d&&b.data("placeholderElement")&&b.data("rect")&&b.data("designObject")&&(d=b.data("placeholderElement"),c=b.data("rect").clone(),c=vD(d,c,!!a.sb,e),e=b.data("designObject"),a.stopListening(e,"change:width"),a.stopListening(e,"change:height"),e.ld(c),a.listenTo(e,"change:width",a.KW),a.listenTo(e,"change:height",a.JW),c.scale(W).round(),b.css(c.serialize()))})}
function gD(a){return a.Tb.filter(function(){return 0==$(this).data("placeholderElement").parents().filter(function(){return this.classList.contains("stack")}).length})}function fD(a){if(a.Tb&&0!=a.Tb.length){var b=gD(a),c=zD(a);b.each(function(){$(this).data("designObject").scale(c.scale)})}}function mD(a){a.C().find(".canva.tiled").each(function(){rD($(this))})}
function nD(a){a.nx.forEach(function(b,c){var d=zD(a),e=a.C().find(".canva.stack").eq(c),e=vD(e,b.Gz(),!!a.sb,d),g=e.clone().scale(W).round();a.vQ.eq(c).css(g.serialize());a.stopListening(b,"change");b.ld(e,d.scale);b.ka();a.listenTo(b,"change",a.UW)})}f.remove=function(){this.Tb.each(function(){var a=$(this);a.hasClass("focused")&&0<a.parents("#overlays").length&&VA(a)});Z.prototype.remove.call(this);this.stopListening();this.Tb.remove();this.nx.forEach(function(a){a.remove()})};
f.oh=function(){Z.prototype.oh.call(this);this.Fq()};f.iP=function(){var a=$(this.C()).data("toolbar");a&&a.remove()};
f.Xa=function(){Z.prototype.Xa.call(this);CD(this);var a=this.C(),b=a.data("selectionBox");b&&this.sb&&(this.sb.Xn&&b.addClass("verticalScale"),this.sb.Ys&&b.addClass("horizontalScale"));if(a.is(".cropping"))this.Xy();else{this.Fq();var c=this,b=$("#overlays");0!==b.length&&(b=b.find(".svg.text.focused"),b=b.filter(function(){return c==$(this).data("canvaElement")}),a=a.data("toolbar"))&&(0<b.length&&a.view.$el.filter(".toolbar--font").length&&DD(a),this.Ua.length&&(b=-1<this.Fc(),a.view.LY("imageDelete",
"crop","filter"),a.view.Jf("imageDelete",b),a.view.Jf("crop",b),a.view.Jf("filter",b&&ED(this.Ua[this.Fc()]))),rC(a))}};f.Kb=function(){return null!==this.ha&&null!==this.ia?new en({id:this.ha,version:this.ia}):null};f.ww=function(){var a=this.Kb();if(!a)return P.resolve();this.contents&&this.contents.splice.bind(this.contents,0,Infinity).apply(null,this.serialize().contents);var b=$('\x3cimg class\x3d"placeholder" /\x3e');this.C().empty().append(b);this.loaded=!1;return this.Rl(a.id,a.version)};
f.Cz=function(){for(var a=[],b=0;b<this.Xf();b++){var c=this.Bp(b);c&&a.push(c)}return a};f.rv=function(){return!0};f.Oq=function(a){DC(EC,this.C().find("img.placeholder"),a)};f.Rl=function(a,b){this.ha=a;this.ia=b;return FD(this)};
function FD(a){return new P(function(a,c){function d(a,b){var c=0>a.indexOf("?")?"?":"\x26",g;g=$.ajax({dataType:"text",url:a});g.done(function(a){k.yD(a,e)});g.fail(function(){b?T.trigger("elementLoadingError",k):d(a+c,!0)})}function e(a){if(a){var b=k;b.C().children("img.placeholder").remove();b.Ya()}h(a)}function g(a){function b(a){var c=!!a;k.Oq(c&&a.src||"");k.C().find("img.placeholder").removeClass("placeholder");k.C().addClass("raster");h(c)}TC(EC,a).then(b).catch(b.bind(null,void 0))}function h(d){d?
window.setTimeout(function(){k.Ya();k.AB();a()},0):c()}var k=this,l=Fb.Gc(this.ha,this.ia);if(l){var m=l[QC];RC(this.ha,this.ia,"print"==SB?SC:Tg).then(function(a){var b=a.ma();a.url.match(/^data:image\/svg\+xml;base64,/i)?(a=window.atob(b.substr(b.indexOf(",")+1)),k.yD(a,e)):a.url.match(/\.svg(\?|$)/)?(k.Oq("data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"),d(b)):(k.Oq(m.ma()),g(b))})}else c()}.bind(a))}f.qA=function(){return this.tc};
f.TB=function(a){this.tc=a;this.C().toggleClass("unapproved",!a);this.Xa()};function GD(a){a=1/BD(a)/W;return"stroke-width: "+1*a+"px; "+("stroke-dasharray: "+3*a+" "+3*a+";")}function CD(a){var b=a.tg();HD(a);0<b.length&&(b=b.get(0),b.getAttribute("xlink:href")!=M.Ho&&b.classList.add("active"),b.parentNode.querySelector(".outline").setAttribute("style",GD(a)))}
function HD(a){ID(a).each(function(){this.classList.contains("active")&&(this.classList.remove("active"),this.parentNode.querySelector(".outline").removeAttribute("style"))})}f.Ei=function(){HD(this)};f.ft=function(a){this.Qp()||(this.XI=a,CD(this),(a=this.C().data("toolbar"))&&sC(a,this))};f.kl=function(a){return(a=this.Ua[a])?a.serialize():null};f.Bp=function(a){return this.Ua[a]||null};
f.Pq=function(a,b){function c(){d.trigger("placeholderImage:loaded",a)}var d=this,e=this.Ua[a];b.mediaId?KC(JD(KD(LD(e,b.mediaId,b.mediaVersion,c),b.origin?new cn(b.origin):null),b.mediaApproved),Gm(b.imageBox)).Ow(b.flipOrientation):this.yB(a)};f.bY=function(){this.yB(this.Fc())};f.yB=function(a){a===this.Fc()&&(this.XI=null,HD(this));var b=dD(this,a);KC(MD(this.Ua[a]),b);this.Uc[a].remove()};function dD(a,b){a=a.Ym(b);b=new V(0,0,M.SR,M.RR);a&&Pm(b,a).translate(-a.F(),-a.w());return b}
function ID(a){return a.C().find("svg image.placeholder")}function ND(a){return ID(a).filter(function(){return $(this).attr("xlink:href")!=M.Ho}).first()}f.tg=function(){return this.XI||ND(this)};f.Fc=function(){return ID(this).index(this.tg())};f.Iz=function(a){return ID(this).eq(a)};f.Xf=function(){return this.fw.length};
f.Xy=function(){BC.call(this);var a=this.C().data("cropControls");$(".viewPort",a).css("display","none");if(0==$("svg",a).length){var b=this.tg().clone().get(0),c=this.cd().scale(1/BD(this)).round(),d=document.createElementNS("http://www.w3.org/2000/svg","svg"),e=document.createElementNS("http://www.w3.org/2000/svg","g"),c=[c.F(),c.w(),c.l(),c.o()].join(" ");d.appendChild(e);e.appendChild(b);d.setAttribute("viewBox",c);b=$(d).children("g").get(0);b.classList.add("cropLayer");b.classList.add("masked");
a.append(d)}d=this.cd();d.scale(W).round();a.find("svg").css("transform",gp({ki:d.F(),li:d.w()})).css("width",d.l()).css("height",d.o())};f.OP=function(a,b){IC.call(this,a,b);b=this.C().data("cropControls");a=this.tg();b=$("g.cropLayer image",b);var c=this.cd(),d=this.Uf();d.translate(c.F(),c.w()).scale(1/BD(this));a.attr("x",d.F()).attr("y",d.w());b.attr("x",d.F()).attr("y",d.w())};
f.Ql=function(a){JC.call(this,a);var b=this.C().data("cropControls"),b=$("g.cropLayer image",b),c=this.cd();a=a.clone();a.translate(c.F(),c.w()).scale(1/BD(this));b.attr("x",a.F()).attr("y",a.w()).attr("width",a.l()).attr("height",a.o())};f.Ym=function(a){var b=BD(this);a=this.fw[a].clone();a.scale(b);return a};
f.Uf=function(){var a=this.tg(),b=this.cd(),a=new V(parseFloat(a.attr("x")),parseFloat(a.attr("y")),parseFloat(a.attr("width")),parseFloat(a.attr("height")));a.scale(BD(this)).translate(-b.F(),-b.w());return a};f.Cr=function(){var a=this.C();a.removeClass("cropping");var b=this.tg(),a=a.data("cropControls"),a=$("g.cropLayer image",a);b.attr("x",a.attr("x"));b.attr("y",a.attr("y"));b.attr("width",a.attr("width"));b.attr("height",a.attr("height"))};
f.serialize=function(){function a(a,b){a=a===cB?cB:a.qa();return{index:b,color:a}}var b=Z.prototype.serialize.call(this);b.type="svg";b.mediaId=this.ha;b.mediaVersion=this.ia;this.tc||(b.mediaApproved=!1);0!==BD(this)&&(b.scale=zD(this).scale);var c=this,d=[],e;this.loaded?(this.Ua.forEach(function(a,b){if(ED(a)||!a.tc)a=a.serialize(),(b=WC(c.Uc[b]))&&(a.filter=b),d.push(a)}),this.Tb&&this.Tb.each(function(a){a=c.Sb(a);a.type="text";d.push(a)}),0<d.length&&(b.contents=d),e=this.Za().map(a),0<e.length&&
(b.fillColors=e)):(this.scale&&(b.scale=this.scale),this.contents&&(b.contents=this.contents.slice(0)),this.Km&&(b.fillColors=this.Km.map(function(b,c){return a(b.color,c)})));this.rk&&(b.svgMetadata=this.rk);return b};
function jD(a,b){function c(a,b){var c,e,g,h,k,z,r,x;a.find("g[id\x3dc]")[0]?(c=d("n"),e=d("s"),g=d("w"),h=d("e"),k=d("nw"),z=d("ne"),r=d("sw"),x=d("se")):a.find("g[id\x3dn]")[0]?(g=d("nw"),h=d("ne"),c=e=k=z=r=x={width:0,height:0}):a.find("g[id\x3dw]")[0]&&(c=d("nw"),e=d("sw"),g=h=k=z=r=x={width:0,height:0});a=Math.max(g.width,k.width,r.width);c=Math.max(c.height,z.height,k.height);return{x:b.x+a,y:b.y+c,width:b.width-a-Math.max(h.width,z.width,x.width),height:b.height-c-Math.max(e.height,x.height,
r.height)}}function d(a){return(a=b.find("g[id\x3d"+a+"]")[0])?a.getBBox():{x:0,y:0,width:0,height:0}}function e(a){return{left:a.x,top:a.y,width:a.width,height:a.height}}Ca(1===b.closest("#limbo").length,"svg must be in limbo element.");try{var g=a.sb,h={},k={x:a.yc.F(),y:a.yc.w(),width:a.yc.l(),height:a.yc.o()};h.viewBox=e(k);h.textHolderBoxes=b.find(".textPlaceholder").toArray().map(function(a){return e(a.getBBox())});h.photoHolderBoxes=b.find("image.placeholder").toArray().map(function(a){a=(a=
a.getAttribute("clip-path"))&&a.match(/url\(["']?(.*?)["']?\)/);Fa(!!a,"SVG image placeholder's clip-path attribute is missing or invalid.");var c=b.find(a[1]);Fa(1===c.length,"SVG image placeholder's clipPath element is missing or ambiguous.");a=SVGClipPathElement.prototype.getBBox?c[0].getBBox():null;if(null==a||0===a.width&&0===a.height&&null!=c[0].innerHTML)c=$("\x3csvg\x3e\x3cg\x3e\x3c/g\x3e\x3c/svg\x3e").children().html(c.html()).insertAfter(c),a=c[0].getBBox(),c.remove();return e(a)});g&&(h.centerBox=
e(c(b,k)),h.tile=!!g.repeat);return h}catch(l){return OD().log("Failed to serialize SVG metadata.",{error:l}),null}}f.ve=function(){return this.Tb?this.Tb.filter(".focused"):$()};f.vf=function(){return 0<this.ve().length};f.hv=function(){return 0<this.tg().length};f.Ri=function(){function a(a,c){bA($(c)).rf.forEach(b)}function b(a){(a=uh(a))&&cp(c,a)}if(this.he)return this.he;var c=new $o;this.Tb&&this.Tb.each(a);this.Za().forEach(function(a){a instanceof on&&cp(c,a)});return this.he=c};f.sF=function(){return this.Tb.length};
f.$a=function(a){return this.Tb?this.Tb.eq(a):$()};f.ub=function(){return this.Tb.index(this.ve())};
f.Sb=function(a){function b(a,b,c){var d=Math.PI/2,e=Math.PI,g=Math.PI+Math.PI/2;if(0<=c&&c<d)return b*=Math.sin(c),{left:a.left+b,top:a.top};if(c>=d&&c<e)return b*=Math.sin(c-d),{left:a.right,top:a.top+b};if(c>=e&&c<g)return b*=Math.sin(c-e),{left:a.right-b,top:a.bottom};if(c>=g)return b*=Math.sin(c-g),{left:a.left,top:a.bottom-b};throw Error("Invalid radians value "+c);}function c(a,b,c){var d=a.left-b.left;a=a.top-b.top;var e=Math.sin(c);c=Math.cos(c);return{left:d*c-a*e+b.left,top:d*e+a*c+b.top}}
if(0>a||a>=this.Tb.length)throw Error("SvgElement.getTextAtIndex - invalid index: "+a.toString());var d=this.Tb.eq(a);a=this.Lw(a);var e=d.data("designObject");e&&(a.preferredFontSize=e.ZG);var g=d.children(".inner");a.width=g.prop("clientWidth");a.height=g.prop("clientHeight");e=function(a,d){var e=a[0].getBoundingClientRect(),m=g[0].getBoundingClientRect();if(0===d)return{left:(m.left-e.left)/W,top:(m.top-e.top)/W};d=Pn(0<=d?d:360+d);var n={left:e.left+e.width/2,top:e.top+e.height/2};a=Number(a.prop("clientHeight"));
e=b(e,a,d);e=c(e,n,-d);a=Number(g.prop("clientHeight"))*W;m=b(m,a,d);m=c(m,n,-d);return{left:(m.left-e.left)/W,top:(m.top-e.top)/W}}(this.C(),this.Qa()%360);a.left=e.left;a.top=e.top;d=Number(d.data("lineSpacing"));a.lineHeight=100*(isNaN(d)?M.KI:d);return a};
f.ej=function(a,b,c,d){if(0<=a&&this.Tb&&a<this.Tb.length){var e=this.Tb.eq(a),g=e.children(".inner");g.html(b.html);var h=("true"==g.attr("contentEditable")).toString();g.attr("contentEditable","true");for(var k=window.getSelection(),l=[],m=0;m<k.rangeCount;m++)l.push(k.getRangeAt(m));m=g.get(0)||null;document.body.contains(m)&&k.selectAllChildren(m);this.lk(a,b.fontFamily,c,d);this.Mq(a,b.fontMedia&&fn(b.fontMedia));this.setColor(a,uh(b.color));k.removeAllRanges();l.forEach(function(a){try{k.addRange(a)}catch(b){}});
this.ke(a,b.fontSize*zD(this).scale);this.eo(a,b.bold);this.ho(a,b.italic);this.ci(a,b.justification);this.Tw(a,b.list);this.Rq(a,b.textTransform);a=e.data("designObject");void 0!==b.preferredFontSize&&(a.ZG=b.preferredFontSize);g.attr("contentEditable",h);m&&m.hasAttribute("_moz_abspos")&&m.setAttribute("_moz_abspos","transparent");mA(e)}};f.dL=function(){};f.oE=function(){};f.oA=function(){};
f.ke=function(a,b){var c=this.$a(a);if(void 0===b)c.removeData("fontSize").css("font-size","");else{var d=zD(this).scale,e=c.data("fontSize"),g=b/d;c.data("fontSize",b/d).css("font-size",b*M.ti+"%");if(e!==g){d=g/e;if(.5>d||2<d)this.Vs(a),this.yw(a),mA(c);this.trigger("change:fontSize",this,c,b)}}};f.Qc=function(a){a=yA.call(this,a);var b=zD(this).scale;return a*b};f.RB=function(a){var b=this.ve().data("designObject"),c=zD(this).scale;b.ZG=a/c;xA.apply(this,arguments)};
f.Za=function(){var a=PD(this);return _.sortBy(a,function(a,c){return parseInt(c.match(/\d+/)[0],10)})};f.zd=function(){return this.Za().length};function PD(a){var b={};a.C().children("svg").find(".color").each(function(){for(var a,d=0;d<this.classList.length;d++){var e=this.classList.item(d);if(e.match(/^color-\d+$/)){a=e;break}}a&&(d=bB(this.getAttribute("fill")))&&(b[a]=d)});return b}f.Ay=function(){var a=this.C().children("svg").get(0);return!!a&&a.classList.contains("baseColors")};
f.AB=function(){function a(a,b,c){return Cn(uh(a),b,c)}var b=this.lm,c=this.ly;null!==this.lm&&this.Ay()&&(this.C().children("svg").find(".primaryColor").each(function(){this.setAttribute("fill",a(this.getAttribute("data-color"),b.Ms,c).qa())}),this.C().children("svg").find(".secondaryColor").each(function(){this.setAttribute("fill",a(this.getAttribute("data-color"),b.et,c).qa())}),this.C().children("svg").find(".tertiaryColor").each(function(){this.setAttribute("fill",a(this.getAttribute("data-color"),
b.ut,c).qa())}),this.Tb.each(function(d,e){var g=!!jQuery.data(e,"is-primary-color"),h=!!jQuery.data(e,"is-secondary-color"),k=!!jQuery.data(e,"is-tertiary-color");e=jQuery.data(e,"original-fill");g?this.setColor(d,a(e,b.Ms,c)):h?this.setColor(d,a(e,b.et,c)):k&&this.setColor(d,a(e,b.ut,c))}.bind(this)))};
f.Ud=function(a,b){var c=PD(this);a=_.sortBy(_.keys(c),function(a){return parseInt(a.match(/\d+/)[0],10)})[a];this.C().children("svg").find("."+a).each(function(){var a=this.getAttribute("data-color");this.setAttribute("fill",dB(b)||a)});this.se()};
function Rp(a,b){function c(){g.ej(0,a,d,!0);g.uo=$.extend(!0,{},a.stylesOverriden);g.Ts=!1}function d(a){n=!0;q=a;m&&e()}function e(){var c=p&&q;g.loaded=!0;h.removeClass("textElementLoading");if(c)g.Ts=!0,g.Ya(),g.wd&&a.height?g.ca(a.height):g.ca(),kC(g),cC(g),g.lc(),T.trigger("elementLoaded",g),T.trigger("elementLoaded:text",g);else{var d=g;Z.prototype.ca.call(d,a.height);Z.prototype.na.call(d,a.width);kA(d.C(),a.lineLengths||[]);d.mz=!0;d.C().toggleClass("failed",d.mz);d.Ts=!0;T.trigger("elementLoadingError",
g)}b&&b(g,c)}Z.call(this,a);var g=this,h=this.C(),k=lc(this.i);h.addClass("text").addClass("textElementLoading").data("placeholderText",a.placeholderText||k.Df()).append('\x3cdiv class\x3d"inner"\x3e'+k.Df()+"\x3c/div\x3e");this.style=a.style;this.padding=a.padding;this.border=a.border;this.bG=!0;!1===a.lockedWidth&&(this.bG=!1);k=[];a.fontMedia&&k.push(fn(a.fontMedia));a.htmlFontMedia&&(k=k.concat(a.htmlFontMedia.map(fn)));a.verticalAlignment&&(this.pe=a.verticalAlignment);var l=oA(a.html);a.fontFamily&&
l.push(a.fontFamily);var m=!1,n=!1,p=!1,q=!1;this.uo={};0<k.length?QD(Jb,k,c):c();this.wd=this.loaded=!1;this.O6=a;lD(Jb,k,l,function(a){m=!0;p=a;n&&e()});this.gN=!1}Rp.prototype=Object.create(Z.prototype);f=Rp.prototype;f.constructor=Rp;f.Oo=RA;f.lE=XA;f.Qc=yA;f.Vu=zA;f.nF=PA;f.Yr=OA;f.$r=NA;f.jl=JA;f.mF=GA;f.yw=MA;f.Vs=QA;f.AH=WA;f.Lw=YA;f.eo=CA;f.setColor=BA;f.EH=LA;f.Mq=rA;f.SB=sA;f.lk=tA;f.ke=wA;f.RB=xA;f.ho=DA;f.ci=AA;f.Qw=SA;f.GH=TA;f.Rw=KA;f.Sw=IA;f.Tw=EA;f.Rq=HA;f.vx=UA;f.qv=function(){return!this.loaded};
f.sF=function(){return 1};f.Uo=function(){return this.loaded&&!this.ky&&!this.mz};f.Ot=function(){return!0};f.ED=function(){return this.loaded&&!this.mz};f.eZ=function(){return!0};f.EQ=function(){return!0};f.pA=function(){return this.bG};f.Sj=function(){this.bG=!0};f.UQ=function(){this.bG=!1};
function RD(a){if(!a.hr){var b=a.$a(0),c=window.getSelection(),d=c.focusNode,c=c.toString();if(d&&d.parentNode&&d.parentNode.classList.contains("char"))(b=d&&d.parentNode&&d.parentNode.nextSibling)&&b.classList.contains("fauxCaret")&&(b=b.nextSibling),b&&b.classList.contains("char")&&(c=d.textContent+b.textContent);else if(1===c.length&&8203===c.charCodeAt(0)&&(c=""),0===c.length){d=Qz(b);a:{c=window.getSelection();if(0<c.rangeCount&&(c=c.getRangeAt(0).cloneRange(),c.collapse(!0),b=b.get(0))){c.setEnd(b,
1);b=c.toString().slice(0,1);8203===b.charCodeAt(0)&&(b=c.toString().slice(1,2));break a}b=""}c=d+b}else 1===c.length&&(c=Qz(b)+c);2===c.length&&(a.hr=c)}a.hr&&(a.hr=a.hr.replace(/\s/gi,""),2!==a.hr.length&&(a.hr=void 0));return a.hr}function SD(a){var b=RD(a);return b?a.nF(0,b):0}f.DY=function(a){var b=RD(this);b&&(this.Qw(0,a,b),this.Oo(0))};f.sV=function(){var a=RD(this);if(a){var b=SD(this);this.Qw(0,Math.min(b+10,200),a);this.Oo(0)}};
f.uT=function(){var a=RD(this);if(a){var b=SD(this);this.Qw(0,Math.max(b-10,-200),a);this.Oo(0)}};f.lk=function(a,b,c,d){this.uo.fontFamily=!0;tA.call(this,a,b,c,d)};f.ke=function(a,b,c){this.uo.fontSize=!0;wA.call(this,a,b,c)};f.eo=function(a,b){this.uo.bold=!0;CA.call(this,a,b)};f.ho=function(a,b){this.uo.italic=!0;DA.call(this,a,b)};f.ci=function(a,b){this.uo.justification=!0;AA.call(this,a,b)};f.setColor=function(a,b){this.uo.color=!0;BA.call(this,a,b);this.se()};
f.na=function(a){var b=void 0!==a&&a!==this.width;Z.prototype.na.call(this,a);a=this.l();LB(this).css("width",Math.round(a));b&&!this.gN&&mA(this.C())};f.ca=function(a){this.wd?a&&Z.prototype.ca.call(this,a):(a=LB(this).prop("scrollHeight")||0,Z.prototype.ca.call(this,a))};f.setSize=function(a,b,c){this.gN=!!c;this.na(a);this.ca(b);this.gN=!1};
f.lc=function(){var a=LB(this),b=W,c=.5*(M.Ht-this.jl(0))/100*b;a.css("transform","translateY("+c+"em) scale("+b+")").css("transform-origin","top left").css("width",this.l());Z.prototype.lc.apply(this,arguments)};f.ve=function(){return this.Na};f.vf=function(){return 0<this.Na.length};f.Ri=function(){if(this.he)return this.he;var a=new $o;bA(this.Na).rf.forEach(function(b){(b=uh(b))&&cp(a,b)});return this.he=a};f.$a=function(a){return 0!==a?$():this.Na};f.ub=function(){return 0};
f.Sb=function(a){a=this.Lw(a);a.height=this.o();a.width=this.l();this.wd&&(a.fontSizeAuto=this.wd);return a};f.ds=function(){return[uh(this.Sb(0).color)]};function TD(a){return bA(a.C()).rf.filter(function(a,c,d){return d.indexOf(a)===c})}
f.ej=function(a,b,c,d){var e=this,g=this.C(),h=Array.isArray(b.htmlFontMedia)?b.htmlFontMedia.map(fn):[],k=this.lE(b.kerning),l=b.lineLengths;this.wd=!1;LB(this).html(b.html);this.SB(a,h);this.Mq(a,b.fontMedia&&fn(b.fontMedia));this.ke(a,b.fontSize);this.eo(a,b.bold);this.ho(a,b.italic);this.ci(a,b.justification);this.Rw(a,b.letterSpacing);this.Sw(a,b.lineHeight);this.Tw(a,b.list);this.Rq(a,b.textTransform);this.setColor(a,uh(b.color));l&&g.data("cachedLineLengths",l);this.uo=$.extend(!0,{},b.stylesOverriden);
this.se();this.lk(a,b.fontFamily,function(b){b&&(k&&e.Oo(a),l&&kA(g,l));c&&c(b)},d);k&&this.GH(a,k);b.fontSizeAuto&&UD(this)};f.dL=function(){UD(this)};f.oE=function(){this.wd=!1};f.oA=function(){return this.wd};f.fe=function(){return!0};f.lM=function(){return!0};function VD(a,b){a.border=b?{width:b}:{width:0};a.Ya()}f.Nh=function(){return this.border&&this.border.width||0};f.oM=function(){return!0};f.VB=function(a){this.padding=a?a:0;this.Ya()};f.bs=function(){return this.padding};
f.Ya=function(){Z.prototype.Ya.call(this);var a=this.C(),b="#000000",c=bA(a).rf;0<c.length&&(b=c[c.length-1]);this.Nh()?a.css("border",this.Nh()/1E3*W+"em solid "+b):a.css("border","none");a.css("padding",this.padding*W+"px")};f.Wu=function(){var a=M.MI;Ib.H.get(sg)&&(a=a.slice(0),a.push(WD));return a};f.remove=function(){var a=this.C();0<a.parents("#overlays").length&&VA(a);Z.prototype.remove.call(this)};
f.Xa=function(){Z.prototype.Xa.call(this);var a=this.C(),b=a.data("toolbar"),a=a.data("selectionBox");b&&(a&&(this.wd?(a.addClass("autoSize"),a.removeClass("horizontalScale")):(a.addClass("horizontalScale"),a.removeClass("autoSize"))),DD(b),rC(b))};f.oh=function(){Z.prototype.oh.call(this);var a=this.C(),b=a.data("toolbar");b&&b.remove();a.removeData("toolbar")};function UD(a){a.wd=!0;a.Sj();a.Xa()}
f.serialize=function(){var a=Z.prototype.serialize.call(this);if(!this.loaded){var b=this.O6;Object.keys(a).forEach(function(c){b[c]=a[c]});return b}var c=this.Sb(0);a.type="text";a.style=this.style;a.border=this.border;a.padding=this.padding;a.stylesOverriden=$.extend(!0,{},this.uo);for(var d in c)a[d]=c[d];this.pe&&(a.verticalAlignment=this.pe);delete a.fontSizeAuto;return a};
function VB(a){function b(){var a={type:"columns",children:[{type:"item"},{type:"item"}]};return[a,a]}void 0===a&&(a={});a.width=a.width||M.JR;a.height=a.height||M.JR;Z.call(this,a);var c=parseInt(a.spacing,10);this.spacing=isNaN(c)||!isFinite(c)||0>c?M.ZC:c;this.items=a.items||b();this.um=!0;c=this.C();c.addClass("grid").css("width",this.width*W).css("height",this.height*W);XD(this,YD(this.items));a=a.contents||[];this.Ua=PB(a,this.Xf(),c);Object.freeze(this.Ua);this.Uc=NB(a,this.Ua);Object.freeze(this.Uc);
this.load().bind(this).then(function(){T.trigger("elementLoaded",this);T.trigger("elementLoaded:grid",this)})}VB.prototype=Object.create(Z.prototype);f=VB.prototype;f.constructor=VB;f.Qp=zC;f.Uf=function(){return-1===this.Fc()?null:this.Ua[this.Fc()].Tm()};f.Xy=BC;f.OP=IC;f.Ql=JC;f.Fq=LC;f.Cr=MC;f.cd=NC;f.pM=OC;f.jF=AC;f.Rp=function(){return!0};f.Nq=function(a){Z.prototype.Nq.call(this,a);this.C().toggleClass("fullPageGrid",this.yg())};
f.setSize=function(a,b,c){Z.prototype.setSize.call(this,a,b,c);this.C().toggleClass("fullPageGrid",this.yg())};f.lc=function(){Z.prototype.lc.call(this);this.C().toggleClass("fullPageGrid",this.yg())};f.ww=function(){this.Ua.forEach(function(a){a.BF=!1});return this.load()};f.load=function(){return new P(function(a){MB(this,a)}.bind(this))};f.Ri=function(){if(this.he)return this.he;var a=new $o;this.Ua.forEach(function(b){(b=b.$g())&&cp(a,b)});return this.he=a};f.Za=function(){return this.Ua.map(function(a){return a.$g()})};
f.zd=function(){return this.Za().length};f.Ud=function(a,b){var c=this.Ua[a]||this.Ua[this.Ua.length-1];this.Pq(a,null);c.Mw(b);this.Xa();this.se()};
function YD(a){function b(a){var d=a.type||"rows";a=a.children||a;for(var e=$(),g=0,h=0;h<a.length;h++){var k=a[h],l=$('\x3cdiv class\x3d"'+k.type+'"\x3e\x3c/div\x3e');"item"==k.type&&$('\x3cdiv class\x3d"content"\x3e\x3cdiv class\x3d"placeholder" /\x3e\x3c/div\x3e').appendTo(l);if("rows"==d){var m=1/(a.length-h)*(100-g),m=k.height||m,n=g,m=~~(10*m)/10;l.css("top",n+"%").css("height",m+"%").attr("data-top",n/100).attr("data-height",m/100)}else m=1/(a.length-h)*(100-g),m=k.width||m,n=g,m=~~(10*m)/
10,l.css("left",n+"%").css("width",m+"%").attr("data-left",n/100).attr("data-width",m/100);g+=m;void 0!==k.children&&l.append(b(k));e=e.add(l)}return e}return b([{type:"rows",children:a}])}f.Kp=function(){return this.Uc&&0<this.Uc.length};f.yd=function(){var a=this.Fc();return-1!=a&&ED(this.Ua[a])?-1<a?this.Uc[a]:null:null};f.xz=function(){var a=this.Fc();return-1!==a&&ED(this.Ua[a])?a:-1};f.vp=function(a){return this.Uc[a]};f.Vp=function(){return this.yd()&&this.yd().ls()};f.WL=function(){return!1};
f.$g=function(){return 1===this.zd()?uh(this.Za()[0]):null};f.Wp=function(){return null!==this.$g()};f.fd=function(){var a=1===this.Ua.length&&null===this.Ua[0].Kb();return this.Wp()||a};f.yg=function(){return!(!this.page||!Qm(this.pa(),this.page.pa()))};f.jr=function(){return!0};f.hv=function(){return 0<this.tg().length};f.Xr=function(){var a=this.HE.slice();0<this.Xf()&&a.push("deletePlaceholder");return a};f.rp=function(){this.yd()&&this.yd().rp()};f.qp=function(){this.yd()&&this.yd().qp()};
f.mH=function(){if(this.yd()&&this.yd().ls()){var a=this.C().data("toolbar");a&&a.view.Cu("filter")}};f.hH=function(a,b){UC(this.Uc[a],b)};f.bY=function(){this.yB(this.Fc());this.C().find(".active").removeClass("active")};function bn(a,b,c,d){if(d)return new V(0,0,a,b);c*=M.PR;return new V(-c,-c,a+2*c,b+2*c)}function XD(a,b){var c=a.C();c.empty();$('\x3cdiv class\x3d"inner"\x3e\x3c/div\x3e').append(b).appendTo(c);ZD(a)}f.Ya=function(){Z.prototype.Ya.call(this);ZD(this);$D(this)};
function ZD(a){var b=Math.round(Math.round(a.spacing/2)*W);a=LB(a);a.css("left",b).css("right",b).css("top",b).css("bottom",b);$(".item \x3e .content",a).css("left",b).css("right",b).css("top",b).css("bottom",b)}function $D(a){a.Ua.forEach(function(a){a.update()})}
f.Xa=function(){function a(){if(aE(J,c.R())){var a=c.Ua[c.Fc()];if(a)if(ED(a)){e.view.Cu("crop","filter","flip","imageDelete");e.view.LY("crop","filter","flip");var d;d=a.Na.find("img.placeholder");a=a.Na.find("canvas");d=1==d.length&&d.attr("src")?""+d.attr("src"):1==a.length?a.get(0).toDataURL():M.Ho;b(d)}else e.view.qK("crop","filter","flip","imageDelete"),e.view.EF("crop","filter","flip"),b(M.Ho),(d=c.Za()[c.Fc()])&&e.view.setColor([d.qa()],g);else b(M.Ho),e.view.qK("crop","filter","flip","imageDelete"),
e.view.EF("crop","filter","flip")}}function b(a){e.view.setColor(["url("+a+")"],g)}Z.prototype.Xa.call(this);var c=this,d=this.C(),e=d.data("toolbar"),g=ue();d.is(".cropping")?this.Xy():(this.Fq(),e&&a())};f.oh=function(){Z.prototype.oh.call(this);this.Fq()};f.Qq=function(a){this.spacing=a;this.Ya()};f.remove=function(){Z.prototype.remove.call(this);this.Uc.forEach(function(a){a.remove()})};f.ce=function(){return this.spacing};f.Wz=function(){return!0};
f.serialize=function(){var a=Z.prototype.serialize.call(this);a.type="grid";a.items=this.items;a.spacing=this.spacing;var b=this,c=[];this.Ua.forEach(function(a,e){a.isEmpty()||(a=a.serialize(),a.filter=WC(b.Uc[e]),c.push(a))});a.contents=c;return a};f.ft=function(a){if(!this.Qp()){T.trigger("hideContextualControlsRequested");var b=$(".item .placeholder.active, div.content.active",this.C());0<b.length&&b.removeClass("active");a.parent("div.content").andSelf().addClass("active");this.Xa()}};
f.tg=function(){var a=this.C().find(".item .placeholder"),b=a.filter(".active");if(0!==b.length)return b.first();b=a.filter("[src]");return 0!==b.length?b.first():a.first()};f.Fc=function(){var a=this.C().find(".item .content.active");0===a.length&&(a=this.C().find(".item.filled .content"));return this.C().find(".item .content").index(a)};f.Iz=function(a){return this.C().find(".item .placeholder").eq(a)};f.Xf=function(){return this.C().find(".item .placeholder").length};
f.Ym=function(a){a=this.Iz(a).parent("div.content");var b=new V(0,0,this.width,this.height);a=a.parentsUntil(".inner");b.translate(this.spacing,this.spacing);Nm(b,-this.spacing,-this.spacing);a.toArray().reverse().forEach(function(a){a=$(a);var d=parseFloat(a.data("left"))||0,e=parseFloat(a.data("top"))||0,g=parseFloat(a.data("width"))||1;a=parseFloat(a.data("height"))||1;b.translate(d*b.l(),e*b.o()).na(b.l()*g).ca(b.o()*a)});b.na(b.l()-this.spacing).ca(b.o()-this.spacing);return b};
f.kl=function(a){return(a=this.Ua[a])?a.serialize():null};f.Bp=function(a){return this.Ua[a]||null};f.Pq=function(a,b){function c(){d.trigger("placeholderImage:loaded",a)}var d=this,e=this.Ua[a];e&&(b&&b.mediaId?KC(JD(KD(LD(bE(e),b.mediaId,b.mediaVersion,c),b.origin?new cn(b.origin):null),b.mediaApproved),Gm(b.imageBox)).Ow(b.flipOrientation):b&&b.backgroundColor?e.Mw(uh(b.backgroundColor)):(e.clear(),this.Uc[a].remove(),cE(this.Uc[a],new dE)))};f.yB=function(a){this.Pq(a,null)};f.Xz=function(){return!0};
f.Mz=function(){return{imageBoxes:this.Ua.map(function(a){return a.isEmpty()?null:a.Tm().serialize()})}};f.EY=function(a){a=a.imageBoxes;for(var b=0;b<this.Ua.length;b++){var c=this.Ua[b],d=a[b];d&&!c.isEmpty()&&KC(c,Gm(d))}};f.Cz=function(){for(var a=[],b=0;b<this.Xf();b++){var c=this.Bp(b);c&&a.push(c)}return a};f.rv=function(){return!0};function eE(a){this.a=a}function fE(){var a=document.createElement("a");return new eE(a)}function gE(a,b){a=a.a;a.href=b;return"data:"==a.protocol||"blob:"==a.protocol||":"==a.protocol||""==a.hostname?!1:a.protocol!=window.location.protocol||a.hostname!=window.location.hostname||a.port!=window.location.port}
function DC(a,b,c){var d=b instanceof jQuery?b:$(b);return new P(function(e,g){function h(){d.attr(p)===c&&(d.one("error",k),d.attr(p,c+n))}function k(){m();g(Error("Could not load image from src: "+c))}function l(){m();e(b)}function m(){d.off("error",h);d.off("error",k);d.off("load",l)}var n=0>c.indexOf("?")?"?":"\x26",p=null;d&&d.length&&(p="image"===d.get(0).tagName?"xlink:href":"src",d.one("load",l),gE(a,c)?(d.attr("crossorigin","anonymous"),d.one("error",h)):(d.removeAttr("crossorigin"),d.one("error",
k)),d.attr(p,c))})}function TC(a,b){return DC(a,new Image,b)}var EC=fE();function hE(a){this.N=a;this.path="/licenses"}
hE.prototype.$E=function(a){var b=a.status,c=a.D,d=a.document,e=a.xc,g=a.media,h=a.OZ,k=a.Iy,l=a.Z,m=a.limit;a=[].concat(na(a.types.map(function(a){return"type\x3d"+encodeURIComponent(a)})),na(b.map(function(a){return"status\x3d"+encodeURIComponent(a)})),[c&&"brand\x3d"+encodeURIComponent(c),d&&"document\x3d"+encodeURIComponent(d)],na(e.map(function(a){return"license\x3d"+encodeURIComponent(a)})),na(g.map(function(a){return"media\x3d"+encodeURIComponent(a)})),[h&&"validAt\x3d"+encodeURIComponent(String(h)),
k&&"creatingBrand\x3d"+encodeURIComponent(k),l&&"continuation\x3d"+encodeURIComponent(l),m&&"limit\x3d"+encodeURIComponent(String(m))]);return yj(this.N,this.path+"?"+a.filter(function(a){return!!a}).join("\x26")).get(0).then(La).then(iE)};function fi(a,b){switch(b){case "ONE_USE":return"ONE_USE";case "ROYALTY_FREE":return"ROYALTY_FREE";case "EXTENDED":return"EXTENDED";default:throw new TypeError('expected LicenseType for property "'+a+'", found: '+JSON.stringify(b));}}function Fi(a,b){switch(b){case "ONE_USE":return"ONE_USE";case "ROYALTY_FREE":return"ROYALTY_FREE";case "EXTENDED":return"EXTENDED";default:throw new TypeError('expected LicenseType for property "'+a+'", found: '+JSON.stringify(b));}}
function jE(a,b){switch(b){case "ACTIVATED":return"ACTIVATED";case "REVOKED":return"REVOKED";default:throw new TypeError('expected LicenseStatus for property "'+a+'", found: '+JSON.stringify(b));}}function kE(a){this.types=a.types||[];this.status=a.status||[];this.D=a.D;this.document=a.document;this.xc=a.xc||[];this.media=a.media||[];this.OZ=a.OZ;this.Iy=a.Iy;this.Z=a.Z;this.limit=a.limit}f=kE.prototype;f.vg=function(){return this.status};f.fa=function(){return this.D};f.getDocument=function(){return this.document};
f.Jb=function(){return this.media};f.Bb=function(){return this.Z};f.Ad=function(){return this.limit};function lE(a){this.id=a.id;this.media=a.media;this.ia=a.ia;this.D=a.D;this.Iy=a.Iy;this.CV=a.CV;this.document=a.document;this.pT=a.pT;this.yN=a.yN;this.hz=a.hz;this.type=a.type;this.status=a.status;this.qW=a.qW}f=lE.prototype;f.u=function(){return this.id};f.Jb=function(){return this.media};f.Ez=function(){return this.ia};f.fa=function(){return this.D};f.getDocument=function(){return this.document};
f.eb=function(){return this.type};f.vg=function(){return this.status};function mE(a){return new lE({id:B("id",a),media:B("media",a),ia:y("mediaVersion",a),D:B("brand",a),Iy:B("creatingBrand",a),CV:B("invoiceItem",a),document:C("document",a),pT:y("createdDate",a),yN:y("modifiedDate",a),hz:A("expiryDate",a),type:Ra(Fi,"type",a),status:Ra(jE,"status",a),qW:B("mediaBrand",a)})}function nE(a){this.xc=a.xc||[];this.Ml=a.Ml;this.Z=a.Z}nE.prototype.Bb=function(){return this.Z};
function iE(a){return new nE({xc:Qa(mE,"licenses",a),Ml:y("responseTimestamp",a),Z:C("continuation",a)})};function oE(a){this.N=a}
function pE(a,b,c){b="/media?"+("brand"in b?"\x26brand\x3d"+encodeURIComponent(b.brand):"")+("user"in b?"\x26user\x3d"+encodeURIComponent(b.user):"")+("filename"in b?"\x26filename\x3d"+encodeURIComponent(b.filename):"")+("ids"in b?"\x26ids\x3d"+encodeURIComponent(b.ids):"")+("restricted"in b?"\x26restricted\x3d"+encodeURIComponent(b.restricted):"")+("deactivated"in b?"\x26deactivated\x3d"+encodeURIComponent(b.deactivated):"")+("staging"in b?"\x26staging\x3d"+encodeURIComponent(b.staging):"")+"\x26projection\x3d"+
encodeURIComponent(b.projections.join(""))+("continuation"in b&&null!=b.continuation?"\x26continuation\x3d"+encodeURIComponent(b.continuation):"")+("types"in b?"\x26types\x3d"+encodeURIComponent(b.types):"")+("limit"in b?"\x26limit\x3d"+encodeURIComponent(b.limit):"");return a.N.get(b,function(a,b){var g=null;200==a&&(g={media:qE(b.media),continuation:b.continuation});c&&c(a,g)})}
function rE(a,b){return new P(function(a,d){pE(this,b,function(b,g){g?a({Z:g.continuation,media:g.media}):d(b)})}.bind(a))}function sE(a,b){return wj(a.N,"/media?"+("name"in b?"\x26file\x3d"+encodeURIComponent(b.name):"")+("restricted"in b?"\x26restricted\x3d"+encodeURIComponent(b.restricted):"")+("listed"in b?"\x26listed\x3d"+encodeURIComponent(b.listed):"")+("fileSize"in b?"\x26fileSize\x3d"+encodeURIComponent(b.fileSize):""),{}).spread(Kj)}
oE.prototype.Jb=function(a,b,c){var d=Object.keys(b).filter(function(a){return"version"!=a}).map(function(a){if("object"!==typeof b[a])return a+"\x3d"+encodeURIComponent(b[a])});a="/media/"+encodeURIComponent(a)+("version"in b?"/"+encodeURIComponent(b.version):"")+(0<d.length?"?"+d.join("\x26"):"");return this.N.get(a,function(a,b){b=200==a?Kj(b):null;c&&c(a,b)})};function tE(a,b,c){return new P(function(a,e){this.Jb(b,c,function(b,c){Lk(b)?a(c):e(b)})}.bind(a))}
function uE(a,b,c){function d(a){return a.id+":"+a.version}b="/media?batch"+("refs"in b?"\x26refs\x3d"+encodeURIComponent(b.refs.map(d).join(",")):"")+("ids"in b?"\x26ids\x3d"+encodeURIComponent(b.ids.join(",")):"")+("staging"in b?"\x26staging\x3d"+encodeURIComponent(b.staging):"")+("unwatermarked"in b?"\x26unwatermarked\x3d"+encodeURIComponent(b.unwatermarked):"")+"\x26projection\x3d"+encodeURIComponent(b.projections.join(""));a.N.get(b,function(a,b){var d=null;200==a&&(d={media:qE(b.media)});c&&
c(a,d)})}function vE(a,b){return new P(function(a,d){uE(this,b,function(b,g){Lk(b)?a(g):d(b)})}.bind(a))}function wE(a,b,c){var d="/media/"+encodeURIComponent(b.u())+"/"+b.getVersion();a.N.post(d,b,function(a,b){b=200==a?Kj(b):null;c&&c(a,b)})}function xE(a,b,c,d){b=(new yE).Do(b).xk(c).Dt(!0);wE(a,b,d)}function AE(a,b,c){return new P(function(a,e){xE(this,b,c,function(b,c){Lk(b)?a(c):e(b)})}.bind(a))}
oE.prototype.RZ=P.method(function(a,b){function c(a){return 404===a}function d(){return tE(h,a,b).catch(c,function(){return null})}function e(){return d().then(function(a){g++;var b;if(b=a)b=a.Ha().vg(),b="PENDING_SUBMISSION"!=b&&"PENDING_REVIEW"!=b;return b?a.Ha().vg()===BE?a:Promise.reject(a):P.delay(Math.round(3E3*Math.pow(1.6,g))).then(e).cancellable()})}var g=0,h=this;return e().timeout(36E5)});var QC="THUMBNAIL",Tg="SCREEN",SC="PRINT";function wt(a,b){switch(b){case "THUMBNAIL":return QC;case "THUMBNAIL_LARGE":return"THUMBNAIL_LARGE";case "SCREEN":return Tg;case "PRINT":return SC;case "ORIGINAL":return"ORIGINAL";default:throw new TypeError('expected MediaQuality for property "'+a+'", found: '+JSON.stringify(b));}}var Ng="RASTER",Pg="VECTOR";
function yh(a,b){switch(b){case "RASTER":return Ng;case "VECTOR":return Pg;case "DESIGN":return"DESIGN";case "FONT":return"FONT";case "ELEMENT_GROUP":return"ELEMENT_GROUP";default:throw new TypeError('expected MediaType for property "'+a+'", found: '+JSON.stringify(b));}}
function CE(a,b){switch(b){case "RECOLORABLE":return"RECOLORABLE";case "BACKGROUND_R":return"BACKGROUND_R";case "BACKGROUND_G":return"BACKGROUND_G";case "BACKGROUND_B":return"BACKGROUND_B";case "BACKGROUND_A":return"BACKGROUND_A";default:throw new TypeError('expected SpritesheetLayerType for property "'+a+'", found: '+JSON.stringify(b));}}
function DE(a,b){switch(b){case "RECOLORABLE":return"RECOLORABLE";case "BACKGROUND_R":return"BACKGROUND_R";case "BACKGROUND_G":return"BACKGROUND_G";case "BACKGROUND_B":return"BACKGROUND_B";case "BACKGROUND_A":return"BACKGROUND_A";default:throw new TypeError('expected SpritesheetLayerType for property "'+a+'", found: '+JSON.stringify(b));}}
function cj(a,b){switch(b){case "NOT_APPLICABLE":return"NOT_APPLICABLE";case "FREE":return"FREE";case "STANDARD":return"STANDARD";case "NONE":return"NONE";default:throw new TypeError('expected Licensing for property "'+a+'", found: '+JSON.stringify(b));}}
function Ji(a,b){switch(b){case "NOT_APPLICABLE":return"NOT_APPLICABLE";case "FREE":return"FREE";case "STANDARD":return"STANDARD";case "NONE":return"NONE";default:throw new TypeError('expected Licensing for property "'+a+'", found: '+JSON.stringify(b));}}function en(a){this.id=a.id;this.version=a.version}en.prototype.u=function(){return this.id};en.prototype.getVersion=function(){return this.version};function yv(a){return{id:ib("id",a.id),version:db("version",a.version)}}
function fn(a){return new en({id:B("id",a),version:y("version",a)})}function EE(a){this.Yl=a.Yl;this.Uq=a.Uq;this.iF=a.iF;this.VF=a.VF||[]}function Ug(a){return{spritesWide:db("spritesWide",a.Yl),spritesHigh:db("spritesHigh",a.Uq),fullyRecolorable:gb("fullyRecolorable",a.iF),layers:kb(FE,"layers",a.VF)}}function Vr(a){return new EE({Yl:y("spritesWide",a),Uq:y("spritesHigh",a),iF:Ma("fullyRecolorable",a),VF:Qa(GE,"layers",a)})}function HE(a){this.type=a.type;this.vA=a.vA;this.color=a.color}
HE.prototype.eb=function(){return this.type};HE.prototype.YL=function(){return this.vA};HE.prototype.Pb=function(){return this.color};function FE(a){return{type:lb(CE,"type",a.type),layerIndex:eb("layerIndex",a.vA),color:G("color",a.color)}}function GE(a){return new HE({type:Ra(DE,"type",a),vA:A("layerIndex",a),color:C("color",a)})};var BE="APPROVED",IE={p$:"F",u$:"K",B$:"P",D$:"S",H$:"T",l$:"D"},$A="DOCUMENT",Sg="FACEBOOK",ZA="LAYOUT";function JE(a){a=void 0===a?{}:a;this.url=a.url||"";this.width=a.width||0;this.height=a.height||0;this.watermarked=a.Kx||!1;this.page=a.page||0;this.quality=a.Zh||null}f=JE.prototype;f.ma=function(){return this.url};f.o=function(){return this.height};f.l=function(){return this.width};f.R=function(){return this.page};f.rF=function(){return this.quality};
function fr(a){return a?$.extend(new JE,a):null}function KE(a,b){this.locale=a;this.text=b}KE.prototype.Vf=function(){return this.locale};KE.prototype.Zm=function(){return this.text};function LE(a){return a?$.extend(new KE(a.locale,a.text),a):null}
function ME(a){a=void 0===a?{}:a;this.version=a.version||0;this.restrictedAccess=a.gba||!1;this.listed=a.Maa||!1;this.status=a.status||"PENDING_SUBMISSION";this.rejectionReason=a.dba;this.importState=a.Daa||"PENDING_IMPORT";this.importMessage=a.Caa;this.designVersion=a.iaa;this.designType=a.Li;this.artist=a.U$||"";this.title=a.title||"";this.titles=a.Aba;this.description=a.description||"";this.descriptions=a.Py;this.locale=a.locale||null;this.background=a.background||!1;this.cutout=a.My||!1;this.isolated=
a.Gaa||!1;this.photoholder=a.Uaa||!1;this.textholder=a.xba||!1;this.repeating=a.eba||!1;this.recolorable=a.lH||!1;this.superKeywords=a.tba||[];this.keywords=a.ye||[];this.files=a.files||{};this.quality=a.Zh;this.ageRating=a.T$||null;this.priceModel=a.Zaa||{};this.spritesheetMetadata=a.pt;this.submittedBy=a.rba;this.submittedDate=a.sba;this.reviewedBy=a.hba;this.reviewedDate=a.iba}f=ME.prototype;f.getVersion=function(){return this.version};f.vg=function(){return this.status};f.GU=function(){return this.artist};
f.pb=function(){return this.title};f.sf=function(){return this.description};f.Vf=function(){return this.locale};f.kc=function(){return this.background};f.fh=function(){return this.cutout};f.rA=function(){return this.repeating};f.fd=function(){return this.recolorable};f.fM=function(){return this.superKeywords};f.il=function(){return this.keywords};f.nc=function(){return this.files};f.rF=function(){return this.quality};f.dv=function(){return this.spritesheetMetadata};
function NE(a){return a.priceModel}function OE(a){a=void 0===a?{}:a;this.id=a.id||"";this.importKey=a.importKey||"";this.importBucket=a.Aaa||"";this.importFilename=a.Baa||"";this.type=a.type||Ng;this.copyright=a.daa||"";this.bundle=a.Z$||new ME;this.deactivated=a.hE||!1;this.oneTimeUseDiscountable=a.Qaa||!1;this.brand=a.D||"";this.user=a.user;this.design=a.te}f=OE.prototype;f.u=function(){return this.id};f.eb=function(){return this.type};f.Ha=function(){return this.bundle};f.sv=function(){return this.oneTimeUseDiscountable};
f.fa=function(){return this.brand};f.va=function(){return this.user};function Kj(a){if(!a)return null;a=$.extend(new OE,a);if(a.bundle){var b;var c=a.bundle;if(c){c=$.extend(new ME,c);c.superKeywords&&(c.superKeywords=c.superKeywords.map(LE));c.keywords&&(c.keywords=c.keywords.map(LE));if(c.files)for(b in c.files)c.files[b]=fr(c.files[b]);c.spritesheetMetadata&&(c.spritesheetMetadata=Vr(La(c.spritesheetMetadata)));b=c}else b=null;a.bundle=b}return a}
function qE(a){if(!a)return null;for(var b=[],c=0;c<a.length;c++)b.push(Kj(a[c]));return b}function PE(){this.projections=[]}f=PE.prototype;f.oi=function(a){this.brand=a;return this};f.Gt=function(a){this.user=a;return this};f.Ft=function(a){this.restricted=a;return this};f.Nx=function(a){this.staging=a;return this};f.WZ=function(a){null!=a&&0<a.length&&(this.filename=a);return this};f.vR=function(a){null!=a&&0<a.length&&(this.ids=a);return this};f.Dt=function(a){this.deactivated=a;return this};
f.wI=function(a){this.locale=a;return this};f.Co=function(){this.projections.push("F");return this};f.RC=function(){this.projections.push("P");return this};f.vI=function(){this.projections.push("K");return this};f.VZ=function(){this.projections=Object.keys(IE).map(function(a){return IE[a]});return this};f.pi=function(a){this.continuation=a;return this};f.lg=function(a){this.limit=a;return this};function QE(a,b){a.types=b;return a}function RE(){}RE.prototype.Et=function(a){this.name=a;return this};
RE.prototype.Ft=function(a){this.restricted=a;return this};RE.prototype.ZZ=function(a){this.listed=a;return this};function SE(a,b){a.fileSize=b;return a}RE.prototype.wI=function(a){this.locale=a;return this};function ZC(){}f=ZC.prototype;f.xk=function(a){this.version=a;return this};f.Nx=function(a){this.staging=a;return this};function TE(a){a.projection="";return a}f.Co=function(){this.projection=(this.projection||"")+"F";return this};f.vI=function(){this.projection=(this.projection||"")+"K";return this};
f.RC=function(){this.projection=(this.projection||"")+"P";return this};f.$Z=function(){this.projection=(this.projection||"")+"T";return this};f.UZ=function(){this.projection=(this.projection||"")+"D";return this};function UE(){this.projections=[]}function VE(a,b){a.refs=b;return a}f=UE.prototype;f.vR=function(a){this.ids=a;return this};f.Nx=function(a){this.staging=a;return this};f.VZ=function(){this.projections=Object.keys(IE).map(function(a){return IE[a]});return this};
f.RC=function(){this.projections.push("P");return this};f.Co=function(){this.projections.push("F");return this};f.$Z=function(){this.projections.push("T");return this};f.UZ=function(){this.projections.push("D");return this};function WE(a){a.unwatermarked=!0;a.projections.push("F")}function yE(){}f=yE.prototype;f.Do=function(a){this.id=a;return this};f.u=function(){return this.id};f.xk=function(a){this.version=a;return this};f.getVersion=function(){return this.version};
f.Dt=function(a){this.deactivated=a;return this};f.ZZ=function(a){this.listed=a;return this};f.XZ=function(a){this.importVersion=a;return this};function XE(a,b){a.superKeywords=b;return a}f.vI=function(a){this.keywords=a;return this};f.wI=function(a){this.locale=a;return this};function YE(a,b,c){this.hC=a;this.g9=b;this.h9=c;this.SY=null;this.ZM=this.$M=0;this.c1=this.isAlpha()?"destination-in":"lighter";this.color=ZE(this);this.re=null}f=YE.prototype;f.fd=function(){return"RECOLORABLE"===this.hC.type};f.isAlpha=function(){return"BACKGROUND_A"===this.hC.type};
function ZE(a){switch(a.hC.type){case "RECOLORABLE":return uh(a.hC.color);case "BACKGROUND_R":return qn(new on,255,0,0);case "BACKGROUND_G":return qn(new on,0,255,0);case "BACKGROUND_B":return qn(new on,0,0,255);case "BACKGROUND_A":return null;default:throw Error("Unknown SpritesheetLayerType");}}f.YL=function(){return this.hC.vA};f.Pb=function(){return this.color};f.setColor=function(a){this.fd()&&(this.color=a)};
f.multiply=function(a,b,c,d,e){this.re=a.getImageData(b,c,d,e);c=ma([b,c]);b=c.next().value;c=c.next().value;for(d=0;d<this.re.data.length;d+=4){var g=ma(this.color.jb.slice());e=g.next().value;var h=g.next().value,g=g.next().value;this.re.data[d]=this.re.data[d]/255*e;this.re.data[d+1]=this.re.data[d+1]/255*h;this.re.data[d+2]=this.re.data[d+2]/255*g}a.putImageData(this.re,b,c)};f.compose=function(a,b,c,d,e,g,h,k,l,m){$E(b,this.c1);b.drawImage(a.canvas,c,d,e,g,h,k,l,m)};
function $E(a,b){a.globalCompositeOperation=b;return a.globalCompositeOperation==b}f.se=function(){this.re=null};function aF(a){this.ro=a.ro;this.Yl=a.Yl;this.Uq=a.Uq;this.IM=a.IM;this.Ze=a.Ze;this.sn=a.sn;this.vM=a.vM;this.MG=[];this.BD=null;this.zD=!1}function bF(a){var b=document.createElement("canvas").getContext("2d"),c=document.createElement("canvas").getContext("2d"),d=cF(a),e=a.Yl,g=a.Uq;a=a.iF;var h=fE();return(new aF({ro:d,Yl:e,Uq:g,Ze:b,sn:c,IM:a,vM:h})).init()}
function cF(a){return a.VF.map(function(b,c){return new YE(b,c%a.Yl,Math.floor(c/a.Yl))}).sort(function(a,c){return a.isAlpha()?1:c.isAlpha()?-1:a.YL()-c.YL()})}aF.prototype.init=function(){this.MG=dF(this);return this};aF.prototype.Ck=function(a){var b=this;this.BD=null;this.zD=!1;return TC(this.vM,a).then(function(a){return eF(b,a)}).then(function(){return fF(b)}).then(function(){return gF(b)}).then(function(){return b.zD=!0}).catch(function(){throw Error("Could not build spritesheet");})};
aF.prototype.fd=function(){return this.ro.some(function(a){return a.fd()})};function hF(a){var b=[yB,zB,AB];return a.IM&&a.MG.every(function(a){return b.some(function(b){return b.equals(a)})})}function dF(a){return iF(a).map(function(a){return a.Pb()})}function iF(a){return a.ro.filter(function(a){return a.fd()})}aF.prototype.toDataURL=function(){return this.zD&&this.BD||(this.BD=this.Ze.canvas.toDataURL())};
function jF(a,b){var c=a.ro.indexOf(b);if(!(0>c)){var d=a.sn,c=c*a.Ze.canvas.width,e=a.Ze.canvas.width,g=a.Ze.canvas.height;b.se();$E(d,"source-over");d.drawImage(b.SY,b.g9*b.$M,b.h9*b.ZM,b.$M,b.ZM,c,0,e,g);if(b.isAlpha()){var h=ma([c,0]);a=h.next().value;h=h.next().value;b.re=b.re||d.getImageData(c,0,e,g);for(c=0;c<b.re.data.length;c+=4)b.re.data[c+3]=b.re.data[c],b.re.data[c]=b.re.data[c+1]=b.re.data[c+2]=255;d.putImageData(b.re,a,h)}else b.color&&($E(d,"multiply")?(d.fillStyle=b.color.toString(),
d.fillRect(c,0,e,g)):b.multiply(d,c,0,e,g))}}function eF(a,b){var c=b.width/a.Yl,d=b.height/a.Uq;a.Ze.canvas.width=c;a.Ze.canvas.height=d;a.sn.canvas.width=a.ro.length*c;a.sn.canvas.height=d;a.ro.forEach(function(a){a.SY=b;a.$M=c;a.ZM=d})}function fF(a){a.sn.clearRect(0,0,a.sn.canvas.width,a.sn.canvas.height);a.ro.forEach(function(b){return jF(a,b)})}
function gF(a){a.Ze.clearRect(0,0,a.Ze.canvas.width,a.Ze.canvas.height);a.ro.forEach(function(b,c){return b.compose(a.sn,a.Ze,c*a.Ze.canvas.width,0,a.Ze.canvas.width,a.Ze.canvas.height,0,0,a.Ze.canvas.width,a.Ze.canvas.height)})};function TB(a){if("print"==SB)throw Error("Graphic should not be used in print as it uses screen media. It should be an SvgElement in print.");if(void 0!==a&&void 0!==a.mediaId&&void 0!==a.spritesheetMetadata){var b=this;this.loaded=!1;this.YM=null;this.pt=Vr(La(a.spritesheetMetadata));this.so=bF(this.pt);Z.call(this,a);this.ha=a.mediaId;this.ia=a.mediaVersion;this.tc=void 0===a.mediaApproved?!0:a.mediaApproved;var c=this.C();c.addClass("graphic");var d=$('\x3cdiv class\x3d"placeholder"\x3e\x3cimg class\x3d"imgPlaceholder" /\x3e\x3cdiv class\x3d"canvasPlaceholder" /\x3e\x3c/div\x3e');
c.append(d);c.find(".canvasPlaceholder").append(this.so.Ze.canvas);this.gk();this.contents=a.contents?a.contents.slice(0):null;a.fillColors&&a.fillColors.forEach(function(a){var c=uh(a.color);c&&b.Ud(a.index,c)});this.Rl(this.ha,this.ia).bind(this).then(function(){T.trigger("elementLoaded",this);T.trigger("elementLoaded:graphic",this)}).catch(function(){T.trigger("elementLoadingError",this)})}}TB.prototype=Object.create(Z.prototype);f=TB.prototype;f.constructor=TB;
f.Rl=function(a,b){this.ha=a;this.ia=b;this.loaded=!1;return kF(this,a,b)};function kF(a,b,c){var d=Fb.Gc(b,c);if(!d)return P.reject();d=d[QC];b=RC(b,c,Tg);a.Oq(d.ma());return b.bind(a).then(function(a){return this.so.Ck(a.ma())}).then(function(){this.loaded=!0;this.se();this.uB?this.Eq():this.gk()})}f.FZ=function(){this.loaded&&this.Oq(this.so.toDataURL())};f.u1=_.debounce(TB.prototype.FZ,200);f.Oq=function(a){var b=this.C().find(".imgPlaceholder");DC(EC,b,a)};
function lF(a){return a.loaded&&a.YM!==a.uB?(a.YM=a.uB,!0):!1}f.Eq=function(){Z.prototype.Eq.call(this);lF(this)&&(this.C().find(".canvasPlaceholder").show(),this.C().find(".imgPlaceholder").hide())};f.gk=function(){Z.prototype.gk.call(this);lF(this)&&(this.FZ(),this.C().find(".imgPlaceholder").show(),this.C().find(".canvasPlaceholder").hide())};f.NC=function(a){hq(a,this.Kb())||(this.TB(!1),this.ia=this.ha=null)};f.Mj=function(){return!0};
f.Kb=function(){return null!=this.ha&&null!=this.ia?new en({id:this.ha,version:this.ia}):null};f.ww=function(){this.YM=null;var a=this.Kb();return a?this.Rl(a.id,a.version):P.resolve()};f.qA=function(){return this.tc};f.TB=function(a){this.tc=a;this.C().toggleClass("unapproved",!a);this.Xa()};f.fd=function(){return 0<this.Za().length};f.Za=function(){return 5<dF(this.so).length?[]:dF(this.so)};f.zd=function(){return this.Za().length};
f.Ud=function(a,b){var c=this.so;if(a=iF(c)[a])c.BD=null,a.setColor(b),c.zD&&(jF(c,a),gF(c));this.se();this.u1()};f.Ri=function(){if(this.he)return this.he;var a=new $o;this.Za().forEach(function(b){cp(a,b)});return this.he=a};f.Rp=function(){return!0};f.jI=function(){GC(this.C().find(".placeholder"),null,this.Xb)};f.kw=function(){pC(this);var a=this.C().find(".placeholder");a.addClass("flipping");a.one("transitionend",function(){a.removeClass("flipping")})};
f.serialize=function(){var a=Z.prototype.serialize.call(this);a.type="graphic";a.mediaId=this.ha;a.mediaVersion=this.ia;this.tc||(a.mediaApproved=!1);a.spritesheetMetadata=Ug(this.pt);var b=this.Za().map(function(a,b){return{index:b,color:a.qa()}});0<b.length&&(a.fillColors=b);return a};f.Ay=function(){return hF(this.so)};function mF(a){var b=a.ly;1<=b||0>=b?a.gk():a.Eq()}
f.AB=function(){if(this.fd()&&this.vD&&null!==this.lm&&this.Ay()){this.vD=!1;mF(this);var a;this.so.MG.forEach(function(b,c){switch(b.qa()){case yB.qa():a=this.lm.Ms;break;case zB.qa():a=this.lm.et;break;case AB.qa():a=this.lm.ut;break;default:a=null}a&&(b=Cn(b,a,this.ly),this.Ud(c,b))}.bind(this))}};f.jr=function(){return!0};TB.prototype.zY=TB.prototype.Ud;function nF(){this.cP=0}var oF=["tame","angry"];
nF.prototype.Ud=function(a,b){this.zY(a,b);if(!(0>["MABsSJ6etSs"].indexOf(this.ha))&&pF(this)){this.cP=this.cP||0;this.Eq();var c=oF[this.cP++]||"flipOut",d=this.C().find(".placeholder");d.addClass(c);var e=this.Za();a={overflow:"visible",zIndex:5};var g=$(".page .elements"),h={},k;for(k in a)h[k]=g.css(k);g.css(a);$({ratio:0}).animate({ratio:1},{duration:500,step:function(a){this.so.MG.forEach(function(b,c){b=In(e[c],b,a);this.zY(c,b)}.bind(this))}.bind(this),always:function(){this.gk();this.Xa();
d.removeClass(c);g.css(h)}.bind(this)})}};function pF(a){return a.Za().every(function(a){return a.equals(uh("#cc0000"))})}_.extend(TB.prototype,nF.prototype);function ZB(a){this.elements=[];this.Vc=null;this.gP=!0;this.e1={};this.cI=new WeakMap;this.Ch(a);Z.call(this,a);this.b0=[{id:"HorizontalAlignLeft",name:ke(xc(this.i)),enabled:!0},{id:"HorizontalAlignCenter",name:me(xc(this.i)),enabled:!0},{id:"HorizontalAlignRight",name:le(xc(this.i)),enabled:!0},{id:"VerticalAlignTop",name:ne(xc(this.i)),enabled:!0},{id:"VerticalAlignCenter",name:pe(xc(this.i)),enabled:!0},{id:"VerticalAlignBottom",name:oe(xc(this.i)),enabled:!0},{id:"HorizontalDistribute",name:qe(xc(this.i)),
enabled:!0},{id:"VerticalDistribute",name:re(xc(this.i)),enabled:!0}];this.yD()}var XB="CHART";function qF(a,b){var c;c=Math.max(0,b.Fb-a.Fb);var d=jn(hn([b.left+b.width/2-(a.left+a.width/2),b.top+b.height/2-(a.top+a.height/2)]).rotate(a.rotation));return{Fb:c||0,rotation:KB(b.rotation,a.rotation)||0,top:d[1]-b.height/2+a.height/2,left:d[0]-b.width/2+a.width/2,width:b.width,height:b.height}}
function rF(a,b,c){c?(c=100-(100-b.Fb)/100*((100-a.Fb)/100)*100,c=Math.round(10*c)/10):c=Math.min(100,b.Fb+a.Fb);var d=kn(hn([b.left+b.width/2-a.width/2,b.top+b.height/2-a.height/2]),-a.rotation),e=jn(d);return{Fb:c||0,rotation:KB(b.rotation,-(180*Math.atan2(d.m[3],d.m[4])/Math.PI))||0,top:e[1]-b.height/2+a.top+a.height/2,left:e[0]-b.width/2+a.left+a.width/2,width:b.width,height:b.height}}
function sF(a){var b=a.filter(function(a){return"group"===a.type})[0];if(!b)throw Error("Group index out of bounds");var c=b.childRange;if(!kq(c))throw Error("Invalid group child range");for(var b=new ZB(b),d,e,g=c[0];g<=c[1];g++)d=Hg(a[g]),e=qF(hC(b),hC(d)),d.Tl(e.Fb),d.setPosition(e.left,e.top),d.Sl(e.rotation),tF(b,d),d.ky=!1;return b}ZB.prototype=Object.create(Z.prototype);f=ZB.prototype;f.constructor=ZB;f.ib=function(){return!0};f.QF=function(){return!0};f.cV=function(){return!1};f.EQ=function(){return!0};
f.Ch=function(a){function b(a,b){return a.elementIndex>b.elementIndex?1:-1}var c=this;a&&0<=Object.keys(a).indexOf("elements")&&a.elements.sort(b).forEach(function(a){(a=Hg(a))&&c.addElement(a)})};function uF(a,b){cC(a,Math.min.apply(null,b.map(function(a){return a.Yb()})));kC(a,Math.min.apply(null,b.map(function(a){return a.hc()})));a.na(Math.max.apply(null,b.map(function(a){return a.Bd()}))-a.F());a.ca(Math.max.apply(null,b.map(function(a){return a.ed()}))-a.w());return a}
f.yr=function(a){var b={};b.elementIndex=this.K();b.pageIndex=this.R()&&this.R().K();b.old=this.pa();if(!this.gP)return b["new"]=this.pa(),b;var c=Infinity,d=Infinity,e=-Infinity,g=-Infinity;a||(a=this.elements[0]);if(!a)return b["new"]=this.pa(),b;for(var h=0;h<this.elements.length;h++){var k=this.elements[h].F(),l=this.elements[h].w(),m=this.elements[h].l(),n=this.elements[h].o(),p=Um(this.elements[h].Qa()),q=k+m/2,u=l+n/2,v=jn(kn(hn([k-q,l-u]),-p));v[0]+=q;v[1]+=u;var z=jn(kn(hn([k+m-q,l-u]),-p));
z[0]+=q;z[1]+=u;var r=jn(kn(hn([k-q,l+n-u]),-p));r[0]+=q;r[1]+=u;k=jn(kn(hn([k+m-q,l+n-u]),-p));k[0]+=q;k[1]+=u;c=Math.min(c,v[0],z[0],r[0],k[0]);d=Math.min(d,v[1],z[1],r[1],k[1]);e=Math.max(e,v[0],z[0],r[0],k[0]);g=Math.max(g,v[1],z[1],r[1],k[1])}k=e-c;l=g-d;h=jn(hn([this.F(),this.w()]).translate(-this.l()/2,-this.o()/2).rotate(Um(-this.Qa())).translate(this.l()/2,this.o()/2));e=jn(hn([this.F(),this.w()]).translate(-k/2,-l/2).rotate(Um(-this.Qa())).translate(k/2,l/2));g=e[0]-h[0];e=e[1]-h[1];for(h=
0;h<this.elements.length;h++)q=this.elements[h],0===q.Qa()&&2>Math.round(q.w())&&2>Math.round(q.F())&&2>Math.abs(Math.round(this.l()-q.l()))&&2>Math.abs(Math.round(this.o()-q.o()))&&(this.elements[h].na(k),this.elements[h].ca(l));this.na(k);this.ca(l);h=hC(a);IB(a)?h.top+=h.height/2:JB(a)&&(h.top+=h.height);h=rF(hC(this),h);q=h.top;u=h.left;for(h=0;h<this.elements.length;h++)k=this.elements[h].F(),l=this.elements[h].w(),this.elements[h].setPosition(k-c,l-d);h=hC(a);IB(a)?h.top+=h.height/2:JB(a)&&
(h.top+=h.height);a=rF(hC(this),h);c=a.top-q;a=a.left-u;this.setPosition(this.F()-g-a,this.w()-e-c);b["new"]=this.pa();return b};f.hV=function(){return!1};function vF(a){a.elements.forEach(function(b){b instanceof Rp&&a.cI.set(b,dA(b.C(),!0).length)})}
f.fP=function(a,b,c){function d(d,l){g.elements.filter(e).forEach(function(e){var g=h.has(e)?h.get(e):e.pa();h.set(e,e.pa());var m=Um(a.Qa()),n=dA(a.C(),!0).length,p=Um(a.Qa()),D=b.clone();1<=n&&5>Math.abs(m-p)&&(m=a.o()/n/2,Mm(D,-m));D=Qm(g,D);m=Tm(b,g,d);n=Tm(c,g,d);if(D||!(m<-1*g.o()/2)){var g=m-n,K=p=0;isFinite(m)&&!isFinite(n)&&k&&(g=m);isFinite(g)&&!isNaN(g)&&(0<=d&&45>d?p=g*Math.cos(d*Math.PI/180):45<=d&&90>d?K=g*Math.sin(d*Math.PI/180):90<=d&&135>d?K=g*Math.cos((d-90)*Math.PI/180):135<=d&&
180>d?p=g*Math.sin((d-90)*Math.PI/180):180<=d&&225>d?p=g*Math.cos((d-180)*Math.PI/180):225<=d&&270>d?K=g*Math.sin((d-180)*Math.PI/180):270<=d&&315>d?K=g*Math.cos((d-270)*Math.PI/180):315<d&&(l=!0,p=g*Math.sin((d-270)*Math.PI/180)),!e.Ot()&&D?1<Math.abs(K)?e.na(e.l()+K):1<Math.abs(p)&&(l&&e.ab(e.w()-p),e.ca(e.o()+p)):(l&&(p*=-1),1<Math.abs(K)?e.gb(e.F()+K):1<Math.abs(p)&&e.ab(e.w()+p)))}})}function e(b){return b!==a}var g=this;if(this.gP&&-1!==this.elements.indexOf(a)&&(c=c||a.pa(),Jm(b)&&Jm(c))){var h=
new Map,k=c.o()>b.o(),l=a.jl(0),m=.5*(M.Ht-a.jl(0))/100,n=dA(a.C(),!0).length,p=this.cI.get(a);l<M.Ht&&p!==n&&(1===p?c.ca(c.o()+m*b.o()):1===n&&c.ca(c.o()-m*c.o()));this.cI.set(a,n);l=a.Qa();a.pe&&"top"!==a.pe?JB(a)?d(Um(l),!0):IB(a)&&(d(Um(180+l),!1),d(Um(l),!0)):d(Um(180+l),!1);this.yr(a)}};f.Wu=function(){var a=M.MI;Ib.H.get(sg)&&(a=a.slice(0),a.push(WD));return a};f.yD=function(){var a=$('\x3cdiv class\x3d"elements"\x3e\x3c/div\x3e');this.C().addClass("group").html(a);this.lc()};
f.setSize=function(a,b,c){var d;a<M.Tx||b<M.Tx||(void 0!==a&&void 0!==b&&(d=(a-this.l())/this.l(),Z.prototype.setSize.call(this,a,b)),this.elements.forEach(function(a){if(d&&(void 0===c||c)){var b=d,h=a.l()/a.o(),k,l,m;!isNaN(b)&&isFinite(b)&&(k=a.l()+a.l()*b,h=k/h,l=a.F()+a.F()*b,m=a.w()+a.w()*b,a.setSize(k,h,!0),a.setPosition(l,m),a instanceof Rp&&a.Qc&&a.Qc(0)&&(b=a.Qc(0)+a.Qc(0)*b,a.ke(0,b,!0)))}a.na();a.setPosition();a.Ya()}))};
f.Ya=function(){this.Ts&&(Z.prototype.Ya.call(this),this.elements.forEach(function(a){a.na();a.setPosition();a.Ya()}))};f.addElement=function(a){var b=this.elements.indexOf(a);-1===b?this.elements.push(a):this.elements.splice(b,1,a);a instanceof Rp&&this.cI.set(a,dA(a.C(),!0).length)};
function tF(a,b,c){if(b.R()&&void 0===c)a.addElement(b);else{c=void 0!==c?c:Math.max(a.elements.length-1,0);var d=a.R();if(d){b.Nq(d);var e=XC(J,d);b.ge=e.$el;qC(d,b,a.K()+c+1,!0)}a.elements.splice(c,0,b);a=a.C().find(".elements");a.find(".element").length>c?a.find(".element").eq(c).before(b.C()):a.append(b.C());b.lc(!0)}}f.aj=function(a){a=this.elements.indexOf(a);-1!==a&&this.elements.splice(a,1)};
f.remove=function(){this.elements.forEach(function(a){a.remove()});var a=this.R();a&&this.stopListening(a,"change:background");Z.prototype.remove.call(this)};f.ja=function(){return this.elements};function wF(a){return a.elements.filter(function(a){return a instanceof Rp})}f.Yb=function(){return Math.min.apply(null,this.ja().map(function(a){return a.Yb()}))};f.Bd=function(){return Math.max.apply(null,this.ja().map(function(a){return a.Bd()}))};f.hc=function(){return Math.min.apply(null,this.ja().map(function(a){return a.hc()}))};
f.ed=function(){return Math.max.apply(null,this.ja().map(function(a){return a.ed()}))};f.dh=function(){return this.Bd()-this.Yb()};f.bh=function(){return this.ed()-this.hc()};f.clone=function(){var a=this.serialize();return new ZB(a)};f.Xr=function(){return"ungroup copy arrange transparency link delete deleteElement".split(" ")};f.FU=function(){return this.b0};f.vf=function(){return 1===this.ve().length};f.sF=function(){return this.elements.reduce(function(a,b){return a+b.sF()},0)};f.hv=function(){return!1};
function xF(a,b){a.Ei();b&&-1!==a.elements.indexOf(b)?(a.Vc=b,a.Vc.C().addClass("focused")):a.Vc=null}f.Ei=function(){this.Vc=null;this.elements.forEach(function(a){a.oh();a.C().removeClass("active focused")})};f.serialize=function(){var a=Z.prototype.serialize.call(this);a.type="group";a.constraints=this.e1;a.elements=this.ja().map(function(a){return a.serialize()});return a};f.Vp=function(){return!1};f.fe=function(){for(var a=0;a!==this.elements.length;a++)if(yF(this,a))return!0;return!1};
function yF(a,b){return a.elements[b]instanceof Rp}f.ve=function(){var a=this.elements.filter(function(a){var c=a.C().hasClass("focused");return a instanceof Rp&&c})[0];return a?a.C():$()};f.ub=function(){for(var a=0;a!=this.elements.length;a++)if(this.elements[a]instanceof Rp&&this.elements[a].C().hasClass("focused"))return a;return-1};f.$a=function(a){return yF(this,a)?this.elements[a].$a(0):$()};function zF(a){for(var b=[],c=0;c!==a.elements.length;c++)yF(a,c)&&b.push(a.Sb(c));return b}
f.Sb=function(a){if(yF(this,a)){var b=this.elements[a].Sb(0);b.index=a;return b}return this.yz()};f.ej=function(a,b,c,d){yF(this,a)&&this.elements[a].ej(0,b,c,d)};f.Oo=function(a){return this.elements[a].Oo(0)};f.Vu=function(){for(var a=[],b=0;b!==this.elements.length;b++)this.elements[b].fe()&&this.elements[b].Vu().forEach(function(b){a.push(b)});return a};f.lE=function(a){return this.elements[a].lE(0)};f.Qc=function(a){return yF(this,a)?this.elements[a].Qc(0):AF(this)};f.nF=function(a){return this.elements[a].nF(0)};
f.Yr=function(a){return this.elements[a].Yr(0)};f.$r=function(a){return this.elements[a].$r(a)};f.jl=function(a){return this.elements[a].jl(0)};f.mF=function(a){return this.elements[a].mF(0)};f.yw=function(a){return this.elements[a].yw(0)};f.Vs=function(a){return this.elements[a].Vs(0)};f.AH=function(a){return this.elements[a].AH(0)};f.Lw=function(a){return this.elements[a].Lw(0)};f.eo=function(a,b){yF(this,a)?this.elements[a].eo(0,b):this.PP(b)};
f.setColor=function(a,b){this.elements[a]?BF(this.elements[a],b):this.QP(b);this.Xa()};function BF(a,b){if(b)if(a instanceof Rp)a.setColor(0,b);else for(var c=0;c<a.zd();c++)a.Ud(c,b)}f.Ud=function(a,b){this.Vc&&this.Vc.zd()&&this.Vc.Ud(a,b)};f.EH=function(a,b){this.elements[a].EH(0,b)};f.Mq=function(a,b){this.elements[a].Mq(0,b)};f.SB=function(a,b){this.elements[a].SB(0,b)};f.lk=function(a,b,c,d){yF(this,a)?this.elements[a].lk(0,b,c,d):this.CH(b,c,d)};
f.ke=function(a,b){if(yF(this,a))this.elements[a].ke(0,b);else if(0!==AF(this))this.DH(b);else{var c=b/CF(this);this.elements.forEach(function(a){if(a instanceof Rp){var b=Math.round(10*a.Qc(0)*c)/10;a.ke(0,b)}})}};f.RB=function(a){this.ke(this.ub(),a)};f.dL=function(){var a=this.ub();-1!==a?UD(this.elements[a]):this.elements.forEach(function(a){a instanceof Rp&&UD(a)})};f.oE=function(){var a=this.ub();-1!==a?this.elements[a].wd=!1:this.elements.forEach(function(a){a instanceof Rp&&(a.wd=!1)})};
f.oA=function(){var a=this.ub();return-1!==a?this.elements[a].wd:DF(this)};f.ho=function(a,b){yF(this,a)?this.elements[a].ho(0,b):this.SP(b)};f.ci=function(a,b){this.elements[a].ci(0,b)};f.Qw=function(a,b,c){this.elements[a].Qw(0,b,c)};f.GH=function(a,b){this.elements[a].GH(0,b)};f.Rw=function(a,b){this.elements[a].Rw(0,b)};f.Sw=function(a,b){this.elements[a].Sw(0,b)};f.Tw=function(a,b){this.elements[a].Tw(0,b)};f.Rq=function(a,b){this.elements[a].Rq(0,b)};
function EF(a){function b(a){-1===d.indexOf(a)&&d.push(a)}function c(a){-1===e.indexOf(a)&&e.push(a)}var d=[],e=[];a.elements.filter(function(a){return a instanceof Rp}).forEach(function(a){a=bA(a.C());a.Te.forEach(b);a.rf.forEach(c)});return{Te:d,rf:e}}f.yz=function(){var a={};this.elements.filter(function(a){return a instanceof Rp}).forEach(function(b){var c=b.Lw(0);Lz.forEach(function(b){-1===Object.keys(a).indexOf(b)?a[b]=c[b]:a[b]!==c[b]&&(a[b]=null)})});return a};
f.ug=function(){var a=EF(this).rf.map(function(a){return uh(a)});this.elements.forEach(function(b){b.zd()&&(a=a.concat(b.Za()))});return a};function FF(a){function b(a){return a instanceof on?a.qa():"string"===typeof a?a:"#000000"}var c=EF(a).rf;a.elements.forEach(function(a){a.zd()&&(c=c.concat(a.Za().map(b)))});return c}function GF(a){return FF(a).filter(function(a,c,d){return d.indexOf(a)===c})}function HF(a){var b=a.yz(),c=$("\x3cdiv\x3e");Lz.forEach(function(a){c.data(a,b[a])});return c}
function AF(a){for(var b,c=0;c!==a.elements.length;c++)if(a.elements[c]instanceof Rp&&(b=b||a.elements[c].Qc(0),b!==a.elements[c].Qc(0)))return 0;return b}f.zd=function(){return this.elements.reduce(function(a,b){return a+b.zd()},0)};f.Za=function(){return this.elements.reduce(function(a,b){return b.zd()?a.concat(b.Za()):a},[])};function DF(a){return a.elements.filter(function(a){return a instanceof Rp}).every(function(a){return a.wd})}
function IF(a){return!DF(a)&&a.elements.filter(function(a){return a instanceof Rp}).some(function(a){return a.wd})}function CF(a){for(var b=0,c=0;c!==a.elements.length;c++)a.elements[c]instanceof Rp&&(b=Math.max(b,a.elements[c].Qc(0)));return b}f.PP=function(a){this.elements.forEach(function(b){b instanceof Rp&&b.eo(0,a)});this.Xa()};f.QP=function(a){this.elements.forEach(function(b){BF(b,a)});this.Xa()};
f.CH=function(a,b,c){function d(a){g+=1;!h&&g>=e&&(h=!0,k=k&&a,b&&b(k))}var e=0,g=0,h=!1,k=!0;this.elements.forEach(function(b){b instanceof Rp&&(e+=1,b.lk(0,a,d,c))})};f.DH=function(a){this.elements.forEach(function(b){b instanceof Rp&&b.ke(0,a)})};f.SP=function(a){this.elements.forEach(function(b){b instanceof Rp&&b.ho(0,a)})};f.vx=function(){for(var a=0;a<this.elements.length;a++)this.elements[a]instanceof Rp&&this.elements[a].vx()};f.iP=function(){this.Vn()};
f.Vn=function(){var a=$(this.C()).data("toolbar");a&&a.remove()};function JF(a){for(var b=a,c=0;c<a.elements.length;c++)a.elements[c].K()>b.K()&&(b=a.elements[c]);return b}function KF(a){function b(a,b){return a.K()-b.K()}0===a.elements.filter(function(a){return-1===a.K()}).length&&a.elements.sort(b);var c=a;a.elements.forEach(function(b){b.insertAfter(c);c=b;b.C().appendTo(a.C().children(".elements"))})}f.insertBefore=function(a){-1!=a.K()&&(Z.prototype.insertBefore.call(this,a),KF(this))};
f.insertAfter=function(a){-1!=a.K()&&(Z.prototype.insertAfter.call(this,a),KF(this))};f.NQ=function(){var a=this.ub();-1!==a&&this.elements[a].NQ()};f.uN=function(){var a=this.ub();-1!==a&&this.elements[a].uN()};f.nJ=function(){var a=this.ub();-1!==a&&this.elements[a].nJ()};f.gD=function(){return!1};f.iS=function(){return!0};f.jr=function(){for(var a=0;a!==this.elements.length;a++)if(this.elements[a].jr())return!0;return!1};
f.Ot=function(){for(var a=0;a!==this.elements.length;a++)if(this.elements[a].Ot())return!0;return!1};f.Nq=function(a){var b=this.R();b&&this.stopListening(b);Z.prototype.Nq.call(this,a);LF(this,a)};function LF(a,b){MF(a,b);a.listenTo(b,"change:background",function(){MF(this,b)})}
function MF(a,b){var c=uh("#000000"),d=uh(M.aD);a.elements.forEach(function(a){a.ds&&a.ds()&&a.ds().forEach(function(g,h){g&&g.equals&&(b.xg()&&g.equals(c)?a.setColor(h,d):!b.xg()&&g.equals(d)&&a.setColor(h,c))});a.zd()&&a.Za().forEach(function(g,h){g&&g.equals&&(b.xg()&&g.equals(c)?a.Ud(h,d):!b.xg()&&g.equals(d)&&a.Ud(h,c))})})};function UB(a){Z.call(this,a);this.C().addClass("shape");this.Hl=[];this.viewBox=new V(0,0,0,0);if(a&&a.paths){var b=a.paths.map(function(a){return new NF({d:a.d,fill:a.fill,bl:a.fillRule})});OF(this,b)}a&&a.viewBox&&PF(this,Gm(a.viewBox));this.render();T.trigger("elementLoaded",this)}UB.prototype=Object.create(Z.prototype);f=UB.prototype;f.constructor=UB;function QF(a){return new UB({top:a.w(),left:a.F(),width:a.l(),height:a.o()})}
function OF(a,b){if(b.some(function(a){return a.d.match(/[^emclazMCLAZ0-9., -]/)}))throw Error("Invalid path data.");a.Hl=b}function PF(a,b){a.viewBox=b}
f.render=function(){var a=this.viewBox,b=this.C().find("svg"),c=this.Hl;b.length||(b=$(document.createElementNS("http://www.w3.org/2000/svg","svg")),this.C().append(b));b.get(0).setAttribute("viewBox",[a.F(),a.w(),a.l(),a.o()].join(" "));var d=b.find("path");d.slice(c.length).remove();c.forEach(function(a,c){var h=(c=d.get(c))||document.createElementNS("http://www.w3.org/2000/svg","path");h.setAttribute("d",a.d);h.setAttribute("fill",a.fill);if(a.bl){a:switch(a.bl){case "EVEN_ODD":a="evenodd";break a;
default:a="nonzero"}h.setAttribute("fill-rule",a)}!c&&b.append(h)})};f.serialize=function(){var a=Z.prototype.serialize.call(this);a.type="shape";a.paths=this.Hl.map(function(a){return{d:a.d,fill:a.fill,fillRule:a.bl}});a.viewBox=this.viewBox.serialize();return a};f.jS=function(){return!0};f.Za=function(){return this.Hl.map(function(a){return uh(a.fill)})};f.zd=function(){return this.Za().length};
f.Ud=function(a,b){b&&(this.Hl[a]=new NF({d:this.Hl[a].d,fill:b.toString(),bl:this.Hl[a].bl}),this.render(),this.se())};f.Ri=function(){if(this.he)return this.he;if(0<this.C().parents(".group.chart").length)return new $o;var a=new $o;this.Za().forEach(function(b){b&&cp(a,b)});return this.he=a};function NF(a){this.d=a.d;this.fill=a.fill;this.bl=a.bl};function RF(a,b,c,d,e,g){V.call(this,a,b,c,d);this.color=e;this.html=g||""}t(RF,V);f=RF.prototype;f.setColor=function(a){this.color=a;return this};f.sf=function(){return["M",this.F(),this.ua(),"L",this.F(),this.w(),"L",this.Wa(),this.w(),"L",this.Wa(),this.ua(),"Z"].join(" ")};f.Pb=function(){return this.color};f.toString=function(){return this.html};f.setElement=function(a){this.element=a};f.getElement=function(){return this.element};
f.sm=function(){var a={};a[SF]=this.w();a[TF]=this.F();a[UF]=this.l();a[VF]=this.o();a[WF]=this.Pb();return a};f.clone=function(){var a=new RF(this.F(),this.w(),this.l(),this.o(),this.Pb(),this.toString());a.setElement(this.getElement());return a};
function XF(a,b,c,d,e){e={count:1,ease:e,onUpdate:function(){return d(YF(a,b))},onComplete:function(){return b=c}};e[SF]=function(b,d){return c[a.indexOf(d)].w()};e[TF]=function(b,d){return c[a.indexOf(d)].F()};e[UF]=function(b,d){return c[a.indexOf(d)].l()};e[VF]=function(b,d){return c[a.indexOf(d)].o()};e[WF]=function(b,d){return c[a.indexOf(d)].Pb()};return e}function ZF(a){return a.map(function(a){return a.sm()})}
function YF(a,b){return a.map(function(a,d){d=b[d];d.ab(a[SF]);d.gb(a[TF]);d.na(a[UF]);d.ca(a[VF]);d.setColor(a[WF]);return d})}var SF="TOP",TF="LEFT",UF="WIDTH",VF="HEIGHT",WF="COLOR";function $F(a,b,c,d,e,g){RF.call(this,b,c,d,e,"transparent",g);this.vi=a;this.rotation=this.padding=0}t($F,RF);f=$F.prototype;f.scale=function(a,b){var c=this.l(),d=this.o();RF.prototype.scale.call(this,a,b);this.na(c);this.ca(d);return this};f.Sl=function(a){this.rotation=a;this.vi=0!=this.rotation?"right":"center"};
f.Qa=function(){return this.rotation};f.Bz=function(){return this.vi};f.ci=function(a){this.vi=a};f.bs=function(){return this.padding};f.VB=function(a){this.padding=a};f.clone=function(){var a=new $F(this.Bz(),this.F(),this.w(),this.l(),this.o(),this.toString());a.setElement(this.getElement());return a};function aG(a){RF.call(this,0,a.value,a.width,a.ii,a.color);this.ii=a.ii||1}t(aG,RF);aG.prototype.scale=function(a,b){RF.prototype.scale.call(this,a,b);this.ca(this.ii);return this};
aG.prototype.clone=function(){var a=new aG({value:this.w(),width:this.l(),ii:this.o(),color:this.Pb()});a.setElement(this.getElement());return a};function bG(a){RF.call(this,a.index,a.top,1,Math.abs(a.value),a.color)}t(bG,RF);bG.prototype.sf=function(){var a=Math.min(this.o(),Math.max(.08*this.l(),1));return["M",this.F(),this.ua(),"L",this.F(),this.ua()-this.o()+a,"a",a,a,0,0,1,a,-a,"L",this.Wa()-a,this.ua()-this.o(),"a",a,a,0,0,1,a,a,"L",this.Wa(),this.ua(),"Z"].join(" ")};
bG.prototype.clone=function(){var a=new bG({index:this.F(),top:this.w(),value:this.o(),color:this.Pb()});a.setElement(this.getElement());return a};function cG(a){return Math.PI*(a+-90)/180}function dG(a){RF.call(this,a.left,a.top,a.width,a.height,a.color);this.by={x:0,y:0};this.data="";this.Vg=a.Vg;this.ih=a.ih;this.lh=a.lh;this.bf=a.bf;this.fb=a.fb;this.om=a.om;this.pm=a.pm;this.value=a.value;this.Bk=a.Bk}t(dG,RF);f=dG.prototype;f.dd=function(){this.MJ();return this.by};
f.sf=function(){this.MJ();return this.data};f.MJ=function(){var a=this.om+this.fb*Math.cos(cG(this.bf)),b=this.pm+this.fb*Math.sin(cG(this.bf)),c=Math.min(this.Vg+5,359.999),d=this.om+this.fb*Math.cos(cG(c)),e=this.pm+this.fb*Math.sin(cG(c));this.Lq(this.om+(this.fb+this.Bk)*Math.cos(cG(this.ih)),this.pm+(this.fb+this.Bk)*Math.sin(cG(this.ih)));this.data=["M",this.om,this.pm,"L",a,b,"A",this.fb,this.fb,0,180<=c-this.bf?1:0,1,d,e,"Z"].join(" ")};f.oc=function(){return this.value};f.dl=function(){return this.om};
f.fl=function(){return this.pm};f.Lq=function(a,b){this.by={x:a,y:b}};f.setData=function(a){this.data=a};f.setRadius=function(a){this.fb=a};f.clone=function(){return new dG({left:this.F(),top:this.w(),width:this.l(),height:this.o(),color:this.Pb(),value:this.oc(),lh:this.lh,bf:this.bf,ih:this.ih,Vg:this.Vg,fb:this.fb,om:this.dl(),pm:this.fl(),Bk:this.Bk})};f.sm=function(){var a={};a[eG]=this.bf;a[fG]=this.Vg;a[gG]=this.fb;a[hG]=this.Pb();return a};
function iG(a){return a.map(function(a){return a.sm()})}function jG(a,b,c,d,e){e={count:1,ease:e,onUpdate:function(){return d(kG(a,b))},onComplete:function(){return b=c}};e[eG]=function(b,d){return c[a.indexOf(d)].bf};e[fG]=function(b,d){return c[a.indexOf(d)].Vg};e[gG]=function(b,d){return c[a.indexOf(d)].fb};e[hG]=function(b,d){return c[a.indexOf(d)].Pb()};return e}function kG(a,b){return a.map(function(a,d){d=b[d];d.bf=a[eG];d.Vg=a[fG];d.setRadius(a[gG]);d.setColor(a[hG]);return d})}
var eG="START_ANGLE",fG="END_ANGLE",gG="RADIUS",hG="COLOR";function lG(a,b,c,d,e,g){$F.call(this,a,b,c,d,e,g);this.by={x:0,y:0};this.vW={x:0,y:0};this.angle=0}t(lG,$F);lG.prototype.dd=function(){return this.by};lG.prototype.Lq=function(a,b){this.by={x:a,y:b}};function mG(a){RF.call(this,a.left,a.top,a.width,a.height,a.color);this.data=a.data}t(mG,RF);mG.prototype.sf=function(){return this.data};function nG(a){dG.call(this,a);this.Jh=a.Jh}t(nG,dG);
nG.prototype.MJ=function(){var a=Math.min(this.Vg+5,359.999),b=this.dl()+this.fb*this.Jh*Math.cos(cG(this.bf)),c=this.fl()+this.fb*this.Jh*Math.sin(cG(this.bf)),d=this.dl()+this.fb*this.Jh*Math.cos(cG(a)),e=this.fl()+this.fb*this.Jh*Math.sin(cG(a)),g=this.dl()+this.fb*Math.cos(cG(this.bf)),h=this.fl()+this.fb*Math.sin(cG(this.bf)),k=this.dl()+this.fb*Math.cos(cG(a)),l=this.fl()+this.fb*Math.sin(cG(a));this.Lq(this.dl()+(this.fb+this.Bk)*Math.cos(cG(this.ih)),this.fl()+(this.fb+this.Bk)*Math.sin(cG(this.ih)));
a=180<=a-this.bf?1:0;this.data=["M",b,c,"L",g,h,"A",this.fb,this.fb,0,a,1,k,l,"L",d,e,"A",this.fb*this.Jh,this.fb*this.Jh,0,a,0,b,c,"Z"].join(" ")};nG.prototype.clone=function(){return new nG({left:this.F(),top:this.w(),width:this.l(),height:this.o(),color:this.Pb(),value:this.oc(),lh:this.lh,bf:this.bf,ih:this.ih,Vg:this.Vg,fb:this.fb,om:this.dl(),pm:this.fl(),Bk:this.Bk,Jh:this.Jh})};function oG(a){RF.call(this,a.left,a.top,a.width,a.height,a.color);this.fb=a.fb}t(oG,RF);
oG.prototype.setRadius=function(a){this.fb=a};oG.prototype.sf=function(){var a=this.fb,b=this.F()+this.l()/2-a,c=this.w();return["M",b,c,"a",a,a,0,1,0,2*a,0,"a",a,a,0,1,0,2*-a,0,"Z"].join(" ")};oG.prototype.clone=function(){return new oG({left:this.F(),top:this.w(),width:this.l(),height:this.o(),color:this.Pb(),fb:this.fb})};oG.prototype.sm=function(){var a=RF.prototype.sm.call(this);a[gG]=this.fb;return a};
function pG(a,b,c,d){var e=XF(a,b,c,d,Power1.easeOut);e.onUpdate=function(){return d(qG(a,b))};e[gG]=function(b,d){return c[a.indexOf(d)].fb};return e}function qG(a,b){return a.map(function(a,d){d=b[d];d.ab(a[SF]);d.gb(a[TF]);d.na(a[UF]);d.ca(a[VF]);d.setColor(a[WF]);d.setRadius(a[gG]);return d})}function rG(a,b,c,d){var e=Math.min(a.x,b.x),g=Math.min(a.y,b.y);RF.call(this,e,g,Math.max(a.x,b.x)-e,Math.max(a.y,b.y)-g,c);this.zc=a;this.$b=b;this.ii=d}t(rG,RF);
rG.prototype.sf=function(){var a=this.ii/2,b=180*Math.atan2(this.$b.y-this.zc.y,this.$b.x-this.zc.x)/Math.PI- -90-90,c=this.zc.x-(this.zc.x+a*Math.cos(cG(b))),a=this.zc.y-(this.zc.y+a*Math.sin(cG(b)));return["M",this.zc.x-c,this.zc.y-a,"L",this.$b.x-c,this.$b.y-a,"L",this.$b.x+c,this.$b.y+a,"L",this.zc.x+c,this.zc.y+a,"Z"].join(" ")};rG.prototype.clone=function(){return new rG({x:this.zc.x,y:this.zc.y},{x:this.$b.x,y:this.$b.y},this.Pb(),this.ii)};
rG.prototype.sm=function(){var a={};a[sG]=this.zc.x;a[tG]=this.zc.y;a[uG]=this.$b.x;a[vG]=this.$b.y;a[wG]=this.Pb();a[xG]=this.ii;return a};
function yG(a,b,c,d,e){e={count:1,ease:e,onUpdate:function(){return d(zG(a,b))},onComplete:function(){return b=c}};e[sG]=function(b,d){return c[a.indexOf(d)].zc.x};e[tG]=function(b,d){return c[a.indexOf(d)].zc.y};e[uG]=function(b,d){return c[a.indexOf(d)].$b.x};e[vG]=function(b,d){return c[a.indexOf(d)].$b.y};e[wG]=function(b,d){return c[a.indexOf(d)].Pb()};e[xG]=function(b,d){return c[a.indexOf(d)].ii};return e}function AG(a){return a.map(function(a){return a.sm()})}
function zG(a,b){return a.map(function(a,d){d=b[d];d.zc.x=a[sG];d.zc.y=a[tG];d.$b.x=a[uG];d.$b.y=a[vG];d.setColor(a[wG]);d.ii=a[xG];return d})}var sG="POINT_1_X",tG="POINT_1_Y",uG="POINT_2_X",vG="POINT_2_Y",wG="COLOR",xG="THICKNESS";var BG=/([^\-0-9,.]*)([\-0-9,.\s]*\d)(\D*)/;function CG(a){this.parsed=!1;this.value=a;this.jh=NaN;this.post=this.JN=this.pB="";this.parse()}CG.prototype.nk=function(a){this.value=a;this.parsed=!1;return this};CG.prototype.parse=function(){if(!this.parsed){var a=BG.exec(this.value);a&&!isNaN(DG(this.value))?(this.jh=DG(this.value),this.pB=a[1],this.JN=a[2],this.post=a[3]):(this.jh=NaN,this.post=this.JN=this.pB="");this.parsed=!0}};
CG.prototype.toString=function(){this.parse();return this.pB+this.JN+this.post};CG.prototype.isValid=function(){this.parse();return!isNaN(this.jh)&&(""!==this.pB||""!==this.post)};function DG(a){if(a=BG.exec(a))if(a=parseFloat(a[2].replace(/[,\s]*/g,"")),!isNaN(a))return a;return NaN};function EG(a){a=void 0===a?{}:a;var b=a.bar||{};this.e0=!0;this.ts=5;this.spacing=void 0!==b.spacing?b.spacing:.5;this.padding=void 0!==b.padding?b.padding:10;this.oS=!1;this.color=En(vn(a.colors?a.colors[0]:"#00c4cc"),a.gradientRange);this.data=[];this.Ny=new V(0,0,0,0);this.Cd=void 0!==a.labelset?a.labelset:0;this.Mf=this.Cd+1;this.wl={labels:[],kJ:[],qk:[]};this.Pd={labels:[],Fv:[],qk:[]};this.IN=a.IN||function(a){return a.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")};a.data&&this.ws(a.data)}
f=EG.prototype;
f.ws=function(a,b,c){var d=this;this.Cd=b||this.Cd;this.Mf=c||this.Mf;this.Cd===this.Mf&&this.Mf++;var e=null;this.data=a.map(function(a){var b=new CG(a[d.Mf]);!e&&b.isValid()&&(e=b);a=a[d.Cd];b.parse();return[a,b.jh]}).filter(function(a){return!isNaN(a[d.Mf])});c=this.data.map(function(a){return a[d.Mf]});a=0;b=_.max(c);this.oS&&(a=Math.min(0,_.min(c)));this.e0&&(this.ts=5,5<b&&10>=b&&0!==b%2?b+=2-b%2:10<b&&25>=b&&0!==b%5?b+=5-b%5:25<b&&100>=b&&0!==b%10?b+=10-b%10:100<b&&1E3>=b&&0!==b%50?b+=50-b%
50:1E3<b&&1E4>=b&&0!==b%100?b+=100-b%100:1E4<b&&(c=Math.pow(10,Math.floor(Math.log10(b))),b/=c,b=(Math.floor(b)+Math.ceil(20*(b-Math.floor(b)))/20)*c),4<b&&(0===b%4?this.ts=5:0===b%3?this.ts=4:0===b%5&&(this.ts=6)));this.Ny=new V(0,a,this.data.length,b-a);this.Pd=FG(this,a,b,e);this.wl=GG(this,this.data,a)};f.OU=function(){var a=[];a[1]=this.wl.qk.slice();a[0]=this.Pd.qk.slice();return a};f.getData=function(){return this.data};f.Qq=function(a){this.spacing=a};f.ce=function(){return this.spacing};
function FG(a,b,c,d){for(var e=[],g=[],h=[],k=[],l=0;l<a.ts;l++)k.push(mn(b,c,l/(a.ts-1)));var m=k.reduce(function(a,b){return Math.abs(a)<Math.abs(b)?a:b});k.forEach(function(c){var k=c-m;c=k+Math.abs(b);var l=a.IN(k.toString());d&&(d.parse(),l=d.pB+l+d.post);h.push(l);k=new aG({value:k+Math.abs(b),width:a.Ny.l(),ii:1,color:"#ccc"});e.push(new $F("right",0,c,a.ts-1,1,l));g.push(k)});return{qk:h,labels:e,Fv:g}}
function GG(a,b,c){var d=[],e=[],g=[];b.forEach(function(b,k){var l=parseFloat(b[a.Mf]);!a.oS&&0>l&&(l=0);var m=new $F("center",k,0,1,1,b[a.Cd]);e.push(new bG({index:k,top:0>=c&&0<l?Math.abs(c):Math.abs(c)-Math.abs(l),value:l,color:"#ccc"}));d.push(m);g.push(b[a.Cd])});return{labels:d,kJ:e,qk:g}}function HG(a,b,c,d){var e=c.l()/a.Ny.l(),g=c.o()/a.Ny.o();return b.map(function(a){a=a.clone();a.scale(e,g);a.translate(c.F(),c.w());a.ca(a.o());a.ab(d.o()-a.w()-a.o());return a})}
f.Ar=function(a){function b(a,b){return a>b?a:b}var c=this;if(0===this.data.length||0===this.Ny.o())return{Pd:[[],[]],data:[[],[]]};var d=a.Ax.Mx[0].reduce(b,0),e=a.Ax.Mx[1].reduce(b,0),g=a.Ax.WM;this.padding=.5*g;this.spacing=void 0!==a.spacing?a.spacing:this.spacing;this.color=a.color||this.color;var h=a.FE,k=h.l()-d-2*this.padding,l=k/this.wl.kJ.length,m=l<e,n=m?.7071067811865475*(e+g):g,p=d+this.padding,q=(1-this.spacing)*l,u=h.o()-n-g-this.padding,v=new V(0,n+this.padding+g/2,d,u),z=m?this.padding:
.5*this.padding,r=new V(p+(m?.7071067811865475*g/2:0),h.o()-n-z,k,n),n=new V(p,n+this.padding,k,u),k=HG(this,this.Pd.Fv,n,h),v=HG(this,this.Pd.labels,v,h),x=HG(this,this.wl.kJ,n,h),H=HG(this,this.wl.labels,r,h);H.forEach(function(a){return a.ca(g)});v.forEach(function(a){return a.na(d)});x.forEach(function(a,b){a.setColor(c.color(b,x.length));if(1===x.length)a.na(l);else{var d=1<x.length?b*c.spacing*l/(x.length-1):0;a.na(q).translate(d,-1);H[b].translate(-(l-q)/2+d,0)}});k.forEach(function(b){return b.setColor(a.Dv)});
H.forEach(function(a){if(m){var b=a.F()+l/2;a.na(e);a.gb(b-.7071067811865475*(e+g));a.Sl(-45);a.ab(r.w()+.35355339059327373*e)}else a.na(l),a.ab(r.w())});var D=Math.ceil(1.2*g/l),H=H.filter(function(a,b){return 0===b%D}),h={Pd:[],data:[]};h.Pd.push(k);h.Pd.push(v);h.data.push(x);h.data.push(H);return h};function IG(a){var b="undefined"!==typeof a.E2?a.E2:1;this.canvas=document.createElement("canvas");this.color=En(vn(a.color||"#00c4cc"),b);this.data=[];this.Cd=0;this.wl=[];this.total=0;this.Mf=1;this.qk=[];this.spacing=a.spacing||0;a.data&&this.ws(a.data)}f=IG.prototype;f.getData=function(){return this.data};f.OU=function(){return this.qk};f.ce=function(){return this.spacing};f.Qq=function(a){this.spacing=a};
f.ws=function(a,b,c){var d=this;this.Cd=b||this.Cd;this.Mf=c||this.Mf;this.data=a.map(function(a){return[a[d.Cd],DG(a[d.Mf])]}).filter(function(a){return!isNaN(a[d.Mf])}).filter(function(a){return 0<a[d.Mf]});this.total=this.data.reduce(function(a,b){return a+b[d.Mf]},0);this.wl=this.data.map(function(a){return[a[0],a[d.Mf],100*a[d.Mf]/d.total]});this.qk[0]=this.data.map(function(a,b){return""+d.wl[b][0]});this.qk[1]=this.data.map(function(a,b){return Math.round(d.wl[b][2])+"%"})};
f.Ar=function(a){for(var b=a.color||this.color,c=a.FE,d=a.W2||.9,e="undefined"!==typeof a.SV?a.SV:.3,d=Math.min(c.o(),c.l())/2*d,g=JG(this,b,c,d,e,a.Dv,a.Ax),h=KG(g,c);0<h&&10<d;)d=Math.max(d-h,10),g=JG(this,b,c,d,e,a.Dv,a.Ax),h=KG(g,c);return g};function JG(a,b,c,d,e,g,h){e*=h.fontSize;var k=c.l()/2,l=c.o()/2;b=LG(a,c,b,k,l,d,e);c=[];var m=[];if(0<h.fontSize){var m=d+2.1*h.fontSize,n=2*h.WM;c=MG(a,b,k,l,m,n,e,h);m=NG(c,k,l,m,n,g)}return{Q2:0<m.length,labels:c,Fv:m,o7:d,qo:b}}
function MG(a,b,c,d,e,g,h,k){return b.map(function(b,m){var n=Math.ceil(Math.max(k.Mx[0][m],k.Mx[1][m]))+2*h,p=.0032*n*(90-Math.abs(b.ih%180-90)),q=c+(e+p)*Math.cos(cG(b.ih)),p=d+(e+p)*Math.sin(cG(b.ih));m=new lG("center",q-n/2,p-g/2,n,g,"\x3cb\x3e"+a.qk[0][m]+"\x3c/b\x3e\x3cbr/\x3e"+a.qk[1][m]);m.Lq(q,p);m.angle=b.ih;m.slice=b;return m})}
function OG(a,b,c,d){var e=a.slice,g=e.dd(),h=a.dd(),k=a.vW,l=(2*k.x+e.dd().x)/3,m=(2*k.y+e.dd().y)/3,n=(2*k.x+a.dd().x)/3;a=(2*k.y+a.dd().y)/3;b=g.x>=b?1:-1;c=g.y>=c?-1:1;g=["M",g.x,g.y,"C",l,m,",",n,a,",",h.x,h.y,"L",h.x+b,h.y+c,"C",n+b,a+c,",",l+b,m+c,",",g.x+b,g.y+c,"Z"].join(" ");return new mG({left:e.F(),top:e.w(),width:e.l(),height:e.o(),color:d,data:g})}
function LG(a,b,c,d,e,g,h){var k=0;return a.wl.map(function(l,m,n){var p=3.6*k,q=p+3.6*l[2],u=p+1.8*l[2];k+=l[2];return a.oT({top:0,left:0,width:b.l(),height:b.o(),value:l[1],lh:l[2],color:c(m,n.length),bf:p,Vg:q,ih:u,fb:g,om:d,pm:e,Bk:h})})}f.oT=function(a){return new dG(a)};
function KG(a,b){b=b.clone().setPosition(0,0);a=a.labels.reduce(function(a,b){return{left:Math.min(a.left,b.F()),top:Math.min(a.top,b.w()),right:Math.max(a.right,b.Wa()),bottom:Math.max(a.bottom,b.ua())}},{left:b.F(),top:b.w(),right:b.Wa(),bottom:b.ua()});return parseInt(Math.max(Math.abs(a.left-b.F()),Math.abs(a.top-b.w()),Math.abs(a.right-b.Wa()),Math.abs(a.bottom-b.ua())),10)}
function NG(a,b,c,d,e,g){for(var h=[],k=[],l=0;10>l;l++){var m=h.length;a.forEach(function(b){a.forEach(function(a){b!==a&&fh(b,a)&&[b,a].forEach(function(a){-1===h.indexOf(a)&&h.push(a)})})});if(h.length===m)break;h.forEach(function(a){var g=b+d*Math.cos(cG(a.angle)),h=c+d*Math.sin(cG(a.angle));a.Lq(g,h);a.ab(h-e/2);a.dd().x>=b?a.gb(g):a.gb(g-a.l());a.vW={x:g,y:h}})}var l=h.filter(function(a){return a.dd().x>=b&&a.dd().y<c}),m=h.filter(function(a){return a.dd().x>=b&&a.dd().y>=c}),n=h.filter(function(a){return a.dd().x<
b&&a.dd().y<c}),p=h.filter(function(a){return a.dd().x<b&&a.dd().y>=c}),q=[l,m,n,p];q.filter(function(a){return a.length}).forEach(function(a){a.sort(function(a,b){return a.w()>b.w()?1:-1});a[0].dd().y<c&&a.reverse()});var u=0;l[0]&&m[0]&&fh(l[0],m[0])&&(u=l[0].ua()-m[0].w());n[0]&&p[0]&&fh(n[0],p[0])&&(u=Math.max(u,n[0].ua()-p[0].w()));q.forEach(function(a){a.forEach(function(d,h){var l=u/2,m=d.dd(),n=d.dd().x>=b?m.x+25:m.x-25,l=d.dd().y>=c?m.y+l:m.y-l,p=d.dd().x>=b?n:n-d.l();d.Lq(n,l);d.gb(p);d.ab(l-
e/2);if((l=a[h-1])&&fh(d,l))for(l=l.dd(),l=d.dd().y>=c?l.y+e:l.y-e,d.Lq(n,l),d.ab(l-e/2),m=l-m.y,h+=1;h<a.length;h++)n=a[h],l=n.dd(),p=l.y+m,n.Lq(l.x,p),n.ab(p-e/2);k.push(OG(d,b,c,g))})});return k}function PG(a){IG.call(this,a);this.Jh=a.Jh||.55}t(PG,IG);PG.prototype.oT=function(a){a=Object.assign({},a,{Jh:this.Jh});return new nG(a)};function QG(a){a=void 0===a?{}:a;EG.call(this,a)}t(QG,EG);
QG.prototype.Ar=function(a){var b=EG.prototype.Ar.call(this,a),c=b.data[0],d=a.FE.o()/100,e=1.5*d,g=c.map(function(a){return a.Pb()});g.unshift(g[0]);var h=e;a=d;1<c.length&&(a=c[1].F()-c[0].F(),h=Math.max(Math.min(e,a/3),.5*d),a=h/e*d);c=c.map(function(a,b){return new oG({left:a.F(),top:a.w(),width:a.l(),height:a.l(),color:g[b],fb:h})});d=[];for(e=0;e<c.length-1;e++){var k=c[e],l=c[e+1];d.push(new rG({x:k.F()+k.l()/2,y:k.w()},{x:l.F()+l.l()/2,y:l.w()},l.Pb(),a))}b.data[0]=d.concat(c);return b};var RG={type:"text",transparency:0,fontFamily:M.Id,fontSize:M.Hd},SG={type:"image",isBackground:!1,isRecolorable:!0};function TG(a){var b=a.serialize();b.backgroundColor=a.Pb();return new RB(_.extend({},SG,b))}function UG(a,b,c){var d=a.serialize();d.html=a.toString();d.justification=0!=a.Qa()?"right":"center";d.rotation=a.Qa();d.padding=a.padding;c&&(d.fontMedia=c);return new Rp(_.extend({},RG,d,b))}
function VG(a,b,c,d){var e=d.chart;this.zw=a;this.Di=e.chartType;this.data=e.data;this.m1=b;this.$D=c;this.Rc=e.labelTextStyle;this.tA=e.labelFontMedia;this.hs=e.interpolation;this.xr=WG(d);this.lj=!0;ZB.call(this,d);this.C().addClass("chart");this.v1=_.debounce(this.render,300)}VG.prototype=Object.create(ZB.prototype);f=VG.prototype;f.constructor=ZB;function YB(a){a=JSON.parse(JSON.stringify(a));a.chart.data=XG(a.chart.data);var b=YG(a);return new VG(b,TG,UG,a)}
function ZG(a){var b;function c(a,b){var c=document.createElementNS("http://www.w3.org/2000/svg","g");c.setAttribute("shape-rendering","crispEdges");c.setAttribute("style","opacity: 0.15;");c.setAttribute("data-recolorable-lines","true");a.Pd[0].forEach(function(a){var b=document.createElementNS("http://www.w3.org/2000/svg","line"),d=Math.max(2,a.w());b.setAttribute("x1",a.F());b.setAttribute("y1",d);b.setAttribute("x2",a.Wa());b.setAttribute("y2",d);b.setAttribute("stroke",a.Pb());b.setAttribute("stroke-width",
"1");b.setAttribute("vector-effect","non-scaling-stroke");c.appendChild(b)});b.appendChild(c)}var d=JSON.parse(JSON.stringify(a));b=b||new V(0,0,d.width,d.height);a=d.chart.chartType;var e=d.chart;e.data=XG(e.data);var g=YG(d),d=WG(d),e=g.Ar({FE:b,Ax:{Mx:[[0],[0]],WM:0,fontSize:0},color:d,Dv:e.labelTextStyle.color||$G,W2:e.idealPieRadiusFactor||.8}),h=document.createElementNS("http://www.w3.org/2000/svg","svg");h.setAttribute("width","100%");h.setAttribute("height","100%");h.setAttribute("preserveAspectRatio",
"xMaxYMax");h.setAttribute("viewBox",b.F()+" "+b.w()+" "+b.l()+" "+b.o());switch(a){case aH:c(e,h);e.data[0].forEach(function(a){var b=document.createElementNS("http://www.w3.org/2000/svg","rect");b.setAttribute("x",a.F());b.setAttribute("y",a.w());b.setAttribute("width",a.l());b.setAttribute("height",a.o());b.setAttribute("fill",a.Pb());h.appendChild(b)});break;case bH:case cH:e.qo.forEach(function(a){var b=document.createElementNS("http://www.w3.org/2000/svg","path");b.setAttribute("d",a.sf());
b.setAttribute("fill",a.Pb());h.appendChild(b)});break;case dH:c(e,h);var k=1;e.data[0].filter(function(a){return a instanceof rG}).forEach(function(a){var b=document.createElementNS("http://www.w3.org/2000/svg","line");b.setAttribute("x1",a.zc.x);b.setAttribute("y1",a.zc.y);b.setAttribute("x2",a.$b.x);b.setAttribute("y2",a.$b.y);b.setAttribute("stroke",a.Pb());b.setAttribute("stroke-width",.65*a.ii);b.setAttribute("stroke-linecap","round");b.setAttribute("vector-effect","non-scaling-stroke");h.appendChild(b);
k=a.ii});e.data[0].filter(function(a){return a instanceof oG}).forEach(function(a){var b=document.createElementNS("http://www.w3.org/2000/svg","circle");b.setAttribute("cx",a.F()+a.l()/2);b.setAttribute("cy",a.w());b.setAttribute("r",k);b.setAttribute("fill",a.Pb());b.setAttribute("stroke",a.Pb());b.setAttribute("stroke-width",.75*k);b.setAttribute("vector-effect","non-scaling-stroke");h.appendChild(b)})}return h}
function YG(a){a=a.chart;var b;b=Kb;b.yJ||(b.yJ=new vf(b.config));b=b.yJ;a.IN=b.n0.bind(b);switch(a.chartType){case aH:return new EG(a);case bH:return new IG(a);case dH:return new QG(a);case cH:return new PG(a)}throw Error("Invalid chart type specified");}function WG(a){a=a.chart||{};switch(a.coloringType){case eH:if(a.interpolation&&(a=Fn(a.interpolation)))return a}return fH}f.getData=function(){return JSON.parse(JSON.stringify(this.data))};f.ce=function(){return this.zw.ce()};
f.Qq=function(a){this.zw.Qq(a);this.render()};f.ws=function(a){this.data=JSON.parse(JSON.stringify(a));this.zw.ws(this.data)};f.ds=function(){return[uh(this.Rc.color)]};f.Za=function(){return[uh(this.xr(0,1))]};f.zd=function(){return this.Za().length};f.Ud=function(a,b){if(b instanceof on){switch(this.Di){case bH:case cH:this.xr=En(b,1,90,0,36);break;case aH:case dH:this.xr=this.hs&&this.hs.from===this.hs.to?function(){return b.qa()}:En(b,.75)}this.render({Faa:!0})}};
function gH(a){return new V(a.F(),a.w(),a.l(),a.o())}function hH(a){for(var b=gH(a).setPosition(0,0),c=a.ja().filter(function(a){return a instanceof UB}),d=0;2>d;d++){var e=c[d];e||(e=QF(b),tF(a,e,d),c[d]=e);e.viewBox=b;e.na(b.l());e.ca(b.o())}return c}function iH(a){return function(b){OF(a,b.map(function(a){return new NF({d:a.sf(),fill:a.Pb()})}));a.render()}}function jH(a,b){a=a.Pd[0];var c=iH(b);b.Tl(75);c(a)}
function kH(a,b){var c=hH(a),d=c[0],e=a.Gb.data[0],g=b.data[0],c=iH(c[1]);if(a.lj)if(e.length){a=Math.max(g.length,e.length);for(var h=0;h<a;h++){var k=g[h],l=e[h];k&&!l?e.push(k):k||e.pop()}a=ZF(e);TweenMax.to(a,.3,XF(a,e,g,c,Power1.easeOut))}else a.Gb=b,c(a.Gb.data[0]);else c(g);jH(b,d)}
function lH(a,b){function c(){if(m.length){var a=[],c=[],k=m.filter(d),l=m.filter(e),r=n.filter(d),x=n.filter(e);g(r,k,k[0]);g(x,l,k[0]);var H=ZF(k),D=AG(l),k=pG(H,k,r,function(b){c=b;p(a.concat(c))});TweenMax.to(D,.3,yG(D,l,x,function(b){a=b;p(a.concat(c))},Power1.easeOut));TweenMax.to(H,.3,k)}else h.Gb=b,p(h.Gb.data[0])}function d(a){return a instanceof oG}function e(a){return a instanceof rG}function g(a,b,c){for(var d=Math.max(a.length,b.length),e=0;e<d;e++){var g=a[e],h=b[e];if(g&&!h){var h=
g.clone(),k=b.length-1;g instanceof rG?-1<k?(h.$b.x=b[k].$b.x,h.$b.y=b[k].$b.y,h.zc.x=b[k].$b.x,h.zc.y=b[k].$b.y):(g=c.F()+c.l()/2-c.fb,h.$b.x=g,g=c.w(),h.$b.y=g,g=c.F()+c.l()/2-c.fb,h.zc.x=g,g=c.w(),h.zc.y=g):g instanceof oG&&(h.gb(b[k].F()),h.ab(b[k].w()),h.na(b[k].l()),h.ca(b[k].o()));b.push(h)}else g||b.pop()}}var h=a,k=hH(a),l=k[0],m=a.Gb.data[0],n=b.data[0],p=iH(k[1]);a.lj?c():p(m=n);jH(b,l)}
function mH(a,b){var c=hH(a),d=c[0],e=iH(d);d.Tl(75);e(b.Fv);e=c[1];c=a.Gb.qo;d=b.qo;c.length||(a.Gb=b);e=iH(e);if(a.lj)if(c.length){a=Math.max(d.length,c.length);for(b=0;b<a;b++){var g=d[b],h=c[b];g&&!h?(g=g.clone(),g.setRadius(c[0].fb),c.push(g)):g||(c.pop(),g=c.length-1,d[g]&&(c[g].Vg=d[g].Vg))}a=iG(c);TweenMax.to(a,.3,jG(a,c,d,e,Power1.easeOut))}else a.Gb=b,e(a.Gb.qo);else e(d)}
function nH(a,b,c){if(b!==c&&(b||c)){var d=c&&!b;if(!c&&b)c=b instanceof $F?a.$D(b,a.Zr(),a.XL()):a.m1(b),tF(a,c,b instanceof aG?0:void 0),b.setElement(c);else if(d)c=c.getElement(),a.aj(c),a.R().aj(c,{PY:!0}),c.C().remove(),c.remove();else{c=c.getElement();if(b instanceof $F){c.setPosition(b.F(),b.w());c.na(b.l());c.Sl(b.Qa());c.ci(0,b.Bz());var d=c,e=b.toString();Ib.H.get(lg)&&(d.C().removeData("cachedLineLengths"),LB(d).html(e));c.setPosition(b.F(),b.w())}else c.ld(b),c.Mw(uh(b.Pb())),c.lc(!0);
b.setElement(c);a.elements[a.elements.indexOf(c)]=c}}}function oH(a,b){var c=a.XL(),d=a.Zr().fontFamily,e;c&&(e=new en(c));a.render();pH(Jb,d)?b&&b():vA(Jb,e,d,function(){this.render({JO:!0});b&&b()}.bind(a))}f.appendTo=function(a){ZB.prototype.appendTo.call(this,a);qH(this,a)};f.Vk=function(a){ZB.prototype.Vk.call(this,a);qH(this,a)};function qH(a,b){rH(a)&&0<a.ja().length&&a.render();a.listenTo(b,"change:background",function(){rH(this)&&this.render()})}
function rH(a){return a.Rc.color?!1:(a.Dv=a.R().xg()?M.aD:M.$C,!0)}
f.render=function(a){function b(a){TweenMax.fromTo(a,.5,{autoAlpha:0},{autoAlpha:1,ease:Power1.easeIn})}a=a||{};var c,d=this.Ar();!this.Gb&&sH(this);var e=this.lj;a.JO&&(this.lj=!1);switch(this.Di){case bH:case cH:for(c=0;c<Math.max(this.Gb.labels.length,d.labels.length);c++)nH(this,d.labels[c],this.Gb.labels[c]);a.UM&&this.lj&&b(this.C().find(".text.element"));mH(this,d);break;case dH:for(c=0;c<Math.max(this.Gb.Pd[0].length,d.Pd[0].length);c++)nH(this,d.Pd[1][c],this.Gb.Pd[1][c]);for(c=0;c<Math.max(this.Gb.data[0].length,
d.data[1].length);c++)nH(this,d.data[1][c],this.Gb.data[1][c]);!a.UM&&this.lj&&b(this.C().find(".text.element"));lH(this,d);break;default:for(c=0;c<Math.max(this.Gb.Pd[0].length,d.Pd[0].length);c++)nH(this,d.Pd[1][c],this.Gb.Pd[1][c]);for(c=0;c<Math.max(this.Gb.data[0].length,d.data[1].length);c++)nH(this,d.data[1][c],this.Gb.data[1][c]);!a.UM&&this.lj&&b(this.C().find(".text.element"));kH(this,d)}this.Gb=d;this.lj=e};f.clone=function(){return YB(this.serialize())};
f.Xr=function(){return["copy","arrange","transparency","link","delete"]};f.hV=function(){return!0};f.yr=function(){};f.fP=function(){};f.setSize=function(a,b,c){if(!(a<M.Tx||b<M.Tx)){var d=this.o();void 0!==a&&void 0!==b&&Z.prototype.setSize.call(this,a,b);c&&(a=this.o()/d,0!==a&&(a*=this.Zr().fontSize,ZB.prototype.DH.call(this,a),this.Rc.fontSize=a));this.C().find(".elements").length&&this.render({JO:!0})}};
f.Xa=function(){ZB.prototype.Xa.call(this);var a=this.C().data("selectionBox");a&&(a.addClass("verticalScale"),a.addClass("horizontalScale"));(a=this.C().data("toolbar"))&&DD(a)};f.oh=function(){Z.prototype.oh.call(this);this.Au=!1};f.Zx=function(){return!0};f.QF=function(){return!1};f.cV=function(){return!0};f.FM=function(){return!!this.Au};
f.serialize=function(){var a=ZB.prototype.serialize.call(this);a.generatorType="CHART";var b=a.chart={};b.data=this.ai();b.labelColumn=0;b.labelTextStyle={};var c=this.Zr(),d;for(d in c)b.labelTextStyle[d]=c[d];(c=uA(c.fontFamily))&&(b.labelFontMedia={id:c.id,version:c.version});b.chartType=this.Di;(b[this.Di.toLowerCase()]={}).spacing=this.ce();b.coloringType=eH;b=b.interpolation={};b.colorSpace="HCL";b.from=this.xr(0,1);b.to=this.xr(1,1);if("#aNaNaN"===b.from||"#aNaNaN"===b.from)a.invalid=!0;return a};
f.ai=function(){var a={columns:[]};this.data.forEach(function(b,c){b.forEach(function(b,e){var g=a.columns[e]||{};g.name=e?"Value":"Label";g.cells=g.cells||[];g.cells[c]=""+b;a.columns[e]=g})});return a};function XG(a){var b=[];a.columns.forEach(function(a,d){a.cells.forEach(function(a,c){b[c]=b[c]||[];b[c][d]=a})});return b}f.UU=function(a){switch(this.Di){case bH:case cH:return{Wi:2,Uj:12,maxLength:16,Cd:0,IJ:a.slice(0,2)};default:return{Wi:2,Uj:58,maxLength:16,Cd:0,IJ:a.slice(0,2)}}};
f.XL=function(){var a=uA(this.Zr().fontFamily);if(a)return{id:a.id,version:a.version}};f.Zr=function(){return{fontFamily:this.Rc.fontFamily,fontSize:this.Rc.fontSize,bold:this.Rc.bold,italic:this.Rc.italic,color:this.Rc.color}};f.yz=function(){return ZB.prototype.yz.call(this)};f.PP=function(a){ZB.prototype.PP.call(this,a);this.Rc.bold=a;this.render()};f.SP=function(a){ZB.prototype.SP.call(this,a);this.Rc.italic=a;this.render()};
f.QP=function(a){this.elements.forEach(function(b){b instanceof Rp&&b.setColor(0,a)});this.Rc.color=a?a.qa():null;this.render()};f.CH=function(a,b,c){var d=this;ZB.prototype.CH.call(this,a,function(c){c&&(d.Rc.fontFamily=a);d.render();b(c)},c)};f.DH=function(a){ZB.prototype.DH.call(this,a);this.Rc.fontSize=a;this.render()};
f.ej=function(a,b,c,d){ZB.prototype.ej.call(this,a,b,c,d);this.Rc.fontFamily=b.fontFamily;this.Rc.fontSize=b.fontSize;this.Rc.bold=b.bold;this.Rc.italic=b.italic;this.Rc.letterSpacing=b.letterSpacing;this.Rc.lineHeight=b.lineHeight;this.Rc.color=b.color;this.render()};function tH(a){switch(a){case bH:a=Wm.PIECHART1;break;case dH:a=Wm.LINECHART1;break;case cH:a=Wm.DONUTCHART1;break;default:a=Wm.BARCHART1}return YB(a)}
function uH(a,b){a=a.Zr();var c=a.bold?"bold":"normal",d=a.italic?"italic":"",e=a.fontSize||M.Id,g=a.fontFamily||M.Hd,h=document.createElement("canvas").getContext("2d"),k=96/72*e,l={Mx:[],WM:(a.lineHeight||M.Ht)/100*k,fontSize:k};h.font=d+" "+c+" "+e+"pt "+g;b.forEach(function(a){l.Mx.push(a.map(function(a){return Math.ceil(1.2*h.measureText(a).width)}))});return l}var aH="BAR",bH="PIE",dH="LINE",cH="DONUT",vH={k$:aH,z$:bH,x$:dH,m$:cH},eH="INTERPOLATE";function wH(a,b){a.zw=b}
function sH(a){a.Gb=a.Di===bH||a.Di===cH?{labels:[],qo:[],Q2:!1,o7:0}:{Pd:[[],[]],data:[[],[]]};for(var b,c=a.R();b=a.elements.pop();)a.aj(b),c&&c.aj(b,{PY:!0}),b.C().remove(),b.remove()}VG.prototype.Ar=function(){var a=uH(this,this.zw.OU());return this.zw.Ar({FE:gH(this),Ax:a,color:this.xr,Dv:this.Rc.color||this.Dv||M.$C,SV:.3})};
function xH(a,b){function c(a){a=a.clone();a.bf=0;a.Vg=0;return a}function d(a){a=a.clone();a.setRadius(0);return a}function e(a){a=a.clone();var b=a.ua();a.ca(0);a.top=b-a.o();return a}function g(a){var b=a.clone();a=q.indexOf(a);0!==a?(a=q[a-1],b.zc.x=a.$b.x,b.zc.y=a.$b.y,b.$b.x=a.$b.x,b.$b.y=a.$b.y):(b.$b.x=b.zc.x,b.$b.y=b.zc.y);return b}function h(a){OF(r,v);r.Tl(75);r.render();a=a.map(k);OF(x,a);x.render()}function k(a){return new NF({d:a.sf(),fill:a.Pb()})}function l(){oH(p);b&&b();p.lj=!0}
function m(a){return a instanceof oG}function n(a){return a instanceof rG}var p=a;a.lj=!1;sH(a);a.render();var q,u,v,z;u=hH(a);var r=u[0],x=u[1];switch(a.Di){case cH:v=a.Gb.Fv.map(k);q=a.Gb.qo.reverse().map(c);u=a.Gb.qo.reverse();z=iG(q);TweenMax.staggerTo(z,.5,jG(z,q,u,h,Power1.easeOut),.5/Math.max(a.getData().length,1),l);break;case bH:v=a.Gb.Fv.map(k);q=a.Gb.qo.map(d);u=a.Gb.qo;z=iG(q);TweenMax.staggerTo(z,.5,jG(z,q,u,h,Back.easeOut.config(1.4)),.5/Math.max(z.length,1),l);break;case aH:q=a.Gb.data[0].map(e);
u=a.Gb.data[0];v=a.Gb.Pd[0].map(k);z=ZF(q);TweenMax.staggerTo(z,.5,XF(z,q,u,h,Back.easeOut.config(1.4)),.5/Math.max(z.length,1),l);break;case dH:q=a.Gb.data[0];u=a.Gb.data[0];v=a.Gb.Pd[0].map(k);var H=[],D=[],K=q.filter(n),K=K.map(g),E=q.filter(m),E=E.map(d),O=u.filter(n),Q=u.filter(m),N=.75/Math.max(E.length,1),da=new TimelineMax({onComplete:l});E.forEach(function(a,b){K[b]&&(a=K[b].sm(),da.to([a],N,yG([a],[K[b]],[O[b]],function(a){H[b]=a[0]},Power0.easeNone)));a=E[b].sm();var c=pG([a],[E[b]],[Q[b]],
function(a){D[b]=a[0];h(H.concat(D))});da.to([a],N,c,"-\x3d"+N)});break;default:l()}}VG.prototype.Wu=function(){return yH};function zH(a,b){var c=JSON.parse(JSON.stringify(b)),d=c.chart;d.data=a.getData();wH(a,YG(c));a.Di=d.chartType;a.xr=WG(b);a.hs=d.interpolation;a.Rc=d.labelTextStyle;a.tA=d.labelFontMedia;TweenMax.to(a.C(),.3,{opacity:0,ease:Power1.easeOut,onComplete:function(){xH(a);TweenMax.to(a.C(),.5,{opacity:1,ease:Power1.easeOut})}})}
var fH=En(vn("#00c4cc")),$G="#fff",yH=[6,8,10,12,14,16,18,21,24,28,32,36];function AH(a){Z.call(this,a);this.sh=!0;this.VM="vertical"===a.align;this.IV=!this.VM;this.C().addClass("guide").addClass(a.align)}AH.prototype=Object.create(Z.prototype);f=AH.prototype;f.constructor=AH;f.Uo=function(){return!1};f.py=function(){return!1};f.ED=function(){return!0};f.activate=function(){this.C().removeClass("inactive")};f.gE=function(){this.C().addClass("inactive")};f.ab=function(a){this.IV&&Z.prototype.ab.call(this,a)};f.gb=function(a){this.VM&&Z.prototype.gb.call(this,a)};
f.setPosition=function(a,b){this.VM&&Z.prototype.gb.call(this,a);this.IV&&Z.prototype.ab.call(this,b)};function WB(a){Z.call(this,a);this.sh=!0;this.placeholder=a.placeholder in BH?a.placeholder:"DEFAULT";this.C().addClass("fixed").css("backgroundImage","url("+BH[this.placeholder]+")")}WB.prototype=Object.create(Z.prototype);WB.prototype.constructor=WB;
var BH={CARD:"https://static.canva.com/static/images/furniture_card_fold_line_center.svg",CARD_VERTICAL:"https://static.canva.com/static/images/furniture_card_fold_line_center_vertical.svg",DEFAULT:"https://static.canva.com/static/images/placeholder.jpg",FACEBOOK:"https://static.canva.com/static/images/furniture_facebook_avatar.svg",FUSION_SPINE_GUIDE:"https://static.canva.com/static/images/furniture_fusion_spine_guide.svg",FUSION_VERTICAL_DANGER_GUIDE:"https://static.canva.com/static/images/furniture_fusion_vertical_danger_guide.svg",FUSION_HORIZONTAL_DANGER_GUIDE:"https://static.canva.com/static/images/furniture_fusion_horizontal_danger_guide.svg",FUSION_HORIZONTAL_COVER_DANGER_GUIDE:"https://static.canva.com/static/images/furniture_fusion_horizontal_cover_danger_guide.svg",
GPLUS_CARD:"https://static.canva.com/static/images/furniture_gplus_card.svg",TWITTER_AVATAR:"https://static.canva.com/static/images/furniture_twitter_avatar.svg",TWITTER_MENU:"https://static.canva.com/static/images/furniture_twitter_menu.svg",TWITTER_STATS:"https://static.canva.com/static/images/furniture_twitter_stats.svg",BROCHURE_FOLD_LINE_LEFT:"https://static.canva.com/static/images/furniture_trifold_brochure_fold_line_left.svg",BROCHURE_FOLD_LINE_CENTER:"https://static.canva.com/static/images/furniture_trifold_brochure_fold_line_center.svg",BROCHURE_FOLD_LINE_RIGHT:"https://static.canva.com/static/images/furniture_trifold_brochure_fold_line_right.svg",BROCHURE_BLEED_AREA:"https://static.canva.com/static/images/furniture_trifold_brochure_bleed_area.svg",
PHONE:"https://static.canva.com/static/images/furniture_phone.svg",TABLET:"https://static.canva.com/static/images/furniture_tablet.svg",BROWSER:"https://static.canva.com/static/images/furniture_browser.svg"};f=WB.prototype;f.serialize=function(){return{type:"fixed"}};f.Xa=function(){};f.Uo=function(){return!1};f.ED=function(){return!1};f.py=function(){return!1};function QB(a,b){this.index=a.index;this.Na=b;this.ha=a.mediaId;this.ia=a.mediaVersion;this.origin=a.origin?new cn(a.origin):null;this.Da=Gm(a.imageBox);this.SX=this.VX=this.UX=this.TX=0;this.xB=!0;this.Xb=a.flipOrientation|0;this.SF=0<this.Na.parents(".svg.element").length;this.BF=!1;this.backgroundColor=null;a.backgroundColor&&(this.backgroundColor=uh(a.backgroundColor));this.tc=void 0===a.mediaApproved?!0:a.mediaApproved;JD(this,this.tc)}f=QB.prototype;
f.serialize=function(){var a={type:"image",index:this.index,mediaId:this.ha,mediaVersion:this.ia,imageBox:this.Da.serialize(),flipOrientation:this.Xb,mediaApproved:this.tc};this.backgroundColor&&(a.backgroundColor=this.backgroundColor.serialize());var b=this.origin&&this.origin.serialize();b&&(a.origin=b);return a};f.C=function(){return this.Na};
function LD(a,b,c,d){var e=b!==a.ha||c!==a.ia;if(a.BF&&!e)return d&&d(!0),a;e&&(a.ha=b,a.ia=c,a.origin=null,JD(a,!0));a.BF=!0;a.xB=!0;a.SF?a.ha&&a.ia&&(b=a.Na.find("image.placeholder"),a.Na.get(0).classList.add("filled"),PC({jn:b,ha:a.ha,ia:a.ia,Xv:d})):a.ha&&a.ia&&(b=$("\x3cimg\x3e"),b.addClass("placeholder"),a.Na.find(".placeholder").remove(),a.Na.append(b),a.Na.parent(".item").addClass("filled"),PC({jn:b,ha:a.ha,ia:a.ia,Xv:d}));return a}function KD(a,b){a.origin=b;return a}
function MD(a){a.BF=!1;JD(a,!0);a.ha=void 0;a.ia=void 0;a.origin=null;a.SF?(a.Na.get(0).classList.remove("filled"),a.Na.find("image.placeholder").removeAttr("crossorigin").removeData("mediaId").removeData("mediaVersion").attr("xlink:href",M.Ho)):(a.Na.parent(".item").removeClass("filled"),a.Na.find(".placeholder").remove(),a.Na.append('\x3cdiv class\x3d"placeholder"\x3e\x3c/div\x3e'));return a}f.Tm=function(){return this.Da.clone()};function KC(a,b){a.Da=b.clone();a.xB=!0;CH(a);return a}
f.Ow=function(a){var b=a^this.Xb;Sm(this.Da,DH(this),b);this.xB=!0;this.Xb=a;CH(this);return this};f.ht=function(a){this.kw();this.Ow(a);return this};f.$g=function(){return this.backgroundColor};f.Mw=function(a){this.backgroundColor=a;EH(this);return this};function bE(a){a.backgroundColor=null;a.Na.find(".backgroundColor.placeholder").replaceWith('\x3cdiv class\x3d"placeholder"\x3e\x3c/div\x3e');return a}function ED(a){return!(!a.ha||!_.isNumber(a.ia))}f.isEmpty=function(){return!(ED(this)||this.$g())};
f.Gc=function(){return ED(this)?Fb.Gc(this.ha,this.ia):null};function JD(a,b){(a.tc=b)?a.Na.get(0).classList.remove("unapproved"):a.Na.get(0).classList.add("unapproved");return a}f.NC=function(a){var b=this.Kb();null!=this.backgroundColor||null==b||hq(a,this.Kb())||(MD(this),JD(this,!1))};f.Kb=function(){return void 0!==this.ha&&void 0!==this.ia?new en({id:this.ha,version:this.ia}):null};f.Rl=function(a,b){return new P(function(c){this.ha=a;this.ia=b;this.update(c)}.bind(this))};
f.update=function(a){var b=this.tc;void 0!==this.ha&&void 0!==this.ia?(LD(this,this.ha,this.ia,a),CH(this)):(MD(this),EH(this),a&&a(!0));JD(this,b)};f.clear=function(){MD(this);bE(this)};function EH(a){if(a.backgroundColor){MD(a);var b=$('\x3cdiv class\x3d"backgroundColor placeholder"\x3e\x3c/div\x3e');b.css("background-color",a.backgroundColor.qa());a.Na.find(".placeholder").replaceWith(b)}else a.clear()}
function CH(a){if(a.SF){var b=a.Na.closest(".element").data("canvaElement"),c=a.Na.find("image.placeholder"),d=DH(a);a=a.Da.clone();a.translate(d.F(),d.w()).scale(1/BD(b));c.attr("width",a.l()).attr("height",a.o()).attr("x",a.F()).attr("y",a.w())}else{b=DH(a);c=b.l();d=b.o();if(a.xB)a.TX=a.Da.F()/c,a.UX=a.Da.w()/d,a.VX=a.Da.l()/c,a.SX=a.Da.o()/d,a.xB=!1;else{var e=a.Da.Zg();a.Da.gb(c*a.TX);a.Da.ab(d*a.UX);a.Da.na(c*a.VX);a.Da.ca(d*a.SX);var g=e/a.Da.Zg(),e=c/2,h=d/2,k=1;1>g?(Lm(a.Da,e,h,g,1),g=Math.max(0,
a.Da.F(),c-a.Da.Wa()),k=c/(c-2*g)):1<g&&(Lm(a.Da,e,h,1,1/g),g=Math.max(0,a.Da.w(),d-a.Da.ua()),k=d/(d-2*g));1<k&&Lm(a.Da,e,h,k)}GC(a.Na,null,a.Xb);c=a.Da.clone();Sm(c,b,a.Xb);c.scale(W);c.round();a.Na.find("img.placeholder").css(CC(c))}}function DH(a){var b=a.Na.closest(".element").data("canvaElement");return b?b.Ym(a.index):Hm.clone()}f.kw=function(){var a=this.Na,b=M.QR*this.Da.l();a.parent().css("perspective",b+"px");a.addClass("flipping");a.one("transitionend",function(){a.removeClass("flipping")})};function uD(a){this.jR=a.valign;this.pj=Gm(a.box);this.Bg=this.pj.clone();this.Ys=a.resizeHorizontal;this.Xn=a.resizeVertical;this.contents=a.contents;this.kR=[];this.U2=[];this.scale=1;this.kv=FH(this);this.wV=this.pj.o()-GH(this);HH(this);this.ka();var b=this;this.contents.forEach(function(a){b.listenTo(a,"change:width",b.ka);b.listenTo(a,"change:height",b.ka)})}uD.prototype.trigger=Backbone.Events.trigger;uD.prototype.listenTo=Backbone.Events.listenTo;uD.prototype.stopListening=Backbone.Events.stopListening;
_.extend(uD.prototype,Backbone.Events);f=uD.prototype;f.remove=function(){var a=this;this.stopListening(this);this.contents.forEach(function(b){a.stopListening(b)})};f.na=function(a){AD(a,this.l())||(this.pj.na(a),this.ka(),this.trigger("change:width",this),this.trigger("change",this))};f.l=function(){return this.pj.l()};f.ca=function(a){AD(a,this.o())||(this.pj.ca(a),this.ka(),this.trigger("change:height",this),this.trigger("change",this))};f.o=function(){return this.pj.o()};
f.setSize=function(a,b,c){var d=this.l()!==a,e=this.o()!==b;if(d||e)this.pj.setSize(a,b),this.scale!==c&&(this.scale=c,IH(this)),this.ka(),d&&this.trigger("change:width",this),e&&this.trigger("change:height",this),this.trigger("change",this)};f.Gp=function(){return this.pj.Gp()};f.ld=function(a,b){this.pj.gb(a.F()).ab(a.w());this.setSize(a.l(),a.o(),b)};f.pa=function(){return this.pj.clone()};f.Gz=function(){return this.Bg.clone()};
function FH(a){a=a.contents.map(function(a){return a.pa()});return Bl(a.map(function(a){return a.w()}))}function GH(a){a=a.contents.map(function(a){return a.pa()});return Cl(a.map(function(a){return a.ua()}))}function JH(a){var b=FH(a);return GH(a)-b}function KH(a){a=a.contents.slice(0);a.sort(function(a,c){a=a.Gz();c=c.Gz();return a.w()<c.w()?-1:a.w()>c.w()?1:0});return a}
function HH(a){a.kR=[];if(!(2>a.contents.length)){var b=KH(a);a.contents.forEach(function(c){var d=b.indexOf(c);d==a.contents.length-1?d=0:(c=c.pa(),d=b[d+1].pa().w()-c.ua());a.kR.push(d)})}}function LH(a,b){a.contents.forEach(function(c){var d=c.pa();d.translate(0,b);a.stopListening(c);c.ld(d,a.scale);a.listenTo(c,"change:width",a.ka);a.listenTo(c,"change:height",a.ka)})}
function IH(a){a.contents.forEach(function(b){a.stopListening(b);b.scale(a.scale);a.listenTo(b,"change:width",a.ka);a.listenTo(b,"change:height",a.ka)})}
f.ka=function(){var a=this;this.contents.forEach(function(b){a.stopListening(b);if(!b.rC)if(b.RK)MH(b);else{var c=b.pa(),d=NH(b);c.na(d.width);c.ca(d.height);b.ld(c)}});var b=0===this.U2.length;this.contents.forEach(function(c){if(a.Ys&&b){var d=c.pa();d.l()!==a.l()&&(d.na(a.l()),c.ld(d,a.scale))}});var c=KH(this);c.forEach(function(b,d){if(0!==d){d=c[d-1];var e=a.contents.indexOf(d),g=a.kR[e],e=b.pa();d=d.pa().ua()+g*a.scale;e.ab(d);b.ld(e,a.scale)}});var d=JH(this),e=this.pj.o(),g;"CENTER"==this.jR?
(g=this.kv+this.wV,g=this.kv+(e-d-g)/2,g-=FH(this),LH(this,g),d>e&&this.Xn&&(g=-FH(this),LH(this,g),this.ca(d))):"TOP"==this.jR?this.kv+d>e&&this.Xn&&this.ca(this.kv+d):"BOTTOM"==this.jR&&(g=this.kv+this.wV,g=this.kv+(e-d-g),g-=FH(this),LH(this,g),d>e&&this.Xn&&(g=-FH(this),LH(this,g),this.ca(d)));this.contents.forEach(function(b){a.listenTo(b,"change:width",a.ka);a.listenTo(b,"change:height",a.ka)})};
function tD(a,b,c){this.yk=a;this.Bg=a.data("rect").clone().translate(-b,-c);this.Yy=!!a.data("dynamicWidth");this.EE=!!a.data("dynamicHeight");this.RK=!!a.data("dynamicFontSize");this.ZG=a.data("defaultFontSize");this.RK&&(this.EE=this.Yy=!1);this.Yy&&this.EE&&(this.Yy=!1);this.Ib={AI:0,Lx:0,wf:0,Fd:1};this.rC=!1}tD.prototype.trigger=Backbone.Events.trigger;tD.prototype.listenTo=Backbone.Events.listenTo;tD.prototype.stopListening=Backbone.Events.stopListening;_.extend(tD.prototype,Backbone.Events);
var wD="center",xD="right";f=tD.prototype;f.C=function(){return this.yk};f.Gz=function(){return this.Bg.clone()};f.pa=function(){var a=this.Bg.clone();a.ab(this.Ib.AI+this.Bg.w()*this.Ib.Fd).gb(this.Bg.F()*this.Ib.Fd).na(this.Ib.Lx+a.l()*this.Ib.Fd).ca(this.Ib.wf+a.o()*this.Ib.Fd);return a};
f.ld=function(a,b){void 0===b&&(b=this.Ib.Fd);var c=this.pa(),d=a.clone().scale(W).round();this.yk.css(d.serialize());OH(this);this.Ib.Fd=b;this.Ib.AI=a.w()-this.Bg.w()*this.Ib.Fd;this.Ib.Lx=a.l()-this.Bg.l()*this.Ib.Fd;this.Ib.wf=a.o()-this.Bg.o()*this.Ib.Fd;b=!AD(c.l(),a.l());d=!AD(c.o(),a.o());b&&this.trigger("change:width",this,a.l()-c.l());d&&this.trigger("change:height",this,a.o()-c.o());(b||d)&&this.trigger("change",this)};
f.scale=function(a){this.Ib.AI*=a/this.Ib.Fd;this.Ib.Lx*=a/this.Ib.Fd;this.Ib.wf*=a/this.Ib.Fd;this.Ib.Fd=a};function OH(a){if(a.yk.hasClass("text")){var b=a.pa(),c=a.yk.children(".inner");c.css("width",b.l()).css("height","");var d=a.yk.height();a=c.height();b=Math.round(b.l()*(W-1)*.5);d=Math.ceil(d/2)-Math.floor(a/2);c.css("height",a).css("position","absolute").css("transform","translate("+b+"px, "+d+"px) scale("+W+")")}}
function MH(a){if(!a.rC){var b=PH(a),c=a.yk.data("canvaElement"),d=a.yk.data("textIndex");a.rC=!0;c.ke(d,b);a.rC=!1;OH(a)}}function oD(a){var b;if(!a.rC)if(a.RK)MH(a);else{var c=a.pa();b=NH(a);var d=b.width;b=b.height;a.Yy&&(d=Math.max(d,a.Bg.l()*a.Ib.Fd));a.EE&&(b=Math.max(b,a.Bg.o()*a.Ib.Fd));c.na(d);c.ca(b);a.ld(c)}}
function PH(a){function b(a,b,d){var m="width"==a?b.width:b.height;a="width"==a?e:g;var n=m.call(b);d/=n/a;b.css("font-size",d*M.ti+"%");n=m.call(b);if(0==n)return c;if(n>a)for(;n>a&&!(d*=.95,b.css("font-size",d*M.ti+"%"),n=m.call(b),n<a||8>d););else if(n<a)for(;n<a;)if(d/=.95,b.css("font-size",d*M.ti+"%"),n=m.call(b),n>a||d>c){d*=.95;break}return d=Math.max(Math.min(c,d),M.OI)}var c=a.ZG*a.Ib.Fd,d=parseFloat(a.yk.data("fontSize"))*a.Ib.Fd,e=Math.floor(a.Ib.Lx+a.Bg.l()*a.Ib.Fd),g=Math.floor(a.Ib.wf+
a.Bg.o()*a.Ib.Fd);a=a.yk.clone();a.addClass("element").appendTo("#canvaDocument \x3e .inner").css("width","").css("height","");a.children(".inner").css("width","").css("height","").css("transform","").css("position","").css("top","");d=b("width",a,d);a.css("font-size",d*M.ti+"%");a.height()>g&&(a.css("width",a.width()),d=b("height",a,d));a.remove();return d}
function NH(a){function b(a,b,c){var d="height"===b?c:"";c="width"===b?c:"";a=a.clone();"width"===b&&a.css("white-space","nowrap");a.addClass("element").appendTo("#limbo").css("width",d).css("height",c);d=a.children(".inner").css("width",d).css("height",c).css("transform","").css("position","").css("top","");Ff($(d));b=a.get(0).getBoundingClientRect()[b];a.remove();return b}var c=a.Ib.Lx+a.Bg.l()*a.Ib.Fd,d=a.Ib.wf+a.Bg.o()*a.Ib.Fd,e=a.yk;a.Yy&&(c=b(e,"width",d));a.EE&&(d=b(e,"height",c));return{width:c,
height:d}};function QH(a){for(var b,c=/(.*['"<])?([^'">]+)(['">].*)?/g;b=c.exec(a);)if(b=b[2].trim(),RH(b))return b}function RH(a){return/^[^@]+@[^@]+\.[^@]+$/.test(a)&&!/[ ,<>'"]/.test(a)};function SH(){this.N=Hb;this.path="/login"};function TH(){}t(TH,Error);function UH(a,b,c){this.id=a;this.length=b;this.name=c}UH.prototype.u=function(){return this.id};UH.prototype.getLength=function(){return this.length};UH.prototype.getName=function(){return this.name};function VH(a,b,c,d){this.id=a;this.name=b;this.nd=d;this.N6=c}VH.prototype.u=function(){return this.id};VH.prototype.getName=function(){return this.name};VH.prototype.ee=function(){return this.nd};VH.prototype.Cj=function(){return this.N6};function WH(a,b,c){this.height=a;this.url=b;this.width=c}WH.prototype.o=function(){return this.height};WH.prototype.ma=function(){return this.url};WH.prototype.l=function(){return this.width};function XH(a){this.N=a.N;this.iW=a.iW;this.dJ=a.config.dJ;this.Qr=null}var YH={m2:function(a,b){var c=[];b.permissions.data.forEach(function(a){"granted"==a.status&&c.push(a.permission)});this.permissions=c},param:"permissions"};
XH.prototype.init=function(){var a=this,b,c;b=this;return(c=window.facebookSdkPromise)?c:c=window.facebookSdkPromise=new P(function(c,e){a.GP=function(b){ZH(a);e(b)};window.fbAsyncInit=function(){FB.init({version:"v2.11",appId:b.dJ,channelUrl:"//"+window.location.hostname+"/static/channel.html",status:!0,xfbml:!1});ZH(a);c(a)};$H(a)})};XH.prototype.GP=function(){ZH(this)};function ZH(a){document.getElementById("facebook-jssdk").removeEventListener("error",a.GP)}
function $H(a){var b,c=document.getElementsByTagName("script")[0];document.getElementById("facebook-jssdk")||(b=document.createElement("script"),b.id="facebook-jssdk",b.src="//connect.facebook.com/en_US/sdk.js",b.addEventListener("error",a.GP),c.parentNode.insertBefore(b,c))}function aI(){var a;a=window.facebookSdkPromise;return!!a&&a.isFulfilled()}
function bI(a,b){return new P(function(c,d){cI(a).then(function(e){e=e.permissions;var g=_.difference(b,e);a.Qr&&a.Qr.jba(e);g.length?d():c()}).catch(d)})}
function cI(a){var b=[YH];return new P(function(c,d){a.getAuthResponse().then(function(a){for(var g=[],h=0;h<b.length;h++){var k=b[h];k.param&&g.push(k.param)}g=g.join(",");FB.api("/me?return_ssl_resources\x3d1\x26fields\x3d"+encodeURIComponent(g),function(g){if("error"in g)d("FB_API_ERROR");else{for(var h={},k=0;k<b.length;k++)b[k].m2.call(h,a,g);c(h)}})}).catch(function(b){a.Qr=null;d(b)})})}
XH.prototype.getAuthResponse=function(){return new P(function(a,b){FB.getAuthResponse()?a(FB.getAuthResponse()):FB.getLoginStatus(function(c){"connected"==c.status?a(c.authResponse):b("UNAUTHORIZED")})})};XH.prototype.va=function(){return this.Qr};
function dI(a){var b=["email","public_profile","user_photos"];return new P(function(c,d){function e(b){a.Qr=null;d(b)}function g(g){g.authResponse&&g.status?bI(a,b).then(c).catch(e):d("FB_API_ERROR")}var h=_.difference(b,a.Qr?a.Qr.permissions:[]);0<h.length?FB.login(g,{scope:h.join(",")}):bI(a,b).then(c).catch(e)})}function eI(a){return bI(a,["email","public_profile","user_photos"])}
function fI(a){if(!aI())throw new TH;var b={fields:"id,name,count"};void 0!==a&&(b.offset=a);b.limit=10;return new P(function(a,d){FB.api("/me/albums?return_ssl_resources\x3d1",b,function(b){"error"in b?d("FB_API_ERROR"):(b=b.data.map(function(a){return new UH(a.id,a.count||0,a.name)}),a(b))})})}
function gI(a,b,c){if(!aI())throw new TH;var d={fields:"id,name,height,width,source,picture,images"};void 0!==b&&(d.offset=b);void 0!==c&&(d.limit=c);return new P(function(b,c){FB.api("/"+encodeURIComponent(a)+"/photos?return_ssl_resources\x3d1",d,function(a){"error"in a?c("FB_API_ERROR"):(a=a.data.map(function(a){var b=a.height,c=a.width,d=a.source,e=b/4.6,g=c/4.6,h=a.picture,v=a.images.filter(function(a){return a.source===h});0<v.length&&(e=v[0].height,g=v[0].width);v=a.images.sort(function(a,b){return b.height-
a.height})[0];if(v.width>c||v.height>b)b=v.height,c=v.width,d=v.source;return new VH(a.id,a.name,new WH(b,d,c),new WH(e,h,g))}),b(a))})})}
function hI(a,b){return new P(function(c,d){function e(){return m.reduce(function(a,b){return a+b.getLength()},0)}function g(c){var k;m=m.concat(c);c=0<c.length&&10>=c.length;k=e()<a+b;c&&k?fI(m.length).then(g).catch(d):h()}function h(){var c=0,e=m.filter(function(b){c+=b.getLength();return c>a}),g=m.filter(function(a){return-1===e.indexOf(a)}).reduce(function(a,b){return a+b.getLength()},0),h=[],n=0;e.forEach(function(c,d){var e=0===d?a-g:0;d=Math.min(b,c.getLength()-e);n<b&&(c=gI(c.u(),e,d).tap(k),
h.push(c));n+=d});P.all(h).then(l).catch(d)}function k(a){n=n.concat(a)}function l(){c(n)}var m=[],n=[];if(!aI())throw new TH;fI(0).then(g).catch(d)})}function iI(){this.dJ=B("appId",window.facebookConfig)};function jI(a){this.N=a}jI.prototype.BA=function(a,b){var c=b.TL(),d=b.Ad(),e=b.Bb(),g=b.QL();a="/vfolders/"+a+b.sc()+"?"+(c?"filter\x3d"+encodeURIComponent(c):"")+(d?"\x26limit\x3d"+encodeURIComponent(String(d)):"")+(e?"\x26continuation\x3d"+encodeURIComponent(e):"")+(g?"\x26decorations\x3d"+encodeURIComponent(g.join(",")):"");return yj(this.N,a).get(0).then(kI)};function lI(a,b){var c=b.fa();return a.BA("brands/"+(c?encodeURIComponent(c):"~"),b)}
function mI(a,b){var c=b.fa(),d=b.va();return a.BA("brands/"+(c?encodeURIComponent(c):"~")+"/users/"+(d?encodeURIComponent(d):"~"),b)};function nI(){this.content=null}nI.prototype=new Dk;nI.prototype.getContent=function(){return this.content};function oI(a){a=a.content;var b=a.elements;return b&&1===b.length&&"grid"===b[0].type?0>=b[0].top&&0>=b[0].left&&b[0].width>=a.width&&b[0].height>=a.height&&(!b[0].contents||0===b[0].contents.length):!1}function pI(){}f=pI.prototype;f.oi=function(a){this.brand=a;return this};f.fa=function(){return this.brand||null};f.Gt=function(a){this.user=a;return this};
f.va=function(){return this.user||null};f.wk=function(a){this.folder=a;return this};f.sc=function(){return this.folder};function qI(a,b){a.filter=b;return a}f.TL=function(){return this.filter};f.pi=function(a){this.continuation=a;return this};f.Bb=function(){return this.continuation||null};f.lg=function(a){this.limit=a;return this};f.Ad=function(){return this.limit};f.QL=function(){return this.decorations};function rI(){this.items=[];this.folders=this.continuation=null}rI.prototype.uf=function(){return this.items};
rI.prototype.Bb=function(){return this.continuation};rI.prototype.wp=function(){return this.folders};function kI(a){if(!a)return null;a=$.extend(new rI,a);a.items&&(a.items=a.items.map(sk));a.folders&&(a.folders=a.folders.map(bk));return a};function sI(a,b){this.Sa=a;this.J=b}sI.prototype.ob=function(){var a=this.Sa.getName(),b=this.Sa.de();if(a)return a;if(b){if("LOGOS"===b)return this.J.format("objectPanelUploadsPanelSystemFolderLogos");if("UNFOLDERED"===b)return this.J.format("objectPanelUploadsPanelSystemFolderUnfoldered");throw Error("unrecognised system folder");}return this.Sa===ik?this.J.format("objectPanelUploadsPanelUploadsFolder"):this.Sa===jk?Sd(this.J):this.J.format("objectPanelUploadsPanelUntitledFolder")};function dE(a){this.name=a||"Normal";this.Nf=this.vignette=this.gf=this.saturation=this.contrast=this.brightness=this.blur=0;this.rh=50}var tI=new dE,uI=new dE("halftone");
function vI(a){var b=a.match(/([a-z0-9]{2})/gi),c=new dE;if("halftone"===a)return uI;c.brightness=parseInt(b[0],16)-100;c.contrast=parseInt(b[1],16)-100;c.saturation=parseInt(b[2],16)-100;c.gf=parseInt(b[3],16)-100;c.blur=parseInt(b[4],16)-100;c.vignette=parseInt(b[5],16);c.Nf=parseInt(b[6],16)-100;c.rh=7<b.length?parseInt(b[7],16):tI.rh;return c}function wI(a){a=a.toLowerCase();return"tint"!==a&&"name"!==a}
function xI(a,b,c){b=Math.round((b||0)*c);return"vignette"===a||"tintAmount"===a?Math.min(100,Math.max(0,b)):Math.min(100,Math.max(-100,b))}function yI(a,b){var c=_.findWhere(zI,{name:a.name});_.chain(c).keys().filter(wI).each(function(a){this.BH(a,xI(a,c[a],b))}.bind(a))}function AI(a){var b=new dE;b.Ch(a.serialize());b.blur&&(b.blur*=.5);b.brightness&&(b.brightness*=.5);b.contrast&&(b.contrast*=.6);b.saturation&&0<b.saturation&&(b.saturation*=.8);b.vignette&&(b.vignette*=.7);return b}f=dE.prototype;
f.Ch=function(a){a&&(this.name=a.name||tI.name,this.blur=a.blur||tI.blur,this.brightness=a.brightness||tI.brightness,this.contrast=a.contrast||tI.contrast,this.saturation=a.saturation||tI.saturation,this.gf=a.tint||tI.gf,this.vignette=a.vignette||tI.vignette,this.Nf=a.xpro||tI.Nf,this.rh=_.isNumber(a.tintAmount)?a.tintAmount:tI.rh)};
function BI(a,b){function c(c){return a[c]!==b[c]}a=void 0===a?tI:a;b=void 0===b?tI:b;return null===a&&null===b?!0:null===a||null===b?!1:0===Object.keys(a).filter(c).length&&0===Object.keys(b).filter(c).length}
f.BH=function(a,b){switch(a){case "brightness":return this.brightness=b,!0;case "saturation":return this.saturation=b,!0;case "contrast":return this.contrast=b,!0;case "blur":return this.blur=b,!0;case "tint":return this.gf=b,!0;case "xpro":case "xprocess":return this.Nf=b,!0;case "vignette":return this.vignette=b,!0;case "tintAmount":return this.rh=b,!0;default:return!1}};
f.getByName=function(a){switch(a){case "brightness":return this.brightness;case "saturation":return this.saturation;case "contrast":return this.contrast;case "blur":return this.blur;case "tint":return this.gf;case "xpro":case "xprocess":return this.Nf;case "vignette":return this.vignette;case "tintAmount":return this.rh;default:throw Error("unknown filter property name: "+a);}};f.NM=function(){return null!==CI(this)};
f.serialize=function(){if(BI(this,tI))return null;var a={};this.name&&(a.name=this.name);this.blur&&(a.blur=this.blur);this.brightness&&(a.brightness=this.brightness);this.contrast&&(a.contrast=this.contrast);this.saturation&&(a.saturation=this.saturation);this.gf&&(a.tint=this.gf);this.vignette&&(a.vignette=this.vignette);this.Nf&&(a.xpro=this.Nf);_.isNumber(this.rh)&&(a.tintAmount=this.rh);return a};
function CI(a){var b=_.findWhere(zI,{name:a.name});if(null===b)return null;var c=DI(a,b);return null===c?null:_.all(b,function(a,e){return wI(e)?1>=Math.abs(this.getByName(e)-xI(e,b[e],c)):!0}.bind(a))?c:null}function DI(a,b){var c=0,d=null;_.each(b,function(a,b){wI(b)&&Math.abs(a)>=Math.abs(c)&&100>Math.abs(this.getByName(b))&&(c=a,d=b)}.bind(a));return 0===c?null:a.getByName(d)/c}
f.qa=function(){return[this.brightness+100,this.contrast+100,this.saturation+100,this.gf+100,this.blur+100,this.vignette,this.Nf+100,this.rh].map(function(a){a=Math.round(a).toString(16);1==a.length&&(a="0"+a);return a}).join("")};
function EI(a,b){a-=200/7;0>a&&(a=200+a);var c,d;a=360*a/200/360;c=1;d=.5;if(0==c)d=c=a=d;else{var e=.5>d?d*(1+c):d+c-d*c,g=2*d-e;d=Hn(g,e,a+1/3);c=Hn(g,e,a);a=Hn(g,e,a-1/3)}a=[Math.round(255*d),Math.round(255*c),Math.round(255*a)];return{color:{r:a[0],cl:a[1],b:a[2]},No:7+.14*(b-50)}}
function FI(a){function b(b){return parseFloat((b*a/-100).toFixed(2))}if(0<a){var c=function(b){return parseFloat((b*a/100).toFixed(2))},d=[0,.2,0,-.1,0].map(c),e=[0,.1,0,-.1,0].map(c),c=[.2,0,.2].map(c);return{red:[[0,0],[.3,.3-d[1]],[.7,.7-d[3]],[1,1]],green:[[0,0],[.25,.25-e[1]],[.75,.75-e[3]],[1,1]],blue:[[0,c[0]],[0+2/3*.5,c[0]+2/3*(.5-c[0])],[1+2/3*-.5,1-c[2]+2/3*(.5-(1-c[2]))],[1,1-c[2]]]}}d=[0,.2,.5,-.05].map(b);e=[0,-.15,0,0].map(b);c=[0,-.01,0,.3].map(b);return{red:[[0,0],[.3,.3-d[1]],[.7,
.7-d[2]],[.95,.95-d[3]]],green:[[0,0],[.25,.25-e[1]],[.6,.6],[1,1]],blue:[[0,0],[.3,.3-c[1]],[.5,.5],[1,1-c[3]]]}};function GI(a){this.filter=new dE;this.Pp=this.aP=this.sj=!1;this.CE={};this.V1="";this.Jc=a;this.kK="print"==SB?SC:Tg;this.rQ=null;this.jA=50}function OB(a,b){var c=new dE;b=new GI(b);a&&c.Ch(a);cE(b,c);return b}f=GI.prototype;f.NM=function(){return this.filter.NM()};f.ls=function(){return this.Pp};f.initialize=function(a){function b(){c.Pp=!0;a&&a()}var c=this;!ED(this.Jc)||this.Pp||BI(this.filter,tI)?b():UC(this,b)};function HI(a){a.Mh||(a.Mh=new II(window,a.Jc,a.kK),a.Mh.update(!0))}
f.update=function(a,b){var c=this;if(this.sj)if(this.rQ=WC(this),this.trigger("change"),this.Jc.isEmpty())this.Mh&&(this.Mh.remove(),this.Mh=null),this.sj=!1,b&&b();else{this.Mh||(this.Mh=new II(window,this.Jc,this.kK));var d=!!this.aP;JI(this.Mh.apply(this.filter),d).update(!!a,function(){c.sj=!1;b&&b()})}else b&&b()};function UC(a,b){a.sj=!0;a.aP=!0;a.rp();a.update(!0,function(){a.aP=!1;a.qp();b&&b()})}
f.BH=function(a,b,c){"intensity"===a?(this.jA=b,yI(this.filter,b/50),this.sj=!0):this.sj=this.filter.BH(a,b);this.update(!1,c)};f.getByName=function(a){return"intensity"==a?this.jA:this.filter.getByName(a)};function cE(a,b){a.filter=b;a.jA=Math.round(50*CI(b))}function KI(a,b){a.filter=new dE;a.jA=50;b&&a.filter.Ch(b);UC(a,void 0)}function LI(a){a.filter=new dE;a.jA=50;a.sj=!0;UC(a,void 0)}function WC(a){return a.filter.serialize()}f.qa=function(){return this.filter.qa()};f.rp=function(){};
f.qp=function(){if(this.Mh){var a=JI(this.Mh,!0);if(!a.eR)if(a.JC)MI(a);else if(a.canvas){var b=a.xI.clone(!0).off().removeAttr("crossorigin"),c=NI(a);c?(b.get(0).src=c,OI(a)):(c=a.canvas.toDataURL(),a.cache.add(PI(a),c),b.get(0).src=c);a.Na.find("img,canvas").remove();a.Na.append(b);a.xI=b;$("#limbo").append(a.canvas);a.Ix=!1}}};f.Gc=function(){return this.Jc.Gc()};
f.QK=function(a,b,c){var d=new dE;a&&d.Ch(a);this.Jc.serialize().mediaId+this.Jc.serialize().mediaVersion!==this.V1&&(this.CE={});if(this.CE[d.name])c(this.CE[d.name]);else if(a=this.Gc()){var e=this,g=b?QC:this.kK,h=a[g];b=h.ma();a=$("\x3cimg\x3e");var k=$("\x3cdiv\x3e");k.append(a);k.appendTo("#limbo");a.one("load",function(){var a=h.l(),b=h.o();k.css("width",a).css("height",b);var a=new QB(e.Jc.serialize(),k),n=new II(window,a,g);n.apply(d).QK().update(!0,function(){var a={src:QI(n),c$:RI(n)};
e.CE[d.name]=a;c(a);n.remove();k&&k.remove()})});DC(EC,a,b)}};f.remove=function(){this.Mh&&this.Mh.remove();this.Mh=null};f.trigger=Backbone.Events.trigger;f.listenTo=Backbone.Events.listenTo;f.stopListening=Backbone.Events.stopListening;_.extend(GI.prototype,Backbone.Events);var zI=[{name:"The Blues",blur:-14,brightness:63,contrast:-37,tint:0,saturation:-26,vignette:0,xpro:-23,tintAmount:50},{name:"Edge",blur:-53,brightness:10,contrast:-24,tint:49,saturation:26,vignette:0,xpro:29,tintAmount:50},{name:"Selfie",blur:void 0,brightness:10,contrast:-12,tint:-50,saturation:-12,vignette:56,xpro:50,tintAmount:50},{name:"Festive",blur:-7,brightness:10,contrast:21,tint:void 0,saturation:24,vignette:void 0,xpro:40,tintAmount:50},{name:"Rosie",blur:-14,brightness:0,contrast:55,tint:-73,
saturation:-28,vignette:0,xpro:27,tintAmount:50},{name:"Drama",blur:0,brightness:-10,contrast:21,tint:60,saturation:-34,vignette:50,xpro:80,tintAmount:50},{name:"Epic",blur:1,brightness:6,contrast:20,tint:void 0,saturation:-14,vignette:39,xpro:50,tintAmount:50},{name:"Grayscale",blur:void 0,brightness:15,contrast:-20,tint:void 0,saturation:-100,vignette:void 0,xpro:void 0,tintAmount:50},{name:"Nordic",blur:0,brightness:15,contrast:-16,tint:0,saturation:-50,vignette:0,xpro:0,tintAmount:50},{name:"Summer",
blur:0,brightness:10,contrast:14,tint:-46,saturation:18,vignette:25,xpro:30,tintAmount:50},{name:"Street",blur:-7,brightness:-7,contrast:21,tint:0,saturation:-95,vignette:50,xpro:0,tintAmount:50},{name:"Retro",blur:0,brightness:0,contrast:-14,tint:14,saturation:-18,vignette:40,xpro:69,tintAmount:50},{name:"Whimsical",blur:-19,brightness:43,contrast:-15,tint:-79,saturation:-53,vignette:21,xpro:60,tintAmount:50},{name:"Cali",blur:0,brightness:22,contrast:-46,tint:0,saturation:38,vignette:0,xpro:27,
tintAmount:50}];function II(a,b,c){this.Jc=b;this.Zh=c;this.Na=this.Jc.C();this.eR=this.Jc.SF;this.JC=SI;this.PM=this.DE=this.sj=this.locked=this.Ix=!1;!this.JC&&"WebGLRenderingContext"in a&&(a=fx.canvas(),b=fx.canvas(),a&&b&&(TI=a,UI=b,this.JC=SI=!0))}var TI,UI;II.prototype.D2=function(){var a=0;return function(){a+=1;return a.toString()}}();var SI=!1;II.prototype.QK=function(){this.DE=!0;return this};II.prototype.apply=function(a){this.values=new dE;this.values.Ch(AI(a).serialize());return this};
function JI(a,b){a.Ix=b;return a}II.prototype.update=function(a,b){this.PM||!a&&this.locked||(this.eR?this.W9(b):this.JC?VI(this,b):WI(this,a,b))};function MI(a){function b(){this.Ix=!1;c.Na.find("img,canvas").remove();c.Na.append(d);c.xI=d;$("#limbo").append(c.canvas)}if(a.canvas){var c=a,d=a.xI.clone(!0).off().removeAttr("crossorigin"),e=NI(a);e?(d.get(0).src=e,b(),OI(a)):VI(a,function(){c.canvas.update();c.canvas._.texture.toImage(d.get(0));var a=d.get(0).src;c.cache.add(PI(c),a);b()})}}
function XI(a,b){a=a.Jc.Tm().scale(W).round();$(b).css(CC(a,0))}
(function(){function a(a,c,d,e){TC(EC,a.Gc()[d].ma()).then(function(g){var h=$("\x3cdiv\x3e").append(g);g=new QB(a.serialize(),h);h.appendTo("#limbo");var k=new II(window,g,d);k.values=b(c);k.update(!0,function(){var a=QI(k);h.remove();e(a)})})}function b(a){a=vI(a.qa());a.saturation/=.8;0!==a.gf&&(a.brightness=0<a.brightness?a.brightness/1.5:a.brightness-15);0<a.blur&&(a.blur/=2);return a}function c(a){var b=$(a).children("defs.canva.filter");0===b.length?(b=document.createElementNS("http://www.w3.org/2000/svg",
"defs"),b.classList.add("canva"),b.classList.add("filter"),a.appendChild(b)):b=b.get(0);return b}function d(a,b,c){var d={brightness:l,contrast:m,saturation:n,gf:k,blur:p,vignette:h,Nf:e},g=document.createElementNS("http://www.w3.org/2000/svg","filter");c=c.Tm().scale(2);g.setAttribute("id",b);"print"===SB&&g.setAttribute("filterRes",c.l()+" "+c.o());b=document.createElementNS("http://www.w3.org/2000/svg","feComponentTransfer");g.appendChild(b);Object.keys(a).filter(function(b){return d.hasOwnProperty(b)&&
void 0!==a[b]}).forEach(function(b){0!==a[b]&&d[b].call(this,a[b],a).forEach(function(a){g.appendChild(a)})});return g}function e(a){if(0===a)return[];a=g(FI(a));a.forEach(function(a){a.classList.add("crossProcess")});return a}function g(a){var b=document.createElementNS("http://www.w3.org/2000/svg","feComponentTransfer");b.setAttribute("color-interpolation-filters","sRGB");var c={r:a.red,g:a.green,b:a.blue};["r","g","b"].forEach(function(a){var d=document.createElementNS("http://www.w3.org/2000/svg",
"feFunc"+a.toUpperCase());if(a=c[a])a=YI({x:a[0][0],y:a[0][1]},{x:a[1][0],y:a[1][1]},{x:a[2][0],y:a[2][1]},{x:a[3][0],y:a[3][1]}).map(function(a){return a.y}),d.setAttribute("type","table"),d.setAttribute("tableValues",a.join(" ")),b.appendChild(d)});b.classList.add("curves");return[b]}function h(a){if(0===a)return[];var b=document.createElementNS("http://www.w3.org/2000/svg","radialGradient"),c=document.createElementNS("http://www.w3.org/2000/svg","stop"),d=document.createElementNS("http://www.w3.org/2000/svg",
"stop");b.classList.add("vignette");b.appendChild(c);b.appendChild(d);b.setAttribute("cx","50%");b.setAttribute("cy","50%");b.setAttribute("r","50%");b.setAttribute("fx","50%");b.setAttribute("fy","50%");var e=Math.min(1,M.Xx);c.setAttribute("offset",(1<M.Xx?M.VI/M.Xx:M.VI).toString());c.setAttribute("stop-color","#000000");c.setAttribute("stop-opacity","0");d.setAttribute("offset",e.toString());d.setAttribute("stop-color","#000000");d.setAttribute("stop-opacity",a/100);return[b]}function k(a,b){if(0===
a)return[];a=EI(a+100,b.getByName("tintAmount"));var c={r:a.color.r/255,g:a.color.cl/255,b:a.color.b/255},d=a.No/100*2,e=document.createElementNS("http://www.w3.org/2000/svg","feComponentTransfer");e.setAttribute("color-interpolation-filters","sRGB");["r","g","b"].forEach(function(a){var b=document.createElementNS("http://www.w3.org/2000/svg","feFunc"+a.toUpperCase());a=c[a]*d;b.setAttribute("type","linear");b.setAttribute("slope",1-d);b.setAttribute("intercept",a);e.appendChild(b)});e.classList.add("tint");
return[e]}function l(a){if(0===a)return[];var b=a/100,c=document.createElementNS("http://www.w3.org/2000/svg","feComponentTransfer");c.setAttribute("color-interpolation-filters","sRGB");["r","g","b"].forEach(function(a){a=document.createElementNS("http://www.w3.org/2000/svg","feFunc"+a.toUpperCase());a.setAttribute("type","linear");a.setAttribute("slope",1);a.setAttribute("intercept",b);c.appendChild(a)});c.classList.add("brightness");return[c]}function m(a){if(0===a)return[];var b=(a*(1<a?1/.6:1)+
100)/100,c=document.createElementNS("http://www.w3.org/2000/svg","feComponentTransfer");c.setAttribute("color-interpolation-filters","sRGB");["r","g","b"].forEach(function(a){a=document.createElementNS("http://www.w3.org/2000/svg","feFunc"+a.toUpperCase());var d=-(.5*b)+.5;a.setAttribute("type","linear");a.setAttribute("slope",b);a.setAttribute("intercept",d);c.appendChild(a)});c.classList.add("contrast");return[c]}function n(a){if(0===a)return[];a=(a+100)/100;a*=1>=a?1:a;a=[.3086+.6914*a,.6094-.6094*
a,.082-.082*a,0,0,.3086-.3086*a,.6094+(1-.6094)*a,.082-.082*a,0,0,.3086-.3086*a,.6094-.6094*a,.082+.918*a,0,0,0,0,0,1,0];var b=document.createElementNS("http://www.w3.org/2000/svg","feColorMatrix");b.setAttribute("color-interpolation-filters","sRGB");b.setAttribute("type","matrix");b.setAttribute("values",a.join(" "));b.classList.add("saturation");return[b]}function p(a){if(0===a)return[];if(0>a){a*=-1;if(0===a)a=[];else{a=a/100*4;a=[0,-a,0,-a,4*a+1,-a,0,-a,0];var b=document.createElementNS("http://www.w3.org/2000/svg",
"feConvolveMatrix");b.setAttribute("order","3");b.setAttribute("kernelMatrix",a.join(" "));b.classList.add("sharpen");a=[b]}return a}b=document.createElementNS("http://www.w3.org/2000/svg","feGaussianBlur");b.setAttribute("stdDeviation",.125*a);b.classList.add("blur");return[b]}var q=0;II.prototype.W9=function(b){var e="_CANVA_FILTER_"+q++;ZI(this);if(!this.values||BI(this.values,tI))b&&b();else{this.pz=c(this.Na.get(0));var g=d(this.values,e,this.Jc);this.pz.appendChild(g);var g=this.pz.querySelector(".vignette"),
h=this.Na.get(0).querySelector(".vignette"),k=e+"_VIGNETTE";g?(this.pz.appendChild(g),g.setAttribute("id",k),h.setAttribute("fill","url(#"+k+")")):h.setAttribute("fill","none");var l=this.Na.find("image.placeholder").get(0);Ez?a(this.Jc,this.values,this.Zh,function(a){a&&DC(EC,$(l),a);b&&b()}):(l.setAttribute("filter","url(#"+e+")"),b&&b())}}})();function PI(a){var b,c=a.Jc.serialize();a.th&&a.values&&a.Jc&&(b=a.values.qa()+c.mediaId+c.mediaVersion+a.th.width+a.th.height);return b}
function $I(a){var b=PI(a);return a.Ix&&!!b&&!!a.cache.fetch(b)}function NI(a){return $I(a)?a.cache.fetch(PI(a)):void 0}
function VI(a,b){function c(){d.th.width=e;d.th.height=g;d.canvas||(d.canvas=d.DE?UI:TI,d.Na.append(d.canvas),XI(d,d.canvas),d.NG=d.canvas.texture(d.th),d.canvas.draw(d.NG,e,g),$("#limbo").append(d.th));if(d.canvas.width!==e||d.canvas.height!==g)d.canvas.width=e,d.canvas.height=g;XI(d,d.canvas);d.canvas.draw(d.NG,e,g);if(d.values){d.canvas.brightnessContrast((d.values.brightness||0)/100,(d.values.contrast||0)/100).saturation(d.values.saturation||0);if(d.values.gf){var a=EI(d.values.gf+100,d.values.rh);
d.canvas.colorize(a.color.r,a.color.cl,a.color.b,a.No/100)}d.values.blur&&(0<d.values.blur?d.canvas.triangleBlur(d.values.blur):d.canvas.unsharpMask(3,-1*d.values.blur/20));d.values.Nf&&(a=FI(d.values.Nf),d.canvas.curves(a.red,a.green,a.blue));OI(d);d.values.name===uI.name&&d.canvas.colorHalftone(e/2,g/2,.45,e/100)}d.canvas.update();b&&b();d.DE=!1;d.locked=!1;d.sj=!1}var d=a,e,g;if($I(a))b&&b();else if(a=a.Jc.Gc())a=a[d.Zh],e=a.l(),g=a.o(),d.pV=a.ma(),d.Ix=!1,d.locked=!0,aJ(d,c)}
function WI(a,b,c){function d(){h.th.width=k;h.th.height=l;if(h.Dh){if(h.canvas.width!==k||h.canvas.height!==l)h.canvas.width=k,h.canvas.height=l;e()}else h.canvas=document.createElement("canvas"),h.canvas.setAttribute("data-caman-hidpi-disabled",!0),h.SS="camanCanvas"+h.D2(),h.canvas.id=h.SS,h.canvas.width=k,h.canvas.height=l,XI(h,h.canvas),h.Na.append(h.canvas),h.m0=h.canvas.getContext("2d"),h.m0.drawImage(h.th,0,0,k,l),h.Dh=Caman("#"+h.SS,e),$("#limbo").append(h.th)}function e(){XI(h,h.canvas);
h.Dh.revert(!1);if(h.values){h.values.brightness&&0!=h.values.brightness&&h.Dh.brightness(h.values.brightness);h.values.contrast&&0!=h.values.contrast&&h.Dh.contrast(h.values.contrast);h.values.saturation&&0!=h.values.saturation&&(-100==h.values.saturation?h.Dh.greyscale():h.Dh.saturation(h.values.saturation));var a=EI(h.values.gf+100,h.values.rh);h.values.gf&&h.Dh.colorize(a.color.r,a.color.cl,a.color.b,2.5*a.No);h.values.blur&&0!=h.values.blur&&(0<h.values.blur?h.Dh.stackBlur(h.values.blur):h.Dh.sharpen(-1*
h.values.blur||0));if(h.values.Nf){var b=FI(h.values.Nf),a=b.red.map(g),d=b.green.map(g),b=b.blue.map(g);h.Dh.curves("r",a[0],a[1],a[2],a[3]);h.Dh.curves("g",d[0],d[1],d[2],d[3]);h.Dh.curves("b",b[0],b[1],b[2],b[3])}OI(h)}h.Dh.render(function(){c&&c();h.DE=!1;window.setTimeout(function(){h.locked=!1},1E3);h.sj=!1})}function g(a){return[Math.min(255,Math.round(255*a[0])),Math.min(255,Math.round(255*a[1]))]}if(b){var h=a,k,l;if($I(a))c&&c();else if(a=a.Jc.Gc())a=a[h.Zh],k=a.l(),l=a.o(),h.pV=a.ma(),
h.Ix=!1,h.locked=!0,aJ(h,d)}else c&&c()}function OI(a){var b=a.Na.find(".vignette");0===b.length&&(b=$('\x3cdiv class\x3d"vignette"\x3e\x3c/div\x3e'),a.Na.prepend(b));a.values.vignette?(a=RI(a),b.removeClass("off").addClass("on").css("background-image","radial-gradient("+a+")")):b.removeClass("on").addClass("off").css("background-image","none")}
function aJ(a,b){function c(a){if(d.Es&&0<d.Es.length&&d.Es.get(0).src){d.th=new Image;var c=$(d.th);c.css("visibility","hidden");DC(EC,c,a).then(function(){window.setTimeout(function(){d.PM||(d.Es.appendTo("#limbo"),c.css("visibility","visible"),b())},300)});XI(d,d.th);d.Na.append(c)}else window.setTimeout(function(){aJ(d,b)},500)}var d=a;d.canvas?(1==$(d.canvas).parents("#limbo").length&&($(d.canvas).appendTo(d.Na),d.Na.find("img").remove()),b()):(d.Es=d.Na.find("img"),d.xI=d.Es,c(d.pV))}
function RI(a){return"circle farthest-side at center center, rgba(0,0,0,0) "+100*M.VI+"%, "+("rgba(0,0,0,"+a.values.vignette/100+")")+" "+100*M.Xx+"%"}function QI(a){var b=$("\x3cimg /\x3e");a.JC?(a.canvas.update(),a.canvas._.texture.toImage(b.get(0))):b.get(0).src=a.canvas.toDataURL();return b.get(0).src}
II.prototype.remove=function(){this.PM=!0;this.eR?ZI(this):($(this.th).remove(),this.Es&&this.Es.remove(),this.Na.find(".vignette").remove(),this.NG&&this.NG.destroy(),this.canvas&&($(this.canvas).remove(),this.canvas.width=0,this.canvas=null))};function ZI(a){a.Na.find("image.placeholder").removeAttr("filter");a.Na.get(0).querySelector(".vignette").setAttribute("fill","none");$(a.pz).remove();a.pz=null}function bJ(){this.cache={}}
bJ.prototype.add=function(a,b){var c=this.cache[a];return c?c:this.cache[a]=b};bJ.prototype.fetch=function(a){return this.cache[a]};II.prototype.cache=new bJ;var cJ=FONT_DATA;M.NR&&cJ.forEach(function(a){a.fonts.forEach(function(a){a.displayNameThumbnail=a.displayNameThumbnail2x;a.sampleTextThumbnail=a.sampleTextThumbnail2x})});function dJ(a,b,c){var d=$("\x3cdiv\x3e");d.css("font-family",a+", zerowidthfallbackfont").css("font-size","20px").css("font-weight",b||"400").css("font-style",c||"normal").css("font-synthesis","none").css("position","absolute").css("white-space","pre").html("A1ラ  ");$("#limbo").append(d);a=d.get(0).offsetWidth;d.remove();return 0===a};function eJ(a,b){this.fonts=a;this.Zb=b.Zb;this.uI=b.uI;this.AL=b.AL;this.BL={};this.sz=[];this.EL=[];this.Pu=[];this.CL=[];this.fF=[];this.WH=Date.now();this.TO=[];this.KC=[];this.locale=b.locale;this.BX=null;this.yU=!!b.yU;this.G=b.G}eJ.prototype.off=Backbone.Events.off;eJ.prototype.on=Backbone.Events.on;eJ.prototype.once=Backbone.Events.once;eJ.prototype.trigger=Backbone.Events.trigger;
var fJ="hairline thin light regular medium bold black heavy".split(" "),gJ=new Set(fJ),hJ=new Map(fJ.map(function(a,b){return[a,b]})),iJ=new Set(["en"]);function jJ(a){return a.KC.filter(function(a){return 0>this.TO.indexOf(a)},a)}
function kJ(){var a=Jb;a.BX||(a.BX=new P(function(a,c){var d=QE((new PE).Ft(!0).Dt(!1).Gt("*").Co(),["FONT"]).lg(25);pE(this.Zb,d,function(d,g){200===d&&g?(d=g.media,d=lJ(this,d),d.forEach(function(a){0<=mJ(this).indexOf(a)&&(this.KC.unshift(a),this.KC=this.KC.slice(0,25))},this),nJ(this,d.map(function(a){return a.internalName})),a()):c()}.bind(this))}.bind(a)))}
function qA(a,b){if(b=b&&b.replace?b.replace(/#/gi,"_"):null)for(var c=0;c<a.fonts.length;c++)for(var d=a.fonts[c],e=0;e<d.fonts.length;e++){var g=d.fonts[e];if(g.name==b||g.family==b)return g.generic=d.generic,g}return null}function hA(a){a=qA(Jb,a);return!(!a||!0!==a.charWrappingForbidden)}
function oJ(a,b){if(b)for(var c=0;c<a.fonts.length;c++)for(var d=a.fonts[c],e=0;e<d.fonts.length;e++){var g=d.fonts[e];if(g.media&&g.media.id===b.id&&g.media.version===b.version)return g.generic=d.generic,g}return null}function uA(a){if((a=qA(Jb,a))&&a.media)return new en({id:a.media.id,version:a.media.version})}function vA(a,b,c,d){var e=[],g=[];b&&e.push(b);c&&g.push(c);lD(a,e,g,d)}function pJ(a,b){nJ(Jb,[a],b)}
function pH(a,b){return(b=qA(a,b))?void 0===b.url&&!1===b.generateStyles||0<=a.Pu.indexOf(b.family):!1}function qJ(a,b,c){a.EL=a.EL.concat(b);a.fF.push({Te:b,callback:c||$.noop})}function rJ(a){function b(a){var b=!0;0!==a.Te.filter(function(a){var d=pH(c,a);a=0<=c.CL.indexOf(a);if(!d&&!a)return!0;a&&(b=!1);return!1}).length||a.FT||(a.FT=!0,a.callback(b),c.trigger("update"))}var c=a;a.G.setTimeout(function(){c.fF.forEach(b);c.fF=c.fF.filter(function(a){return!a.FT})},0)}
function sJ(a,b){a.Pu=a.Pu.filter(function(c){return(c=qA(a,c))&&0>b.indexOf(c.family)});b.forEach(function(b){var d=qA(a,b);d&&-1===a.CL.indexOf(d.family)&&a.CL.push(d.family);a.trigger("fontLoadFailed",b)});rJ(a)}
function tJ(a,b,c){c=c||0;var d=b.filter(function(b){var c=qA(a,b);if(c){b=c.family;var d=c.variants.bold,e=c.variants.italic,g=c.variants.boldItalic;Fa(!!(0<$("#limbo").length),"Font measurement requires #limbo");Fa(!!(0<$("#zeroWidthFallbackFont").length),"Font measurement requires #zeroWidthFallbackFont");dJ("zerowidthfallbackfont")?(c=!dJ(b),d=!d||!dJ(b,"700"),e=!e||!dJ(b,"400","italic"),b=!g||!dJ(b,"italic","700"),b=c&&d&&e&&b):b=!1}else b=!1;return b}),e=b.filter(function(a){return-1===d.indexOf(a)});
if(0<e.length)if(6>=c){var g=c+1;a.G.setTimeout(function(){tJ(a,e,g)},200*Math.pow(2,c))}else uJ(a,e);$.browser.safari?a.G.setTimeout(function(){uJ(a,d)},2E3):uJ(a,d)}function uJ(a,b){b.forEach(function(b){b=qA(a,b);-1===a.Pu.indexOf(b.family)&&a.Pu.push(b.family)});rJ(a)}
eJ.prototype.generateStyles=function(a){function b(a,b,c,k){k=k.woff?"src: url('"+k.woff+"') format('woff'); ":k.ttf?"src: url('"+k.ttf+"') format('truetype'); ":k.otf?"src: url('"+k.otf+"') format('opentype'); ":void 0;k&&d.insertRule("@font-face {"+("font-family: '"+a+"'; ")+("font-style: "+b+"; ")+("font-weight: "+c+"; ")+k+"}",0)}var c=this,d=function(){var a=$("#fontStylesheet"+c.WH);0===a.length&&(a=$('\x3cstyle id\x3d"fontStylesheet'+c.WH+'"\x3e\x3c/style\x3e'),$("head").append(a));return a.get(0).sheet}();
a.generateStyles&&(b(a.family,"normal","400",a.styles.regular),a.variants.bold?b(a.family,"normal","700",a.styles.bold):b(a.family,"normal","700",a.styles.regular),a.variants.italic?b(a.family,"italic","400",a.styles.italic):b(a.family,"italic","400",a.styles.regular),a.variants.boldItalic?b(a.family,"italic","700",a.styles.boldItalic):a.variants.bold?b(a.family,"italic","700",a.styles.bold):a.variants.italic?b(a.family,"italic","700",a.styles.italic):b(a.family,"italic","700",a.styles.regular))};
function lD(a,b,c,d){b&&0<b.length?c&&0<c.length?vJ(a,b,function(b){b?nJ(a,c,d):a.G.setTimeout(function(){d&&d(!1)},0)}):vJ(a,b,d):c&&0<c.length?nJ(a,c,d):a.G.setTimeout(function(){d&&d(!0)},0)}function wJ(a,b,c){var d=[],e=[];b.forEach(function(a){var b=a.font;a=b.family;(b=b.Jb())?d.push(b):a&&e.push(a)});lD(a,d,e,c)}
function QD(a,b,c){function d(a){if(a){var b=m.AL.Gc(a.id,a.version);if(b)l.push(h(xJ(m,a,b)));else throw Error("Media "+a.id+","+a.version+" missing from media map.");}}function e(a){var b=[],d=new Set;a.forEach(function(a){a.media.forEach(function(a){var c=a.u()+","+a.Ha().getVersion();n.has(c)&&!d.has(c)&&(b.push(a),d.add(c))})});a=lJ(m,b).map(h);l=l.concat(a);c(!0,l)}function g(){c(!1,l)}function h(a){return a.family||a.name}function k(a){return null==m.BL[a.u()+","+a.getVersion()]}var l=[],m=
a,n=new Set,p=b.filter(function(a){return!oJ(m,a)}).filter(function(a){return!!a});p.forEach(function(a){n.add(a.id+","+a.version)});if(a.Zb){var q=p.filter(k);if(0!==q.length){b=VE(new UE,q).Co().$Z().UZ();var u=vE(a.Zb,b);q.forEach(function(a){m.BL[a.u()+","+a.getVersion()]=u})}a=p.map(function(a){return m.BL[a.u()+","+a.getVersion()]});P.all(a).then(e).catch(g)}else a.AL&&b.forEach(d),a.G.setTimeout(function(){c(!0,l)},0)}
function vJ(a,b,c){QD(a,b,function(b,e){b?nJ(a,e,c):c&&a.G.setTimeout(function(){c(!1)},0)})}function yJ(a,b){function c(a){return a&&(a=(a.Iba|a.Raa+a.Bba)/40,1<a)?Math.round(a*d-d):0}a=a.yU?15E3:6E4;var d=a/30;return b.reduce(function(a,b){b.styles&&(a+=c(b.styles.regular),a+=c(b.styles.bold),a+=c(b.styles.italic),a+=c(b.styles.boldItalic));return Math.ceil(a)},a)}
function nJ(a,b,c){function d(a,b,c){h.uI.load({custom:{families:a,urls:b},active:function(){tJ(h,c)},inactive:function(){sJ(h,c)},timeout:u})}function e(a,b){var c=/^([^:]+)(:.+)?/,d=[];a.forEach(function(a,e){if(void 0!==a&&null!==a){var g=["n4"],h=a.match(c),k=h[1].replace(/[^a-z0-9]/gi,"").toLowerCase();-1<a.indexOf(":")&&(g=h[2].substring(1).split(","));var l=document.querySelector("html"),m=!1;g.forEach(function(a){a="wf-"+k+"-"+a+"-inactive";m=m||l.classList.contains(a)});m&&d.push({family:a,
url:b[e]})}});return d}function g(a){return qA(h,a)}var h=a,k=[],l=[],m={},n=_.uniq(b).filter(function(a){return null!==g(a)}),p=n.filter(function(a){var b=0<=h.Pu.indexOf(a);a=qA(h,a);a=void 0===a.url&&!1===a.generateStyles;return!(b||a)}),q=p.filter(function(a){return 0>h.EL.indexOf(a)}),q=_.uniq(q.map(g)),u=yJ(a,q);0===p.length&&c?h.G.setTimeout(function(){c(!0)},0):(qJ(h,n,c),rJ(h),q.forEach(function(a){var b;b=["n4"];a.variants&&(a.variants.italic&&b.push("i4"),a.variants.bold&&b.push("n7"),
a.variants.boldItalic&&b.push("i7"));b.sort();if(b=(b=a.variants&&(a.variants.italic||a.variants.bold||a.variants.boldItalic)?a.family+":"+b.join(","):a.family)&&b.replace?b.replace(/#/gi,"_"):null){k.push(b);a.testString&&(m[b]=a.testString);!0===a.generateStyles?h.generateStyles(a):a.url&&l.push(a.url);b=h;var c=$("#fontOverrideStylesheet"+b.WH);0===c.length&&(c=$('\x3cstyle id\x3d"fontOverrideStylesheet'+b.WH+'"\x3e\x3c/style\x3e'),$("head").append(c));b=c.get(0).sheet;a.variants&&(!1===a.variants.italic&&
b.insertRule('font[face\x3d"'+a.family+'"] * {font-style: normal !important; }',0),!1===a.variants.bold&&b.insertRule('font[face\x3d"'+a.family+'"] * {font-weight: normal !important; }',0),!1===a.variants.boldItalic&&(b.insertRule('font[face\x3d"'+a.family+'"] b i {font-weight: normal !important; font-style: normal !important; }',0),b.insertRule('font[face\x3d"'+a.family+'"] i b {font-weight: normal !important; font-style: normal !important; }',0)));h.trigger("fontLoadStart",a.family)}}),0<q.length&&
a.uI.load({custom:{families:k,urls:l,testStrings:m},active:function(){var a=e(k,l),c;0<a.length?(c=_.pluck(a,"family"),a=_.pluck(a,"url"),d(c,a,b)):tJ(h,b)},inactive:function(){d(k,l,b)},timeout:u}))}function mJ(a){return HB(a).filter(function(a){return!a.disabled}).sort(a.JJ)}
eJ.prototype.JJ=function(a,b){a=w(a.family||a.displayName);var c=w(b.family||b.displayName);if(!a.includes(" ")||!c.includes(" "))return a.localeCompare(c);b=a.toLocaleLowerCase().replace(/demi|extra|ultra/gi,"");a=c.toLocaleLowerCase().replace(/demi|extra|ultra/gi,"");var c=b.split(/\s+/gi),d=a.split(/\s+/gi),e=c.pop(),g=d.pop();return c.join("")===d.join("")&&gJ.has(e)&&gJ.has(g)?Math.sign(hJ.get(e)-hJ.get(g)):b.localeCompare(a)};
function HB(a){var b=[];a.fonts.forEach(function(a){a.fonts.forEach(function(a){b.push(a)})});return b.sort(a.JJ)}function aA(a){var b=HB(Jb).filter(function(b){return(b.name||b.family).toLowerCase()==a.toLowerCase()});return 0<b.length?b[0].name||b[0].family:null}
function lJ(a,b){return b.map(function(a){var b,e=new en({id:a.u(),version:a.Ha().getVersion()});if(zJ(this,e))return oJ(this,e);b=a.Ha();var g=a.u();a=b.pb()||a.importFilename.replace(/\..*$/,"")||g;var h=b.nc()[Tg].ma(),k,l,m;/\.ttf/gi.test(h)?k=h:/\.otf/gi.test(h)?l=h:/\.woff/gi.test(h)&&(m=h);h=b.nc()[QC];b=AJ({displayName:a,fontFamily:g+"_"+b.getVersion(),displayNameThumbnail:{url:h.ma(),width:h.l(),height:h.o()},ha:g,ia:b.getVersion(),yZ:k,$W:l,a_:m});this.sz.push(e);BJ(this,b);return b},a)}
function xJ(a,b,c){if(zJ(a,b)&&oJ(a,b))b=w(oJ(a,b)),BJ(a,b);else{a.sz.push(b);var d=c[Tg].ma(),e,g,h;/\.ttf/gi.test(d)?e=d:/\.otf/gi.test(d)?g=d:/\.woff/gi.test(d)&&(h=d);c=c[QC];b=AJ({displayName:b.id,fontFamily:b.id+"_"+b.version,displayNameThumbnail:{url:c.ma(),width:c.l(),height:c.o()},ha:b.id,ia:b.version,yZ:e,$W:g,a_:h})}BJ(a,b);return b}
function BJ(a,b){var c;(function(){c=a.fonts.filter(function(a){return"Media"===a.category})[0];return!!c})()?c.fonts.push(b):a.fonts.push({category:"Media",generic:"sans-serif",fonts:[b]})}function zJ(a,b){for(var c=0;c!==a.sz.length;c++)if(a.sz[c].id===b.id&&a.sz[c].version===b.version)return!0;return!1}
function AJ(a){return{family:a.fontFamily,internalName:a.fontFamily,displayName:a.displayName,disabled:!1,generateStyles:!0,displayNameThumbnail:a.displayNameThumbnail,displayNameThumbnail2x:a.displayNameThumbnail,media:{id:a.ha,version:a.ia},styles:{regular:{otf:a.$W,ttf:a.yZ,woff:a.a_,psName:a.fontFamily}},url:"#",variants:{italic:!1,bold:!1,boldItalic:!1}}};function CJ(a){this.id=a.id;this.version=a.version}CJ.prototype.u=function(){return this.id};CJ.prototype.getVersion=function(){return this.version};function DJ(a){this.document=a.document;this.locale=a.locale}DJ.prototype.getDocument=function(){return this.document};DJ.prototype.Vf=function(){return this.locale};function EJ(){}function FJ(){return new EJ};function GJ(){this.N=Hb}function HJ(a,b,c,d,e,g){a.N.post("/import/layout/"+encodeURIComponent(b)+"/"+encodeURIComponent(c.toString())+(g?"?designType\x3d"+encodeURIComponent(g):""),d,function(a){e&&e(a)})}function IJ(a,b){wj(a.N,"/import/elementgroup/"+encodeURIComponent(b.document.id)+"/"+encodeURIComponent(String(b.document.version)),b).catch(xj).get(0).then(La).then(FJ)}function JJ(a,b,c,d){return wj(a.N,"/media/"+encodeURIComponent(b)+"/"+encodeURIComponent(c.toString())+"?upload",{url:d})}
function KJ(a,b,c,d){return yj(a.N,"/media/"+encodeURIComponent(b)+"/"+encodeURIComponent(c.toString())+"?form\x26mimeType\x3d"+encodeURIComponent(d)).spread(LJ)}function MJ(a,b,c,d){return wj(a.N,"/media/"+encodeURIComponent(b)+"/"+encodeURIComponent(c.toString())+"?import",d).spread(function(a){return Kj(a.media)})}function NJ(){this.prices={}}function OJ(a,b,c){a.prices[b]=c;return a}var PJ=OJ(new NJ,"ONE_USE",0),QJ=OJ(OJ(OJ(new NJ,"ONE_USE",1),"ROYALTY_FREE",10),"EXTENDED",100);
function RJ(){this.licensing=this.licenseModel=null;this.autoPublicify=!1;this.publicifyMediaRequests=[]}RJ.prototype.wR=function(a){this.licenseModel=a;return this};RJ.prototype.xR=function(a){this.licensing=a;return this};function SJ(a,b){a.publicifyMediaRequests.push(b)}function TJ(){var a=(new RJ).wR(PJ).xR("FREE");a.autoPublicify=!0;return a}RJ.prototype.wI=function(a){this.locale=a;return this};
function UJ(){this.licensing=this.licenseModel=this.keywords=this.description=this.title=this.version=this.media=void 0}function VJ(a){var b=new UJ;b.media=a;return b}f=UJ.prototype;f.xk=function(a){this.version=a;return this};function WJ(a,b){a.title=b;return a}f.TZ=function(a){this.description=a;return this};f.vI=function(a){this.keywords=a;return this};f.wR=function(a){this.licenseModel=a;return this};f.xR=function(a){this.licensing=a;return this};function XJ(){}
XJ.prototype.XZ=function(a){this.importVersion=a;return this};function YJ(a){this.reset();this.i=a}YJ.prototype.reset=function(){this.previous=null;this.ir=[];this.Ok={top:0,left:0}};YJ.prototype.wB=function(){var a=this;ZJ();a.ir.forEach(function(b){b={elementIndex:b.K(),pageIndex:jp(I,b.R()),"new":{left:b.F(),top:b.w()},old:{left:b.F()-a.Ok.left,top:b.w()-a.Ok.top}};L.register(new Y(kp,b))});$J()};
YJ.prototype.$F=function(){var a=this;return function(b){a.ir=I.Ta();var c=$(b.target);if("true"==c.attr("contenteditable")||c.is("input:focus")||c.is("textarea:focus"))return a.reset(),!0;if(0<$(".toolbar__item--submenuExpanded .menuList").length||"block"===$("#overlays #marquee").css("display")||b.metaKey||b.ctrlKey)return!0;if(0<a.ir.length){var d=1;b.shiftKey&&(d=10);switch(b.which){case 37:return a.previous=37,a.Ok.left-=1/W*1*d,a.ir.forEach(function(a){dC(a,1/W*1*d)}),aK(xc(a.i),zc(a.i)),!1;
case 38:return a.previous=38,a.Ok.top-=1/W*1*d,a.ir.forEach(function(a){eC(a,1/W*1*d)}),aK(xc(a.i),zc(a.i)),!1;case 39:return a.previous=39,a.Ok.left+=1/W*1*d,a.ir.forEach(function(a){fC(a,1/W*1*d)}),aK(xc(a.i),zc(a.i)),!1;case 40:return a.previous=40,a.Ok.top+=1/W*1*d,a.ir.forEach(function(a){gC(a,1/W*1*d)}),aK(xc(a.i),zc(a.i)),!1}}null!==a.previous&&a.wB();a.reset();return!0}};YJ.prototype.save=function(){var a=this;return function(b){a.previous===b.which&&(a.wB(),a.reset())}};function yz(a){$(document).keydown(bK);a=new YJ(a);$(document).keydown(a.$F());$(document).keyup(a.save())}
function bK(a){var b;if($("body").hasClass("fullscreenMode"))return!1;if(27===a.which){a=$("#canvaDocument .element.selected,#canvaDocument .element.multiSelected").length;var c=I.Ta();0<$("*:focus").length?$("*:focus").blur():0<$(".modalContentMask").length?(a=$(".modalContentMask:last"),(c=a.next().children(".dialog").data("Canva_Views_Dialog"))?c.cancel():a.trigger("click")):$(".toolbar__item--submenuExpanded").length?T.trigger("hideContextualControlsRequested"):1===c.length&&c[0]instanceof ZB&&
c[0].Vc?(c[0].Vc instanceof Rp&&VA(c[0].Vc.C()),c[0].Ei()):0<a?ph():$(".infoPanel .close").click();return!1}if(document.querySelector(".modalContentMask, .mask.editingDefaults, .mask.on, body.blockDocument"))return!0;if(16===a.which){var d=function(a){window.clearTimeout(b);16===a.which&&($(".selectionBox").removeClass("freeResize"),$(document).off("keyup",d))};(c=I.Ta()[0])&&0===Rz(c.C())?b=window.setTimeout(function(){$(".selectionBox").addClass("freeResize")},500):$(".selectionBox").addClass("freeResize");
$(document).on("keyup",d)}var c=document.querySelector(".element.text.selected"),e=document.querySelector(".element.text.focused"),g=e,h=document.activeElement,k=h?h.nodeName.toLowerCase():"";if("input"===k||"textarea"===k)g=!0;k=I.Ta()[0];if(g&&9===a.which&&0===$(h).parents(".tableView").length)return cK(),!1;if(I.ja().some(function(a){return a.jg}))return!0;if(k&&a.altKey&&(a.ctrlKey||a.metaKey)){if(67===a.which)return po(bc,k.clone()),!1;if(86===a.which)return dK(k),!1}if(k&&k.Nh&&g&&a.shiftKey&&
a.altKey){if(66===a.which)return eK(k),!1;if(187===a.which||171===a.which)return fK(k,1),!1;if(189===a.which||173===a.which)return fK(k,-1),!1}if(k&&k.Wz()&&a.shiftKey&&a.altKey){if(187===a.which||171===a.which)return gK(k,1),!1;if(189===a.which||173===a.which)return gK(k,-1),!1}if(c&&13===a.which&&(a.ctrlKey||a.metaKey))return e?VA($(c)):hK($(c)),!1;if(g&&k&&k.eZ()&&a.altKey){switch(a.which){case 37:return iK(k,-1),!1;case 39:return iK(k,1),!1;default:k.hr=void 0}if(a.shiftKey&&81===a.which)return iK(k,
0),!1}if(k&&k.ib()&&k.fe()&&!k.vf()&&!k.hV()&&(a.metaKey||a.ctrlKey)){if(74===a.which)return jK(k),!1;if(75===a.which){if(a.shiftKey||a.altKey)return kK(k),!1}else if(76===a.which){if(a.shiftKey||a.altKey)return lK(k),!1}else if(82===a.which){if(a.shiftKey||a.altKey)return mK(k),!1}else if(67===a.which&&(a.shiftKey||a.altKey))return nK(k),!1}if(g&&k&&k.EQ()&&(a.shiftKey||a.altKey)&&(a.metaKey||a.ctrlKey)){switch(a.which){case 75:$(".textToolbarUppercase a").trigger("click");$(".toolbar__button--uppercase").trigger("click");
break;case 76:$(".textToolbarLeft a").trigger("click");$(".toolbar__button--left").trigger("mouseup");break;case 82:$(".textToolbarRight a").trigger("click");$(".toolbar__button--right").trigger("mouseup");break;case 67:$(".textToolbarCenter a").trigger("click");$(".toolbar__button--center").trigger("mouseup");break;case 84:oK(k);break;case 77:pK(k);break;case 66:qK(k)}return!1}if(a.metaKey||a.ctrlKey){if(90===a.which)return a.shiftKey?rK():sK(),!1;if(89===a.which){if(a.shiftKey)return!0;rK();return!1}}if(!g){if(a.metaKey||
a.ctrlKey)switch(a.which){case 67:if(a.shiftKey)return!0;tK();return!1;case 86:if(a.shiftKey)return!0;uK();return!1;case 68:if(a.shiftKey)return!0;tK();uK();return!1;case 71:return a.shiftKey?vK():wK(),!1;case 65:return ph(),a.shiftKey||xK(I.Aa().ja()),!1}if(!a.metaKey&&!a.ctrlKey&&!a.altKey)switch(a.which){case 84:return $("#objectPanel .textControls a[data-style\x3dbody]").trigger("click"),!1}switch(a.which){case 8:case 46:return $(".enabled \x3e .toolbar__button--imageDelete").length?$(".toolbar__button--imageDelete").trigger("click"):
$(".enabled \x3e .toolbar__button--elementDelete").length?$(".toolbar__button--elementDelete").trigger("click"):$(".toolbar__button--delete").trigger("click"),!1;case 191:return $("#search").focus().get(0).select(),!1}}if(a.ctrlKey&&a.altKey&&70===a.which)return yK(),!1;if(a.metaKey||a.ctrlKey){if(a.altKey){if(221===a.which)return zK(1),!1;if(219===a.which)return zK(-1),!1}switch(a.which){case 221:case 38:if(eq())return $(".elementToolbarForward a").click(),$(".toolbar__button--forward").trigger("mouseup"),
!1;break;case 219:case 40:if(eq())return $(".elementToolbarBackward a").click(),$(".toolbar__button--back").trigger("mouseup"),!1;break;case 187:case 61:return $(".zoomer__in").click(),!1;case 189:case 173:return $(".zoomer__out").click(),!1;case 83:return T.trigger("documentSaveRequested"),!1}if(59===a.which||186===a.which)return Rb().toggle(),!1}if(Ib.H.get(lg)&&a.altKey)switch(a.which){case 112:var l=prompt("Select which type of chart to create:\n0 \x3d Bar chart\n1 \x3d Pie chart\n2 \x3d Line chart\n3 \x3d Donut chart",
"0"),l=vH[Object.keys(vH)[+l]],m=tH(l);m.Vk(I.Aa());xH(m,function(){Jg(m);bm(l)});return!1}return!0};function AK(){}
AK.prototype.search=function(a,b,c){return new P(function(d,e){function g(){d(BK({results:[]}))}function h(){hI(b,c).then(k).catch(g)}function k(a){var b=[];a.forEach(function(a){var c=a.ee(),d=a.Cj(),c={page:0,quality:"THUMBNAIL",height:c.o(),width:c.l(),url:c.ma()},d={page:0,quality:"SCREEN",height:d.o(),width:d.l(),url:d.ma()};b.push({id:a.u(),title:a.getName(),origin:Sg,files_:[c,d]})});d(BK({results:b}))}"facebook"==a.toLowerCase()?Eg&&eI(Eg).then(h).catch(function(){dI(Eg).then(h).catch(g)}):e(Error("Not handled"))})};function CK(a,b){this.N=a;this.A8=b||[];this.url="/search"}var DK=["DESIGN"],EK=[Ng,Pg],FK=["ELEMENT_GROUP"];
CK.prototype.dt=function(a){function b(a){var b="";0<a.length&&(b=a.map(function(a){return"\x26sort\x3d"+encodeURIComponent(a.Ju+":"+a.direction)}).join(""));return b}a.from||(a.Eg=null);a="/search?q\x3d"+encodeURIComponent(a.query)+(a.Pk?"\x26docId\x3d"+encodeURIComponent(a.Pk):"")+function(a,b,e,g){var h="",k=[],l=[],m=[];if(a){var n=[];a.forEach(function(a){a=a.toString().charAt(0);h+=a;n.push(a)});m.push("+type:("+n.join(" ")+")")}b&&Object.keys(b).forEach(function(a){k.push(""+a+":"+b[a]);m.push("+"+
a+":"+b[a])});e&&Object.keys(e).forEach(function(a){l.push(""+a+":"+e[a]);m.push("-"+a+":"+e[a])});g&&(m=m.concat(g));a="";h&&(a+="\x26types\x3d"+h);0<k.length&&(a+="\x26includes\x3d"+encodeURIComponent(k.join(",")));0<l.length&&(a+="\x26excludes\x3d"+encodeURIComponent(l.join(",")));0<m.length&&(a+="\x26fq\x3d"+encodeURIComponent(m.join(",")));return a}(a.xn,a.ol,a.$k,a.filters)+(null!=a.wx?"\x26suggest\x3d"+encodeURIComponent(String(a.wx)):"")+(a.sort?b(a.sort):"")+(a.elevation?"\x26elevation\x3d"+
encodeURIComponent(a.elevation):"")+(a.KE?"\x26elevateIds\x3d"+encodeURIComponent(a.KE.join(",")):"")+(a.az?"\x26elevatedOnly\x3dtrue":"")+(null!=a.limit?"\x26limit\x3d"+encodeURIComponent(String(a.limit)):"")+(null!=a.from?"\x26from\x3d"+encodeURIComponent(String(a.from)):"")+(a.uk?"\x26translatable\x3dtrue":"")+(a.Eg?"\x26rootSearchId\x3d"+encodeURIComponent(a.Eg):"")+(null!=a.cg?"\x26organic\x3d"+encodeURIComponent(String(a.cg)):"")+(null!=a.Yg?"\x26freeOnly\x3d"+encodeURIComponent(String(a.Yg)):
"")+(null!=a.aspectRatio?"\x26aspectRatio\x3d"+encodeURIComponent(String(a.aspectRatio)):"");return yj(this.N,a).get(0).then(BK)};function GK(a,b){return P.any(a.A8.map(function(a){return a.search(b.query,b.from,b.limit)})).catch(function(){return this.dt(b)}.bind(a)).cancellable()}function HK(a){var b=Sb;wj(b.N,b.url+"/click",{events:kb(IK,"events",a.events)}).return()};function JK(){this.searchId="";this.rank=0;this.id="";this.version=0;this.origin="CANVA";this.description=this.title=this.artist=this.brand=null;this.recolorable=this.repeating=this.cutout=this.background=!1;this.oneTimeUsePriceCents=this.keywords=this.superKeywords=null;this.oneTimeUseDiscountable=!1;this.spritesheetMetadata=this.componentMedia=this.extendedPriceCents=this.royaltyFreePriceCents=this.oneTimeUseAggregatePriceCents=null;this.files_=[];this.designType=void 0;this.type=null;this.status=
BE;this.user=null;this.Vo=void 0}f=JK.prototype;f.TU=function(){return this.searchId};f.RU=function(){return this.rank};f.u=function(){return this.id};f.getVersion=function(){return this.version};f.Nd=function(){return this.origin};f.fa=function(){return this.brand};f.va=function(){return this.user};f.GU=function(){return this.artist};f.pb=function(){return this.title};f.sf=function(){return this.description};f.kc=function(){return this.background};f.fh=function(){return this.cutout};f.rA=function(){return this.repeating};
f.fd=function(){return this.recolorable};function KK(a){return a.oneTimeUsePriceCents}f.sv=function(){return this.oneTimeUseDiscountable};f.oF=function(){return this.oneTimeUseAggregatePriceCents};f.NL=function(){return this.componentMedia};f.fM=function(){return this.superKeywords};f.il=function(){return this.keywords};f.nc=function(){return this.files_};f.dv=function(){return this.spritesheetMetadata};function LK(a){return a.type}
f.Gc=function(a){return this.nc().filter(function(b){return b.R()===(a||0)}).reduce(function(a,c){a[c.rF()]=c;return a},{})};f.gc=function(){return MK(this).length};function MK(a){var b=[];a.nc().forEach(function(a){a=a.R();-1===b.indexOf(a)&&b.push(a)});return b}function NK(a){return"DESIGN"==LK(a)&&1<a.gc()}f.getFile=function(a,b){return(b=this.Gc(b))?b[a]:void 0};
f.Cj=function(a){var b=this,c=this.getFile("ORIGINAL");c?b.Vo?a&&a(JSON.parse(JSON.stringify(b.Vo))):$.getJSON(c.ma(),function(c){b.Vo=c;a&&a(JSON.parse(JSON.stringify(b.Vo)))}):a&&a(JSON.parse(JSON.stringify(b.Vo)))};f.$m=function(){var a=this.getFile("THUMBNAIL_LARGE")||this.getFile(QC);return a?a.ma():null};
function Rg(a){if(!a)return null;a=$.extend(new JK,a);if(a.files_){var b;b=(b=a.files_)?b.map(fr):null;a.files_=b}Array.isArray(a.componentMedia)&&(a.componentMedia=a.componentMedia.map(La).map(fn));a.spritesheetMetadata&&(a.spritesheetMetadata=Vr(La(a.spritesheetMetadata)));return a}function OK(a,b){a.id=b.u();a.version=b.Ha().getVersion();a.origin="CANVA"}function PK(){this.end=this.start=0;this.replacement=this.original=""}PK.prototype.Cj=function(){return this.original};
function QK(a){return a?$.extend(new PK,a):null}function RK(){this.overridden=!1;this.replacementQuery=this.originalQuery="";this.replacementHits=this.originalHits=0;this.tokenReplacements=null}function SK(a){return a.replacementQuery}function TK(){this.id="";this.totalHits=0;this.results=[];this.suggestion=null}TK.prototype.u=function(){return this.id};TK.prototype.Jz=function(){return this.results};
function BK(a){if(!a)return null;a=$.extend(new TK,a);a.results&&(a.results=a.results.map(Rg));if(a.suggestion){var b;(b=a.suggestion)?(b=$.extend(new RK,b),b.tokenReplacements&&(b.tokenReplacements=b.tokenReplacements.map(QK))):b=null;a.suggestion=b}return a}function UK(a){this.events=a}function VK(a,b){return new UK([new WK({ct:a.TU(),ha:a.u(),Ss:a.RU(),xd:0===KK(a),cg:!!b})])}function WK(a){this.ct=a.ct;this.ha=a.ha;this.Ss=a.Ss;this.xd=a.xd;this.cg=a.cg}
function IK(a){return{searchId:ib("searchId",a.ct),mediaId:ib("mediaId",a.ha),rank:db("rank",a.Ss),free:hb("free",a.xd),organic:hb("organic",a.cg)}};function XK(a,b){switch(b){case "DESC":return"DESC";case "ASC":return"ASC";default:throw new TypeError('expected SortDirection for property "'+a+'", found: '+JSON.stringify(b));}}function YK(a){this.Ju=a.Ju;this.direction=a.direction}YK.prototype.getDirection=function(){return this.direction};function zh(a){return new YK({Ju:B("field",a),direction:Ra(XK,"direction",a)})}
function xh(a){this.Pk=a.Pk;this.query=a.query;this.xn=a.xn||[];this.ol=a.ol||new Map;this.$k=a.$k||new Map;this.filters=a.filters||[];this.elevation=a.elevation;this.KE=a.KE||[];this.az=a.az;this.sort=a.sort||[];this.OE=a.OE;this.Tq=a.Tq;this.limit=a.limit;this.uk=a.uk;this.locale=a.locale;this.Eg=a.Eg;this.cg=a.cg;this.Yg=a.Yg;this.aspectRatio=a.aspectRatio;this.iU=a.iU;this.wS=a.wS;this.yT=a.yT;this.MT=a.MT;this.category=a.category}xh.prototype.zp=function(){return this.xn};xh.prototype.Ad=function(){return this.limit};
xh.prototype.Vf=function(){return this.locale};xh.prototype.Zg=function(){return this.aspectRatio};function ZK(a,b){this.cache=$.extend({},a,!0);this.Zb=b;var c=this;Object.keys(this.cache).forEach(function(a){Object.keys(c.cache[a]).forEach(function(b){var g=+b;Object.keys(c.cache[a][+b]).forEach(function(b){c.cache[a][g][b]=fr(c.cache[a][g][b])})})})}function Yg(a,b,c,d){a.cache[b]=a.cache[b]||{};a.cache[b][c]=a.cache[b][c]||{};for(var e in d)a.cache[b][c][e]=fr(d[e])}ZK.prototype.Gc=function(a,b){return $K(this,a,b)?this.cache[a][b]:null};
function $K(a,b,c){return!!a.cache[b]&&!!a.cache[b][c]}function hq(a,b){return!!b&&$K(a,b.id,b.version)}function aL(a,b,c,d){function e(a){a&&a.media&&a.media.forEach(function(a){Yg(g,a.u(),a.Ha().getVersion(),a.Ha().nc())})}var g=a;0===b.length?d():(b=VE(new UE,b),c?WE(b):b.Co(),vE(a.Zb,b).then(e).catch($.noop).finally(d))}function bL(a,b,c){aL(a,b,!0,c)}
ZK.prototype.getKeys=function(){var a=this,b=[];Object.keys(a.cache).forEach(function(c){Object.keys(a.cache[c]).forEach(function(a){b.push({id:c,version:Number(a)})})});return b};var cL={1:"TOP-LEFT",2:"TOP-RIGHT",3:"BOTTOM-RIGHT",4:"BOTTOM-LEFT",5:"LEFT-TOP",6:"RIGHT-TOP",7:"RIGHT-BOTTOM",8:"LEFT-BOTTOM"};function dL(){}dL.prototype.getKey=function(){return this.key};function LJ(a){return Hf(dL,a)};function eL(a,b,c){this.fileName=a;this.dU=b;this.g2=c}eL.prototype.getFileName=function(){return this.fileName};function fL(){}fL=Py.extend();fL.prototype.initialize=function(a){this.cr=a.cr;this.hf=a.hf;Py.prototype.initialize.call(this,{title:"Upload error",content:$(gL(this).toString())})};
function gL(a){var b=a.cr.dU,c=a.cr.getFileName()||"";switch(b){case 0:return a.hf.Oa("uploadErrorUnsupportedBrowserHtml");case 3:return a.hf.Oa("uploadErrorWorkerHtml");case 1:return a.hf.Oa("uploadErrorUnsupportedFileTypeHtml",c);case 2:return a.hf.Oa("uploadErrorFileTooLargeHtml",c);case 4:return a.hf.Oa("uploadErrorFileProcessingHtml",c);case 5:return a.hf.Oa("uploadErrorUnsupportedSvgContentHtml",c);case 6:return b=a.cr.g2,b=b instanceof OE?b.Ha().rejectionReason:void 0,b?a.hf.Oa("uploadErrorMediaImportWithReasonHtml",
c,b):a.hf.Oa("uploadErrorMediaImportHtml",c)}throw new TypeError("Unhandled UploadErrorDetails.ErrorType: "+b);}fL.Nv=null;fL.show=function(a,b){if(!fL.f$(a))return null;var c=new fL({cr:a,hf:b});c.on("hide",function(){fL.Nv===c&&(fL.Nv=null)});if(fL.Nv)fL.Nv.on("hide",function(){c.show()});else c.show();return fL.Nv=c};fL.f$=function(a){if(fL.Nv)switch(a.dU){case 1:case 2:case 4:case 5:case 6:return!1}return!0};function hL(a,b,c){this.Pf=!1;this.nb=b;this.media=null;this.On=0;this.sx=Date.now();this.r9=!!c;this.ig=a;this.cr=null}f=hL.prototype;f.off=Backbone.Events.off;f.on=Backbone.Events.on;f.trigger=Backbone.Events.trigger;f.Jb=function(){return this.media};f.$m=function(){return this.ig};f.start=function(a){this.Pf||this.media||(this.media=a,this.trigger("start",this))};f.update=function(a){this.Pf||(this.On=100*Math.max(0,Math.min(a,1)),this.trigger("update",this))};
f.complete=function(){this.Pf||(this.Pf=!0,this.On=100,this.trigger("complete",this))};f.fail=function(a){this.Pf||(this.Pf=!0,this.media=null,this.cr=a,this.trigger("fail",this))};function iL(){this.iJ=!1;this.pL=this.Pf=0;this.id=void 0;this.oX=[];this.qQ=0}f=iL.prototype;f.off=Backbone.Events.off;f.on=Backbone.Events.on;f.trigger=Backbone.Events.trigger;f.Do=function(a){this.id=a;return this};f.u=function(){return this.id};f.pF=function(){return this.oX};
f.create=function(a,b,c,d){function e(){k.trigger("start",l)}function g(){l.off("start",e);l.off("complete",g);l.off("fail",h);k.Pf++;k.iJ&&k.Pf+k.qQ===k.pL&&k.complete()}function h(){k.fail(l.cr);g()}var k=this,l=new hL(a,c,d);l.on("start",e);l.on("complete",g);l.on("fail",h);this.oX.push(l);this.trigger("create");return l};f.init=function(a){a()};f.sync=function(){this.trigger("sync")};function jL(a){a.iJ=!0;a.pL++}f.Tq=function(){this.qQ++};
f.complete=function(){this.Pf=this.qQ=this.pL=0;this.iJ=!1;this.trigger("complete")};f.fail=function(a){this.trigger("fail",a)};function kL(){this.Pv={}}_.extend(kL.prototype,Backbone.Events);kL.prototype.off=Backbone.Events.on;kL.prototype.on=Backbone.Events.on;kL.prototype.trigger=Backbone.Events.trigger;kL.prototype.pF=function(a){return 0<=Object.keys(this.Pv).indexOf(a)?this.Pv[a].pF():[]};
function lL(a,b){a=Object.keys(a.Pv).map(a.pF,a).reduce(function(a,b){return a.concat(b)},[]).filter(function(a){return a.sx>=b});if(a.every(function(a){return a.Pf}))return 100;var c=a.reduce(function(a,b){return a+(b.Pf&&!b.media?100:b.On)},0);return Math.min(100*c/(100*a.length),99)};function mL(a){this.source=a.source;this.FG=a.FG||null;this.listener=a.progress}function nL(a,b,c,d,e,g,h,k){var l=!1,m=a.listener.create(d,e,g,h);oL(b,c,d,g,function(a,b){l||(l=!0,m.start(a));m.update(b)},k).then(function(){m.complete();a.FG&&a.FG(m.Jb())},function(a){m.fail(new eL(b.name||"Unnamed File",6,a))})}
function pL(a){var b=a.naturalWidth,c=a.naturalHeight,d=b,e=c,g=200/Math.max(b,c);1>g&&(d=Math.round(g*b),e=Math.round(g*c));g=document.createElement("canvas");g.width=d;g.height=e;var h=g.getContext("2d");h.drawImage(a,0,0,b,c,0,0,d,e);a=g.toDataURL();for(var d=h.getImageData(0,0,d,e),e=d.data,b=e.length,c=new on,k=0;k<b;k+=4)qn(c,e[k],e[k+1],e[k+2]),e[k]=e[k+1]=e[k+2]=c.Tu();h.putImageData(d,0,0);g=g.toDataURL();return{color:a,VU:g}}
function qL(a,b){rL(b).then(function(c){var d=pL(c);c={width:c.naturalWidth,height:c.naturalHeight};for(var e=window.atob(b.substr(22)),g=e.length,h=Math.ceil(g/1024),k=Array(h),l=0;l<h;++l){for(var m=1024*l,n=Math.min(m+1024,g),p=Array(n-m),q=0;m<n;++q,++m)p[q]=e[m].charCodeAt(0);k[l]=new Uint8Array(p)}e=new Blob(k,{type:"image/png"});e.name="generated_file_"+Date.now()+".png";e.type="image/png";e.constructor=File;nL(a,e,b,d.color,d.VU,c,!1)}).catch($.noop)}
mL.prototype.upload=function(a,b){var c=this;this.listener.init(function(){function d(a,b,c){var d=$("\x3cimg\x3e");d.one("load",function(){var b;b=d.get(0);var g=document.createElement("canvas"),h=b.naturalWidth,k=b.naturalHeight;-1<[cL[5],cL[6],cL[7],cL[8]].indexOf(c)?(g.width=k,g.height=h):(g.width=h,g.height=k);var l=g.getContext("2d");switch(c){case cL[2]:l.translate(h,0);l.scale(-1,1);break;case cL[3]:l.translate(h,k);l.rotate(Math.PI);break;case cL[4]:l.translate(0,k);l.scale(1,-1);break;case cL[5]:l.rotate(.5*
Math.PI);l.scale(1,-1);break;case cL[6]:l.rotate(.5*Math.PI);l.translate(0,-k);break;case cL[7]:l.rotate(.5*Math.PI);l.translate(h,-k);l.scale(-1,1);break;case cL[8]:l.rotate(-.5*Math.PI),l.translate(-h,0)}l.drawImage(b,0,0,h,k);b=g.toDataURL("image/jpeg",.92);e(a,b)});d.attr("src",b)}function e(a,b){var c=b.slice(b.indexOf(",")+1),d=g(c);d.name=a;d.type="image/jpeg";var e=$("\x3cimg\x3e");e.attr("src",b);e.one("load",function(){k(d,e.get(0),b)})}function g(a){a=window.atob(a);for(var b=a.length,
c=Math.ceil(b/1024),d=Array(c),e=0;e<c;++e){for(var g=1024*e,h=Math.min(g+1024,b),k=Array(h-g),l=0;g<h;++l,++g)k[l]=a[g].charCodeAt(0);d[e]=new Uint8Array(k)}return new Blob(d,{type:"image/jpeg"})}function h(a,b){var d=m[a];sL(d).then(function(a){k(d,a,b)}).catch(function(){c.listener.fail(new eL(a,4));c.listener.Tq();l()})}function k(a,d,e){var g=pL(d);nL(c,a,e,g.color,g.VU,{width:d.naturalWidth,height:d.naturalHeight},!1,b);window.setTimeout(l,600)}function l(){u++;u<q?p.postMessage({next:!0}):
c.listener.sync()}if(window.URL){for(var m={},n=[],p=new Worker(M.N_.upload),q=0,u=0,v=0;v<a.length;v++){var z=a[v],r=z.name,x=z.type,H=z.size;jL(c.listener);var D;a:{switch(x){case "image/jpeg":case "image/png":case "image/raw":case "image/svg+xml":case "image/x-fuji-raf":D=!0;break a}D=!1}if(D)if(26214400<H)c.listener.fail(new eL(r,2)),c.listener.Tq();else{if("image/jpeg"===x||"image/png"===x)m[r]=z;n.push(z);q++}else c.listener.fail(new eL(r,1)),c.listener.Tq()}c.listener.sync();if(0===q)c.listener.complete();
else{p.onmessage=function(a){var g=JSON.parse(a.data);if("error"===g.status)c.listener.fail(new eL(g.fileName,4)),c.listener.Tq(),l();else if("exifRotated"===g.specialFile)d(g.fileName,g.imageData,g.orientation);else if("raw"===g.specialFile)e(g.fileName,g.imageData);else if(g.svgText)if(a=g.fileName,g=g.svgText,eB(g)){a=(new aB(g)).WZ(a);a.source=oB(a.source);a.source=lB(a.source);a.source=nB(a.source);a.viewBox=mB(a.source);a.source=a.source.replace(/xmlns:xml=['"]http:\/\/www.w3.org\/XML\/1998\/namespace["']/g,
"");g=new Blob([a.source],{type:"image/svg+xml"});g.name=a.filename;g.constructor=File;var k="data:image/svg+xml;base64,"+window.btoa(unescape(encodeURIComponent(a.source)));nL(c,g,k,k,k,{width:a.viewBox[2],height:a.viewBox[3]},!0,b);window.setTimeout(l,600)}else c.listener.fail(new eL(a,5)),c.listener.Tq(),l();else h(g.fileName,g.imageData)};try{p.postMessage(n)}catch(K){c.listener.fail(new eL(null,3));c.listener.complete();return}U&&U.track("image_upload",{source:c.source,quantity:q})}}else c.listener.fail(new eL(null,
0)),c.listener.complete()})};function sL(a){return new P(function(b,c){if(tL){var d=window.URL.createObjectURL(a);rL(d).then(b,c).finally(function(){window.URL.revokeObjectURL(d)})}else{var e=new FileReader;e.onload=function(){rL(e.result).then(b,c)};e.onerror=c;e.readAsDataURL(a)}})}function rL(a){return new P(function(b,c){var d=new Image;d.onload=function(){b(d)};d.onerror=c;d.src=a})}var tL="IE"!==(new UAParser).getResult().browser.name;function uL(a){Ca(0<a);this.x3=a;this.queue=[];this.yM=0}uL.prototype.zP=function(a){var b=this;return(new P(function(a){b.queue.push(a);vL(b)})).cancellable().then(a).finally(function(){b.yM--;vL(b)})};function vL(a){if(!(a.yM>=a.x3)){var b=a.queue.shift();b&&(a.yM++,b())}};function wL(a,b,c,d,e,g,h,k){this.N=a;this.media=b;this.ic=c;this.Xe=d;this.Hx=e;this.i2=g;this.zx={};this.DC=[];this.vs=h;this.Fh=k;this.BZ=[];this.oN=_.throttle(this.oN.bind(this),30,{leading:!1})}wL.prototype.Gc=function(a,b){return null==a||null==b?null:this.Xe.Gc(a,b)||this.zx[a]||null};
function RC(a,b,c){var d=Fb,e=d.Gc(a,b),g;return e&&(g=e[c])?g.watermarked?(new P(function(c){d.BZ.push({y3:new en({id:a,version:b}),resolve:c});d.oN()})).then(function(){var e=d.Gc(a,b);if(!e||!(g=e[c]))throw Error();return g}):P.resolve(g):P.reject()}wL.prototype.oN=function(){var a=this.BZ.splice(0),b=a.map(function(a){return a.y3});bL(this.Xe,b,function(){return a.forEach(function(a){return a.resolve()})})};
function xL(a,b){var c={};return b.filter(function(a){if(!a)return!1;var b=a.u();a=a.getVersion();if(this.Gc(b,a))return!1;b=b+":"+a;return c[b]?!1:c[b]=!0},a)}function Wg(a,b){var c=b.u();a.zx[c]||(b=b.Gc(),a.zx[c]={SCREEN:fr(b[Tg]),THUMBNAIL:fr(b[QC])})}
function Lg(a,b,c){var d=b.Nd();if(d!==Sg&&"GOOGLE"!==d)throw Error('Cannot upload media with origin "'+d+'"');var e,g=b.u(),h=yL(b,a.ic),d=(new RE).Et(h.filename).Ft(!0);a.DC.push(g);sE(a.media,d).then(function(b){var c=b.Ha();a.zx[b.u()]=c&&c.nc();e=b;a:switch(h.origin){case Sg:case "GOOGLE":b=new zL(h.id,h.ic,b,h.rH);break a;default:throw Error(h.origin+" is unsupported");}return a.Hx.upload(b)}).then(function(){var b=(new ZC).xk(e.Ha().getVersion()).Nx(!0);return a.media.RZ(e.u(),b)}).then(function(c){var d=
b.getVersion();OK(b,c);Yg(a.Xe,c.u(),c.Ha().getVersion(),c.Ha().nc());var d={mediaId:g,mediaVersion:d},e={mediaId:c.u(),mediaVersion:c.Ha().getVersion()};AL(d,e);fq(I).forEach(function(a){var b=a.Kb();b&&b.id===g&&a.Rl(c.u(),c.Ha().getVersion())});BL();return c}).catch(function(b){c.NC(a.Xe);BL();return Promise.reject(b)}).finally(a.YY.bind(a,g))}
function oL(a,b,c,d,e,g){var h=Fb;function k(a){var e={};e[QC]=new JE({url:c,width:d.width,height:d.height});e[Tg]=new JE({url:b,width:d.width,height:d.height});q.zx[a.u()]=e;return a}function l(a){var b=(new ZC).xk(a.Ha().getVersion()).Nx(!0);return q.media.RZ(a.u(),b)}function m(a){Yg(q.Xe,a.u(),a.Ha().getVersion(),a.Ha().nc());BL();return P.resolve(a)}function n(a){return Promise.reject(a)}function p(b){b=new CL({file:a,dF:g,id:_.uniqueId("file_"),media:b,ic:q.ic,vs:q.vs,Fh:q.Fh});b.WO.push(e);
return q.Hx.upload(b)}var q=h,u=a.name.replace(/\$/g,"_"),v=_.uniqueId("file_"),z=SE((new RE).Et(u).Ft(!0).ZZ(!1),a.size);h.DC.push(v);return h.i2.zP(function(){return sE(q.media,z).then(k).then(p).then(l).then(m).catch(n).finally(q.YY.bind(q,v))})}wL.prototype.YY=function(a){a=this.DC.indexOf(a);-1!=a&&this.DC.splice(a,1)};function BL(){I.trigger("change")}
function DL(a){function b(a){var g=a.mediaId,h=a.mediaVersion;void 0!==g&&void 0!==h&&null!==g&&null!==h&&($K(d.Xe,g,h)?0:g in d.zx)&&(delete a.mediaId,delete a.mediaVersion);Object.keys(a).forEach(function(d){d=a[d];d instanceof Array?d.filter(c).forEach(function(a){b(a)}):c(d)&&b(d)})}function c(a){return a instanceof Object}var d=Fb;b(a)};function EL(a){this.id=a.id;this.origin=a.origin;this.rH=a.rH;this.Yq=a.Yq;this.filename=a.filename;this.ic=a.ic}
function yL(a,b){var c=a.Nd();switch(c){case Sg:var c=a.getFile(Tg).ma(),d=a.getFile(QC).ma(),e=c.match(/.*(\.\w+)/)[1],e=a.u()+e;return new EL({id:a.u(),origin:a.Nd(),rH:c,Yq:d,filename:e,ic:b});case "GOOGLE":return c=a.getFile(Tg).ma(),d=a.getFile(QC).ma(),e=a.pb(),new EL({id:a.u(),origin:a.Nd(),rH:c,Yq:d,filename:e,ic:b});default:throw Error('Cannot create temporary media for origin "'+c+'"');}};function FL(){this.queue=[];this.CB={};this.dR={};this.iK=null}FL.prototype.upload=function(a){function b(){var b=new P(function(b,d){b={request:a,resolve:b,reject:d};c.queue.push(b);d=a.u();var e=c.CB[d];e||(e=[]);e.push(b);c.CB[d]=e});GL(c);return b}var c=this,d=this.dR[a.u()];return d?P.resolve(d):P.resolve().then(b)};function GL(a){if(!a.iK&&0<a.queue.length){var b=a.queue.shift();a.iK=b;HL(a,b)}}
function HL(a,b){var c=b.request.u();IL(b.request).then(function(b){a.dR[c]=b}).then(function(){var b=a.CB[c],e=a.dR[c];if(!e)throw Error("Could not find media reference for uploaded item");b&&b.forEach(function(a){a.resolve(e)})}).catch(function(){var b=a.CB[c];b&&b.forEach(function(a){a.reject()})}).finally(function(){delete a.CB[c]}).finally(a.S3.bind(a))}
function IL(a){return new P(function(b,c){function d(h){7>e&&h===JL?(e++,g*=1.6,P.delay(g).then(a.send.bind(a)).then(b).catch(d)):c(h)}var e=0,g=500;a.send().then(b).catch(d)})}FL.prototype.S3=function(){this.iK=null;GL(this)};function KL(a,b){this.id=a;this.media=b;this.WO=[]}var JL=Error("Canva is too busy to process your upload at this time. Please try again later.");KL.prototype.u=function(){return this.id};KL.prototype.send=function(){return P.reject("Not implemented")};KL.prototype.B6=function(a){if(a.lengthComputable){a=a.loaded/a.total;for(var b=0;b<this.WO.length;b++)this.WO[b](this.media,a)}};function LL(a){a=function(a){var c=/^([^?]+)\?/.exec(a);return c?c[1]:a}(a);return _.find(ML,function(b,c){return a.slice(-c.length)===c})}var ML={".gif":"image/gif",".jpg":"image/jpeg",".jpeg":"image/jpeg",".png":"image/png",".ttf":"application/x-font-truetype",".otf":"application/x-font-otf",".woff":"application/font-woff"};function CL(a){KL.call(this,a.id,a.media);this.file=a.file;this.dF=a.dF;this.ic=a.ic;this.X6=void 0;this.Fh=a.Fh;this.rM=a.vs.rM("canva.editor.uploadrate")}CL.prototype=Object.create(KL.prototype);CL.prototype.constructor=CL;
CL.prototype.send=P.method(function(){var a=this,b=a.file.type||LL(a.file.name),c=this.Fh.now();return KJ(this.ic,this.media.u(),this.media.Ha().getVersion(),b).then(function(c){c={R_:c.awsAccessKeyId,file:a.file,B3:b,key:c.getKey(),r7:c.policy,progress:a.B6.bind(a),a9:c.signature,url:c.postUrl};return NL({file:c.file,url:c.url,BU:{key:c.key,AWSAccessKeyId:c.R_,policy:c.r7,signature:c.a9,"Content-Type":c.B3||c.file.type},progress:c.progress,mV:c.mV})}).tap(function(){a.rM.update(a.file.size/(a.Fh.now()-
c))}).then(function(c){c=(new XJ).XZ(c);c.mimeType=b;c.isPaid=!0===a.X6;a.dF&&(c.folderKey=a.dF);return MJ(a.ic,a.media.u(),a.media.Ha().getVersion(),c)}).catch(this.f8.bind(this))});
CL.prototype.f8=function(){throw Error("Unfortunately your upload failed :(\n\nPlease ensure that:\n   - the size of the image is under 25MB;\n   - the image is a .png, .jpg or .svg file;\n   - the image uses an RGB color model (i.e. not CMYK); and,\n   - you have a stable internet connection.\n\nIf you feel that you have met the above criteria and the image is still failing to upload, please let the team know by emailing support@canva.com");};function zL(a,b,c,d){KL.call(this,a,c);this.ic=b;this.url=d}zL.prototype=Object.create(KL.prototype);zL.prototype.constructor=zL;zL.prototype.send=P.method(function(){var a=this;return JJ(this.ic,this.media.u(),this.media.Ha().getVersion(),this.url).then(function(){return a.media}).catch(function(a){throw 429===a[1]?JL:Error();})});function xz(a){function b(a,b,c){c||b.forEach(function(a){a.u&&a.getVersion&&a.nc&&("CANVA"==a.Nd()?Yg(vb,a.u(),a.getVersion(),a.Gc()):Wg(Fb,a))})}function c(){OL="FREE"===z.wb.NB;UL(l,!0)}var d=$("#objectPanel"),e=new rh(window.viewConfig),g=Dx(),h=Hx(g),k=Gx(g).fa(),l=a.i,m=nm(),n=a.Ub,p=new Oj(Hb),q=new CK(Hb);wJ(Jb,function(){var a=(Gx(g).up()||new Yw({})).xC;return a&&a[0]?a[0].yC||[]:[]}(),function(){var a=new VL({model:I,Ai:Gx(g).up(),i:l});$("#resultsText \x3e .layer \x3e .inner").prepend(a.el)});
var u=null,v=wh(e);null!=v&&(u=WL(v));new XL({Nb:k.tp(),hK:h.u(),ZJ:function(b){return new YL({J:jc(l),su:b,Tc:a.Tc,$w:!Ib.Qy()})},WD:function(a,b){var c,d;-1<h.cs().indexOf("FUSION")?(c=Hu(window.cdocType).u(),d=!1):(c=void 0,d=!0);return new ZL({el:a,A1:new $L({Pa:xb,ec:p,la:h.u(),ta:k.u(),Nu:b,Or:d,tE:c}),nA:!!b,i:l})},YJ:function(a){return new aM({el:a,i:l,ZD:function(){return new bM(null!=u?new cM({IP:q,Xc:u}):new cM({IP:q,rc:I.hb(),query:e.kg.get("layoutQuery",null)}))}})},UJ:function(a){return new dM({el:a,
i:l})},Pa:xb,ec:p,el:"#resultsLayout",v3:e.kg.get("magicTemplates",[]).map(eM),model:I,mba:Ib.H.get(Rf),nba:Ib.Qy(),i:l,jQ:!!Gx(g).getSubscription(),lQ:-1===["DESIGN_TUTORIAL","FREE_NEW_USER"].indexOf(e.kh())});v=$(".searchAdvanced");if(1===v.length){var z=fM({Ol:Dd(l),wL:c,anchor:$("#search"),H:a.H,j:m,KD:function(){if(Ib.H.get(Dg)){var a=Lb;a.j.wa(um());Oo(a,gM)}else a=Lb,a.j.wa(um()),Oo(a,hM)}});v.append(z.view.$el);OL="FREE"===z.wb.NB}var r=new iM({el:"#resultsSearch",i:l});r.on("results:didFetch",
b);r.on("searchFilterMediaType",function(){jM=r.zp();UL(l,!0)});jM=r.zp();v=new kM({el:"#resultsElements",i:l,U8:Ib.H.get(lg)});v.on("results:didFetch",b);v.on("folder:expand",function(a){m.track("folder_opened",{section:"editor",subsection:"object_panel",location:"elements_tab",type:a.replace(/\s/g,"_").toLowerCase()})});var v=new jI(Hb),x=new kL,H=new Fg({Ab:I,ud:J,Xe:vb,Zb:Bb,ec:p,bI:Fb,Hy:function(a,b){var c=jc(l);a=a.u();var d;0<=Object.keys(x.Pv).indexOf(a)?a=x.Pv[a]:(d=(new iL).Do(a),d.on("create",
x.trigger.bind(x,"create")),d.on("fail",x.trigger.bind(x,"fail")),a=x.Pv[a]=d);return new mL({source:b,J:c,progress:a})}}),D;a:{try{D=Gx(g).up().tp().wg;break a}catch(K){}D=void 0}D=new lM({Nb:D,La:H,cz:Ib.H.get(Vf),Zk:Ib.H.get(Tf),S1:new mM($(window)),al:Eg,W:Ib,ec:p,ni:v,Zb:Bb,i:l,X:Cb,Lf:x,la:h.u(),G:ol,Tc:a.Tc});D.render().getElement().replaceAll("#normalUploads");D.show();(new nM({root:$("#objectPanel menu .uploads"),Lf:x,hf:kd(l)})).start();oM(Gx(g).up(),tc(l),m);pM(l);Hz();d.children("menu").find("a").on("click",
function(){qM.call(this,l)});(new mp("#objectPanel")).on("mousedown",".templateGallery a",rM).on("touchstart",".templateGallery a",rM);d.on("click",".backgroundGallery a",sM);(new mp("#objectPanel")).on("mousedown",".backgroundGallery *:not(.static) a",tM).on("touchstart",".backgroundGallery *:not(.static) a",tM);d.on("click",".backgroundGallery a",!1);d.on("click",".infoPanelGallery .info .moreInfo",function(){uM.call(this,l)});d.on("click",".infoPanelGallery .info .superKeyword",vM);if(Ib.H.get(Pf))d.on("click",
".searchSuggestion a",function(){var a=l,b=$(this).data("query");$("#search").val(b);wM=null;UL(a,!1)});(new mp("#objectPanel")).on("mousedown",".photoGallery:not(.gridGallery):not(.albumGallery) a",xM).on("touchstart",".photoGallery:not(.gridGallery):not(.albumGallery) a",xM);d.on("click",".photoGallery:not(.gridGallery):not(.albumGallery) a",!1);(new mp("#objectPanel")).on("mousedown",".gridGallery a",yM).on("touchstart",".gridGallery a",yM);(new mp("#objectPanel")).on("mousedown",".chartGallery .chart a",
zM).on("touchstart",".chartGallery .chart a",zM).on("mousedown",".chartGallery :not(.chart) a",xM).on("touchstart",".chartGallery :not(.chart) a",xM);Eg&&Eg.init().then(function(a){eI(a).catch(function(){})});$(".results.infinite:not(#resultsSearch):not(#resultsUpload):not(#resultsLayout):not(#resultsElements) \x3e .layer").on("scroll",AM);$("#search").on("focus",BM);$("#someoneElseEditing").find("a").on("click",CM);$("#inReview").find("a").on("click",DM);$("#touchDevice").find("a").on("click",EM);
d.find(".scrollPane").each(function(){(new co($(this))).render()});FM(d,a.jp,l);GM(n,HM,function(){var a=Sd(jc(l)),a=d.find('[title\x3d"'+a+'"]'),b=d.find(".uploads");return b.is(".on")&&1===a.length?(a=a.get(0).getBoundingClientRect(),{x:Number(a.right)+20,y:Number(a.top)+15}):1===b.length?(a=b.get(0).getBoundingClientRect(),{x:Number(a.right)+20,y:Number(a.top)+Number(a.height)/2}):null})}
function FM(a,b,c){function d(b){var d=b.param;"folder"===b.action?e(d):"search"===b.action?g(d):"tab"===b.action&&((b=a.find("menu ."+d+" a").get(0))?qM.call(b,c):h())}function e(b){var d=$("#resultsElements").find('a[data-query\x3d"'+b+'"]');b=a.find("menu .elements a").get(0);0<d.length?(qM.call(b,c),window.setTimeout(function(){d.trigger("mousedown")},M.za.$j)):h()}function g(b){window.setTimeout(function(){a.find("#search").val(b);UL(c)},M.za.$j)}function h(){var a=$("#objectPanel").find("menu .on a").get(0);
qM.call(a,c)}b?d(b):h()}
function oM(a,b,c){function d(){var a=e();if(a&&!a.equals(p.Ep())||null===a&&null!==p.Ep())p.off("preview",m.lw),p.off("confirm",m.confirm),p.YB(a),p.confirm(),p.on("preview",m.lw),p.on("confirm",m.confirm),m.reset()}function e(){if(xC(n)){var a=$p(n);if(0<a.length)return a[a.length-1].$g()}return null}function g(){fo(p);p.confirm()}function h(a){0===$(a.target).closest(".colorPicker, .colorPalette").length&&g()}var k=$("#resultsBackground"),l=k.find(".colorControls"),m=IM(),n=I.Aa();a=a&&a.xy||[];
var p=new Xn({yy:new Oy({$x:function(a){a.appendTo("#objectPanel")},Oz:function(){return $(document.body)},margin:M.GR,mC:Ny}),tl:b,Gi:pc(Kb),Fl:I,du:a,KB:!1,Mb:e(),j:c,W:Ib,window:window});p.on("preview",m.lw);p.on("confirm",m.confirm);p.on("showColorPicker",function(){document.addEventListener("mousedown",h,!0);k.find(".layer").on("scroll",g)});p.on("hideColorPicker",function(){document.removeEventListener("mousedown",h,!0);k.find(".layer").off("scroll",g)});p.listenTo(I,"page:change:selected",
function(){g();p.stopListening(n);n=I.Aa();d();p.listenTo(n,"change:background",d)});p.listenTo(n,"change:background",d);p.listenTo(L,"beforeOperationStackPop",g);p.appendTo(l)}function BM(){var a=this;"resultsSearch"!==JM().attr("id")&&$("#objectPanel").find("menu .search a").trigger("click");window.setTimeout(function(){a.select()},M.Cc)}
function qM(a){function b(a,b,c,d,e,g){var h=$(a);a=h.find("\x3e .layer \x3e .inner \x3e .searchGroup").first();a.parent(".layer").find(".searchError").remove();KM(a);a.height(h.height());wM=new LM(c,b,d,null,null,null,!1,null,MM(h,h.height()),null,!1,!1,function(){NM(e)},!1,null);g&&(b=new LM(c,g,d,null,null,null,!1,null,MM(h,h.height()),null,!1,!1,function(){NM(e)},!1,null),b.HX=wM,wM.xH=b);a.data("search",wM);NM(e)}T.trigger("objectPanel:tabClicked");var c=$(this).parents("menu"),d=$("li",c),e=
$(this).parents("li"),g=d.index(c.find("li.on"))+1,h=e.index()+1,k=$("#objectPanel"),l="#"+k.find(".content \x3e .results").get(g-1).id,c="#"+k.find(".content \x3e .results").get(h-1).id,m=k.get(0).className,m=m.replace(/(^| )stage[^ ]+/g,"");k.get(0).className=m;k.addClass("stage"+h);d.removeClass("on");U&&e.get(0)&&Ul(U,e.get(0).className,"object_panel");e.addClass("on");d=JM();e.hasClass("search")&&$("#search").focus();g==h&&d.find(".layer").first().animate({scrollTop:0},M.za.Jq);e=$(l+" .layer");
OM(e);PM&&PM.cancel();PM=null;g=$(c);e=0===g.find(".gallery li:not(.static)").length;g=0<g.find(".searchLoader").length;e&&!g&&("#resultsLayout"==c?(c=$("#resultsLayout"),a=c.data("view"),c=MM(c,c.height()),a.Kh(c)):"#resultsText"==c?Ib.H.get(rg)?b(c,FK,"text",null,a,EK):b(c,EK,"text",null,a):"#resultsBackground"==c&&b(c,EK,"backgrounds",{background:"true"},a));(a=d.find(".layer").last().find(".searchGroup").last().data("search"))&&wM&&"facebook"!=wM.query.toLowerCase().trim()&&(wM=a);return!1}
function rM(a){function b(a){var b=void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX;a=void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY;var c=Math.abs(a-m)>M.Dc,c=Math.abs(b-l)>M.Dc||c;null==k&&c&&(k=g.Gy(),$("#content").append(k),e.css("opacity",0),$("#search").blur(),QM(k,RM(n)));null!=k&&(a=h.top+a-m,k.css("left",h.left+b-l).css("top",a));return!1}function c(){function a(){$(this).remove();e.css("opacity","")}$("#hotspots").remove();n.off("mousemove|touchmove",b).off("mouseup|touchend",
c);e.removeClass("pickedUp");null==k||k.hasClass("disappeared")||k.hasClass("placing")?(k&&k.remove(),e.animate({opacity:1},M.za.YK),d()):(h=e.offset(),k.addClass("returning"),k.one("transitionend",a).css("left",h.left).css("top",h.top))}function d(){var b=null!=k;if(!$(a.currentTarget).find(".multiPageDesignItem,.multiPageLayoutItem").length||b){var c;switch($(".layoutsControls .tabDropdown").attr("data-selected")){case SM:c=g.model instanceof nI?"canva_layout_grid":"canva_layout";break;case TM:c=
"brand_template";break;case UM:c="your_designs";break;default:c="design_folder"}var d=$(a.target).is(".componentItemLink"),e="function"===typeof g.model.oF&&0<g.model.oF();U&&U.track("layout_use",{media_id:g.model.u(),layout_source:c,component_page:d,interaction:b?"drag":"click",is_paid_layout:e?"yes":"no"});if(b=e&&Ib)b=Ib.H.get(yg);b&&(window.location.hash="#premiumLayoutHint",window.Appcues&&window.Appcues.page())}}if($(a.target).hasClass("moreInfo")||$(a.target).hasClass("superKeyword")||a.which==
M.yh||a.ctrlKey)return!0;lz();var e=$(this);e.addClass("pickedUp");var g=e.parents("li").data("view"),h=e.offset(),k=null,l=void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX,m=void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY,n=new mp($(document));n.on("mousemove|touchmove",b).on("mouseup|touchend",c);return!1}
function IM(){function a(){b&&($J(),b=!1);d=c=null}var b=!1,c,d,e;return{lw:function(a){ph();var h=I.Aa(),k=$p(h);e={index:0,color:a.qa()};b||(ZJ(),b=!0);c=k.filter(function(a){return a.Wp()}).pop();k.forEach(function(a){a!==c&&(VM(a),a.remove())});c?(d||(h=c.Za()[0],d={index:0,color:h?h.qa():M.II}),c.Ud(0,a)):(a={type:"image",isBackground:!0,isRecolorable:!0,backgroundColor:e.color},_.extend(a,h.pa().serialize()),a=Hg(a),a.appendTo(h),d=e,Jg(a),c=a)},confirm:function(){if(c&&c.R()){var b={elementIndex:c.K(),
pageIndex:c.R().K(),"new":e,old:d};L.register(new Y(WM,b));d=e}a()},reset:a}}function sM(a){if($(a.target).is(".moreInfo")||$(a.target).is(".superKeyword"))return!1;ph();a=$(a.currentTarget).parents("li")[0];a=$(a);XM(a);a=a.data("result");HK(VK(a));cm("background_image",a.u(),null);return!1}
function tM(a){function b(a){var b=void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX;a=void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY;if(null==m&&(Math.abs(b-n)>=M.Dc||Math.abs(a-p)>M.Dc)){m=$('\x3cdiv class\x3d"clone bg"\x3e\x3c/div\x3e');g.rA()&&m.addClass("patterned");var c=$("img",d).clone(!0).off(""),r=parseInt(c.attr("width"),10),x=parseInt(c.attr("height"),10);r<x?c.css("width",k).css("height",c.height()):c.css("width",c.width()).css("height",k);m.data("li",e).append(c).css("left",
h.left).css("top",h.top).css("width",k).css("height",l).css("background-color",e.data("color"));$("#content").append(m);d.css("opacity",0);$("#search").blur();QM(m,RM(q))}null!=m&&(a=h.top+a-p,m.css("left",h.left+b-n).css("top",a));return!1}function c(){function a(){$(this).remove();d.css("opacity",1)}$("#hotspots").remove();q.off("mousemove|touchmove",b).off("mouseup|touchend",c);d.removeClass("pickedUp");null==m||m.hasClass("disappeared")||m.hasClass("placing")?(m&&m.remove(),d.animate({opacity:1},
M.za.YK)):(h=d.offset(),m.addClass("returning"),m.one("transitionend",a).css("left",h.left).css("top",h.top))}if(a.which==M.yh||a.ctrlKey)return!0;if($(a.target).is(".moreInfo")||$(a.target).is(".superKeyword"))return!1;var d=$(this);d.addClass("pickedUp");var e=d.parents("li"),g=e.data("result"),h=d.offset(),k=d.width(),l=d.height(),m=null,n=void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX,p=void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY,q=new mp($(document));q.on("mousemove|touchmove",
b).on("mouseup|touchend",c);return!1}
function XM(a){var b=I.Aa(),c=oh(J),d=$p(b);if(0<d.length){var e=d[d.length-1].C().clone();e.removeClass("appearing");YM(c,e);P.delay(M.za.X1*M.Qx).then(function(){e.remove()})}a=$("img",a);(a=Hg(ZM(a)))&&a.vJ()&&(ZJ(),d.forEach(function(a){var c=a.K(),c={backgroundColor:a.$g(),elementIndex:c,oldElementIndex:c,pageIndex:jp(I,b)};YC(a);L.register(new Y($M,c));VM(a);a.remove()}),d=b.pa(),c=a.pa(),Pm(c,d),a.ld(c),b.addElement(a,!1,!0),Jg(a),d=a.K(),aq(a),d={backgroundColor:a.$g(),elementIndex:a.K(),
oldElementIndex:d,pageIndex:jp(I,b)},L.register(new Y(aN,d)),$J())}
function Hz(a,b){function c(a){var b,c,d=a.width(),l=parseFloat(a.find("a").css("margin-right"));b=a.data("layoutItem");c=a.data("designItem");var m=a.data("searchResult");if(b)c=b.getContent(),b=c.width,c=c.height;else{if(c)c=ar(c.draft.imageSets.thumbnail);else if(c=m.getFile("ORIGINAL"),!c)return d;b=c.l();c=c.o()}return 80>(d-l)*c/b?Number(a.parent().width()):d}void 0===b&&(b=!0);void 0===a&&(a=$("#objectPanel .photoGallery, #objectPanel .infoPanelGallery"));var d=a.filter(".gridGallery");a=a.not(d);
bN(d);a.each(function(){var a=$(this),d=a.children("li"),h=a.hasClass("backgroundGallery");if(!(0>=d.length||(a.removeClass("laidOut"),0>=a.width()))){b||d.filter(":not(.newSearch)").addClass("doNotTransition");$("img",a).css("height","");d.css("width","").css("left","").css("top","");var k;k=a.hasClass("templateGallery")?c(d.first()):d.first().width();for(var l=parseInt($("a",this).css("margin-right"),10),m=parseInt($("a",this).css("margin-bottom"),10),n=Math.round(a.width()/k),p=a.data("columnData"),
q={b1:k,marginRight:l,marginBottom:m,ra:[]},u=p&&p.ra.length==n&&p.b1==k,v=0;v<n;v++)q.ra[v]={height:0,items:[],wf:0},u&&(q.ra[v].wf=p.ra[v].wf);var z=null;a.children("li").find("a.infoOpen").parents("li").first().each(function(){var a=$("img",this),b=a.attr("width")||a.get(0).naturalWidth,a=a.attr("height")||a.get(0).naturalHeight;z=$(this).data("originalTop")+(k-l)/b*a+m});null!=z&&u||d.removeData("modifiedTop");d.each(function(){for(var b=$(this),c=b.data("result"),d=0,g=q.ra[d].height,n=0;n<q.ra.length;n++)if(0==
q.ra[n].height){d=n;g=0;break}else q.ra[n].height<g&&(d=n,g=q.ra[n].height);var n=b.find("a"),p=b.find("img"),r,v;0<p.length?(r=parseInt(p.attr("width"),10)||p.get(0).naturalWidth,v=parseInt(p.attr("height"),10)||p.get(0).naturalHeight):v=r=k;var x=r>v,H=k-l,ha=H/r*v;p.css("height",ha);b.hasClass("grid")&&(ha=b.data("layoutItem").getContent(),ha=(k-l)*ha.height/ha.width,b.find("a").css("height",ha));b.data("originalTop",g).css("width",k).css("left",d*k);h&&(x&&(H=r/v*(k-m),p.css("width",H).css("height",
"")),"backgroundColorAlbum"===b.attr("id")?b.add(n).add(p).css("width","").css("height",""):(b.height(k),n.height(k-m),c&&!c.rA()&&(ha=x?0:(k-m-ha)/2,p.css("margin-left",(k-l-H)/2).css("margin-top",ha))),c&&(c.fd()&&(ha="#"+(M.E_[c.u()]||"888888"),b.data("color",ha),n.css("background-color",ha)),c.rA()&&b.addClass("patterned")),ha=k-m);c=d;b.hasClass("newSearch")?(d=0,null!=z&&g+ha+m>z&&(d=q.ra[c].wf,0==d&&(d=cN(a.parents(".searchGroup")),d+=z-q.ra[c].height,q.ra[c].wf=d),b.data("modifiedTop",g+d)),
b.css("top",g+d)):b.data("modifiedTop")?(c=b.data("columnIndex"),g=b.data("modifiedTop"),b.css("left",c*k).css("top",g).data("originalTop",g-q.ra[c].wf)):u?(c=b.data("columnIndex"),b.css("left",c*k).css("top",q.ra[c].height).data("originalTop",q.ra[c].height)):b.css("top",g);q.ra[c].height+=ha+m;q.ra[c].items.push(b);b.data("columnIndex",c)});a.data("columnData",q);a.parents(".searchGroup").height();a.addClass("laidOut");b||window.setTimeout(function(){d.filter(":not(.newSearch)").removeClass("doNotTransition")},
M.za.KA);var r=a.parent(".searchGroup"),n=a.parents(".layer").find("\x3e .inner \x3e .searchGroup").last().get(0)==r.get(0);Iz(r,!n);var x=r.height(),H=a.hasClass("templateGallery")?4:1;setTimeout(function(){var b=dN(a.parents(".results")),c=0<a.parents("#resultsSearch").length,d=c?eN(r):0,g=-1;a.children("li.newSearch").each(function(){var a=$(this),e=!1;(e=c?d+a.data("originalTop")<b:parseInt(a.css("top"),10)<x)?window.setTimeout(function(){a.removeClass("newSearch")},++g*M.za.Tv*H):a.addClass("doNotTransition").removeClass("newSearch").removeClass("doNotTransition")})},
M.Cc)}})}
function bN(a){void 0===a&&(a=$("#objectPanel").find(".gridGallery"));var b=$("a",a).width();$("li, a",a).css("height",b);a.addClass("laidOut");a.each(function(){var a=$(this),b=a.children("li"),a=a.parents(".searchGroup"),e=a.parents(".layer"),g=e.offset(),h=e.height();b.each(function(){var a=$(this),b=a.position().top+(a.hasClass("newSearch")?50:0);a.data("originalTop",b)});Iz(a,!1);setTimeout(function(){b.each(function(a){var b=$(this);b.offset().top<g.top+h?setTimeout(function(){b.removeClass("newSearch")},a*
M.za.Tv):b.removeClass("newSearch")})},M.Cc)})}function fN(a,b){var c=a.parents("li"),c=c.data("result");c||(c=a.parent().data("li"),c=c.data("result"));c.Cj(function(a){gN(a).then(function(){b(a.elements)})})}
function ZM(a){var b=a.parents("li"),c=b.data("result");c||(b=a.parent().data("li"),c=b.data("result"));var d=0<b.parents("#resultsBackground").length,e=parseInt(a.data("screen-width")||a.attr("width"),10),g=parseInt(a.data("screen-height")||a.attr("height"),10),h="image";a.hasClass("svg")?(h="svg",e*=J.ip,g*=J.ip):a.hasClass("graphic")&&(h="graphic");var k=c.dv();return{type:h,origin:c.Nd(),mediaId:c.u(),mediaVersion:c.getVersion(),mediaApproved:void 0!==a.data("mediaApproved")?a.data("mediaApproved"):
!0,width:e,height:g,isDark:!!a.hasClass("dark"),isBackground:c.kc()&&d,isCutout:c.fh(),isRepeating:c.rA(),isRecolorable:c.fd(),backgroundColor:c.fd()?b.data("color"):void 0,spritesheetMetadata:k&&Ug(k)}}
function hN(a){var b=Zg(I.hb().nb),c=$("img",a);a=c.parents("li").data("result");if("ELEMENT_GROUP"===LK(a))iN(a,!0,null);else{var c=Hg(ZM(c)),d=c.l(),e=c.o(),g=Math.min(d,b.l()*M.zh),h=g/d*e;h>b.o()*M.zh&&(h=b.o()*M.zh,g=h/e*d);c.na(g);c.ca(h);wC(c);c.AB();b=I.Aa();c.Vk(b);jN(c,a);c.Mj()&&kN(a,c);Jg(c)}}
function iN(a,b,c){function d(b,d,h,k){g=b.elements.filter(function(a){return"group"!==a.type}).map(function(a){delete a.elementIndex;delete a.groupIndex;"text"===a.type?(l++,a=new Rp(a,e)):a=Hg(a);var b=(new gn).translate(-1*d.F(),-1*d.w());a.transform(b);tF(d,a);return a});b=new V(0,0,d.l(),d.o());var m=M.zh*h.l(),z=M.zh*h.o(),m=new V(0,0,m,z),m=nh(b.clone(),m);m.l()<b.l()||m.o()<b.o()?d.setSize(m.l(),m.o(),!0):d.setSize(b.l(),b.o(),!0);k?d.Vk(h):c&&(d.setPosition(c.x,c.y),h.addElement(d),LF(d,
h));Jg(d);U&&U.track("text_group_insert",{media_id:a.u()})}function e(){++k===l&&(h.yr(g[0]),b?h.setPosition((m.l()-h.l())/2,(m.o()-h.o())/2):c&&(h.setPosition(c.x,c.y),Kg(h)))}var g,h,k=0,l=0,m=I.Aa();a.Cj(function(c){if(c&&c.elements&&0<c.elements.length){var e=c.elements.filter(function(a){return"group"===a.type});h=new ZB(e[0]);gN(c).then(function(){d(c,h,m,b);cm("text_group",a.u(),LK(a))})}})}
function gN(a){function b(a){a&&a.media&&a.media.forEach(function(a){a&&Yg(vb,a.u(),a.Ha().getVersion(),a.Ha().nc())})}a=function(a){function b(a){a.mediaId&&e.push(new en({id:a.mediaId,version:a.mediaVersion}));a.fontMedia&&e.push(fn(a.fontMedia));Array.isArray(a.htmlFontMedia)&&(e=e.concat(a.htmlFontMedia.map(fn)))}var e=[];a.elements&&a.elements.length&&a.elements.forEach(function(a){b(a);a.contents&&a.contents.length&&a.contents.forEach(b)});return e}(a);return a.length?(a=VE((new UE).Co(),a),
vE(Bb,a).then(b)):P.resolve()}function kN(a,b){"CANVA"!==a.Nd()&&Lg(Fb,a,b)}function lN(a){var b=a.parents(".photoGallery").first();a.find(".info").remove();a.find("a").addClass("removed");a.find("img").addClass("removed");a.addClass("removed");window.setTimeout(function(){a.remove();Hz(b)},500)}function Gz(){$(".infoPanel .close").click()}
function uM(a){function b(a){a=a.u();var b=c();return b.hasOwnProperty(a)?b[a]:null}function c(){return(new rh(window.viewConfig)).kg.get("magicTemplates",[]).map(eM).reduce(function(a,b){a[b.template]=mN(b);return a},{})}function d(){m.removeClass("transitioning")}var e=$(this).parents("a"),g=$("img",e),h=e.parents("li"),k=e.parents(".gallery"),l=e.parents(".layer"),m=e.parents(".searchGroup"),n=$(this).parents(".results"),p=nN(m),q=parseInt(m.css("margin-top"),10),u=1===$(this).parents("#resultsUpload").length,
v=1===$(this).parents("#resultsLayout").length,z=oN(m),r=0,x=m.prevAll(".searchGroup");x.each(function(){r=Math.max(r,oN($(this)));z+=r});v&&z>l.height()&&(l.find(".infoPanel").css("height","0"),x.find(".infoPanel").css("height","0"),l.scrollTop(l.scrollTop()-z));l.find(".infoPanel .close").click();e.addClass("infoOpen");var x=h.data("result"),H=h.data("designItem"),D=h.data("originalTop"),K=h.height(),E=D+K,p=p+E+eN(m),q=p-r+q;if(null!=x||null!=H){var O=(new pN({Nb:Gx(Dx()).fa().tp(),Pa:xb,DM:!!H,
QM:!!x,Nj:!(!x||!NK(x)),SM:!1===g.data("mediaApproved"),TM:u,rs:H&&b(H),model:x||H,bO:lN.bind(null,h),i:a,W:Ib,QH:g.height()/g.width()})).render().$el;O.data("item",e);O.css("top",q).appendTo(m);e.data("infoPanel",O);var Q=$('\x3cdiv class\x3d"infoPanelPointer"\x3e\x3c/div\x3e');Q.css("left",parseInt(h.css("left"),10)+parseInt(O.css("left"),10)+h.width()/2).css("top",q).appendTo(m);O.data("infoPanelPointer",Q);var N=O.height(),da=O.outerHeight(!0);O.one("transitionend",d).css("height",0);P.delay(M.Cc).then(function(){O.addClass("on").css("height",
N);Q.addClass("on")});var ca=qN(k,E),ca=ca.filter(function(a){return a!=h.get(0)}),sa=k.data("columnData");sa.ra.forEach(function(a){var b=null;a.items.filter(function(a){return-1<ca.indexOf(a.get(0))}).forEach(function(c){var d=c.data("originalTop");null===b&&(b=E+da-d,a.wf=b);c.css("top",d+b).data("modifiedTop",d+b).data("columnIndex",sa.ra.indexOf(a))})});a=l.find("\x3e .inner \x3e .searchGroup").last().get(0)==m.get(0);m.addClass("transitioning");Iz(m,!a);v?setTimeout(function(){var a=h.parents(".scrollPane").get(0).getBoundingClientRect(),
b=h.get(0).getBoundingClientRect(),c=a.top>b.top,d=a.height>da+b.height,e=0;a.height-b.bottom>da?c&&(e=b.top-a.top-15):e=d?da-(a.bottom-b.bottom):b.top-a.top-15;30>=e&&-30<=e&&(e=0);l.animate({scrollTop:l.scrollTop()+e},M.za.Jq)},300):(v=p+da,n=dN(n),a=v-q<l.height(),v>n&&a?l.animate({scrollTop:l.scrollTop()+(v-n)},M.za.Jq):q<l.scrollTop()&&l.animate({scrollTop:l.scrollTop()-(l.scrollTop()-q)},M.za.Jq),m.hasClass("inlineFolderGroup")&&T.trigger("infoPanelToggle",m,oN(m)))}}
function vM(){var a=$(this),b=a.parents("a").parents("li"),c=!0===b.data("superKeywordAdd"),d=b.data("query"),e=b.data("result");if(d&&e){var g=(e.fM()||[]).slice();c?g.push(d):g=g.filter(function(a){return a!==d});g=g.map(function(a){return new KE("en",a.trim())});e=XE((new yE).Do(e.u()).xk(e.getVersion()),g);wE(Bb,e,function(e){200==e&&(c?(a.removeClass("superMiss"),a.addClass("superHit"),a.attr("title","Remove superKeyword '"+d+"'"),b.data("superKeywordAdd",!1)):(a.removeClass("superHit"),a.addClass("superMiss"),
a.attr("title","Add superKeyword '"+d+"'"),b.data("superKeywordAdd",!0)))})}}
function rN(){var a=$(this).parents(".infoPanel"),b=a.data("xhr"),c=a.data("item");c.removeClass("infoOpen");c.parents("li").siblings().each(function(){var a=$(this).data("originalTop");$(this).css("top",a).removeData("modifiedTop")});var d=a.parents(".searchGroup").first();d.addClass("transitioning").height(d.data("contentHeight"));$(".gallery",d).data("columnData").ra.forEach(function(a){a.wf=0});a.one("transitionend",function(){e&&(e.remove(),a.remove(),d.removeClass("transitioning"))}).removeClass("on").css("height",
0);var e=a.data("infoPanelPointer");e.removeClass("on");b&&b.cancel();b=null;a.removeData("xhr");d.hasClass("inlineFolderGroup")&&T.trigger("infoPanelToggle",d,0);return!1}
function xM(a){function b(a){function b(){r=$('\x3cdiv class\x3d"clone"\x3e\x3c/div\x3e');var a=ZM(m);x=Hg(a);x.na(q);x.ca(u);var c=$('\x3cdiv class\x3d"cloneInner"\x3e').append(x.C()),e;m.is(".svg")?e="svg":m.is(".graphic")&&(e="graphic");ha&&(c.addClass("elementGroupSearchResult"),fN(m,function(a){a=sF(a);var b=new V(0,0,a.l(),a.o()),d=M.zh*K.l(),e=M.zh*K.o(),d=new V(0,0,d,e),d=nh(b.clone(),d),e=b.l(),g=b.o();if(d.l()<b.l()||d.o()<b.o())e=d.l(),g=d.o();v=e*W;z=g*W;l=k/(v/z);a.setPosition(0,0);a.setSize(e,
g);a.gP=!1;a.Ts=!1;c.empty().append(a.C());x=a}));e&&(r.addClass(e),c.addClass(e),a=Fb.Gc(a.mediaId,a.mediaVersion),x instanceof ZB?x.ja().filter(function(a){return a instanceof hp})[0].Oq(a[QC].ma()):x.Oq(a[QC].ma()));r.append(c).css("left",h.left).css("top",h.top).css("transform-origin","top left").css("transform","scale("+k/v+", "+l/z+")").toggleClass("cutout",x.fh()).data("li",g.parents("li")).data("canvaElement",x).data("isOrganicSearchResult",d);$("#content").append(r);g.css("visibility","hidden");
ha||!x.FD()&&!x.fh()||qh(r,null,RM(Oa));$("#search").blur()}var c=void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX;a=void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY;if(null==r)if(RM(Oa)){var e=Rn(Q,N,c,a);if(300<e||60>e)b();else return!0}else(Math.abs(c-Q)>M.Dc||Math.abs(a-N)>M.Dc)&&b();if(null!=r){var n=Math.min(1,Math.sqrt(Math.pow(c-Q,2)+Math.pow(a-N,2))/sa),e=Math.min(1,k/(v*(1-n))),p=Math.min(1,l/(z*(1-n)));if(c>Q){r.css("transform","scale("+e+", "+p+")");if(x.ib()){var rc=
GF(x);Gb||rc&&0!==rc.length&&(1!==rc.length||"#000000"!==rc[0])||(Gb=uh(M.aD));Gb&&(rc=I.Aa().xg()?Gb:uh(M.$C))&&x.QP(Cn(Gb,rc,n))}x.Ay()&&(null===x.lm&&wC(x),yC(x,n),x.AB());n=Math.round(h.top+a-N-(p*z-l)*ca);r.css("left",Math.round(h.left+c-Q-(e*v-k)*da)).css("top",n)}else r.css("transform-origin","top left").css("transform","scale("+k/v+", "+l/z+")").css("left",h.left+c-Q).css("top",h.top+a-N);(c<D.left||c>D.left+H.outerWidth()||a<D.top||a>D.top+H.outerHeight())&&r&&!r.hasClass("disappeared")&&
!r.hasClass("placing")&&sN(E,r)?(null==ia&&(ia=new jh(r,O)),lh(ia,Ab,Da)):$("#overlays .align").removeClass("on")}return!1}function c(a){function e(){$(this).remove();g.css("visibility","visible")}function m(){g.css("opacity",0);window.setTimeout(function(){g.one("transitionend",function(){$(this).removeClass("reappearing")}).css("visibility","").addClass("reappearing").css("opacity","")},M.Cc)}function n(){var a;if(a=ha.sv())a=Ib.H.get(wg);a&&!Ib.H.get(tg)&&(Ib.H.get(Dg)?(a=Lb,a.j.wa(tm()),Oo(a,
tN)):(a=Lb,a.j.wa(tm()),Oo(a,Po)))}Oa.off("mousemove|touchmove",b).off("mouseup|touchend",c);if(!0!==uN){$("#overlays .align").removeClass("on");$("#content").trigger("mousedown");ph();var p=void 0!==a.clientX?a.clientX:a.originalEvent.changedTouches[0].clientX;a=void 0!==a.clientY?a.clientY:a.originalEvent.changedTouches[0].clientY;var q=Math.abs(a-N)>M.Dc,q=Math.abs(p-Q)>M.Dc||q;$("#hotspots").remove();P.delay(M.za.m7).then(function(){g.removeClass("pickedUp")});var u=g.parents("li");if(u.data("result")){var ha=
u.data("result");if(null==r&&!q)return $("#search").blur(),hN(u),p=VK(ha,d),HK(p),n(),!1;null!=r&&null!=x&&((p<D.left||p>D.left+H.outerWidth()||a<D.top||a>D.top+H.outerHeight())&&r&&!r.hasClass("disappeared")&&sN(E,r)?(p=I.Aa(),"ELEMENT_GROUP"===LK(ha)?iN(ha,!1,{x:ia.F(),y:ia.w()}):(x.setPosition(ia.F(),ia.w()),x.na(ia.l()),x.ca(ia.o()),p&&x.appendTo(p),x.Mj()&&kN(ha,x),Jg(x),Kg(x)),m(),p=VK(ha,d),HK(p),jN(x,ha),n(),r.remove()):null==r||r.hasClass("disappeared")?null!=r&&r.hasClass("disappeared")&&
(m(),vN(r.data("placedInElement"))):(h=g.offset(),r.addClass("returning"),r.one("transitionend",e).css("left",h.left).css("top",h.top).css("transform","scale("+k/v+", "+l/z+")")))}}}if(a.which==M.yh||a.ctrlKey)return!0;if($(a.target).is(".removed")||$(a.target).is(".moreInfo")||$(a.target).is(".superKeyword"))return!1;var d=1===$(this).parents("#resultsSearch").length,e=Zg(I.hb().nb),g=$(this);g.addClass("pickedUp");var h=g.offset(),k=g.width(),l=g.height(),m=$("img",g).first(),n=ZM(m),p=n.width,
n=n.height,q=Math.min(p,e.l()*M.zh),u=q/p*n;u>e.o()*M.zh&&(u=e.o()*M.zh,q=u/n*p);var v=q*W,z=u*W,r=null,x=null,H=$("#objectPanel"),D=H.offset(),K=I.Aa(),e=oh(J),E=e.$el,O=e.$el.find(".page__content").offset(),Q=void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX,N=void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY,da=(Q-h.left)/k,ca=(N-h.top)/l,sa=Math.abs(Q-(D.left+H.outerWidth())),Oa=new mp($(document)),ha=1===$(a.target).parents(".elementGroupSearchResult").length;Oa.on("mousemove|touchmove",
b).on("mouseup|touchend",c);var ia=null,Da=kh(),Ab={},Gb=null;return wN}
function zM(a){function b(a){function b(a){var c=$('\x3cdiv class\x3d"clone" style\x3d"pointer-events: none"\x3e\x3c/div\x3e'),d=a.offset(),e=a.width(),g=a.height();c.append(ZG(m)).css("left",d.left).css("top",d.top).css("width",e).css("height",g).css("transform-origin","top left");$("#content").append(c);a.css("visibility","hidden");$("#search").blur();return c}var c=void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX;a=void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY;
var d=c-E.x,g=a-E.y,n=Math.abs(d)>M.Dc||Math.abs(g)>M.Dc;if(!x)if(n)x=b(e);else if(RM(da))if(g=180*Math.atan2(g,d)/Math.PI,300<g||60>g)x=b(e);else return!0;if(x){d=ln(ln(d,0,d)/N);g=mn(1,z/k,d);n=mn(1,r/l,d);x.css("width",g*k+"px").css("height",n*l+"px").css("left",h.left+c-E.x-mn(0,(z-k)*O.x,d)).css("top",h.top+a-E.y-mn(0,(r-l)*O.y,d));g=x.find('[data-recolorable-lines\x3d"true"] \x3e line');if(g.length){var n=e.find('[data-recolorable-lines\x3d"true"] \x3e line').first().attr("stroke"),p=I.Aa().xg()?
M.aD:M.$C,d=Cn(Gn(n),Gn(p),d);g.attr("stroke",d.toString())}c>Q&&sN(D,x)?(ca=ca||new jh(x,K),lh(ca,Oa,sa)):xN();d=$(".selectionBox");d.css("pointer-events","none");c=$(document.elementFromPoint(c,a));d.css("pointer-events","");c=c.is(".element.chart")?c:c.parents(".element.chart");$(".element.chart").not(c).removeClass("chartElement--droppable");c.length&&c.addClass("chartElement--droppable")}return!1}function c(a){function g(){$(this).remove();e.css("visibility","visible")}function p(){e.css("opacity",
0);P.delay(M.Cc).then(function(){e.one("transitionend",function(){$(this).removeClass("reappearing")}).css("visibility","").addClass("reappearing").css("opacity","")})}da.off("mousemove|touchmove",b).off("mouseup|touchend",c);if(!0!==uN){xN();ph();var q=d(a);a=Math.abs(q.x-E.x)>M.Dc||Math.abs(q.y-E.y)>M.Dc;var r=Hg(m);r.na(u);r.ca(v);if(!a&&!x)return $("#search").blur(),1===n.length&&n[0]instanceof VG?(a=n[0],q=a.serialize(),zH(a,r.serialize()),L.register(new Y(yN,{elementIndex:a.K(),pageIndex:a.R().K(),
"new":a.serialize(),old:q})),Kg(a),r=null):r&&(r.Vk(H),jN(r),xH(r,function(){r&&(Jg(r),jN(r),U&&bm(m.chart.chartType))})),!1;x&&(a=q.x>Q&&sN(D,x),q=$(document.elementFromPoint(q.x,q.y)),q=q.is(".element.chart")?q:q.parents(".element.chart"),a&&r&&q.length?(a=q.data("canvaElement"),q.removeClass("chartElement--droppable"),a&&(q=a.serialize(),zH(a,r.serialize()),L.register(new Y(yN,{elementIndex:a.K(),pageIndex:a.R().K(),"new":a.serialize(),old:q})),Kg(a)),p(),x.remove(),r=null):a&&r?(r.setPosition(ca.F(),
ca.w()),r.appendTo(H),oH(r,function(){r&&(Jg(r),U&&bm(m.chart.chartType))}),Kg(r),p(),x.remove()):(x.addClass("returning"),x.one("transitionend",g).css("left",h.left).css("top",h.top).css("width",k).css("height",l)))}}function d(a){return{x:void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX,y:void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY}}if(a.which==M.yh||a.ctrlKey)return!0;var e=$(this),g=e.parents("li").data("chart-name"),h=e.offset(),k=e.width(),l=e.height(),m=JSON.parse(JSON.stringify(Wm[g])),
n=I.Ta(),g=m.width,p=m.height,q=Zg(I.hb().nb),u=.75*q.l(),v=u/g*p;v>.75*q.o()&&(v=.75*q.o(),u=v/p*g);var z=u*W,r=v*W,x=null,H=I.Aa(),g=oh(J),D=g.$el,K=g.$el.find(".page__content").offset(),E=d(a),O={x:(E.x-h.left)/k,y:(E.y-h.top)/l},Q=document.getElementById("objectPanel").getBoundingClientRect().right,N=Math.abs(E.x-Q),da=new mp($(document));da.on("mousemove|touchmove",b).on("mouseup|touchend",c);var ca=null,sa=kh(),Oa={};return wN}
function yM(a){function b(a){function b(){h=e.clone(!1);h.appendTo("#content").css("top",u).css("left",q).addClass("clone draggableGridItem dragging");e.css("visibility","hidden")}var c=void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX;a=void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY;if(null==h)if(RM(da)){var d=Rn(E,O,c,a);if(300<d||60>d)Q=!0,b();else return!0}else c-E>M.Dc&&(Q=!0,b());null!=h&&(a=Math.min(1,Math.sqrt(Math.pow(c-E,2)+Math.pow(a-O,2))/N),a=c<=E?0:a,c=
2+(m-2)*a,d=z+(K-z)*a,h.css("width",v+(D-v)*a).css("height",d),d=u+(H-u)*a,h.css("left",q+(x-q)*a).css("top",d),h.find("\x3e .rows, \x3e .columns, .item \x3e .content").css("left",c/2).css("right",c/2).css("top",c/2).css("bottom",c/2));return!1}function c(){p.ja().forEach(function(a){if(a instanceof VB){for(var b=a.Xf(),c,d=!0,e=0>=a.w()&&0>=a.F()&&0===a.Qa()&&a.l()>=p.l()&&a.o()>=p.o(),g=0;g!==b;g++)if(c=a.kl(g).mediaId){d=!1;break}d&&e&&(VM(a),a.remove())}})}function d(a){function g(a){function b(a){this==
a.target&&$(this).off("animationend",b).remove()}this==a.target&&($(this).off("transitionend",g).on("animationend",b).addClass("disappearing"),e.css("visibility",""))}function k(){e.css("opacity",0);setTimeout(function(){e.one("transitionend",function(){$(this).removeClass("reappearing")}).css("visibility","").addClass("reappearing").css("opacity","")},M.Cc)}a=void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX;Q?a>=x?(ZJ(),n.ld(r),c(),n.appendTo(p),Kg(n),Jg(n),$J(),k(),h.remove()):(h.addClass("returning").on("transitionend",
g),parseInt(h.css("left"),10)==Math.floor(q)&&parseInt(h.css("top"),10)==Math.floor(u)?h.trigger("transitionend"):h.css("left",q).css("top",u).css("width",v).css("height",z)):(ZJ(),n.ld(r),c(),n.Vk(p),jN(n),Jg(n),$J());da.off("mousemove|touchmove",b).off("mouseup|touchend",d)}if(a.which==M.yh||a.ctrlKey)return!0;$("#search").blur();ph();var e=$(a.currentTarget),g=e.offset(),h=null,k=e.parents("li").data("grid-name"),l=$.extend(!0,[],Vm[k].items),m=(Vm[k].spacing||M.ZC)*W,n=new VB({items:l}),p=I.Aa(),
k=J.Aa(),l=$("#canvaDocument \x3e .inner").offset(),k=eh(k).translate(l.left,l.top),q=g.left,u=g.top,v=e.width(),z=e.height(),g=0<$p(p).filter(function(a){return!a.yg()}).length,r=bn(p.l(),p.o(),n.ce(),g),g=r.clone().scale(W).translate(k.F(),k.w()).round(),x=g.F(),H=g.w(),D=g.l(),K=g.o(),E=void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX,O=void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY,Q=!1,N=x-E,da=new mp($(document));da.on("mousemove|touchmove",b).on("mouseup|touchend",
d);return!1}function oN(a){var b=0,c=$(".gallery",a).data("columnData");if(c)b=Cl(c.ra.map(function(a){return a.wf}));else return b;b=Cl(c.ra.map(function(a){return a.height}));c=Cl(c.ra.map(function(a){return 0==a.height?0:a.height+a.wf}));return b=b!=c?c-b:cN(a)}function cN(a){var b=0,c=$(".infoPanel",a).clone();0<c.length&&(c.appendTo(a).addClass("doNotTransition").css("height","").css("display","none"),b=c.outerHeight(!0),c.remove());return b}
function Iz(a,b){if(0!=a.parents(".results.infinite").length){var c=a.parents(".results").first(),d=a.is(".inlineFolderGroup")||c.is("#resultsLayout"),e=d?a.find("p button")?a.find("p").height():0:nN(a),g=0;$(".gallery li",a).each(function(a,b){a=$(b);g=Math.max(g,a.data("originalTop")+a.height())});g+=e;a.data("contentHeight",g);e=oN(a);b||d?a.height(g+e):a.height(Math.max(g+e,c.height()))}}
function AM(){var a=$(this).parents(".results");clearTimeout(a.data("scrollTimer"));var b=setTimeout(function(){zN(a)},100);a.data("scrollTimer",b)}
function qN(a,b){var c=[];a=a.data("columnData");if(void 0===a)return c;a=a.ra;for(var d=0;d<a.length;d++){for(var e=a[d].items,g=0,h=!1,k=0;k<e.length;k++){var l=e[k],m=l.data("originalTop")||0,m=(l.data("modifiedTop")||m)-m;0==m||h||(g+=m,h=!0);g+=l.height();if(g>b)break}c=c.concat(e.slice(k))}return c.map(function(a){return a.get(0)}).filter(function(a){return null!=a.parentNode})}
function MM(a,b){var c;c=a.find(".layer \x3e .inner \x3e .searchGroup").find(".gallery li").first();var d=a.hasClass("twoCol")?120:70;c=c.width()||d;a=Math.floor(Math.abs(a.find(".layer").width())/c)||1;return Math.max(18,a*Math.max(Math.ceil(b/c),3))}
function zN(a){if(null!=wM&&!a.is(".modifying")){var b=a.find(".layer").last(),c=b.find("\x3e .inner \x3e .searchGroup").last();0<$(".searchLoaderHolder \x3e .searchLoader",a).length||0<$(".searchLoader",c).length||gh().read(function(d){var e=c.outerHeight()+c.offset().top-(a.offset().top+a.outerHeight());null!=wM&&wM.nq>=wM.limit&&e<=a.outerHeight()*M.OR&&d.write(function(){var c=b.find("\x3e .inner \x3e .searchGroup .gallery li").length;c>M.cD&&AN(b,c-M.cD);c=a.find(".searchLoaderHolder");KM(c);
c.addClass("on");wM.from+=wM.limit;wM.rY()})})}}
function AN(a,b){for(var c=a.parents(".results"),d=$(),e=$(),g=a.find("\x3e .inner \x3e .searchGroup").toArray(),h=0;h<g.length&&!(0>=b);h++){var k=$(g[h]),l=$(".gallery li",k);if(l.length<b)d=d.add(k),b-=l.length;else for(var k=b,m=0;m<k;m++)e=e.add(l[m]),b--}b=e.parents(".searchGroup").add(d);g=$(".infoPanel",b);0<g.length&&(b.addClass("doNotTransition"),g.addClass("doNotTransition"),$(".close",g).click(),g.data("infoPanelPointer").remove(),g.remove(),b.removeClass("doNotTransition"));c.addClass("modifying");
a.find("\x3e .inner \x3e .searchGroup").addClass("doNotTransition");b=a.scrollTop();var g=e.parents(".searchGroup"),n=0;0<g.length&&(h=g.outerHeight(!0),l=$(".gallery",g),l.removeData("columnData"),e.remove(),Hz(l),n+=h-g.outerHeight(!0));d.each(function(){n+=$(this).outerHeight(!0)});d.remove();g=a.find("\x3e .inner \x3e .searchGroup .infoPanel");0<g.length&&g.addClass("doNotTransition").css("top",parseInt(g.css("top"),10)-n).removeClass("doNotTransition");a.scrollTop(Math.max(0,b-n));a.find("\x3e .inner \x3e .searchGroup").removeClass("doNotTransition");
c.removeClass("modifying")}function nN(a){return 0==a.length?0:$(".gallery, .noResults",a).offset().top-a.offset().top}function BN(a){a=a.find("\x3e .inner \x3e .searchGroup").last();return eN(a)+a.outerHeight(!0)}function eN(a){return 0==a.length?0:a.parents(".layer").scrollTop()+a.position().top}
function CN(a,b){if(null!=a&&0!=b.length){var c=b.toArray();a.ra.forEach(function(a){c.forEach(function(b){var c=a.items.map(function(a){return a.get(0)}).indexOf(b);-1>=c||(a.items.splice(c,1),a.height-=$(b).height(),void 0!==$(b).data("modifiedTop")&&1<=c&&void 0===a.items[c-1].data("modifiedTop")&&(a.wf=0))})})}}function dN(a){var b=a.find(".layer").last().scrollTop();a=a.height();return b+a}
function JM(){var a=$("#objectPanel \x3e menu \x3e li.on").index();return $("#objectPanel \x3e .content \x3e .results").eq(a)}function DN(){window.location.reload();return!1}function EN(a,b){$("#savingErrorCode").text("");$(".warningPanel"+b).one("animationend",function(){$(this).removeClass("on off")}).addClass("off");FN();return!1}function CM(){return EN.call(this,0,"#someoneElseEditing")}function DM(){return EN.call(this,0,"#inReview")}function EM(){return EN.call(this,0,"#touchDevice")}
function GN(){$("#inReview").addClass("on");HN()}function IN(){$("#outOfSync").is(".on")||(JN(),HN(),$("#outOfSync").removeClass("off").addClass("on"),$("#outOfSync button").on("click",DN))}function KN(){$("#savingError").is(".on")||$("#outOfSync").is(".on")||($("#savingError").removeClass("off").addClass("on"),$("#savingError button").on("click",DN),Tb&&LN())}function JN(){$("#savingError").is(".on")&&($("#savingError").removeClass("on").addClass("off"),FN())}
function jN(a,b){var c="other";a instanceof VB?c="grid":a instanceof RB?c="image":a instanceof hp&&(c="image:svg");U&&cm(c,b?b.u():null,b?LK(b):null)};function MN(){this.hd=[];this.uw=[];this.cn=[];this.eP=this.TQ=!1}f=MN.prototype;f.trigger=Backbone.Events.trigger;f.listenTo=Backbone.Events.listenTo;f.stopListening=Backbone.Events.stopListening;f.on=Backbone.Events.on;f.once=Backbone.Events.once;f.off=Backbone.Events.off;_.extend(MN.prototype,Backbone.Events);
MN.prototype.register=function(a){if(a.data["new"]&&a.data.old&&JSON.stringify(a.data["new"])==JSON.stringify(a.data.old)||this.TQ||this.eP)return!1;var b=a instanceof NN;0<this.cn.length?this.cn[this.cn.length-1].push(a):(this.hd.push(a),this.uw=[],!b&&I.trigger("change"));return!0};function ON(){var a=L;return a.hd.length?a.hd[a.hd.length-1]:null}function ZJ(){var a=L,b=new NN;a.register(b);a.cn.push(b)}
function $J(){var a=L;if(0==a.cn.length)throw Error("mismatched number of .endGrouping calls");var b=a.cn.pop();-1!==a.hd.indexOf(b)&&0===b.getLength()&&a.hd.splice(a.hd.indexOf(b),1);0==a.cn.length&&I.trigger("change")}
function AL(a,b){var c=L;function d(a){var b=[];a instanceof Y?b.push(a):a instanceof NN&&a.hd.forEach(function(a){b=b.concat(d(a))});return b}function e(a,b,c){a.mediaId===b.mediaId&&a.mediaVersion===b.mediaVersion&&(a.mediaId=c.mediaId,a.mediaVersion=c.mediaVersion)}c=c.hd.map(d).concat(c.uw.map(d));[].concat.apply([],c).forEach(function(c){switch(c.Lb){case PN:e(c.data["new"],a,b);e(c.data.old,a,b);break;case QN:case RN:e(c.data,a,b)}})}
function SN(a){var b=[];if(a instanceof NN)a=a.hd,a.forEach(function(a){a=SN(a);b=b.concat(a)}),2===b.length&&2==a.length&&a[0]instanceof Y&&a[1]instanceof Y&&a[0].Lb==QN&&a[1].Lb==PN&&(b=SN(a[0]));else if(a.Lb!=RN&&(a instanceof Y||a instanceof TN)){var c=a.data.elementIndex;I.O[a.data.pageIndex].ja().forEach(function(a){a.K()==c&&b.push(a)})}return _.uniq(b)}function UN(){this.Lb=null;this.data={}}
UN.prototype.Pn=function(){throw Error("classes that inherit from Operation must implement .perform");};UN.prototype.invert=function(){throw Error("classes that inherit from Operation must implement .invert");};function VN(a){return $.extend(!0,{},a)}function NN(){this.hd=[]}NN.prototype=new UN;NN.prototype.Pn=function(){this.hd.forEach(function(a){a.Pn()})};NN.prototype.invert=function(){var a=new NN;this.hd.reverse();this.hd.forEach(function(b){a.push(b.invert())});this.hd.reverse();return a};
NN.prototype.push=function(a){this.hd.push(a)};NN.prototype.getLength=function(){return this.hd.length};var kp=1,RN=2,QN=3,PN=5,aN=7,$M=8,WM=9,yN=16;function Y(a,b){this.Lb=a;this.data=b}Y.prototype=new UN;
Y.prototype.Pn=function(){lp();var a=I.O[this.data.pageIndex],b=a.ja().length,c;switch(this.Lb){case QN:c=Hg($.extend(!0,{},this.data));break;case 4:case aN:case $M:c=a.elements[this.data.oldElementIndex]||null;break;default:c=a.elements[this.data.elementIndex]||null}if(!c)throw Error("error performing operation on non-existent element");var d,e;switch(this.Lb){case kp:a=this.data["new"];null!=a.left&&c.gb(a.left);null!=a.top&&c.ab(a.top);null!=a.rotation&&c.Sl(a.rotation);null!=a.flipOrientation&&
c.ht(a.flipOrientation);null!=a.transparency&&c.Tl(a.transparency);null!=a.borderWidth&&VD(c,a.borderWidth);null!=a.spacing&&c.Qq(a.spacing);null!=a.padding&&c.VB(a.padding);null!=a.verticalAlignment&&(c.pe=a.verticalAligment);c.setSize(null==a.width?c.l():a.width,null==a.height?c.o():a.height,this.data.proportionalSetSize);null!=a.transformDependentData&&c.EY(a.transformDependentData);break;case 11:a=this.data["new"];d=c.vp(this.data.placeholderIndex);a.filter?BI(WC(d),a.filter)||KI(d,a.filter):
LI(d);break;case 10:a=this.data["new"];null!=a.link&&bC(c,a.link);break;case RN:c.remove();break;case 4:d=this.data.elementIndex;this.data.oldElementIndex<d&&d++;b=a.ja().length;d=Math.max(Math.min(b,d),0);e=a.elements[d]||null;d==b?c.appendTo(a):e&&c.insertBefore(e);break;case QN:d=this.data.elementIndex;var g=this.data.groupElementIndex,h=this.data.groupIndex;e=$.extend(!0,{},this.data);delete e.groupIndex;delete e.groupElementIndex;c=Hg(e);if(!c)throw Error("bad element template while performing operation of type"+
this.Lb.toString());d=Math.max(Math.min(b,d),0);e=a.elements[d]||null;if(void 0!==g){var k=a.elements[g]||null;if(!k)throw Error("group could not be found for operation type "+this.Lb.toString());k.vx();tF(k,c,h);c.qv()?(a=function m(a){a===c&&(k.yr(c),T.off("elementLoaded",m),T.off("elementLoadingError",m))},T.on("elementLoaded",a),T.on("elementLoadingError",a)):k.yr(c)}else d==b?c.appendTo(a):e&&c.insertBefore(e);break;case PN:c.Pq(this.data.placeholderIndex,this.data["new"]);break;case 6:a=c.Iz(this.data.placeholderIndex);
c.ft(a);a=this.data["new"];d=Gm(a.imageBox);e=Gm(a.placeholderBox);c instanceof RB?a.cropped?(zl(c,e),c.Ql(d),c.Cr(),c.gb(a.left),c.ab(a.top)):(c.gb(a.left),c.ab(a.top),c.na(d.l()),c.ca(d.o()),zl(c,e),c.Ql(d),c.gI=!1,c.Jk=!1,c.C().find("img").css("transform","").css("width","").css("height","")):(c.Ql(d),c.Cr());break;case aN:aq(c);qC(a,c,this.data.elementIndex);this.data.backgroundColor&&c.Ud(0,this.data.backgroundColor);break;case $M:YC(c);qC(a,c,this.data.elementIndex);break;case WM:d=this.data["new"];
a=d.index;d.placementData?c.Pq(a,d.placementData):(d=uh(d.color),c.Ud(a,d));break;case 12:c.Ua[this.data.placeholderIndex].ht(this.data["new"].flipOrientation);break;case 13:b=this.data.childRange;g=this.data.elements;e=$.extend(!0,{},this.data);e.elements=[];d=this.data.elementIndex;c=new ZB(e);qC(a,c,d);if(2===b.length)for(d=b[0],e=0;d<=b[1];d++,e++)if(h=a.elements[d]||null)h.setPosition(g[e].left,g[e].top),h.setSize(g[e].width,g[e].height),h.Tl(g[e].transparency),h.Sl(g[e].rotation),c.addElement(h),
c.C().find(".elements").append(h.C());break;case 14:WN(c);break;case 15:c.ws(this.data["new"].data);c.render({JO:!0});break;case yN:zH(c,$.extend(!0,{},this.data["new"]));break;default:throw Error("cannot perform unknown operation type "+this.Lb.toString());}};
Y.prototype.invert=function(){function a(a){var b=a.elementIndex;a.elementIndex=a.oldElementIndex;a.oldElementIndex=b}var b=VN(this.data);switch(this.Lb){case kp:case 11:case 6:case PN:case WM:case 10:case 12:case 15:case yN:return b["new"]=this.data.old,b.old=this.data["new"],new Y(this.Lb,b);case QN:case RN:return new Y(this.Lb==QN?RN:QN,b);case 4:return a(b),new Y(this.Lb,b);case aN:return a(b),new Y($M,b);case $M:return a(b),new Y(aN,b);case 13:return new Y(14,b);case 14:return new Y(13,b);default:throw Error("cannot invert unknown operation type "+
this.Lb.toString());}};function XN(a,b){this.Lb=a;this.data=b}XN.prototype=new UN;XN.prototype.Pn=function(){lp();var a=null;1==this.Lb?(a=$.extend(!0,{},this.data),a=new Op(I,a)):a=I.O[this.data.pageIndex];switch(this.Lb){case 5:a=I.O[this.data.oldPageIndex];case 1:bq(I,a,this.data.pageIndex);break;case 2:a.ja().forEach(function(a){aO(a)});dq(I,a);break;case 4:bO(a,this.data["new"]);break;default:throw Error("cannot perform unknown operation type "+this.Lb.toString());}};
XN.prototype.invert=function(){var a=VN(this.data);switch(this.Lb){case 1:case 2:return new XN(1==this.Lb?2:1,a);case 4:return a["new"]=this.data.old,a.old=this.data["new"],new XN(this.Lb,a);case 5:var b=a.pageIndex;a.pageIndex=a.oldPageIndex;a.oldPageIndex=b;return new XN(this.Lb,a);default:throw Error("cannot invert unknown operation type "+this.Lb.toString());}};function cO(a,b){return-1<[4,1].indexOf(a.Lb||-1)&&a.data.pageIndex===b}function TN(a,b){this.Lb=a;this.data=b}TN.prototype=new UN;
TN.prototype.Pn=function(){function a(){var a=b instanceof ZB?b.ja()[c]:b;a&&(void 0!==d.height&&a.ca(),void 0!==d.width&&a.na(d.width))}var b=I.O[this.data.pageIndex].elements[this.data.elementIndex]||null;if(!b)throw Error("operation element index out of bounds "+this.data.elementIndex);switch(this.Lb){case 1:var c=this.data.textIndex,d=this.data["new"];b.ej(c,d,a);break;default:throw Error("cannot perform unknown operation type "+this.Lb.toString());}};
TN.prototype.invert=function(){var a=VN(this.data);switch(this.Lb){case 1:return a["new"]=this.data.old,a.old=this.data["new"],new TN(this.Lb,a);default:throw Error("cannot invert unknown operation type "+this.Lb.toString());}};function dO(a,b){this.Lb=a;this.data=b}dO.prototype=new UN;
dO.prototype.Pn=function(){var a=this.data["new"],b,c;switch(this.Lb){case 1:b=a.doctypeSpec?Lp(a.doctypeSpec):null;c=Hu(a.docType);I.resize(c,b);break;case 2:b=a.doctypeSpec?Lp(a.doctypeSpec):null;c=Hu(a.docType);I.SQ(a.model,c,b);break;default:throw Error("cannot perform unknown document operation type "+this.Lb.toString());}};
dO.prototype.invert=function(){var a=VN(this.data);a["new"]=this.data.old;a.old=this.data["new"];switch(this.Lb){case 1:return new dO(2,a);case 2:return new dO(1,a);default:throw Error("cannot invert unknown operation type "+this.Lb.toString());}};(function(a){a.path={};var b={rotate:function(a,b){var e=b*Math.PI/180;b=Math.cos(e);e=Math.sin(e);return[b*a[0]-e*a[1],e*a[0]+b*a[1]]},scale:function(a,b){return[b*a[0],b*a[1]]},add:function(a,b){return[a[0]+b[0],a[1]+b[1]]},C3:function(a,b){return[a[0]-b[0],a[1]-b[1]]}};a.path.i0=function(c){c.start=a.extend({angle:0,length:.3333},c.start);c.end=a.extend({angle:0,length:.3333},c.end);this.OG=[c.start.x,c.start.y];this.PG=[c.end.x,c.end.y];var d=b.C3(this.PG,this.OG),e=b.scale(d,c.start.length),
d=b.scale(d,-1),d=b.scale(d,c.end.length),e=b.rotate(e,c.start.angle);this.bX=b.add(this.OG,e);d=b.rotate(d,c.end.angle);this.cX=b.add(this.PG,d);this.n2=function(a){return a*a*a};this.o2=function(a){return 3*a*a*(1-a)};this.p2=function(a){return 3*a*(1-a)*(1-a)};this.q2=function(a){return(1-a)*(1-a)*(1-a)};this.css=function(a){var b=this.n2(a),c=this.o2(a),d=this.p2(a);a=this.q2(a);var e={};e.x=this.x=this.OG[0]*b+this.bX[0]*c+this.cX[0]*d+this.PG[0]*a+.5|0;e.y=this.y=this.OG[1]*b+this.bX[1]*c+this.cX[1]*
d+this.PG[1]*a+.5|0;e.left=e.x+"px";e.top=e.y+"px";return e}};a.fx.step.path=function(b){var d=b.end.css(1-b.pos);null!=d.z7&&a.cssHooks.transform.set(b.elem,"rotate("+Math.atan2(d.Yaa-d.y,d.z7-d.x)+")");b.elem.style.top=d.top;b.elem.style.left=d.left}})(jQuery);function Dp(a,b,c,d){this.X=a;this.FO=0;this.HQ=23;this.pJ="";a=this.i=c;a.rd||(a.rd=new df(a.config));this.rd=a.rd;this.Ni=b;this.W=d}function eO(a){a.preventDefault();a.stopPropagation();return!1}var fO=[];
[[642,800,"https://static.canva.com/static/images/onboarding/lion-0.png"],[200,106,"https://static.canva.com/static/images/onboarding/lion-1.png"],[192,200,"https://static.canva.com/static/images/onboarding/lion-2.png"],[200,77,"https://static.canva.com/static/images/onboarding/lion-3.png"],[165,200,"https://static.canva.com/static/images/onboarding/lion-4.png"],[141,200,"https://static.canva.com/static/images/onboarding/lion-5.png"],[200,124,"https://static.canva.com/static/images/onboarding/lion-6.png"],[149,200,"https://static.canva.com/static/images/onboarding/lion-7.png"],[191,200,"https://static.canva.com/static/images/onboarding/lion-8.png"],[150,200,"https://static.canva.com/static/images/onboarding/lion-9.png"],[200,129,"https://static.canva.com/static/images/onboarding/lion-10.png"],
[129,200,"https://static.canva.com/static/images/onboarding/lion-11.png"],[200,154,"https://static.canva.com/static/images/onboarding/lion-12.png"],[200,174,"https://static.canva.com/static/images/onboarding/lion-13.png"],[200,70,"https://static.canva.com/static/images/onboarding/lion-14.png"],[124,200,"https://static.canva.com/static/images/onboarding/lion-15.png"],[200,176,"https://static.canva.com/static/images/onboarding/lion-16.png"],[200,132,"https://static.canva.com/static/images/onboarding/lion-17.png"],[200,149,"https://static.canva.com/static/images/onboarding/lion-18.png"]].forEach(function(a,b){var c="Monboarding"+b;0===b&&(c="M-YUM-LION");a=_.extend({},new JK,{pb:function(){return""},
id:c,u:function(){return c},files:{SI:{width:a[0],height:a[1],url:a[2]},Wx:{width:a[0],height:a[1],url:a[2]}}});fO.push(a)});function gO(){return{SCREEN:{ma:function(){return"https://static.canva.com/static/images/onboarding/lion-0.png"}},THUMBNAIL:{ma:function(){return"https://static.canva.com/static/images/onboarding/lion-0.png"}}}}function hO(a,b,c){c(200,{Ha:function(){return{getVersion:function(){return 0},nc:function(){return gO()}}}});return new Ik}f=Dp.prototype;f.go=function(){iO(this)};
function jO(a,b,c,d){function e(){var c=g.shift();c===a.pJ&&(c="\x3cbr\x3e");h+=c;b(h);0<g.length?window.setTimeout(e,250+Math.floor(100*Math.random())):window.setTimeout(d,250);return!1}var g=c.split(""),h="";b("");e()}
function kO(){for(var a=[],b=0;5!==b;b++)a[b]=new Image,a[b].crossOrigin="anonymous";a[0].src="https://static.canva.com/static/images/onboarding/lion-0.png";a[1].src="https://static.canva.com/static/images/onboarding/lion-1.png";a[2].src="https://static.canva.com/static/images/onboarding/lion-2.png";a[3].src="https://static.canva.com/static/images/onboarding/lion-3.png";a[4].src="https://static.canva.com/static/images/onboarding/lion-4.png"}f.gW=function(){var a=this;kO();WebFont.load({google:{families:["Abril+Fatface","Carter+One"]},active:function(){a.next()},inactive:function(){a.next()}})};
function lO(a){a.kT=!1;$("body").addClass("modalContentVisible modalContentBlurAndDarkenVisible");$("body \x3e .mask").addClass("on fullscreenMessageMask");$("body \x3e .mask").on("click",function(){mO(a).then(function(){a.kT||nO(a)}.bind(a))})}
function mO(a){$("body").removeClass("modalContentVisible modalContentBlurAndDarkenVisible");var b=$("body \x3e .mask");b.addClass("off");$("video.for-onboarding").remove();a.zb.addClass("disappearing");return P.delay(500).then(function(){b.removeClass("fullscreenMessageMask off on white");a.zb.remove()})}
f.GY=function(){lO(this);var a=ff(this.rd);Hp()&&!this.h3&&oO()&&(a=this.rd.format("twentyThreeSecondOnboardingChooseText"));this.zb=$('\x3cdiv id\x3d"onboarding-23second-dialog" class\x3d"for-onboarding onboarding-dialog"\x3e\x3cdiv class\x3d"onboarding-dialog-text"\x3e\x3cspan class\x3d"onboarding-time"\x3e'+this.HQ+'\x3c/span\x3e\x3cspan class\x3d"onboarding-description"\x3e'+this.rd.format("twentyThreeSecondOnboardingDescription")+'\x3c/span\x3e\x3c/div\x3e\x3cdiv class\x3d"onboarding-dialog-icons"\x3e\x3cspan class\x3d"onboarding-search"\x3e\x3cspan class\x3d"icon"\x3e\x3cimg src\x3d"https://static.canva.com/static/images/onboarding_search.png"/\x3e\x3c/span\x3e'+
a+'\x3c/span\x3e\x3cspan class\x3d"onboarding-drag"\x3e\x3cspan class\x3d"icon"\x3e\x3cimg src\x3d"https://static.canva.com/static/images/onboarding_hand.png"/\x3e\x3c/span\x3e'+gf(this.rd)+'\x3c/span\x3e\x3cspan class\x3d"onboarding-publish"\x3e\x3cspan class\x3d"icon"\x3e\x3cimg src\x3d"https://static.canva.com/static/images/onboarding_publish.png" /\x3e\x3c/span\x3e'+hf(this.rd)+'\x3c/span\x3e\x3c/div\x3e\x3cdiv class\x3d"onboarding-dialog-actions"\x3e\x3cspan class\x3d"onboarding-show-me-how"\x3e\x3cbutton class\x3d"button onboarding-show-me-how-button"\x3e'+
this.rd.format("twentyThreeSecondOnboardingShowMeHowButtonText")+'\x3c/button\x3e\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e\x3cimg src\x3d"https://static.canva.com/static/images/onboarding_hand_clicking.png" width\x3d"0" height\x3d"0" style\x3d"display:none"/\x3e\x3cimg src\x3d"https://static.canva.com/static/images/onboarding_hand_grabbing.png" width\x3d"0" height\x3d"0" style\x3d"display:none"/\x3e');this.zb.appendTo("body");this.next()};
f.SZ=function(){var a=this,b=$(".onboarding-dialog");$(".onboarding-show-me-how-button").click(function(){a.kT=!0;var c=$(".onboarding-drag .icon"),d=c.clone(),e=$(".onboarding-show-me-how-button"),g=e.clone(),h=e.clone(),e=e.offset(),c=c.find("img").offset();d.attr("id","onboarding-active-hand").addClass("for-onboarding").appendTo("body").offset(c);g.attr("id","onboarding-active-button").addClass("for-onboarding").appendTo("body").offset(e);h.attr("id","onboarding-active-button-width").addClass("for-onboarding").appendTo("body");
d=a.HQ-1;$("#onboarding-23second-dialog .onboarding-time").text(d.toString());b.fadeOut(2E3);a.next()})};f.aY=function(){$("body").append(this.mJ);this.mJ.on("click",eO);var a=this.HQ-2;window.setTimeout(function(){$("#onboarding-23second-dialog .onboarding-time").text(a.toString())},1E3);this.next(1500)};f.cU=function(){var a=I.Cb().length;ph();1===a&&I.Cb()[0].isEmpty()?(this.FY=!1,this.page=I.Cb()[0]):(this.FY=!0,a=new Op(I,I.Ag()),bq(I,a,0),this.page=a);this.next()};
f.wW=function(){function a(){c++;2===c&&b.next(300)}var b=this,c=0,d=$("#onboarding-active-hand"),e=$("#onboarding-active-button");$(".onboarding-drag .icon").remove();$("body \x3e .mask").click();(function(){e.css({width:e.width(),height:"46px"});e.text("");P.delay(M.za.C1).then(function(){e.animate({width:pO(ff(b.rd)),"border-radius":"25px",padding:"0 15px 0 35px"},{duration:600,queue:!1,complete:a});d.animate({left:1*e.offset().left-15,top:1*e.offset().top-4},{duration:600,queue:!1,complete:a})})})()};
f.OV=function(){var a=$("#onboarding-active-hand"),b=$("#onboarding-active-button"),c=$('\x3cdiv class\x3d"for-onboarding" id\x3d"onboarding-active-hand-morphed"\x3e\x3c/div\x3e'),d=a.offset();c.offset(d);c.appendTo(a.parent());a.appendTo(c);a.css({top:0,left:0});b.appendTo(c);b.css({top:"4px",left:"15px"});this.next()};f.L8=function(){$("#onboarding-active-button").text(ff(this.rd));this.next()};f.I8=function(){qO(gf(this.rd));this.next()};
f.J8=function(){this.fC||qO(this.rd.format("twentyThreeSecondOnboardingEditText"));this.next()};f.K8=function(){$("#onboarding-active-button").text("Choose");this.next()};function rO(){$("#onboarding-active-hand img").attr("src","https://static.canva.com/static/images/onboarding_hand_grabbing.png")}function sO(){$("#onboarding-active-hand img").attr("src","https://static.canva.com/static/images/onboarding_hand.png")}
function tO(){var a=$("#onboarding-active-hand img");a.attr("src","https://static.canva.com/static/images/onboarding_hand_clicking.png");window.setTimeout(function(){a.attr("src","https://static.canva.com/static/images/onboarding_hand.png")},300)}f.NEXT="next";function uO(a,b){return 500+Math.floor(.8*Math.sqrt(Math.pow(a.left-b.left,2)+Math.pow(a.top-b.top,2)))}function qO(a,b){var c=$("#onboarding-active-button");b=_.extend({width:pO(a)},b);c.text(a);c.animate(b,{duration:500,queue:!1})}
function pO(a){return $("#onboarding-active-button-width").text(a).width()}
function vO(a,b,c){var d=2/3,e=c.Qt||{x:0,y:0},g=c.callback||function(){},h=$("#onboarding-active-hand-morphed"),k=h.offset(),l={top:1*$(b).offset().top+1*$(b).height()/3+e.y,left:1*$(b).offset().left+1*$(b).width()/3+e.x};c&&c.WT&&"BR"===c.WT&&(l={top:1*$(b).offset().top+1*$(b).height()+e.y,left:1*$(b).offset().left+1*$(b).width()+e.x});b=uO(k,l);l=new $.path.i0({start:{x:1*h.offset().left,y:1*h.offset().top,angle:10,length:.1},end:{x:l.left,y:l.top,angle:-30,length:.1}});c.callback===a.NEXT&&(g=
function(){a.next(300)});c.tM&&window.setTimeout(function(){c.tM()},d*b);h.animate({path:l},b,g)}f.L3=function(){vO(this,"#search",{callback:this.NEXT})};f.P0=function(){tO();$("#search").focus();this.next(600)};
f.y8=function(){function a(){var a=$("#resultsSearch"),a=$(".layer \x3e .inner \x3e .searchGroup",a).last(),c=$(".photoGallery",a),g=0,h=!1;OM(a);fO.forEach(function(a){var d=$('\x3cli class\x3d"newSearch loading"\x3e\x3ca href\x3d"#"\x3e\x3cimg data-screen-url\x3d"'+a.files.SI.url+'"data-screen-width\x3d"'+a.files.SI.width+'"data-screen-height\x3d"'+a.files.SI.height+'"src\x3d"'+a.files.Wx.url+'"width\x3d"'+a.files.Wx.width+'"height\x3d"'+a.files.Wx.height+'"/\x3e\x3c/a\x3e\x3c/li\x3e');d.appendTo(c);
$("img",d).on("load",function(){g++;!h&&5<=g&&(b.next(),h=!0);d.removeClass("loading")});d.data("result",a)});c.addClass("photoGallery");Hz(c);Sb.dt=b.dt}var b=this,c=$("#search");this.dt=Sb.dt;Sb.dt=function(){return new P(function(){})};jO(this,function(a){c.val(a)},this.rd.format("twentyThreeSecondOnboardingSearchTerm"),function(){OM($("#resultsSearch .layer \x3e .inner \x3e .searchGroup"));UL(b.i,!0,a)})};
f.K3=function(){qO(gf(this.rd));vO(this,"#resultsSearch .searchGroup .photoGallery li:first-child",{callback:this.NEXT})};f.qe=function(){this.next(600)};
f.R1=function(){var a=this,b=$("#onboarding-active-hand-morphed"),c=$("section .page.selected"),c={top:c.offset().top-40,left:c.offset().left-42},d=uO(b.offset(),c),e=Math.floor(.8*I.Aa().o())*W,g=Math.floor(.8025*e);rO();a.Pr=$("#resultsSearch .searchGroup .photoGallery li:first-child img").clone();a.Pr.removeAttr("width");a.Pr.removeAttr("height");a.Pr.css({position:"absolute",top:"-34px",left:"-27px","z-index":"9000",height:"95px"});b.append(a.Pr);a.Pr.animate({height:e+"px",width:g+"px",left:(-180*
W-42)/2+"px",top:(-180*W-40)/2+"px"},{duration:d,queue:!1});b.animate(c,{duration:d,queue:!1,complete:function(){a.next(300)}})};f.U1=function(){var a=this,b=$("#resultsSearch .photoGallery li:first-child img"),b=Hg(ZM(b)),c=Math.floor(.8*I.Aa().o());b.setSize(Math.floor(.8025*c),c);b.setPosition(-180,-180);b.appendTo(I.Aa());Jg(b);sO();a.Pr.fadeOut(200,function(){a.Pr.remove()});a.next(300)};f.C8=function(){var a;a=I.Aa().ja().filter(function(a){return a instanceof RB})[0];Kg(a);this.next(200)};
f.g8=function(){function a(){sO();g.removeClass("on");b.next(300)}var b=this,c=$("#onboarding-active-hand-morphed"),d=I.Aa(),e=800/642,g=$(".handle.br"),h=d.Ta()[0],k=J.$el.offset(),l=XC(J,this.page).pa(),d=.78*d.l(),m=d*e,n={left:Math.floor(k.left+l.F()+d*W*.78),top:Math.floor(k.top+l.w()+m*W*.78)},p=h.l();h.o();vO(this,".selectionBox .handle.br",{Qt:{x:-20,y:-12},callback:function(){var b=c.offset();rO();g.addClass("on");P.delay(300).then(function(){c.animate(n,{duration:1E3,queue:!1,complete:a,
progress:function(){var a=(c.offset().left-b.left)/W+p,d=a*e;$(".selectionBox").css({height:d*W+"px",width:a*W+"px"});h.setSize(a,d)}})})}})};f.N3=function(){var a=this;qO(this.rd.format("twentyThreeSecondOnboardingAddText"));vO(this,"#objectPanel \x3e menu li.text a",{callback:function(){$("#objectPanel \x3e menu li.text a").css("color","#00f7ff");a.next(300)}})};f.T0=function(){tO();$("#objectPanel \x3e menu li.text a").click().css("color","");this.next(200)};
f.I3=function(){var a=this;vO(this,"#objectPanel .textControls [data-style\x3dtitle]",{Qt:{x:0,y:16},callback:function(){a.next(300)}})};
f.w0=function(){function a(){var a=h.ub();h.lk(a,"Carter One")}function b(){T.off("elementLoaded:text",b);c()}function c(){ph();tO();a();h.appendTo(e);Jg(h);Kg(h);window.setTimeout(function(){a()},100);window.setTimeout(function(){},200);d.next(200)}var d=this,e=I.Aa(),g={width:e.l()/2,html:"\x26nbsp;",fontFamily:"Carter One",fontSize:function(a,b,c,d){var e=document.createElement("canvas").getContext("2d");if(null==e)return c;e.font=c*M.ti*14/100+"px "+d;a=e.measureText(a).width;isFinite(b)&&0<b&&
(10<b-a||a>b)&&(c*=b/a);return Math.floor(c)}(jf(this.rd),380,120,"Carter One"),color:"#222",left:e.l()-400,top:Math.floor(.5*e.o()-112.5)};T.on("elementLoaded:text",b);var h=new Rp(g)};f.L9=function(){var a=this,b=I.Aa().Ta()[0];b.C().trigger("click");jO(this,function(a){LB(b).html(a+'\x3cspan class\x3d"onboarding-fake-caret"\x3e\x3c/span\x3e')},jf(this.rd),function(){LB(b).css({border:"none"});$(".onboarding-fake-caret").remove();a.next()})};
f.BW=function(){var a=hf(this.rd),b={left:-pO(a)-25,padding:"0 39px 0 17px"};$("#designToolsText a").css({color:"#fff"});qO(a,b);vO(this,".editorActionExport",{callback:this.NEXT,tM:function(){$(".editorActionExport").addClass("fakeHoverState")}})};f.dT=function(){tO();$(".editorActionExport").trigger("click");this.next(600)};
f.AW=function(){var a=this;qO(hf(this.rd),{left:"22px",padding:"0 20px 0 31px"});vO(this,".exportPopOver__downloadButton",{callback:function(){a.next(600)},tM:function(){$(".editorActionExport").removeClass("fakeHoverState");$(".exportPopOver__downloadButton").addClass("fakeHoverState")}})};f.bT=function(){tO();var a=this;$(".exportPopOver__downloadButton").addClass("fakeActiveState");window.setTimeout(function(){$(".modalContentMask").click();a.next(200)},300);$(document.body).addClass("modalContentVisible modalContentBlurAndDarkenVisible")};
f.NH=function(){var a=oh(J).$el.clone(),b=a.find(".page__content");a.find(".fixed").remove();a.css({top:0,left:0});a.removeClass("selected");$("body \x3e .mask").addClass("on fullscreenMessageMask");this.zb=$('\x3cdiv id\x3d"onboarding-outro-dialog" class\x3d"for-onboarding onboarding-dialog"\x3e\x3c/div\x3e');this.zb.css({width:b.width()-4+"px",height:b.height()-4+"px"});this.zb.append(a);this.zb.appendTo("body");this.next()};
f.nU=function(){var a=this;$("#onboarding-active-hand-morphed").fadeOut(1600,function(){a.next()})};
f.KY=function(){var a=this,b=$(window).height()-a.zb.offset().top,c=!1;$('\x3cdiv id\x3d"onboarding-go-dialog" class\x3d"for-onboarding onboarding-dialog"\x3e\x3cdiv class\x3d"onboarding-dialog-text"\x3e\x3cspan class\x3d"onboarding-go"\x3e'+this.rd.format("twentyThreeSecondOnboardingNowText")+'\x3c/span\x3e\x3cspan class\x3d"onboarding-go-description"\x3e'+this.rd.format("twentyThreeSecondOnboardingYourTurnText")+"\x3c/span\x3e\x3c/div\x3e").appendTo("body");var d=$('\x3cdiv id\x3d"onboarding-exit-hand" class\x3d"for-onboarding"\x3e\x3cdiv class\x3d"exit-hand open"\x3e\x3cdiv class\x3d"exit-hand-fingers"\x3e\x3c/div\x3e\x3cdiv class\x3d"exit-hand-thumb"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e');
d.css({bottom:"-280px"});d.appendTo("body");d.animate({bottom:"0"},900,function(){var e=1*a.zb.css("margin-top").replace(/px/,"")-b;d.animate({bottom:e+"px"},{duration:1800,Wk:"easeOutQuint",queue:!1});a.zb.animate({"margin-top":b+"px"},{duration:1800,Wk:"easeOutQuint",queue:!1,complete:function(){c||(a.next(1E3),c=!0)}})})};
function wO(){wM=null;$("#search").val("");$("#resultsSearch .searchGroup").removeData("search").css("height","").find("ul").empty();$("#resultsSearch .searchGroup").find("h2").remove();$("#objectPanel .results").addClass("doNotTransition");window.setTimeout(function(){$("#search").blur();$("#objectPanel .results").removeClass("doNotTransition")},M.Cc)}f.$X=function(){function a(){b.next()}var b=this;ph();!0===this.FY?(dq(I,this.page),a()):xO(b.page).then(a)};f.vP=function(){wO();this.next()};
f.aT=function(){this.mJ.remove();$("body \x3e .mask").removeClass("on white fullscreenMessageMask").addClass("off");$(".for-onboarding").remove();$("body").removeClass("onboarding-in-progress").removeClass("modalContentVisible modalContentBlurAndDarkenVisible");ph();this.next()};
f.GX=function(){this.h0=Ub;this.l2=zb.UD;this.mJ=$("\x3cdiv id\x3d'block-everything'\x3e\x3c/div\x3e");this.Kv=ub.Kv;zb.UD=function(){return P.resolve(new Pv({id:1,aB:null,status:"COMPLETE"}))};Ub=function(){};ub.close();ub.Kv=function(){};I.off("change");this.next()};f.T2=function(){this.f_=Bb.Jb;Bb.Jb=hO;Yg(vb,"M-YUM-LION",0,gO());this.next()};f.k8=function(){Bb.Jb=this.f_;this.next()};function nO(a){Ub=a.h0;zb.UD=a.l2;ub.Kv=a.Kv;yO(window.csession,window.cdoc);I.on("change",Vb)}
f.jY=function(){$(".page.selected").removeClass("invisible-text");nO(this);this.next()};f.t7=function(){$("#resultsLayout").data("view").iY();this.next()};f.onComplete=function(){T.trigger("onboarding:complete")};function zO(a){a.order=[a.ZX,a.gW,a.GX,a.GY,a.SZ,a.vP,a.cU,a.aY,a.wW,a.OV,a.L8,a.qe,a.L3,a.T2,a.P0,a.y8,a.qe,a.K3,a.R1,a.U1,a.C8,a.g8,a.qe,a.N3,a.T0,a.qe,a.I3,a.w0,a.qe,a.L9,a.qe,a.BW,a.dT,a.qe,a.AW,a.bT,a.qe,a.NH,a.nU,a.qe,a.KY,a.qe,a.$X,a.aT,a.k8,a.vP,a.jY,a.R8,a.t7,a.onComplete]}
f.s0=function(){var a=$(".templateGallery li:not(.grid)").has(".price.free").first(),b="canva-onboarding-layout-item-"+Math.floor(1E5*Math.random());$(a).addClass(b);this.wA="."+b;this.next()};f.d0=function(){var a=new Kp({},Ru(0,0,"PIXELS"),this.i),a=new Op(a,{}),b=$(this.wA).data("layoutItem");b&&bO(a,Ym(b.content),null,null,!0);this.next()};f.J3=function(){this.iO=$(this.wA);this.jO=$(this.wA+" img");this.YE=$(this.wA+" img").clone();vO(this,this.wA,{callback:this.NEXT})};
f.Q1=function(){var a=this,b=$("#onboarding-active-hand-morphed"),c=$("section .page.selected"),d=c.height()/2-Math.floor(Math.random()*c.height()/6),e=c.height()/2+Math.floor(Math.random()*c.height()/6),c={top:c.offset().top+d,left:c.offset().left+e},d=uO(b.offset(),c),e=d/4;rO();window.setTimeout(function(){a.YE.css("opacity","0.5");$(".page.selected").addClass("hotspotHover")},e);a.jO.parent().addClass("pickedUp");a.YE.css({position:"absolute",top:"-34px",left:"-27px","z-index":"9000",width:$(".templateGallery li img").width()+
"px",height:$(".templateGallery li img").height()+"px"});b.append(a.YE);b.animate(c,{duration:d,queue:!1,complete:function(){$(".page.selected").removeClass("hotspotHover");a.jO.parent().removeClass("pickedUp");a.next(300)}})};
f.T1=function(){function a(){T.off("pageLayoutLoaded",a);b.next()}var b=this;sO();this.YE.remove();T.on("pageLayoutLoaded",a);$(".page.selected").addClass("invisible-text");if(this.iO.find(".multiPageLayoutItem").length){var c=this.iO.data("searchResult"),d=this.iO.parents(".results").data("view");c&&AO(d,c,!0)}else this.jO.click()};function BO(){return"substantial-text-element"}
f.Q0=function(){if(!this.fC){var a=$("."+BO()),b=$("."+BO());a.hasClass("element")||(b=a.parents(".element"));b=b.data("canvaElement");tO();Kg(b);a.hasClass("element")||(hK(a,!0),CO(a,xc(this.i)),b.Xa())}this.next()};
f.b9=function(){var a,b;if(!this.fC){var c=$("."+BO());b=c.clone();b.find("br").replaceWith(this.pJ);a=b.text().trim();var d;d=/\S\S/.test(a)?a.split(/\s+/g):a.split(/\s{2,}/g);2>d.length?(a="",b=d[0]||""):(b=d[d.length-1],3>b.length&&(b=a.slice(a.lastIndexOf(d[d.length-2]))),3>b.length&&(b="!",a+=b),a=a.slice(0,a.lastIndexOf(b)),a=a.replace(new RegExp(this.pJ,"g"),"\x3cbr\x3e"));this.XV=b;this.xU=a;c.children(".inner").html(this.xU)}$(".page.selected").removeClass("invisible-text");this.next()};
f.K9=function(){function a(a){jO(b,function(a){$(".onboarding-fake-caret").remove();c.children(".inner").html(b.xU+a+'\x3cspan class\x3d"onboarding-fake-caret"\x3e\x3c/span\x3e')},b.XV,function(){$("#overlays .element.text.selected").css({border:"none"});$(".onboarding-fake-caret").remove();a()})}if(this.fC)this.next();else{var b=this,c=$("."+BO());c.trigger("click");a(function(){ph();b.next()})}};
f.n7=function(){if(1>$(".page.selected .element.text,.page.selected .element.svg .text").length)this.fC=!0;else{var a=$(".page.selected .element.text,.page.selected .element.svg .text").first(),b=0;$(".page.selected .element.text,.page.selected .element.svg .text").each(function(){var c=$(this).data("canvaElement");c.Qc()>b&&0<c.C().text().split("").length&&(b=c.Qc(),a=$(this))});a.addClass(BO())}this.next()};
f.M3=function(){if(this.fC)this.next();else{var a=parseFloat($("."+BO()).css("font-size").replace("px",""))*W,b=Math.floor(a/2),a=Math.floor(a*this.XV.split("").length/2);vO(this,"."+BO(),{WT:"BR",Qt:{x:-a,y:-b},callback:this.NEXT})}};f.T8=function(){$("#objectPanel li.layout a").click();this.next()};f.R8=function(){$("#objectPanel li.elements a").click();this.next()};function Hp(){return/[?&]layouts/g.test(window.location.search)}
function oO(){return 1<=$(".templateGallery li:not(.grid)").has(".price.free").length}function DO(a,b,c){var d=c||1;10<d&&(a.h3=!0,b(!1));Hp()?1<=$(".templateGallery li").length?b(oO()):window.setTimeout(function(){DO(a,b,d+1)},200*d):b(!1)}f.ZX=function(){EO.BT();this.next()};f.next=function(a){function b(){d.call(c)}var c=this,d=this.order[this.FO];d&&d.call?(this.FO++,a&&!isNaN(parseInt(a,10))?window.setTimeout(b,a):b()):c.next=function(){}};
function iO(a){a.FO=0;Hp()?DO(a,function(b){b?a.order=[a.ZX,a.gW,a.GX,a.GY,a.s0,a.d0,a.SZ,a.cU,a.aY,a.wW,a.OV,a.K8,a.qe,a.J3,a.I8,a.qe,a.Q1,a.T1,a.qe,a.n7,a.b9,a.M3,a.qe,a.J8,a.Q0,a.qe,a.K9,a.qe,a.BW,a.dT,a.qe,a.AW,a.bT,a.qe,a.NH,a.nU,a.qe,a.KY,a.qe,a.$X,a.aT,a.vP,a.jY,a.T8,a.onComplete]:zO(a);a.next()}):(zO(a),a.next())};function Cp(a,b,c){this.document=a;this.config=b;this.rU="//www.facebook.com/plugins/like.php?href\x3dhttps%3A%2F%2Fwww.facebook.com%2Fcanva\x26amp;width\x3d450\x26amp;height\x3d65\x26amp;colorscheme\x3dlight\x26amp;layout\x3dbox_count\x26amp;action\x3dlike\x26amp;show_faces\x3dfalse\x26amp;send\x3dfalse\x26amp;appId\x3d"+encodeURIComponent(window.facebookConfig.appId);this.bg=c}Cp.prototype.listenTo=Backbone.Events.listenTo;
function FO(){WebFont.load({google:{families:["Yellowtail"]},active:function(){},inactive:function(){}})}
function GO(a){var b=a.config.kh();switch(b){case "FREE_NEW_USER":return b=HO(I.pb()),a={fbUrl:a.rU,twitterText:a.bg.format("magicButtonFreeNewTwitterText",b),congratulations:a.bg.format("magicButtonFreeNewCongratulations"),youHaveCompleted:a.bg.format("magicButtonFreeNewYouHaveCompleted",b),startYourOwnDesign:a.bg.format("magicButtonFreeNewStartYourOwnDesign")},b=_.template('\x3cdiv id\x3d"magic-button-dialog"\x3e\x3cdiv id\x3d"magic-button-dialog-congratulations"\x3e\x3c%- congratulations %\x3e\x3c/div\x3e\x3cdiv id\x3d"magic-button-dialog-now-ready"\x3e\x3c%- youHaveCompleted %\x3e\x3c/div\x3e\x3cbutton class\x3d"button" id\x3d"magic-button-dialog-done"\x3e\x3c%- startYourOwnDesign %\x3e\x3c/button\x3e\x3cdiv id\x3d"magic-button-dialog-share"\x3e\x3ciframe src\x3d"\x3c%\x3d fbUrl %\x3e" scrolling\x3d"no" frameborder\x3d"0" style\x3d"border:none; overflow:hidden; width:50px; height:61px;" allowTransparency\x3d"true"\x3e\x3c/iframe\x3e\x3ciframe allowtransparency\x3d"true" frameborder\x3d"0" scrolling\x3d"no" src\x3d"https://platform.twitter.com/widgets/tweet_button.html?url\x3d%20\x26text\x3d\x3c%\x3d encodeURIComponent(twitterText) %\x3e\x26counturl\x3dhttps://www.canva.com\x26count\x3dvertical" style\x3d"width:56px; height:62px;"\x3e\x3c/iframe\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e'),$(b(a));
case "DESIGN_TUTORIAL":return b=HO(I.pb()),a={fbUrl:a.rU,twitterText:a.bg.format("magicButtonTutorialTwitterText",b),congratulations:a.bg.format("magicButtonTutorialCongratulations"),youHaveCompleted:a.bg.format("magicButtonTutorialYouHaveCompleted",b),startYourOwnDesign:a.bg.format("magicButtonTutorialStartYourOwnDesign")},b=_.template('\x3cdiv id\x3d"magic-button-dialog"\x3e\x3cdiv id\x3d"magic-button-dialog-congratulations"\x3e\x3c%- congratulations %\x3e\x3c/div\x3e\x3cdiv id\x3d"magic-button-dialog-now-ready"\x3e\x3c%- youHaveCompleted %\x3e\x3c/div\x3e\x3cbutton class\x3d"button" id\x3d"magic-button-start-design"\x3e\x3c%- startYourOwnDesign %\x3e\x3c/button\x3e\x3cdiv id\x3d"magic-button-dialog-share"\x3e\x3ciframe src\x3d"\x3c%\x3d fbUrl %\x3e" scrolling\x3d"no" frameborder\x3d"0" style\x3d"border:none; overflow:hidden; width:50px; height:61px;" allowTransparency\x3d"true"\x3e\x3c/iframe\x3e\x3ciframe allowtransparency\x3d"true" frameborder\x3d"0" scrolling\x3d"no" src\x3d"https://platform.twitter.com/widgets/tweet_button.html?url\x3d%20\x26text\x3d\x3c%\x3d encodeURIComponent(twitterText) %\x3e\x26counturl\x3dhttps://www.canva.com\x26count\x3dvertical" style\x3d"width:56px; height:62px;"\x3e\x3c/iframe\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e'),
$(b(a));case "C4W_INVITED_NEW_USER":return a={congratulations:a.bg.format("magicButtonInvitedUserCongratulations"),gettingTheHangHtml:a.bg.format("magicButtonInvitedUserGettingTheHang"),visitTeamSpace:a.bg.format("magicButtonInvitedUserVisitTeamSpace")},b=_.template('\x3cdiv id\x3d"magic-button-dialog"\x3e\x3cdiv id\x3d"magic-button-dialog-congratulations"\x3e\x3c%- congratulations %\x3e\x3c/div\x3e\x3cdiv id\x3d"magic-button-dialog-now-ready"\x3e\x3c%\x3d gettingTheHangHtml %\x3e\x3c/div\x3e\x3ca class\x3d"button" id\x3d"magic-button-dialog-done" href\x3d"/brand"\x3e\x3c%- visitTeamSpace %\x3e\x3c/a\x3e\x3c/div\x3e'),
$(b(a));default:throw Error("onboarding mode "+b+" not handled");}}
function IO(a){function b(){P.all([Jz(1E3),wj(c.N,c.url+"/"+encodeURIComponent(ub.fc())+"/complete",null).get(0).then(Eo)]).finally(function(){window.location="/"})}var c=new Co;$("body").addClass("modalContentVisible modalContentBlurAndDarkenVisible");$("body \x3e .mask").removeClass("off").addClass("on fullscreenMessageMask");GO(a).on("animationend",function(){$("body").on("click",b);$("body \x3e .mask").on("click",b)}).appendTo("body")}
function JO(a){return 0<a.document.ja().filter(function(a){return"magic-button"==a.C().attr("id")}).length}
Cp.prototype.xS=function(){function a(a){a.stopPropagation();a.preventDefault();IO(b);return!1}var b=this,c=b.document;b.xS=function(){};if(!JO(b)){b.page=new Op(c,c.Ag());b.page.kW();bq(c,this.page,c.gc(),!1);$("#canvaDocument").addClass("deletePageDisabled");this.config.kh()&&$("#canvaDocument").addClass("pageControlsDisabled");XC(J,b.page).$el.css("background-color","#20c4cb");var c={html:KO(this),width:460,justification:"center"},c=new Rp(c),d=c.C();d.attr("id","magic-button");d.on("mousedown",
a);d.on("touchstart",a);b.page.addElement(c,!1,!1);var d=(b.page.l()-c.l())/2,e=(b.page.o()-c.o())/2;c.setPosition(d,e)}};function KO(a){a={tutorialComplete:a.bg.format("magicButtonTutorialCompleteButton")};var b=_.template("\x3cstrong id\x3d'magic-button-text'\x3e\x3c%- tutorialComplete %\x3e \x26nbsp;\x3cspan id\x3d'magic-button-text-triangle'\x3e\x26#9656;\x3c/span\x3e\x3c/strong\x3e");return $(b(a))}Cp.prototype.go=function(){FO();this.xS()};function Op(a,b){this.Ab=a;this.Oc=null;this.elements=[];this.height=0;this.ka=b.layout&&new Xm(b.layout);this.Xs=this.Wn=this.Bq=null;this.aG=this.sh=this.selected=!1;this.oy=null;this.pH=this.qD=!1;this.width=0;this.Ch(b,!0);VC(this)}_.extend(Op.prototype,Backbone.Events);f=Op.prototype;f.trigger=Backbone.Events.trigger;f.on=Backbone.Events.on;f.off=Backbone.Events.off;f.kW=function(){this.sh=!0};function LO(a,b){a.Bq=b;a.trigger("change:preview")}
function MO(a){a.Bq=null;a.trigger("change:preview")}function NO(a){var b=a.elements.filter(function(a){return a.sh||a.kc()&&a.Kb&&!a.Kb()?!1:!0}),c=!1,d=ON();d instanceof XN&&(c=cO(d,a.K()));return 0<b.length&&!c}
function bO(a,b,c,d,e){function g(a){a.forEach(function(a){var b=a.u(),c=a.getVersion();Yg(vb,b,c,a.VL())})}function h(){if(-1!==k.K()||e){var a=k.ka;if(a===m||a&&m&&a.id===m.id&&a.version===m.version)MO(k),k.Ch(m.Ag(),!1,e),VC(k)}else k.pH=!1,k.qD=!1}var k=a,l=xL(Fb,dn(b)),m=b.clone();e||(m.na(a.l()),m.ca(a.o()));a.oy=a.oy||a.serialize();a.clear();a.ka=m;a.qD=!0;0===l.length?(a.Ch(m.Ag(),!1,e),VC(a)):(a.pH=!0,c&&LO(a,c),d&&d.eb()===$A?Lq(d.u()).then(g).catch($.noop).finally(h):aL(vb,l,!1,h))}
f.Ch=function(a,b,c){function d(a){0<=q.indexOf(a)||(q.push(a),0<u.length&&e())}function e(){var b=0===u.filter(l).length,d=0===u.filter(h).filter(l).length,e=0<u.filter(k).length;d&&e&&!p?(p=!0,OO(u,a)):b?g():(window.clearTimeout(v),v=window.setTimeout(function(){c||T.trigger("pageTimeoutWaitingForElements");g()},n))}function g(){m.qD=!1;m.aG=!1;T.off("elementLoaded",d);T.off("elementLoadingError",d);window.clearTimeout(v);m.elements.forEach(function(a){a.ky=!1});m.trigger("unpacked");T.trigger("pageLayoutLoaded",
m);c||m.trigger("updateemptystate");b||(m.trigger("change"),c||m.Ab&&m.Ab.trigger("change"))}function h(a){return!a.ib()}function k(a){return a.ib()}function l(a){return-1===q.indexOf(a)}var m=this,n=3E4;this.Ab&&!this.Ab.zM&&(n+=5E3*this.Ab.gc());this.aG=!0;this.oy=null;this.pH=!1;b||this.trigger("willchange");void 0!==a.dpi&&(this.Oc=a.dpi);void 0!==a.width&&this.na(a.width);void 0!==a.height&&this.ca(a.height);var p=!1,q=[],u=[];T.on("elementLoaded",d);T.on("elementLoadingError",d);u=u.concat(function(a){return a?
a.map(Hg).filter(Boolean):[]}(a.elements));u.forEach(function(a){a.appendTo(this)},this);var v=window.setTimeout(g,n);0<u.length?window.setTimeout(function(){e()},1):g();a.resizeContentBox?(this.Wn=Gm(a.resizeContentBox),this.Xs=PO(this,this.Wn)):this.Xs=this.Wn=null};function QO(a){if(a.Wn&&a.Xs){var b=PO(a,a.Wn);if(Im(b,a.Xs))return a.Wn;a.Wn=null;a.Xs=null}return null}
function PO(a,b){var c=a.pa(),d=b.clone();a.ja().forEach(function(a){if(!(a.sh||a.kc()||a.yg())){var b=a.pa();if(!(a instanceof VB&&Qm(b,c))){a=Math.min(d.F(),b.F());var h=Math.min(d.w(),b.w()),k=Math.max(d.Wa(),b.Wa())-a,b=Math.max(d.ua(),b.ua())-h;d.left=a;d.top=h;d.width=k;d.height=b}}});return d}f.resize=function(a){var b=RO({Yo:QO(this),$d:a,page:this});this.Ch(a.Ag(),!0);VC(this);this.trigger("resize");this.Xs=(this.Wn=b)&&PO(this,b)};f.SQ=function(a){this.clear();this.Ch(a,!0);VC(this);this.trigger("resize")};
function OO(a,b){function c(a){T.trigger("elementLoaded",a);T.trigger("elementLoaded:group",a)}a.forEach(function(d,e){if(d.ib()){var g=b.elements[e].childRange;if(kq(g)){for(var h=g[0];h<=g[1];h++)if(!b.elements[h]||b.elements[h].groupIndex!==e){c(d);d.remove();return}for(h=g[0];h<=g[1];h++)e=qF(hC(d),hC(a[h])),d.addElement(a[h]),a[h].Tl(e.Fb),a[h].setPosition(e.left,e.top),a[h].Sl(e.rotation),d.C().find(".elements").append(a[h].C()),d.Ya();c(d)}else c(d),d.remove()}})}
f.Ri=function(){var a=new $o;this.elements.forEach(function(b){b.Ri().ug().forEach(function(b){cp(a,b)})});return a};f.clone=function(){return new Op(null,this.serialize())};f.serialize=function(){return this.pH&&this.oy?this.oy:this.qD&&this.ka?this.ka.Ag():SO(this)};
function SO(a){function b(a){return a.elementIndex}var c=a.elements.filter(function(a){return!a.sh}).map(function(a){return a.serialize()}).filter(Boolean);c.forEach(function(a,b){var c=a.elementIndex-b;a.elementIndex=b;c&&a.elements&&a.elements.forEach(function(a){a.elementIndex-=c})});c.filter(function(a){return-1<Object.keys(a).indexOf("elements")}).forEach(function(a){var d=a.elementIndex,e={Fb:a.transparency,rotation:a.rotation,top:a.top,left:a.left,width:a.width,height:a.height},l=a.elements.map(b),
m=[];c.forEach(function(a){var b=l.indexOf(a.elementIndex);0<=b&&(l.splice(b,1),m.push(a.elementIndex),b=rF(e,{Fb:a.transparency,rotation:a.rotation,top:a.top,left:a.left,width:a.width,height:a.height}),a.transparency=b.Fb,a.rotation=b.rotation,a.top=b.top,a.left=b.left,a.groupIndex=d)});if(0!==m.length&&0===l.length){var n=Math.min.apply(null,m),p=Math.max.apply(null,m);a.childRange=[n,p]}else a.childRange=[-1,-1];delete a.elements});var d={elements:c,width:a.width,height:a.height};a.Oc&&(d.dpi=
a.Oc);var e=a.ka&&a.ka.serialize();e&&(d.layout=e);(a=QO(a))&&(d.resizeContentBox=a.serialize());return d}f.clear=function(){var a;for(MO(this);this.ja().length;)(a=this.elements[0]||null)&&this.aj(a);this.elements=[];this.Xs=this.Wn=null};f.ja=function(){return this.elements};f.Ta=function(){return this.ja().filter(function(a){return a.yf()})};function $p(a){return a.ja().filter(function(a){return a.kc()})}function TO(a){return a.ja().filter(function(a){return a.yg()})}
function UO(a,b){function c(a){return!a.kc()}function d(a){return!(a instanceof WB)}var e=b instanceof Array?b:[b],e=e.filter(c).filter(d);return 0===e.length?e:a.ja().filter(function(a){return!mC(a)}).filter(c).filter(function(a){return!a.yg()}).filter(d).filter(function(a){return-1===e.indexOf(a)}).filter(function(a){return e.some(function(b){return fh(b.pa(),a.pa())})})}
f.aj=function(a,b){b=b||{};for(var c=this.elements.indexOf(a),d=0;d<this.elements.length;d++)if(this.elements[d].ib()&&-1!==this.elements[d].elements.indexOf(a)){this.elements[d].aj(a);break}-1<c&&(this.elements.splice(c,1),a.remove(),b.W7&&0===this.elements.length&&(this.ka=void 0),b.PY||this.trigger("element:remove",this,a,c,!!b.saa),(a.kc()||a.yg())&&this.trigger("change:background",this))};
function VO(a,b,c){var d=a.elements.indexOf(b);-1!==d&&b.elements&&0!==b.elements.length&&b.ja().forEach(function(e){d+=1;qC(a,e,d,!0);e.ge=b.ge;e.Nq(a);!c&&a.trigger("element:add",a,e,!1,!1);b.C().find(".elements").append(e.C())})}f.addElement=function(a,b,c){this.elements.push(a);a.Nq(this);VO(this,a);this.trigger("element:add",this,a,b,c);(a.kc()||a.yg())&&this.trigger("change:background",this,a)};
function WO(a){return a.elements.filter(function(a){return a.ib()}).map(function(b){var c=b.ja().map(function(b){return a.elements.indexOf(b)}).filter(function(a){return-1!==a});c.push(a.elements.indexOf(b));return[Math.min.apply(null,c),Math.max.apply(null,c)]})}function XO(a,b){for(var c=0;c!==a.elements.length;c++)if(a.elements[c].ib()&&-1!==a.elements[c].elements.indexOf(b))return a.elements[c]}
function qC(a,b,c,d){c=function(c){var d=c;0>d&&(d=a.elements.length);(c=XO(a,b))?(d=Math.max(d,a.elements.indexOf(c)),d=Math.min(d,a.elements.indexOf(c)+c.ja().length)):(d=Math.min(d,a.elements.length),WO(a).forEach(function(a){d>a[0]&&d<=a[1]&&(d=a[1]+1)}));return d}(c);var e=a.elements.indexOf(b);-1==e?(a.elements.splice(c,0,b),b.Nq(a),VO(a,b,d),!d&&a.trigger("element:add",a,b,!1,!1),(b.kc()||b.yg())&&a.trigger("change:background",a,b)):(a.elements.splice(c,0,a.elements.splice(e,1)[0]),a.trigger("element:move",
a,b))}f.F=function(){return 0};f.Yb=Op.prototype.F;f.w=function(){return 0};f.hc=Op.prototype.w;f.l=function(){return this.width};f.dh=Op.prototype.l;f.o=function(){return this.height};f.bh=Op.prototype.o;f.Wa=function(){return this.F()+this.l()};f.Bd=Op.prototype.Wa;f.ua=function(){return this.w()+this.o()};f.ed=Op.prototype.ua;f.pa=function(){return new V(this.F(),this.w(),this.l(),this.o())};f.Qa=function(){return 0};f.setSize=function(){};f.na=function(a){this.ka&&this.ka.na(a);this.width=a};
f.ca=function(a){this.ka&&this.ka.ca(a);this.height=a};f.gb=function(){};f.ab=function(){};f.setPosition=function(){};function cq(a,b){a.Ab=b;VC(a)}f.xg=function(){var a=$p(this);return 0<a.length?(a=a[a.length-1],a.fd()&&a.WL()):!1};function xC(a){a=$p(a);return 0<a.length?a[a.length-1].fd():!0}
f.mk=function(a){var b;this.Ab&&this.selected!==a&&!this.sh&&(a||(this.selected=!1),b=this.Ab.Aa(),a=a||this===b,b!==this&&(b.selected=!a,b.trigger("change:selected",b,!a)),this.selected=a,this.trigger("change:selected",this,a))};f.yf=function(){return this.selected};f.remove=function(){this.elements.slice().forEach(function(a){aO(a);a.remove()});this.Ab&&dq(this.Ab,this);this.Ab=null};
function xO(a){a.elements.forEach(function(a){a.C().fadeOut()});return P.delay(400).then(function(){for(;0<a.elements.length;){var b=a.elements[0];aO(b);b.C().remove();a.aj(b)}a.elements=[]})}f.K=function(){return this.Ab?jp(this.Ab,this):-1};f.Wt=function(){return Ym(this.serialize())};function VC(a){(function(){a.ja().slice(0).forEach(function(b){b instanceof WB&&a.aj(b)})})();(function(){var b=a.hb();b&&Vu(b).forEach(function(b){(b=Hg(b))&&qC(a,b,0)})})()}f.isEmpty=function(){return 1>this.ja().filter(function(a){return!a.sh}).length};
f.hb=function(){var a=this.Ab;return a?a.hb():null};f.qv=function(){return this.aG};function co(a,b){this.UT=this.ST=this.QT=this.PT=this.Jx=this.fv=this.EP=this.FP=this.scrollHeight=this.scrollWidth=this.scrollTop=this.scrollLeft=0;this.oI=this.xF=null;this.vZ=!!b;this.YQ=gh(this);this.aR=gh(this);this.XH=new YO({attributes:!0,attributeFilter:["class","style"],childList:!0,characterData:!1,subtree:!0});this.Lc=a;this.Hj=$("\x3cdiv\x3e").addClass("scrollThumb");this.vk=$("\x3cdiv\x3e").addClass("scrollThumb");this.qq=this.qq.bind(this);this.EG=this.EG.bind(this);this.zG=this.zG.bind(this);
this.BG=this.BG.bind(this);this.xG=this.xG.bind(this);this.yG=this.yG.bind(this);this.NA=this.NA.bind(this);this.OA=this.OA.bind(this);this.vG=this.vG.bind(this);this.wG=this.wG.bind(this)}f=co.prototype;f.trigger=Backbone.Events.trigger;f.on=Backbone.Events.on;f.off=Backbone.Events.off;
f.render=function(){this.Lc.addClass("scrollElement");$("\x3cdiv\x3e").addClass("scrollTrack hScrollTrack").append(this.Hj).insertAfter(this.Lc);$("\x3cdiv\x3e").addClass("scrollTrack vScrollTrack").append(this.vk).insertAfter(this.Lc);ZO(this);this.Lc.on("scroll",this.EG);this.Lc.on("transitionend",this.qq);this.Lc.on("mouseenter",this.zG);this.Lc.on("mouseleave",this.BG);this.Hj.on("mousedown",this.xG);this.vk.on("mousedown",this.yG);this.XH.on("attrModified",this.qq);this.XH.on("subtreeModified",
this.qq);this.XH.observe(this.Lc);$("\x3cspan\x3e").appendTo(this.Lc).remove();$(window).on("resize",this.qq);return this};f.remove=function(){$O(this.XH);this.Lc.off("scroll",this.EG);this.Lc.off("transitionend",this.qq);this.Lc.off("mouseenter",this.zG);this.Lc.off("mouseleave",this.BG);this.Hj.off("mousedown",this.xG);this.vk.off("mousedown",this.yG);$(window).off("resize",this.qq);return this};
function ZO(a){gh(a).read(function(a){var c=this.Lc.prop("clientWidth"),d=this.Lc.prop("offsetWidth"),e=this.Lc.prop("clientHeight"),g=this.Lc.prop("offsetHeight");a.write(function(){d>c&&this.Lc.css("margin-right",c-d);g>e&&this.Lc.css("margin-bottom",e-g);this.Ya()})})}f.Ya=function(){this.YQ.read(this.DZ)};
f.DZ=function(){var a=this.scrollWidth,b=this.scrollHeight,c=this.fv,d=this.Jx;this.scrollWidth=this.Lc.prop("scrollWidth");this.scrollHeight=this.Lc.prop("scrollHeight");this.FP=this.Lc.prop("clientWidth");this.EP=this.Lc.prop("clientHeight");this.fv=this.Hj.parent().outerWidth();this.Jx=this.vk.parent().outerHeight();if(a!==this.scrollWidth||b!==this.scrollHeight||c!==this.fv||d!==this.Jx)this.scrollTop=this.scrollLeft=-1,this.YQ.write(this.b8),this.aR.read(this.GZ)};
f.b8=function(){var a=Math.round(this.Jx*this.EP/this.scrollHeight);this.Hj.css("width",Math.round(this.fv*this.FP/this.scrollWidth)+"px");this.vk.css("height",a+"px");var a=this.FP<this.scrollWidth,b=this.EP<this.scrollHeight,c=a!==this.xF,d=b!==this.oI;c&&(this.xF=a,this.Hj.toggleClass("disabled",!a));d&&(this.oI=b,this.vk.toggleClass("disabled",!b));this.vZ&&(c||d)&&this.trigger("change:scrollability",this.xF,this.oI)};
f.GZ=function(){var a=this.scrollLeft,b=this.scrollTop;this.scrollLeft=this.Lc.scrollLeft();this.scrollTop=this.Lc.scrollTop();if(a!==this.scrollLeft||b!==this.scrollTop)this.aR.write(this.d8),this.vZ&&(this.xF||this.oI)&&this.trigger("scroll",this.scrollLeft,this.scrollTop)};f.d8=function(){var a=Math.round(this.Jx*this.scrollTop/this.scrollHeight);this.Hj.css("transform","translateX("+Math.round(this.fv*this.scrollLeft/this.scrollWidth)+"px)");this.vk.css("transform","translateY("+a+"px)")};
f.qq=function(){this.YQ.read(this.DZ)};f.EG=function(){this.aR.read(this.GZ)};f.zG=function(){this.Hj.addClass("ready");this.vk.addClass("ready")};f.BG=function(){this.Hj.removeClass("ready");this.vk.removeClass("ready")};f.xG=function(a){0===a.button&&(this.PT=a.screenX,this.ST=this.scrollLeft,this.Hj.addClass("active"),$(document).on("mousemove",this.NA).on("mouseup",this.vG),a.preventDefault(),a.stopPropagation())};
f.NA=function(a){this.Lc.scrollLeft(this.ST+Math.round((a.screenX-this.PT)*this.scrollWidth/this.fv))};f.vG=function(a){this.NA(a);this.Hj.removeClass("active");$(document).off("mousemove",this.NA).off("mouseup",this.vG)};f.yG=function(a){0===a.button&&(this.QT=a.screenY,this.UT=this.scrollTop,this.vk.addClass("active"),$(document).on("mousemove",this.OA).on("mouseup",this.wG),a.preventDefault(),a.stopPropagation())};
f.OA=function(a){this.Lc.scrollTop(this.UT+Math.round((a.screenY-this.QT)*this.scrollHeight/this.Jx))};f.wG=function(a){this.OA(a);this.vk.removeClass("active");$(document).off("mousemove",this.OA).off("mouseup",this.wG)};function aP(){this.query="";this.u2=[]}function bP(a,b){a.query=b;return a}aP.prototype.toString=function(){return(this.query?[this.query]:[]).concat(this.u2).map(function(a){return a.toString()}).join(" AND ")};var PM=null,jM=null,OL=!1,wM=null;function pM(a){Wb=!1;Sb=new CK(Hb,[new AK]);$("#search").on("keypress",function(b){return cP.call(this,b,a)});$("#search").on("keydown",dP);$("#search").on("keyup",dP)}
function cP(a,b){function c(){$("#objectPanel menu .elements a").click()}function d(a){$("#resultsElements li.folderExpanded \x3e a:not([data-query\x3d"+a+"])").mousedown();setTimeout(function(){$("#resultsElements li:not(.folderExpanded) \x3e a[data-query\x3d"+a+"]").mousedown()},500);setTimeout(function(){$("#resultsElements \x3e .layer").animate({scrollTop:$("#resultsElements a[data-query\x3d"+a+"]").parent().position().top},M.za.Jq)},900)}a.stopPropagation();if(13==a.which){a=$("#search");if(!a.val().match(/^\s*$/)){var e=
$("#objectPanel").find("menu");switch(a.val().toLowerCase()){case "grid":case "grids":c();d("grids");break;case "chart":case "charts":case "graph":case "graphs":case "bar chart":case "bar graph":case "barchart":case "bargraph":case "pie chart":case "piechart":case "line chart":case "linechart":case "donut chart":case "donutchart":case "pie graph":case "piegraph":case "line graph":case "linegraph":case "donut graph":case "donutgraph":c();d("charts");break;case "layout":case "layouts":e.find(".layout a").click();
a.select();break;case "text":case "font":case "fonts":e.find(".text a").click();a.select();break;case "bkground":case "background":case "backgrounds":e.find(".backgrounds a").click();a.select();break;case "upload":case "uploads":e.find(".uploads a").click();a.select();break;default:UL(b)}}return!1}}
function UL(a,b,c){function d(){q.animate({scrollTop:D-M.dD},M.za.Jq,function(){H.remove();if(PM&&PM.isPending()){var a=JM(),a=$(".inner \x3e .searchGroup",a.find(".layer")).last();a.data("search")===wM&&KM(a)}c&&c()})}function e(){var a=$(".infoPanel",r);0<a.length&&(r.addClass("doNotTransition"),a.addClass("doNotTransition"),$(".close",a).click(),a.data("infoPanelPointer").remove(),a.remove(),r.removeClass("doNotTransition"));var b=dN(p),c=-1;$("\x3e .gallery \x3e li",r).each(function(){var a=$(this);
x+a.data("originalTop")<b&&(a.addClass("oldSearch"),setTimeout(function(){a.addClass("doNotTransition newSearch");setTimeout(function(){a.removeClass("doNotTransition newSearch oldSearch")},M.Cc)},++c*M.za.Tv+M.za.KA))});setTimeout(function(){Wb=!1},c*M.za.Tv+M.za.KA)}var g=$("#search"),h=g.val().trim();if(""!==h){var k=wM?wM.query:"",l=wM?wM.zp():[],m=wM?wM.Yg:null,n=PM&&!PM.isRejected()&&wM&&!wM.Ob,p=$("#resultsSearch"),q=p.find(".layer").first(),u=$("\x3e .inner \x3e .searchGroup",q);b=Ib.H.get(Pf)&&
!1!==b;var v=jM||EK,z=OL,k=h===k,l=0===_.difference(l,v).length+_.difference(v,l).length,m=z===m;q.data("userPreparedSearch",!0);if(k&&l&&m&&n){var r=u.last();OM(r);if(!Wb){Wb=!0;var x=eN(r);a=x-M.dD;1<Math.abs(a-q.scrollTop())?q.animate({scrollTop:a},M.za.Jq,e):e()}}else{wM=new LM(h,v,null,null,null,null,b,null,MM(p,p.height()),null,!0,!0,NM.bind(null,a),z,null);wN?g.blur():g.select();r=$('\x3cdiv class\x3d"searchGroup hasContent" data-search-text\x3d"'+_.escape(h)+'"\x3e\x3ch2\x3e\x3c/h2\x3e\x3cdiv class\x3d"searchSuggestion"\x3e\x3c/div\x3e\x3cul class\x3d"gallery photoGallery infoPanelGallery"\x3e\x3c/ul\x3e\x3c/div\x3e');
$("h2",r).text("“"+h+"”");r.height(p.height());var H=$();0<$(".searchLoaderHolder.on",p).length&&(H=$('\x3cdiv class\x3d"placeholder"\x3e\x3cdiv/\x3e'),H.height($(".searchLoaderHolder",p).height()),q.addClass("doNotTransition"),H.insertAfter(u.last()),q.removeClass("doNotTransition"));OM(u.last());var D=BN(q),m=dN(p),g=D>m+M.dD,h=$(),n=$();if(g){var K=m+M.dD,E=$();u.each(function(){var a=$(this);0==E.length&&eN(a)+a.outerHeight()>K&&(E=a)});0==E.length&&(E=u.last());m=$(".gallery",E);n=K-eN(E);b=
0;0<m.length&&(b=n-(m.offset().top-E.offset().top));b=qN(m,b);h=h.add(b);n=E.nextAll(".searchGroup");0>=$("li",m).length-b.length&&(h=$(),n=n.add(E));n=n.filter(function(){return!$(this).hasClass("inlineFolderGroup")});0==h.length&&0==n.length?g=!1:(p.addClass("modifying"),b=n,0<h.find("a.infoOpen").length&&(b=b.add(E)),v=$(".infoPanel",b),0<v.length&&(b.addClass("doNotTransition"),v.addClass("doNotTransition"),$(".close",v).click(),v.data("infoPanelPointer").remove(),v.remove(),b.removeClass("doNotTransition")),
m=m.data("columnData")||null,CN(m,h),h.detach(),Iz(E,!0),E.hasClass("inlineFolderGroup")&&eP(q.data("view"),!1),p.removeClass("modifying"))}u=$("\x3e .inner \x3e .searchGroup",q);h=n.map(function(){return $(this).outerHeight(!0)}).toArray().reduce(function(a,b){return a+b},0);h=BN(q)+r.height()-h;g&&h<dN(p)&&r.height(r.height()+(dN(p)-h));r.insertAfter(u.last());n.detach();var O=n.toArray(),u=u.filter(function(){return-1==O.indexOf(this)});g||0!=$(".gallery li",u.last()).length||(u.last().remove(),
u=u.filter(function(a){return a!=u.length-1}));r.data("search",wM);var D=0,Q=parseInt(r.css("padding-top"),10)+parseInt(r.css("padding-bottom"),10);u.last().addClass("doNotTransition");u.each(function(){var a=$(this);if(void 0!==a.data("contentHeight")){var b=a.data("contentHeight"),b=b+oN(a);a.height(b);D+=b+Q}});u.last().removeClass("doNotTransition");g=$("#objectPanel").find("menu .search");g.hasClass("on")||g.find("a").click();NM(a);d()}}}
function NM(a){var b=JM(),c=wM;PM&&PM.cancel();PM=null;PM=Sb.dt({Pk:ub?ub.fc():null,query:wM.query,xn:wM.zp(),ol:wM.ol,$k:wM.$k,filters:wM.filters,wx:wM.wx,sort:wM.sort,elevation:wM.elevation,az:!1,cg:wM.cg,from:wM.hl(),limit:wM.Ad(),uk:wM.uk,Eg:wM.Eg,Yg:wM.Yg,aspectRatio:wM.Zg()}).then(function(b){fP(a,b)}).catch(function(d){var e=b.find(".layer \x3e .inner \x3e .searchGroup").last();if(!(d instanceof P.CancellationError&&JM().attr("id")===b.attr("id"))){if("resultsSearch"!==b.attr("id"))return OM(e),
P.reject();c.cancel();d=$('\x3cp class\x3d"noResults"\x3e').text(jc(a).format("objectPanelSearchFailed"));OM(e);e.find(".gallery").remove();e.append(d)}})}
function fP(a,b){var c=JM(),d=$(".layer \x3e .inner \x3e .searchGroup",c).last(),e=b.Jz(),g=$(".photoGallery, .backgroundGallery",d);wM.nq=e.length;OM(c.find(".layer"));if(0==e.length&&wM.nq>=wM.limit)wM.rY();else{var h=b.suggestion,k=wM,l=wM.query;0===k.hl()&&(k.Eg=b.u());if(Ib.H.get(Pf)&&h){b=$("h2",d);var m=$(".searchSuggestion",d);m.empty().addClass("hasSuggestion");window.setTimeout(function(){m.addClass("showSuggestion")},300);h.overridden?(wM=new LM(SK(h),k.zp(),k.ol,k.$k,k.filters,k.elevation,
!1,k.sort,k.Ad(),k.Eg,k.cg,k.uk,function(){NM(a)},k.Yg,k.Zg()),wM.nq=e.length,d.data("search",wM),b.text("“"+SK(h)+"”"),0<h.originalHits?m.append("Search instead for ").append($("\x3ca/\x3e").data("query",h.originalQuery).append(h.originalQuery)):m.addClass("originalSearch").append("You typed ").append($("\x3cstrong/\x3e").append(h.originalQuery))):m.append("Did you mean: ").append($("\x3ca/\x3e").data("query",SK(h)).append(gP(h)))}else 0===k.hl()&&$(".searchSuggestion",d).empty().removeClass("showSuggestion").removeClass("hasSuggestion");
0<e.length||k.xH?(e=e.slice(0,k.Ad()),e.forEach(function(a){Yg(vb,a.u(),a.getVersion(),a.Gc())}),e.forEach(function(b){(new hP({model:b,query:l,J:jc(a),W:Ib})).$el.appendTo(g)}),Hz(g),setTimeout(function(){k.nq>=k.limit||!k.xH?zN(c):(wM=k.xH,NM(a))},e.length*M.za.Tv+M.za.KA)):0==k.hl()&&(e=k.HX,!e||0===e.hl()&&0===e.Fz())&&(g.remove(),$(".noResults",d).remove(),e=$('\x3cp class\x3d"noResults"\x3e').text(jc(a).format("objectPanelSearchNoResults")),d.append(e))}}
function KM(a){if(0>=$(".searchLoader",a).length){var b=$('\x3cdiv class\x3d"searchLoader tileListBusyIndicator"\x3e\x3cspan\x3e\x3c/span\x3e\x3cspan\x3e\x3c/span\x3e\x3cspan\x3e\x3c/span\x3e\x3cspan\x3e\x3c/span\x3e\x3cspan\x3e\x3c/span\x3e\x3cspan\x3e\x3c/span\x3e\x3cspan\x3e\x3c/span\x3e\x3cspan\x3e\x3c/span\x3e\x3c/div\x3e');a.append(b);b.addClass("tileListBusyIndicatorOn")}}
function gP(a){var b=$("\x3cspan/\x3e");if(!a.tokenReplacements||0==a.tokenReplacements.length)return b.text(SK(a)),b;var c=a.originalQuery;a=a.tokenReplacements;for(var d=0,e=0,g=0;d<c.length&&g<a.length;)d==a[g].start?(e<d&&b.append(c.substring(e,d)),b.append($("\x3cspan\x3e").addClass("replacedToken").text(a[g].replacement)),d=e=a[g].end,g++):d++;e<c.length&&b.append(c.substring(e,c.length));return b}
function OM(a){$(".searchLoader",a).each(function(){$(this).remove();$(".searchLoaderHolder",a).removeClass("on")})};function iP(){this.bo=[]}iP.prototype.trigger=Backbone.Events.trigger;iP.prototype.listenTo=Backbone.Events.listenTo;iP.prototype.stopListening=Backbone.Events.stopListening;_.extend(iP.prototype,Backbone.Events);iP.prototype.zk=function(a){jP(this,a,this.bo.length)};function jP(a,b,c){-1===a.bo.indexOf(b)&&(c=Math.max(0,Math.min(c,a.bo.length)),a.bo.splice(c,0,b),a.listenTo(b,"all",function(){a.trigger.apply(this,arguments)}),a.trigger("searchGroup:add",a,b,c))}
iP.prototype.zB=function(a){var b=this.bo.indexOf(a);-1<b&&(a.remove(),this.bo.splice(b,1),this.stopListening(a),this.trigger("searchGroup:remove",this,a,b))};function kP(a){return a.bo[a.bo.length-1]}iP.prototype.getLength=function(){return this.bo.length};function bM(a,b,c){this.HP=a;this.title=b||"";this.P7=c||"";this.uH=[];this.IA=!0}bM.prototype.trigger=Backbone.Events.trigger;_.extend(bM.prototype,Backbone.Events);f=bM.prototype;f.pb=function(){return this.title};f.remove=function(){this.HP.cancel()};
f.clear=function(){this.uH=[];this.IA=!0;this.HP.reset();this.trigger("results:clear",this)};f.Kh=function(a){var b=this;this.trigger("results:willFetch",b);this.HP.bv(a,function(c,d){b.IA=c.length>=a;0<c.length&&(b.uH=b.uH.concat(c));b.trigger("results:didFetch",b,c,d)})};f.Fz=function(){return this.uH.length};
function lP(a){var b=Hb,c=Bb,d=Ib;if(-1<["grid","grids"].indexOf(a.toLowerCase()))return new mP(a);if("uploads"===a)return new nP(c,!0);if("marketplace"===a)return new nP(c,!1);b=new CK(b,[new AK]);c=new LM(a,EK,null,null,null,null,!1,[],0,null,!1,!1,function(){},!1,null);return d.H.get(lg)&&-1<["chart","charts"].indexOf(a.toLowerCase())?new oP(b,c,Wm):new pP(b,c)}function qP(){}_.extend(qP.prototype,Backbone.Events);qP.prototype.bv=function(a,b){b&&b([],!0)};qP.prototype.cancel=function(){};
qP.prototype.reset=function(){};function pP(a,b,c){this.search=a;this.Xc=b;this.iM=c||Vm;this.Ob=!1;this.tH=this.Mc=null}_.extend(pP.prototype,Backbone.Events);f=pP.prototype;
f.bv=function(a,b){function c(a){return!(a instanceof P.CancellationError)}this.Mc?b&&b([],!0):this.oW(a,b,this.Ob)||(this.Xc.limit=a,this.tH=b,this.Mc=GK(this.search,{Pk:ub?ub.fc():null,query:this.Xc.query,xn:this.Xc.zp(),ol:this.Xc.ol,$k:this.Xc.$k,filters:this.Xc.filters,elevation:this.Xc.elevation,wx:this.Xc.wx,sort:this.Xc.sort,az:!1,cg:this.Xc.cg,from:this.Xc.hl(),limit:this.Xc.Ad(),uk:this.Xc.uk,Eg:this.Xc.Eg,aspectRatio:this.Xc.Zg()}).catch(c,function(){}).then(this.x8.bind(this)).catch(P.CancellationError,
function(){}))};f.oW=function(){return!1};f.cancel=function(){this.Ob=!0;this.Mc&&this.Mc.cancel();this.Mc=null};f.reset=function(){this.cancel();this.Ob=!1;this.Xc.reset()};f.x8=function(a){var b=[];!this.Ob&&a&&a.Jz()&&(b=a.Jz());this.mN(b,this.Xc.Ad());this.tH&&this.tH(b,this.Ob);this.Mc=this.tH=null;this.Ob||(0===this.Xc.hl()&&(this.Xc.Eg=a.u()),this.Xc.nq=b.length,a=this.Xc,a.from+=a.limit)};f.mN=function(){};
function mP(a){this.px=0;this.ze=[];this.query=a;this.Ob=!1;if("grid"===a||"grids"===a)this.query="grid",this.ze=_.keys(Vm)}mP.prototype.cancel=function(){this.Ob=!0};mP.prototype.bv=function(a,b){if(this.px>=this.ze.length||this.Ob)b&&b([],this.Ob);else{var c=this.ze.slice(this.px,this.px+a);this.px+=a;b&&b(c,!1)}};mP.prototype.reset=function(){this.Ob=!1;this.px=0;this.ze=[]};function nP(a,b){this.Zb=a;this.kY=b;this.Z=null;this.Ob=!1;this.Mc=null;this.Vz=!1}
nP.prototype.bv=function(a,b){function c(a,c){function e(a){return(a=a.Ha().nc())&&0<Object.keys(a).length}function l(a){var b=a.Ha(),c=b.nc(),d;NE(a.Ha())&&(d=100*NE(a.Ha()).ONE_USE||0);return Rg({id:a.u(),version:b.getVersion(),files_:_.values(c),oneTimeUsePriceCents:d,status:b.vg(),type:a.eb()})}function m(a,b){a=a.u();b=b.u();return-(a<b?-1:a>b?1:0)}200===a&&c.media&&0!==c.media.length?(a=c.media.filter(e).sort(m).map(l),b&&b(a,d.Ob),d.Z=c.continuation,d.Mc=null,d.Vz=!0):b&&b([],d.Ob)}var d=this,
e=[Ng,Pg];this.Mc?b&&b([],!0):null==this.Z&&this.Vz?b&&b([],!1):(a=QE((new PE).Ft(this.kY).Dt(!1).Co(),e).lg(a),null!=d.Z&&a.pi(d.Z),this.kY||(a=a.RC().Nx(!0)),this.Mc=pE(Bb,a,c))};nP.prototype.cancel=function(){this.Ob=!0;this.Mc&&(this.Mc.cancel(),this.Mc=null)};nP.prototype.reset=function(){this.cancel();this.Ob=!1;this.Z=null;this.Vz=!1};
function cM(a){Ca(!((a.rc||a.query)&&a.Xc));var b=a.iM||Vm;if(null!=a.Xc)pP.call(this,a.IP,a.Xc,b);else if(null!=a.rc){var c=new aP,c=bP(c,a.query?a.query+" *":"*");pP.call(this,a.IP,new LM(c.toString(),DK,{designType:a.rc.u()},null,null,null,!1,[new YK({Ju:"score",direction:"DESC"}),new YK({Ju:"lastModified",direction:"DESC"}),new YK({Ju:"id",direction:"ASC"})],0,null,!1,!1,function(){},!1,null),b)}this.RE=!1;this.Pz=0}_.extend(cM.prototype,pP.prototype);
cM.prototype.reset=function(){pP.prototype.reset.call(this);this.RE=!1;this.Pz=0};cM.prototype.oW=function(a,b,c){var d=[];return this.RE?(rP(this,d,this.Pz,a),b&&b(d,c),!0):!1};cM.prototype.mN=function(a,b){(this.RE=0===a.length||a.length<b)&&rP(this,a,this.Pz,b-a.length)};function rP(a,b,c,d){c=_.rest(_.keys(a.iM),c);d=_.first(c,d);a.Pz+=d.length;d.forEach(function(c){b.push(sP(a,c))})}
function sP(a,b){b=a.iM[b];a=new nI;var c=Zg(I.hb().nb);b={width:c.l(),height:c.o(),elements:[{type:"grid",left:0,top:0,width:c.l(),height:c.o(),items:b.items}]};a.name="Photo Grid";a.content=b;return a}function oP(a,b,c){pP.call(this,a,b,c);this.zJ=c;this.mL=!1;this.uy=0}_.extend(oP.prototype,pP.prototype);oP.prototype.reset=function(){pP.prototype.reset.call(this);this.mL=!1;this.uy=0};oP.prototype.mN=function(a){this.mL||(this.mL=tP(this,a,this.uy,_.size(this.zJ)))};
function tP(a,b,c,d){c=_.rest(_.keys(a.zJ),c);d=_.first(c,d);a.uy+=d.length;d.forEach(function(a,c){b.splice(c,0,a)});return a.uy===_.size(a.zJ)}function $L(a){this.Ob=!1;this.Pa=a.Pa;this.ec=a.ec;this.la=a.la;this.ta=a.ta;this.Nu=a.Nu;this.Or=a.Or;this.tE=a.tE||null;this.QE=!1;this.YF=this.Z=this.Mc=null}_.extend($L.prototype,pP.prototype);
$L.prototype.bv=function(a,b){function c(){function b(a){h.YF=a.Bb();h.QE=null==h.YF;a=a.uf().map(function(a){return a.u()});if(!a.length)return null;k.nl=a;return new At(k)}if(h.Nu){var c=(new tk).wk(new Yj({id:h.Nu})).lg(a).pi(h.YF);return h.ec.BA(c).then(b).catch(g)}return new P(function(a){a(new At(k))})}function d(a){h.Mc=null!=a?yq(h.Pa,a):P.resolve(null);return h.Mc}function e(a){a?(h.Z=a.continuation,this.Nu||(h.QE=null==h.Z),b&&b(a.documents,h.Ob),h.Mc=null):b&&b([],h.Ob)}function g(a){b&&
b([],h.Ob);throw a;}var h=this,k={Or:h.Or,lL:!0,Z:h.Z,limit:a};this.tE&&(k.ka=this.tE);this.Nu||(k.mh=new Ks({user:h.la,D:h.ta}),k.aH=["OWNER"]);this.Mc?b&&b([],!0):this.QE?b&&b([],this.Ob):this.Mc=c().then(d).then(e).catch(g)};$L.prototype.cancel=function(){this.Ob=!0;this.Mc&&(this.Mc.cancel(),this.Mc=null)};$L.prototype.reset=function(){this.cancel();this.Ob=!1;this.YF=this.Z=null;this.QE=!1};
function uP(a){this.ta=a.ta||null;this.Ob=!1;this.xK=a.xK;this.Pa=a.Pa;this.eU=!1;this.Z=this.Mc=null;this.ni=a.ni}_.extend(uP.prototype,pP.prototype);
uP.prototype.bv=function(a,b){function c(a){var b=a.uf().map(h);k.eU=null==a.Bb();k.Z=a.Bb();return 0!==b.length?(a=new At({nl:b}),yq(k.Pa,a)):P.resolve({documents:[]})}function d(a){b(a.documents,k.Ob)}function e(){b([],k.Ob)}function g(){k.Mc=null}function h(a){return a.u()}var k=this;this.Mc?b&&b([],!0):this.eU?b&&b([],this.Ob):(a=qI((new pI).oi(this.ta).wk("/designs/layouts"),this.xK).lg(a).pi(this.Z),this.Mc=lI(this.ni,a).then(c).then(d).catch(e).finally(g))};
uP.prototype.cancel=function(){this.Ob=!0;this.Mc=null};uP.prototype.reset=function(){this.cancel();this.Ob=!1;this.Z=null};function LM(a,b,c,d,e,g,h,k,l,m,n,p,q,u,v){this.query="";this.xn=b;this.ol=c;this.$k=d;this.filters=e;this.elevation=g;this.wx=h;this.sort=k;"string"===typeof a?this.query=a.trim():a instanceof JK&&(this.query="group:"+a.fa());this.from=0;this.limit=l;this.nq=0;this.Ob=!1;this.rY=q;this.Eg=m;this.cg=n;this.uk=p;this.Yg=u;this.aspectRatio=v;this.xH=this.HX=null}
function WL(a){var b={};a.ol.forEach(function(a,c){return b[c]=a});var c={};a.$k.forEach(function(a,b){return c[b]=a});return new LM(a.query,a.xn,b,c,a.filters,null!=a.elevation?a.elevation:null,null!=a.OE?a.OE:!1,a.sort,a.limit,null!=a.Eg?a.Eg:null,null!=a.cg?a.cg:!1,null!=a.uk?a.uk:!1,function(){},null!=a.Yg?a.Yg:!1,void 0!==a.aspectRatio?a.aspectRatio:null)}f=LM.prototype;f.zp=function(){return this.xn};f.hl=function(){return this.from};f.Ad=function(){return this.limit};
f.cancel=function(){this.Ob=!0};f.Zg=function(){return this.aspectRatio};f.Fz=function(){return this.nq};f.reset=function(){this.nq=this.from=0};function vP(a){if(void 0!==a&&!wP(a))throw Error("StateMachine constructed with invalid options: "+JSON.stringify(a));this.wm=a?a.xV||"none":"none";this.ji=a?a.ji.slice(0):[]}vP.prototype.trigger=Backbone.Events.trigger;_.extend(vP.prototype,Backbone.Events);vP.prototype.Lz=function(){return this.wm};function xP(a){return a.ji.map(function(a){return _.extend({},a)})}
function yP(a,b){var c=a.ji.concat(b);if(!wP({xV:a.wm,ji:c}))throw Error("Invalid transitions being added: "+JSON.stringify(c));a.ji=a.ji.concat(b)}vP.prototype.transition=function(a){var b=this.wm,c=zP(this,a);if(null!==c)this.wm=c,this.trigger("state:enter",this,c,b);else throw Error("Invalid transition "+a+" from "+this.wm);};
function AP(a,b){var c=a.wm;if(-1===a.ji.filter(function(a){return a.from===c&&a.to===b}).map(function(a){return a.to}).indexOf(b))throw Error('Cannot transition from "'+c+'" to "'+b+'"');a.wm=b;a.trigger("state:enter",a,b,c)}vP.prototype.start=function(){this.transition("start")};vP.prototype.fail=function(){this.transition("fail")};
function zP(a,b){var c=a.ji.filter(function(c){return c.name===b&&c.from===a.wm});if(1<c.length)throw Error('More than 1 transition "'+b+'" exists from state "'+a.wm+'"');return 1===c.length?c[0].to:null}function wP(a){var b=a.xV||"none",c;c=-1===BP(a.ji).indexOf(b)?!1:!0;var d=CP(a.ji);a=DP(a.ji);b=0===a.length||1===a.length&&a[0]===b;return c&&b&&0===d.length}function BP(a){a=a.map(function(a){return[a.from,a.to]});return _.uniq(_.flatten(a))}
function DP(a){return BP(a).filter(function(b){return 0===a.filter(function(a){return a.to===b}).length})}function CP(a){return BP(a).filter(function(b){var c=a.filter(function(a){return a.from===b}).map(function(a){return a.name});return c.length>_.uniq(c).length})};function Rn(a,b,c,d){var e;a==c?e=b>d?1.5*Math.PI:.5*Math.PI:(e=Math.atan((d-b)/(c-a)),a<c?d<b&&(e=2*Math.PI+e):e=Math.PI+e,isNaN(e)&&(e=0));return Um(180*e/Math.PI)}function Um(a){a%=360;0>a&&(a+=360);return a}function Pn(a){return Math.PI/180*a}function KB(a,b){a-=b;return 0>a?360+a:a}function EP(a,b){a=Math.floor(180*Math.atan2(a.y-b.y,a.x-b.x)/Math.PI+90);return 0>a?360+a:a}
function FP(a){switch(a){case "TL":return 270;case "TR":return 0;case "BR":return 90;case "BL":return 180;default:throw Error("Quadrant does not exist");}}function Sn(a,b,c,d){return Math.sqrt(Math.pow(c-a,2)+Math.pow(d-b,2))};function GP(a,b){this.listener=void 0;this.og=a;this.ud=b;this.bJ=this.visible=!1;this.YU=[]}f=GP.prototype;f.gh=function(){return!!this.visible};
function HP(a){a.og.Cb().forEach(function(b){if(!(!b||0>b.K()||a.ud.Ia.length<=b.K())){b=XC(a.ud,b);if(0>=b.$el.find(".guides").length){var c=$('\x3cdiv class\x3d"guides"\x3e\x3cdiv class\x3d"vertical gutter"\x3e\x3c/div\x3e\x3cdiv class\x3d"horizontal gutter"\x3e\x3c/div\x3e\x3c/div\x3e');b.$el.prepend(c)}b.$el.find(".guides").css("display","block")}})}f.toggle=function(){this.gh()?(this.hide(),IP(this)):this.bJ?IP(this):this.show()};
function JP(a){return a.YU.filter(function(a){return a&&a.ge&&a.R()})}f.add=function(a){this.YU.push(a)};f.hide=function(){var a=this;this.visible=!1;this.og.Cb().forEach(function(b){XC(a.ud,b).$el.find(".guides").css("display","none")});JP(this).forEach(function(a){a.gE()});this.stopListening()};f.stopListening=function(){this.listener&&(this.listener.off("mousedown",".guides",this.xD),this.listener.off("touchstart",".guides",this.xD))};
f.show=function(){this.visible=!0;HP(this);JP(this).forEach(function(a){a.activate()});this.listener=new mp("#canvaDocument");this.xD=this.OK.bind(this);this.listener.on("mousedown",".guides",this.xD);this.listener.on("touchstart",".guides",this.xD)};
f.OK=function(a){function b(a){var p=a.clientX-l;a=a.clientY-m;p={align:"vertical",type:"guide",width:0,height:k.o(),left:p/W,top:0};e||(p.align="horizontal",p.width=k.l(),p.left=0,p.top=a/W,p.height=0);a=k;0<=p.left&&p.left<=a.l()&&0<=p.top&&p.top<=a.o()&&(a=new AH(p),a.appendTo(k),a.gb(p.left),a.ab(p.top),a.activate(),d.add(a));g.off("mouseup|touchend",b);g.off("mousemove|touchmove",c);h.remove()}function c(a){var b=a.clientX-l;a=a.clientY-m;e?h.css("top",0).css("left",b):h.css("top",a).css("left",
0)}var d=this,e=$(a.target).hasClass("vertical"),g=new mp($(document)),h=$('\x3cdiv class\x3d"element guide"\x3e\x3c/div\x3e'),k=this.og.Aa();a=XC(this.ud,k);var l=a.$el.find(".page__content").get(0).getBoundingClientRect().left,m=a.$el.find(".page__content").get(0).getBoundingClientRect().top;e?h.addClass("vertical"):h.addClass("horizontal");YM(a,h);g.on("mousemove|touchmove",c);g.on("mouseup|touchend",b)};function KP(){var a=Rb();return a.gh()?JP(a):[]}
function IP(a){function b(){return'\x3cdiv class\x3d"gutter"\x3e\x3c/div\x3e'}function c(){return'\x3cdiv class\x3d"column lsnap"\x3e\x3c/div\x3e\x3cdiv class\x3d"line"\x3e\x3c/div\x3e\x3cdiv class\x3d"column"\x3e\x3c/div\x3e\x3cdiv class\x3d"line"\x3e\x3c/div\x3e\x3cdiv class\x3d"column rsnap"\x3e\x3c/div\x3e'}$(".page").hasClass("showGuidelines")?(a.bJ=!1,$(".page").removeClass("showGuidelines"),$(".page .guidelines").remove()):(a.bJ=!0,$(".page").addClass("showGuidelines"),$(".page__content").prepend('\x3cdiv class\x3d"guidelines"\x3e'+
b()+c()+b()+c()+b()+c()+b()+c()+b()+c()+b()+c()+b()+"\x3c/div\x3e"),LP())}function LP(){if(I&&I.Cb&&I.Cb()[0]){var a=(I.Cb()[0].l()-140)/18*W-2/3+"px";$(".page .guidelines .column").css("width",a);$(".page .guidelines .gutter").css("width",20*W)}}
function MP(a){var b=XC(J,a);if(!b.$el.hasClass("showGuidelines"))return delete tb.Qz,[];if(tb.Qz)return tb.Qz;tb.Qz=[];b.$el.find(".guidelines .gutter").each(function(a,d){function e(){return 0}function g(){return(d.getBoundingClientRect().right-k().left)/W}function h(){return(d.getBoundingClientRect().left-k().left)/W}function k(){return b.$el.find(".page__content").get(0).getBoundingClientRect()}tb.Qz.push({F:h,Yb:h,Bd:g,w:e,hc:e,dh:function(){return g()-h()},bh:function(){return(k().bottom-k().top)/
W},ed:function(){return(k().bottom-k().top)/W},Qa:function(){return 0}})});return tb.Qz};var yB=Gn("#ffffff"),zB=Gn("#272c33"),AB=Gn("#7d8693");function NP(a){var b=goog.asserts.assertArray(a.data,"expected parameter 'data' of type list\x3cstring\x3e.");soy.asserts.assertType(goog.isNumber(a.index),"index",a.index,"number");var c=a.index;soy.asserts.assertType(goog.isNumber(a.maxLength),"maxLength",a.maxLength,"number");var d=a.maxLength;soy.asserts.assertType(null==a.isEmpty||goog.isBoolean(a.isEmpty)||1===a.isEmpty||0===a.isEmpty,"isEmpty",a.isEmpty,"boolean|null|undefined");a=a.isEmpty;c='\x3ctr data-row\x3d"'+soy.$$escapeHtmlAttribute(c)+
'" class\x3d"tableView__row tableView__row--data '+(a?"tableView__row--empty":"")+'"\x3e';a=b.length;for(var e=0;e<a;e++)var g=b[e],c=c+('\x3ctd class\x3d"tableView__cell"\x3e\x3cinput maxlength\x3d"'+soy.$$escapeHtmlAttribute(d)+'" data-column\x3d"'+soy.$$escapeHtmlAttribute(e)+'" class\x3d"tableView__input tableView__input--data" type\x3d"text" value\x3d"'+soy.$$escapeHtmlAttribute(g)+'" /\x3e\x3c/td\x3e');return soydata.VERY_UNSAFE.ordainSanitizedHtml(c+"\x3c/tr\x3e")}
function OP(a){var b='\x3ctr class\x3d"tableView__row tableView__row--header"\x3e';a=goog.asserts.assertArray(a.eh,"expected parameter 'header' of type list\x3cstring\x3e.");for(var c=a.length,d=0;d<c;d++)b+='\x3cth class\x3d"tableView__cell tableView__cell--header"\x3e'+soy.$$escapeHtml(a[d])+"\x3c/th\x3e";return soydata.VERY_UNSAFE.ordainSanitizedHtml(b+"\x3c/tr\x3e")}
function PP(a){soy.asserts.assertType(goog.isNumber(a.count),"count",a.count,"number");var b=a.count;soy.asserts.assertType(goog.isString(a.TF)||a.TF instanceof goog.soy.data.SanitizedContent,"itemMessage",a.TF,"string|goog.soy.data.SanitizedContent");var c=a.TF;soy.asserts.assertType(goog.isString(a.qI)||a.qI instanceof goog.soy.data.SanitizedContent,"valueMessage",a.qI,"string|goog.soy.data.SanitizedContent");a=a.qI;for(var d='\x3ctr class\x3d"tableView__row tableView__row--placeholder"\x3e',e=
0;e<b;e++)d+='\x3ctd class\x3d"tableView__cell tableView__cell--placeholder"\x3e\x3cinput tabindex\x3d"-1" data-column\x3d"'+soy.$$escapeHtmlAttribute(e)+'" class\x3d"tableView__input tableView__input--placeholder" type\x3d"text" placeholder\x3d"'+(0==e?soy.$$escapeHtmlAttribute(c):soy.$$escapeHtmlAttribute(a))+'" /\x3e\x3c/td\x3e';return soydata.VERY_UNSAFE.ordainSanitizedHtml(d+"\x3c/tr\x3e")}
function QP(a){soy.asserts.assertType(goog.isString(a.VG)||a.VG instanceof goog.soy.data.SanitizedContent,"pasteMessage",a.VG,"string|goog.soy.data.SanitizedContent");return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"tableView__spacer"\x3e\x3c/div\x3e\x3ctextarea placeholder\x3d"'+soy.$$escapeHtmlAttribute(a.VG)+'" class\x3d"tableView__pasteArea" cols\x3d"30" rows\x3d"10"\x3e\x3c/textarea\x3e')};function RP(a){Backbone.View.call(this,{className:"tableView",tagName:"div"});this.i=a}t(RP,Backbone.View);f=RP.prototype;f.events=function(){return{"input .tableView__input":this.Dn,"keyup .tableView__input":this.B5,"keydown .tableView__input":this.VN,"focus .tableView__input--data":this.T4,"focus .tableView__input--placeholder":this.X5,"blur .tableView__input--data":this.As,"paste .tableView__input":this.SW,"paste .tableView__pasteArea":this.SW}};
f.K=function(a){if(!a.length)return{xb:-1,Ra:-1};var b=a.parents(".tableView__row").attr("data-row");a=$(a).attr("data-column");b=parseInt(void 0===b?-1:b,10);a=parseInt(void 0===a?-1:a,10);return{xb:b,Ra:a}};function SP(a,b){return a.$el.find('[data-row\x3d"'+b.xb+'"] [data-column\x3d"'+b.Ra+'"]')}f.oc=function(a){return""+a.val()};f.bi=function(a){SP(this,a).focus();return this};f.blur=function(a){SP(this,a).blur();return this};
function TP(a,b,c){SP(a,b).toggleClass("tableView__input--empty",!!c)}f.nk=function(a,b,c){var d=SP(this,a);d.length&&d.val(b)&&!c&&this.trigger("input",a,b)};f.XP=function(a){var b=this.$el.find(".tableView__row--header");a=OP({eh:a}).toString();b.length?b.replaceWith(a):this.$el.find(".tableView__row").first().before(a)};f.Dn=function(a){var b=$(a.currentTarget);a=this.K(b);b=this.oc(b);this.trigger("input",a,b)};
f.B5=function(a){a.stopPropagation();UP(a)?this.kL&&this.trigger("keyup",this.kL,function(){return a.preventDefault()}):a.preventDefault()};f.VN=function(a){a.stopPropagation();var b=$(a.currentTarget),c=this.K(b),b=this.oc(b);this.kL={index:c,value:b,keyCode:a.keyCode,shiftKey:a.shiftKey,altKey:a.altKey,selectionStart:a.currentTarget.selectionStart,selectionEnd:a.currentTarget.selectionEnd};UP(a)?this.trigger("keydown",this.kL,function(){return a.preventDefault()}):a.preventDefault()};
function UP(a){if(a.shiftKey)switch(a.which){case 188:case 190:return!1}return!0}f.SW=function(a){var b=!1,c=$(a.currentTarget),c=this.K(c),d=(a.originalEvent.clipboardData||window.clipboardData).getData("text"),e=-1!==d.indexOf("\x3c")||-1!==d.indexOf("\x3e"),g=-1!==d.indexOf("\t"),h=-1!==d.indexOf("\n")||-1!==d.indexOf("\r");if(g||h||e){if(-1===c.Ra||-1===c.xb)b=!0,c.xb=0,c.Ra=0;a.preventDefault();this.trigger("paste",c,d,b)}};
f.X5=function(a){a.preventDefault();a=parseInt($(a.target).attr("data-column"),10);this.trigger("append",a)};f.T4=function(a){a=$(a.currentTarget);this.trigger("focus",this.K(a));a.select()};f.As=function(a){var b=$(a.currentTarget);a=this.K(b);b=this.oc(b);this.trigger("blur",a,b)};
f.render=function(a,b,c,d){var e=this.el,g=goog.asserts.assertArray(a,"expected parameter 'data' of type list\x3clist\x3cstring\x3e\x3e.");soy.asserts.assertType(goog.isNumber(b),"maxLength",b,"number");for(var h='\x3ctable class\x3d"tableView__table"\x3e',k=g.length,l=0;l<k;l++)h+=NP({data:g[l],index:l,maxLength:b});b=soydata.VERY_UNSAFE.ordainSanitizedHtml(h+"\x3c/table\x3e");e.innerHTML=b;c&&this.$el.find(".tableView__row").first().before(OP({eh:c}).toString());d&&a[0]&&a[0].length&&this.$el.find(".tableView__row").last().after(PP({count:a[0].length,
TF:ve(this.i,a.length+1),qI:this.i.format("editorToolbarTableValue")}).toString());this.$el.append(QP({VG:this.i.format("editorToolbarPasteSpreadsheet")}).toString())};f.insertRow=function(a,b,c,d){this.$el.find('.tableView__row--data[data-row\x3d"'+a+'"]').after(NP({data:d,index:a+1,maxLength:c,isEmpty:b}).toString());VP(this)};function WP(a,b){a.$el.find('.tableView__row--data[data-row\x3d"'+b+'"]').remove();VP(a)}
function VP(a){var b=0;a.$el.find(".tableView__row--data").each(function(a,d){$(d).attr("data-row",a);a>b&&(b=a)});a.$('.tableView__input--placeholder[data-column\x3d"0"]').attr("placeholder",ve(a.i,b+2))}function XP(a,b){a.$el.find(".tableView__input--placeholder").toggle(b)};function YP(a,b,c,d,e,g){var h=this;this.view=a;this.i=b;this.Uj=c;this.Wi=d;this.maxLength=e||16;this.Cd=g||0;this.data=[];this.headers=[];this.ru={Ra:0,xb:0};this.view.on("focus",function(a){h.ru=a});this.view.on("input",function(a,b){return h.nk(a,b)});this.view.on("keyup",function(a,b){return ZP(h,a,b)});this.view.on("keydown",function(a,b){return h.Bl(a,b)});this.view.on("blur",function(a,b){h.validate(a,b);h.trigger("commit",h.getData())});this.view.on("paste",function(a,b,c){return $P(h,a,
b,c)});this.view.on("append",function(a){return aQ(h,a)})}function bQ(a,b,c){var d=new RP(c);c=new YP(d,c,b.Uj,b.Wi,b.maxLength,b.Cd);c.setData(a);d.render(a,c.maxLength,b.IJ,!0);return{wb:c,view:d}}f=YP.prototype;f.setData=function(a){this.data=a};f.XP=function(a){this.headers=a;this.view.XP(this.headers)};
f.nk=function(a,b){-1!==a.xb&&-1!==a.Ra&&(b=this.sanitize(b),this.data[a.xb]||(this.data[a.xb]=cQ(this,a.xb+1)),this.data[a.xb][a.Ra]=b,this.validate(a,b),a=a.Ra!==this.Cd,this.trigger("change",this.getData(),a))};f.sanitize=function(a){return a.replace(/[<>]/g,"").substr(0,this.maxLength)};
f.validate=function(a,b){if(-1===a.xb||-1===a.Ra)return!1;var c=a.Ra!==this.Cd,d=DG(b),d=!isNaN(d)||""===b;c&&SP(this.view,a).toggleClass("tableView__input--numerical",!!d).toggleClass("tableView__input--nonNumerical",!d);TP(this.view,a,!b.length);b=this.data[a.xb].reduce(function(a,b){return!a.length&&!b.length});this.view.$('.tableView__row[data-row\x3d"'+a.xb+'"]').toggleClass("tableView__row--empty",!!b);return d};
function ZP(a,b,c){var d=b.index,e=b.value;switch(b.keyCode){case 13:c&&c();b.shiftKey?a.insertRow(d.xb):b.altKey?dQ(a,d):eQ(a,d);break;case 38:c&&c();dQ(a,d);break;case 40:c&&c();eQ(a,d);break;case 37:0==b.selectionStart&&0==b.selectionEnd&&(c&&c(),fQ(a,d));break;case 39:b.selectionStart==e.length&&b.selectionEnd==e.length&&(c&&c(),gQ(a,d));break;case 8:0===e.length&&(b=0===a.data[d.xb].reduce(function(a,b){return a.length+b.length}),0===d.Ra&&b?(c&&c(),a.deleteRow(d.xb),hQ(a,d)):(c&&c(),fQ(a,d)))}}
f.Bl=function(a,b){var c=a.index;switch(a.keyCode){case 9:b&&b();a.shiftKey?hQ(this,c):(a=c.Ra===this.Wi-1,c.xb===this.data.length-1&&a&&aQ(this),c.xb<=this.data.length-1&&(a&&(c.xb=Math.min(c.xb+1,this.Uj)),c.Ra=(c.Ra+1)%this.Wi,this.bi(c)));break;case 27:b&&b(),this.view.blur(this.ru)}};
function $P(a,b,c,d){d&&iQ(a);d=-1!==c.indexOf("\n")?"\n":"\r";var e=[];c.split(d).forEach(function(a){return e.push(a.split("\t"))});c=function(a,b){return _.findIndex(a,function(a){a=a.slice(b+1);return _.any(a,function(a){return!isNaN(parseFloat(a))})})}(e,a.Cd);0<c&&a.XP(e[c-1]);var g;for(c=Math.max(0,c);c<e.length&&c!==a.Uj;c++,b.xb++)for(b.xb>=a.data.length&&a.insertRow(b.xb-1,cQ(a,b.xb+1),!0),d=0;d<Math.min(e[c].length,a.Wi-b.Ra)&&d!==a.Wi;d++){g=d+b.Ra;var h=a.sanitize(e[c][d]);g={xb:b.xb,
Ra:g};a.nk(g,h,!0);a.view.nk(g,h,!0);a.validate(g,h)}g&&(a.bi(g),a.trigger("change",a.getData(),!0))}f.bi=function(a,b){this.trigger("focus",a);!b&&this.view.bi(a)};function eQ(a,b){b.xb+1<a.Uj&&(b.xb===a.data.length-1?aQ(a):(b.xb++,a.bi(b)))}function dQ(a,b){0<=--b.xb&&a.bi(b)}function gQ(a,b){b.Ra+1<a.Wi&&(b.Ra++,a.bi(b))}function fQ(a,b){0<=--b.Ra&&a.bi(b)}function hQ(a,b){var c=0!==b.xb;0!==b.Ra?(b.Ra--,a.bi(b)):c&&(b.xb=Math.max(0,b.xb-1),b.Ra=a.Wi-1,a.bi(b))}f.getData=function(){return JSON.parse(JSON.stringify(this.data))};
function cQ(a,b){for(var c=[],d=0;d<a.Wi;d++)d===a.Cd?c.push(ve(a.i,b)):c.push(a.i.format("editorToolbarTableValue"));return c}
f.insertRow=function(a,b,c){var d=a+1;b=b||cQ(this,d+1);var e=!0,g=0;this.data.forEach(function(a){a.reduce(function(a,b){return""===a&&""===b})&&g++});b.forEach(function(a){return e=e&&0==a.length});this.data.length<this.Uj&&0===g?(this.data.splice(d,0,b),this.view.insertRow(a,e,this.maxLength,b)):this.data.length===this.Uj&&XP(this.view,!1);this.bi({xb:d,Ra:this.ru.Ra},c);a=this.ru.Ra!==this.Cd;!c&&this.trigger("change",this.getData(),a)};
function aQ(a,b){a.insertRow(a.data.length-1);void 0!==b&&a.bi({Ra:b,xb:a.data.length-1})}f.deleteRow=function(a){if(1===this.data.length)return{Ra:0,xb:a};WP(this.view,a);this.data.splice(a,1);this.data.length<this.Uj&&XP(this.view,!0);a=this.ru.Ra!==this.Cd;this.trigger("change",this.getData(),a)};
function iQ(a){a.data.length||(a.data=[cQ(a,1)]);for(var b=a.data.length-1;0<=b;b--)if(0===b)for(var c=0;c<a.Wi;c++)a.nk({Ra:c,xb:b},"",!0),a.view.nk({Ra:c,xb:b},"",!0);else a.data.splice(b,1),WP(a.view,b);b={Ra:0,xb:0};a.ru=b;a.bi(b,!0);a.data.length<a.Uj&&XP(a.view,!0)}f.off=Backbone.Events.off;f.on=Backbone.Events.on;f.trigger=Backbone.Events.trigger;f.listenTo=Backbone.Events.listenTo;f.stopListening=Backbone.Events.stopListening;function jQ(a){var b=this;Backbone.View.call(this,{el:a.el,events:{"mouseover li":function(a){return $(a.currentTarget).addClass("hovering")},"mouseout li":function(a){return $(a.currentTarget).removeClass("hovering")},"hover li.selectable":function(a){b.JM||b.trigger("hover",$(a.currentTarget).index()-$(a.currentTarget).prevAll("li").not(".selectable").length)},"mouseup li.selectable":function(a){b.trigger("trigger",$(a.currentTarget).index()-$(a.currentTarget).prevAll("li").not(".selectable").length,
a)},"click li:not(.selectable)":function(){b.trigger("clickNonSelectable")}}});this.JM=!1;this.zQ=_.debounce(this.zQ,500);this.Bl=this.Bl.bind(this);$(document).on("keydown",this.Bl)}t(jQ,Backbone.View);function kQ(a){var b=$(lQ({className:a.className?" "+a.className:""}));a=a.elements.map(function(a){return $("\x3cli\x3e").toggleClass("selectable",a.sY).toggleClass("toolbar__menuHeader",a.g3).append(a.element)});var c;(c=b.find("ul")).append.apply(c,[].concat(na(a)));return new jQ({el:b[0]})}f=jQ.prototype;
f.select=function(a){this.$("li.active").removeClass("active");this.$("li.selectable").eq(a).addClass("active")};f.JB=function(a){var b=this.$("li.active").position().top,c=this.$(".menuList__inner"),d=this.$el.outerHeight(),b=c.scrollTop()+b-d/2;a?c.scrollTop(b):c.stop().animate({scrollTop:b},100)};f.remove=function(){$(document).off("keydown",this.Bl);Backbone.View.prototype.remove.call(this)};f.zQ=function(){this.JM=!1};
f.Bl=function(a){if("visible"===this.$el.css("visibility")){this.JM=!0;this.zQ();if(38===a.which)this.trigger("keyUp",a);else if(40===a.which)this.trigger("keyDown",a);else if(9===a.which&&a.shiftKey)this.trigger("keyShiftTab",a);else if(9===a.which)this.trigger("keyTab",a);else if(13===a.which)this.trigger("keyEnter",a);else if(27===a.which)this.trigger("keyEsc",a);else return;a.preventDefault();return!1}};function mQ(a,b,c){this.element=a instanceof jQuery?a:$(a);this.sY=b;this.g3=c}var lQ=_.template('\n  \x3cdiv class\x3d"menuList\x3c%- className %\x3e"\x3e\n    \x3cul class\x3d"menuList__inner"\x3e\x3c/ul\x3e\n  \x3c/div\x3e\n');function nQ(a){var b=this;this.index=a.index;this.co=a.co;this.view=a.view;this.listenTo(this.view,{keyUp:function(){return oQ(b,!1)},keyDown:function(){return pQ(b,!1)},keyTab:function(){return pQ(b,!0)},keyShiftTab:function(){return oQ(b,!0)},keyEnter:function(a){null!==b.index&&b.trigger("select",b.index,b.co[b.index||0],a)},keyEsc:function(){return b.trigger("cancel")},hover:function(a){b.index=a;b.view.select(a)},trigger:function(a,d){b.trigger("select",a,b.co[a],d)},clickNonSelectable:function(){return b.trigger("cancel")}})}
function qQ(a){var b=kQ({elements:a.elements,className:a.className});"undefined"!==typeof a.Gr&&b.select(a.Gr);return new nQ({index:"undefined"===typeof a.Gr?null:a.Gr,co:a.elements.filter(function(a){return a.sY}),view:b})}function oQ(a,b){a.index||(a.index=0);a.index--;0>a.index&&(a.index=b?a.co.length-1:0);a.view.select(a.index);a.view.JB();a.trigger("activeChange",a.co[a.index])}f=nQ.prototype;f.JB=function(a){this.view.JB(a)};
function pQ(a,b){a.index||(a.index=0);a.index++;a.index>=a.co.length&&(a.index=b?0:a.co.length-1);a.view.select(a.index);a.view.JB();a.trigger("activeChange",a.co[a.index])}f.remove=function(){this.stopListening();this.view.remove()};f.listenTo=Backbone.Events.listenTo;f.stopListening=Backbone.Events.stopListening;f.trigger=Backbone.Events.trigger;f.off=Backbone.Events.off;f.on=Backbone.Events.on;function rQ(){Backbone.View.call(this,{className:"sideDrawer",tagName:"section"});this.visible=!1;this.In=[];this.$el.hide().append('\x3cdiv class\x3d"sideDrawer__frame"\x3e\x3c/div\x3e')}t(rQ,Backbone.View);rQ.prototype.events=function(){return{click:this.preventDefault}};rQ.prototype.preventDefault=function(a){a.stopPropagation();a.preventDefault()};rQ.prototype.Pt=function(a){this.In.push(a);this.$el.find(".sideDrawer__frame").append(a.$el);return this};
function vC(a,b){b&&!a.visible?(a.visible=!0,a.$el.show(),a.$el.addClass("sideDrawer--showing"),a.$el.removeClass("sideDrawer--hiding")):!b&&a.visible&&sQ(a)}function sQ(a){a.visible=!1;a.$el.addClass("sideDrawer--hiding");a.$el.removeClass("sideDrawer--showing");P.delay(200*1.1).then(function(){return a.$el.hide()})}rQ.prototype.remove=function(){this.trigger("remove");this.In.forEach(function(a){a.stopListening();a.remove()});Backbone.View.prototype.remove.call(this)};function tQ(){}function uQ(){this.type="separator"}t(uQ,tQ);function vQ(a,b){uQ.call(this);this.id=a;this.label=b}t(vQ,uQ);
function wQ(a,b,c){c=void 0===c?{}:c;this.id=a;this.label="number"==typeof b?b.toFixed(1).toString().replace(".0",""):b;this.yt=(c.yt||b).toString();this.pf=!!c.pf;this.jn=c.jn;this.enabled=void 0===c.enabled?!0:c.enabled;this.hidden=!!c.hidden;this.icon=!!c.icon;this.If=c.If;this.ij=!!c.ij;this.Re=c.Re||"no";"string"==typeof c.Ge?(a=c.Ge,b=-1<navigator.platform.indexOf("Mac")?"⌘":"Ctrl ",a=a.replace("^",b)):a=void 0;this.Ge=a}t(wQ,tQ);
function xQ(a,b,c){this.id=a;this.label=b;this.placeholder=c;this.type="input"}t(xQ,tQ);function yQ(a,b,c){c=void 0===c?{}:c;this.id=a;this.label=b;this.type="slider";this.min=c.min||0;this.max=c.max||100;this.step=c.step||1}t(yQ,tQ);function zQ(a,b,c){this.color=a;this.label=b;this.index=c||0;this.type="color";this.target="any"}t(zQ,tQ);function AQ(a,b,c){zQ.call(this,a,b,c);this.target="fill"}t(AQ,zQ);function BQ(a,b,c){zQ.call(this,a,b,c);this.target="text"}t(BQ,zQ);function CQ(a,b){var c=!1,d=new uQ,e=[];a instanceof VB?(e.push(new AQ("",se(b))),c=!0):a.Za&&a.Za().length&&(e=e.concat(a.Za().map(function(a,c){if(a instanceof on)return new AQ(a.qa(),se(b),c);if("string"===typeof a)return new AQ(a,se(b),c);if(null===a)return new AQ("",se(b),c)})),c=!0);if(a instanceof hp||a.Xf&&a.Xf()&&(a.gV()||a.Kp()))c&&e.push(d),e.push(new wQ("filter",b.format("editorToolbarImageFilter"),{enabled:a.Vp(),hidden:a instanceof hp&&!a.Xf()}));if(a.um||a instanceof hp)c&&-1===e.indexOf(d)&&
e.push(d),e.push(new wQ("crop",b.format("editorToolbarImageCrop"),{enabled:!(a.Qp&&a.Qp()),hidden:a instanceof hp&&!a.um}));if(a.Rp()){c&&-1===e.indexOf(d)&&e.push(d);var g=[];g.push(new wQ("flipHorizontal",b.format("editorToolbarElementFlipHorizontally"),{icon:!0}));g.push(new wQ("flipVertical",b.format("editorToolbarElementFlipVertically"),{icon:!0}));e.push(new wQ("flip",b.format("editorToolbarElementFlip"),{If:g,ij:!0}))}c&&a.Wz()&&(-1===e.indexOf(d)&&e.push(d),e.push(new wQ("gridSpacing",b.format("editorToolbarGridSpacing"),
{If:[new yQ("gridSpacing",b.format("editorToolbarGridSpacing"))]})));return e}
function DQ(a,b){var c=[],d={HorizontalAlignLeft:new wQ("HorizontalAlignLeft",ke(b),{icon:!0,pf:!0}),HorizontalAlignCenter:new wQ("HorizontalAlignCenter",me(b),{icon:!0,pf:!0}),HorizontalAlignRight:new wQ("HorizontalAlignRight",le(b),{icon:!0,pf:!0}),VerticalAlignTop:new wQ("VerticalAlignTop",ne(b),{icon:!0,pf:!0}),VerticalAlignCenter:new wQ("VerticalAlignCenter",pe(b),{icon:!0,pf:!0}),VerticalAlignBottom:new wQ("VerticalAlignBottom",oe(b),{icon:!0,pf:!0})},e={HorizontalDistribute:new wQ("HorizontalDistribute",
qe(b),{icon:!0,pf:!0}),VerticalDistribute:new wQ("VerticalDistribute",re(b),{icon:!0,pf:!0})};c.push(new vQ("AlignTo",b.format("editorToolbarElementAlignTo")));a.forEach(function(a){d[a.id]&&c.push(d[a.id])});c.push(new vQ("SpaceEvenly",b.format("editorToolbarElementSpaceEvenly")));a.forEach(function(a){e[a.id]&&c.push(e[a.id])});return c}
function EQ(a,b,c){var d=[],e={group:new wQ("group",c.format("editorToolbarElementGroup"),{enabled:!1}),ungroup:new wQ("ungroup",c.format("editorToolbarElementUngroup"),{enabled:!0}),copy:new wQ("copy",c.format("editorToolbarElementCopy")),arrange:new wQ("arrange",c.format("editorToolbarElementArrange"),{ij:!0,If:[new wQ("forward",c.format("editorToolbarElementForward"),{icon:!0,Ge:"^]",pf:!0}),new wQ("back",c.format("editorToolbarElementBack"),{icon:!0,Ge:"^[",pf:!0})]}),transparency:new wQ("transparency",
ie(c),{icon:!0,If:[new yQ("transparency",ie(c))]}),link:new wQ("link",c.format("editorToolbarElementLink"),{icon:!0,If:[new xQ("link",c.format("editorToolbarElementLinkApply"),c.format("editorToolbarElementLinkPlaceholder"))]}),"delete":new wQ("delete",he(c),{icon:!0}),deletePlaceholderMenu:new wQ("deleteMenu",he(c),{icon:!0,ij:!0,If:[new wQ("imageDelete",c.format("editorToolbarDeleteMenuDeleteImage"),{icon:!1}),new wQ("delete",te(c),{icon:!1})]}),deleteElementMenu:new wQ("deleteMenu",he(c),{icon:!0,
ij:!0,If:[new wQ("elementDelete",te(c),{icon:!1}),new wQ("delete",c.format("editorToolbarDeleteMenuDeleteGroup"),{icon:!1})]})};0!==b.length&&DQ(b,c).forEach(function(a){e.arrange.If.push(a)});d.push(new uQ);var g=["deletePlaceholder","deleteElement"];a.forEach(function(b){-1<g.indexOf(b)||("delete"===b?(d.push(new wQ("more",c.format("editorToolbarElementMore"),{If:[],ij:!0,enabled:!1})),-1!==a.indexOf("deletePlaceholder")?d.push(e.deletePlaceholderMenu):-1!==a.indexOf("deleteElement")?d.push(e.deleteElementMenu):
d.push(e["delete"])):d.push(e[b]))});return d};function FQ(a,b){a=goog.asserts.assertArray(a.items,"expected parameter 'items' of type list\x3c[color: string, disableTooltip: bool, editable: string, enabled: bool, icon: bool, id: string, index: float|int, label: string, placeholder: string, shortcut: string, submenu: list\x3c[color: string, disableTooltip: bool, editable: string, enabled: bool, icon: bool, id: string, label: string, placeholder: string, shortcut: string, target: string, tooltip: string, type: string, vertical: bool]\x3e, target: string, tooltip: string, type: string, vertical: bool]\x3e.");
var c='\x3cul class\x3d"toolbar__list"\x3e';if(a)for(var d=a.length,e=0;e<d;e++){var g=a[e];if("color"==g.type)g=GQ({color:g.color,label:g.label,index:g.index,target:g.target},b);else if("slider"==g.type){var h=g;soy.asserts.assertType(goog.isString(h.id)||h.id instanceof goog.soy.data.SanitizedContent,"id",h.id,"string|goog.soy.data.SanitizedContent");g=h.id;soy.asserts.assertType(goog.isString(h.label)||h.label instanceof goog.soy.data.SanitizedContent,"label",h.label,"string|goog.soy.data.SanitizedContent");
var k=h.label;soy.asserts.assertType(goog.isNumber(h.min),"min",h.min,"number");var l=h.min;soy.asserts.assertType(goog.isNumber(h.max),"max",h.max,"number");var m=h.max;soy.asserts.assertType(goog.isNumber(h.step),"step",h.step,"number");h=h.step;g=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cli class\x3d"toolbar__item toolbar__item--slider"\x3e\x3clabel class\x3d"toolbar__label toolbar__label--'+soy.$$escapeHtmlAttribute(g)+'"\x3e'+soy.$$escapeHtml(k)+'\x3c/label\x3e\x3cdiv class\x3d"toolbar__sliderWrapper"\x3e\x3cdiv class\x3d"toolbar__sliderBackground"\x3e\x3c/div\x3e\x3cinput class\x3d"toolbar__slider toolbar__slider--'+
soy.$$escapeHtmlAttribute(g)+'" type\x3d"range" min\x3d"'+soy.$$escapeHtmlAttribute(l)+'" max\x3d"'+soy.$$escapeHtmlAttribute(m)+'" step\x3d"'+soy.$$escapeHtmlAttribute(h)+'" /\x3e\x3c/div\x3e\x3cinput class\x3d"toolbar__sliderValue toolbar__sliderValue--'+soy.$$escapeHtmlAttribute(g)+'" type\x3d"number" min\x3d"'+soy.$$escapeHtmlAttribute(l)+'" max\x3d"'+soy.$$escapeHtmlAttribute(m)+'" step\x3d"'+soy.$$escapeHtmlAttribute(h)+'" disabled\x3d"disabled" /\x3e\x3c/li\x3e')}else if("input"==g.type)l=
g,soy.asserts.assertType(goog.isString(l.id)||l.id instanceof goog.soy.data.SanitizedContent,"id",l.id,"string|goog.soy.data.SanitizedContent"),g=l.id,soy.asserts.assertType(goog.isString(l.label)||l.label instanceof goog.soy.data.SanitizedContent,"label",l.label,"string|goog.soy.data.SanitizedContent"),k=l.label,soy.asserts.assertType(goog.isString(l.placeholder)||l.placeholder instanceof goog.soy.data.SanitizedContent,"placeholder",l.placeholder,"string|goog.soy.data.SanitizedContent"),l=l.placeholder,
g=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cli class\x3d"toolbar__item toolbar__item--input"\x3e\x3cinput class\x3d"toolbar__input toolbar__input--'+soy.$$escapeHtmlAttribute(g)+'" type\x3d"text" placeholder\x3d"'+soy.$$escapeHtmlAttribute(l)+'" /\x3e\x3cbutton class\x3d"button buttonSmall toolbar__submit toolbar__submit--'+soy.$$escapeHtmlAttribute(g)+'"\x3e'+soy.$$escapeHtml(k)+'\x3c/button\x3e\x3cdiv class\x3d"toolbar__inputLabel toolbar__inputLabel--'+soy.$$escapeHtmlAttribute(g)+'"\x3e\x3c/div\x3e\x3c/li\x3e');
else if("separator"==g.type)g='\x3cli class\x3d"toolbar__item toolbar__separator toolbar__subheading"\x3e'+(g.label?'\x3cspan class\x3d"toolbar__label"\x3e'+soy.$$escapeHtml(g.label)+"\x3c/span\x3e":"")+"\x3c/li\x3e";else{var n=g,g=b;soy.asserts.assertType(goog.isString(n.id)||n.id instanceof goog.soy.data.SanitizedContent,"id",n.id,"string|goog.soy.data.SanitizedContent");k=n.id;soy.asserts.assertType(goog.isString(n.label)||n.label instanceof goog.soy.data.SanitizedContent,"label",n.label,"string|goog.soy.data.SanitizedContent");
l=n.label;soy.asserts.assertType(goog.isString(n.yt)||n.yt instanceof goog.soy.data.SanitizedContent,"tooltip",n.yt,"string|goog.soy.data.SanitizedContent");m=n.yt;soy.asserts.assertType(null==n.pf||goog.isBoolean(n.pf)||1===n.pf||0===n.pf,"disableTooltip",n.pf,"boolean|null|undefined");h=n.pf;soy.asserts.assertType(null==n.icon||goog.isBoolean(n.icon)||1===n.icon||0===n.icon,"icon",n.icon,"boolean|null|undefined");var p=n.icon;soy.asserts.assertType(null==n.enabled||goog.isBoolean(n.enabled)||1===
n.enabled||0===n.enabled,"enabled",n.enabled,"boolean|null|undefined");var q=n.enabled;soy.asserts.assertType(null==n.hidden||goog.isBoolean(n.hidden)||1===n.hidden||0===n.hidden,"hidden",n.hidden,"boolean|null|undefined");var u=n.hidden;soy.asserts.assertType(null==n.ij||goog.isBoolean(n.ij)||1===n.ij||0===n.ij,"vertical",n.ij,"boolean|null|undefined");var v=n.ij;soy.asserts.assertType(null==n.Re||n.Re instanceof goog.soy.data.SanitizedContent||goog.isString(n.Re),"editable",n.Re,"null|string|undefined");
var z=n.Re;soy.asserts.assertType(null==n.Ge||n.Ge instanceof goog.soy.data.SanitizedContent||goog.isString(n.Ge),"shortcut",n.Ge,"null|string|undefined");var r=n.Ge;soy.asserts.assertType(null==n.If||goog.isArray(n.If),"submenu",n.If,"?Array\x3c{color: string, disableTooltip: boolean, editable: string, enabled: boolean, hidden: boolean, icon: boolean, id: string, index: number, label: string, placeholder: string, shortcut: string, submenu: !Array\x3c{color: string, disableTooltip: boolean, editable: string, enabled: boolean, hidden: boolean, icon: boolean, id: string, label: string, placeholder: string, shortcut: string, target: string, tooltip: string, type: string, vertical: boolean}\x3e, target: string, tooltip: string, type: string, vertical: boolean}\x3e|undefined");
n=n.If;g=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cli class\x3d"toolbar__item toolbar__item--'+soy.$$escapeHtmlAttribute(k)+" "+(q?"enabled":"disabled")+" "+(u?"hidden":"")+" "+(n?"toolbar__item--submenu":"")+'"\x3e\x3cbutton data-item\x3d"'+soy.$$escapeHtmlAttribute(k)+'" class\x3d"toolbar__button toolbar__button--'+soy.$$escapeHtmlAttribute(k)+" "+(p?"toolbar__button--icon":"")+'"\x3e'+("number"==z?'\x3cinput class\x3d"toolbar__inputButton toolbar__inputButton--'+soy.$$escapeHtmlAttribute(k)+
'" type\x3d"text" value\x3d"'+soy.$$escapeHtmlAttribute(l)+'" /\x3e':'\x3cspan class\x3d"toolbar__label toolbar__label--'+soy.$$escapeHtmlAttribute(k)+'"\x3e'+soy.$$escapeHtml(l)+'\x3c/span\x3e\x3cspan class\x3d"toolbar__spinner"\x3e\x3c/span\x3e'+(r&&h?'\x3cspan class\x3d"toolbar__shortcut toolbar__shortcut--'+soy.$$escapeHtmlAttribute(k)+'"\x3e'+soy.$$escapeHtml(r)+"\x3c/span\x3e":""))+"\x3c/button\x3e"+(h?"":'\x3cdiv class\x3d"toolbar__tooltip toolbar__tooltip--'+soy.$$escapeHtmlAttribute(k)+'"\x3e'+
soy.$$escapeHtml(m)+(r?'\x3cspan class\x3d"toolbar__shortcut toolbar__shortcut--'+soy.$$escapeHtmlAttribute(k)+'"\x3e'+soy.$$escapeHtml(r)+"\x3c/span\x3e":"")+"\x3c/div\x3e")+(n?'\x3cmenu class\x3d"toolbar toolbar--'+soy.$$escapeHtmlAttribute(k)+" "+(v?"toolbar--vertical":"")+'"\x3e'+FQ({items:n},g)+"\x3c/menu\x3e":"")+"\x3c/li\x3e")}c+=g}return soydata.VERY_UNSAFE.ordainSanitizedHtml(c+"\x3c/ul\x3e")}
function GQ(a,b){b=b||{};soy.asserts.assertType(goog.isString(a.color)||a.color instanceof goog.soy.data.SanitizedContent,"color",a.color,"string|goog.soy.data.SanitizedContent");var c=a.color;soy.asserts.assertType(goog.isNumber(a.index),"index",a.index,"number");var d=a.index;soy.asserts.assertType(goog.isString(a.label)||a.label instanceof goog.soy.data.SanitizedContent,"label",a.label,"string|goog.soy.data.SanitizedContent");var e=a.label;soy.asserts.assertType(goog.isString(a.target)||a.target instanceof
goog.soy.data.SanitizedContent,"target",a.target,"string|goog.soy.data.SanitizedContent");a=a.target;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cli class\x3d"toolbar__item toolbar__item--color toolbar__item--color--'+soy.$$escapeHtmlAttribute(a)+'"\x3e\x3cbutton data-colorindex\x3d"'+soy.$$escapeHtmlAttribute(d)+'" class\x3d"toolbar__button toolbar__button--color toolbar__button--icon toolbar__target--'+soy.$$escapeHtmlAttribute(a)+" "+(""==c?"noColor":"")+'" '+(""!=c?'style\x3d"'+(b.Vb?"/*"+
b.Vb+"*/":"")+"background-color: "+soy.$$escapeHtmlAttribute(soy.$$filterCssValue(c))+'"':"")+'\x3e\x3c/button\x3e\x3cdiv class\x3d"toolbar__tooltip"\x3e'+soy.$$escapeHtml(e)+"\x3c/div\x3e\x3c/li\x3e")}
function HQ(a){soy.asserts.assertType(goog.isString(a.url)||a.url instanceof goog.soy.data.SanitizedContent,"url",a.url,"string|goog.soy.data.SanitizedContent");var b=a.url;soy.asserts.assertType(goog.isNumber(a.width),"width",a.width,"number");var c=a.width;soy.asserts.assertType(goog.isNumber(a.height),"height",a.height,"number");a=a.height;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3csvg width\x3d"'+soy.$$escapeHtmlAttribute(c)+'" height\x3d"'+soy.$$escapeHtmlAttribute(a)+'" viewBox\x3d"0 0 '+
soy.$$escapeHtmlAttribute(c)+" "+soy.$$escapeHtmlAttribute(a)+'"\x3e\x3cdefs\x3e\x3cfilter id\x3d"invert"\x3e\x3cfeColorMatrix in\x3d"SourceGraphic" type\x3d"matrix" values\x3d"-1 0 0 0 1 0 -1 0 0 1 0 0 -1 0 1 0 0 0 1 0"/\x3e\x3c/filter\x3e\x3c/defs\x3e\x3cimage x\x3d"0" y\x3d"0" width\x3d"'+soy.$$escapeHtmlAttribute(c)+'" height\x3d"'+soy.$$escapeHtmlAttribute(a)+'" xlink:href\x3d"'+soy.$$escapeHtmlAttribute(soy.$$filterNormalizeMediaUri(b))+'" filter\x3d"url(#invert)"/\x3e\x3c/svg\x3e')};function IQ(a){var b="toolbar ",b=a.name?b+" toolbar--"+a.name:b,b=a.ID?b+" "+a.ID:b,b=a.vi?b+" toolbar--"+a.vi:b;Backbone.View.call(this,{className:b,tagName:"menu"});this.G=a.G;this.name=a.name;this.vi=a.vi;this.element=a.element;this.IG=a.IG;this.xE=!1}t(IQ,Backbone.View);f=IQ.prototype;
f.events=function(){return{"mousedown \x3e .toolbar__list \x3e .toolbar__item--submenu.enabled \x3e .toolbar__button":this.rZ,"mouseup .toolbar__item--submenu:not(.toolbar__item--more).enabled .toolbar .toolbar__item \x3e .toolbar__button":this.F9,"click \x3e .toolbar__list \x3e .toolbar__item--submenu.enabled \x3e .toolbar__button":this.E9,"click .toolbar__item--more.enabled .toolbar .toolbar__button":this.rZ}};f.rZ=function(a){a=$(a.target);this.xE=!0;JQ(this,a.closest(".toolbar__item"),a)};
f.F9=function(a){a=$(a.target).closest(".toolbar__item");var b=a.find(".toolbar__button \x3e .toolbar__inputButton");!b.length&&this.xE&&a.parents(".toolbar__item--submenuExpanded").length?(KQ(this),this.xE=!1):b.length&&b.addClass("toolbar__inputButton--active").focus().select()};f.E9=function(){this.xE=!1};
function JQ(a,b,c){if(b.hasClass("toolbar__item--submenu")||b.hasClass("toolbar__item--color")){a.trigger("openSubmenu",b,c);var d=b.hasClass("toolbar__item--more"),e=b.parents(".toolbar__item--more").length,g=a.$el.find(".toolbar--more");if(e)g.after(b.find(".toolbar").clone()),g.addClass("hidden");else{c=c.hasClass("toolbar__inputButton--fontSize")&&b.hasClass("toolbar__item--submenuExpanded");d&&g.hasClass("hidden")||c||!a.IG||a.IG();b.hasClass("toolbar__item--submenuExpanded")||b.addClass("toolbar__item--submenuExpanded");
var h=b.find(".toolbar__button \x3e .toolbar__inputButton");a=b.find(".toolbar:first \x3e .toolbar__list \x3e .toolbar__item--input");d=b.find(".menuList").length;h.length?pl(function(){h.addClass("toolbar__inputButton--active").focus().select()}):d?b.find(".menuList__inner .active").focus():a.length&&a.focus();g.removeClass("hidden");g.next(".toolbar").remove()}}}
function KQ(a,b){b=void 0===b?0:b;var c=a.$el.find(".toolbar__item--submenuExpanded");if(c){var d=c.parents(".toolbar").data("element");a.trigger("closeSubmenu",d)}a.$el.find(".toolbar__inputButton--active").removeClass("toolbar__inputButton--active");return P.delay(b).then(function(){return c.addClass("toolbar__item--submenuCollapsing")}).delay(200).then(function(){return c.removeClass("toolbar__item--submenuExpanded toolbar__item--submenuCollapsing")})}f.C=function(){return this.element};
f.getName=function(){return this.name};f.Cu=function(a){for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];var d=this;b.forEach(function(a){return d.$el.find(".toolbar__item--"+a).removeClass("disabled").addClass("enabled")})};f.qK=function(a){for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];var d=this;b.forEach(function(a){return d.$el.find(".toolbar__item--"+a).removeClass("enabled").addClass("disabled")})};
f.EF=function(a){for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];var d=this;b.forEach(function(a){return d.$el.find(".toolbar__item--"+a).addClass("hidden")})};f.LY=function(a){for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];var d=this;b.forEach(function(a){return d.$el.find(".toolbar__item--"+a).removeClass("hidden")})};f.Jf=function(a,b){b?this.Cu(a):this.qK(a)};
function LQ(a,b){a.$el.find(".toolbar__item--fontFamily .toolbar__spinner").toggleClass("toolbar__spinner--visible",b)}function MQ(a,b,c,d){c="number"==typeof c?c.toFixed(1).toString().replace(".0",""):c;a.$el.find(".toolbar__label--"+b).text(c);a.$el.find(".toolbar__inputButton--"+b).val(c);d&&a.$el.find(".toolbar__label--"+b).css("font-family",d)}function NQ(a,b,c){a.$el.find(".toolbar__item--"+b).toggleClass("toolbar__item--active",c)}
f.gS=function(a){for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];var d=this;b.forEach(function(a){var b=d.$el.find(".toolbar__item--"+a);b.addClass("toolbar__item--active");b.closest(".toolbar").closest(".toolbar__item--submenu:not(.toolbar__item--more)").children(".toolbar__button:first").addClass("toolbar__activeItem--"+a)});return this};
f.tT=function(a){for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];var d=this;b.forEach(function(a){var b=d.$el.find(".toolbar__item--"+a);b.removeClass("toolbar__item--active");b.closest(".toolbar").closest(".toolbar__item--submenu:not(.toolbar__item--more)").children(".toolbar__button:first").removeClass("toolbar__activeItem--"+a)});return this};f.iD=function(a,b){this.$el.find(".toolbar__item--"+a).append(b.$el).addClass("toolbar__item--submenu")};
f.iy=function(a){"right"===this.vi?this.$el.appendTo(a):this.$el.prependTo(a)};f.setFillColor=function(a,b,c){this.setColor(a,b,c,"fill")};function OQ(a,b,c,d){a.setColor(b,c,d,"text")}
f.setColor=function(a,b,c,d){function e(a){var b="",c=100/a.length;a.forEach(function(d,e){var g=e*c+"%",q=(e+1)*c+"%";0==e?b+=d+" "+q+",":e==a.length-1?b+=d+" "+g:(b+=d+" "+g+",",b+=d+" "+q+",")});return{e$:"-webkit-linear-gradient(left, "+b+")",j9:"linear-gradient(to right, "+b+")"}}c=c||0;var g=this.$el.find(".toolbar__button--color");d&&(g=g.filter(".toolbar__target--"+d));g=g.filter('[data-colorindex\x3d"'+c+'"]');g.length||(g=this.$el.not(".toolbar--element").find(".toolbar__list"),"fill"===
d?g.append(GQ(new AQ("",b,c)).toString()):"text"===d?g.append(GQ(new BQ("",b,c)).toString()):g.append(GQ(new zQ("",b,c)).toString()),g=this.$el.find(".toolbar__button--color").filter('[data-colorindex\x3d"'+c+'"]'));0<a.length?(g.removeClass("noColor"),1==a.length?-1<a[0].indexOf("url")||a[0]===cB?g.css("background-color","").css("background-image","").addClass("noColor"):g.css("background-color",a[0]).css("background-image",""):(a=a.map(function(a){return a||"black"}),a=e(a),g.css("background-color",
"").css("background-image",a.e$).css("background-image",a.j9))):this.element.data("fill")?(a=uh(this.element.data("fill")),g.css("background-color",a.qa()).css("background-image","").removeClass("noColor")):g.css("background-color","").css("background-image","").addClass("noColor")};function PQ(a){a.$el.find(".toolbar__separator").removeClass("hidden");a=a.$el.find(".toolbar__item:not(.hidden)").last();a.hasClass("toolbar__separator")&&a.addClass("hidden")}f.addClass=function(a){this.$el.addClass(a)};
f.removeClass=function(a){this.$el.addClass(a)};f.render=function(a){this.el.innerHTML=FQ({items:a});return this};function QQ(a){this.view=a.view;this.items=a.items;this.element=a.element;this.ad=a.element.data("canvaElement");this.vo=[];this.UV=0}function RQ(a){var b=new IQ({G:a.G,name:a.name,ID:a.ID,vi:a.vi,element:a.element,IG:function(){return a.De.trigger("hideContextualControlsRequested")}});return(new QQ({element:a.element,view:b,items:a.items})).render()}
function SQ(a){a.view.$el.css("visibility","hidden");a.view.$el.find(".toolbar__item").each(function(a,c){c=$(c);var d=c.outerWidth(!0);0===a&&(d+=c.position().left);c.attr("data-width",d)});a.view.$el.find(".toolbar__item--more").addClass("disabled").removeClass("enabled");a.view.$el.css("visibility","visible")}f=QQ.prototype;
f.bF=function(){var a=this,b=this.Oe&&this.Oe.width();if(b!==this.UV){this.UV=b;var c=function(){return a.view.$(".toolbar__item--collapsed").length},d=this.view.$el.filter(".toolbar--element").find("\x3e .toolbar__list \x3e .toolbar__item").not(".toolbar__item--delete, .toolbar__item--more, .toolbar__item--deleteMenu"),e=this.view.$el.not(".toolbar--element").find("\x3e .toolbar__list \x3e .toolbar__item"),g=this.view.$(".toolbar__item--more"),h=g.data("width"),k=20;this.view.$("\x3e .toolbar__list \x3e .toolbar__item").not(".toolbar__item--collapsed").not(".toolbar__item--more.disabled").each(function(a,
b){k+=$(b).data("width")});if(k>b)for(c=e.get().concat(d.get()).reverse(),d=0;d<c.length&&(e=$(c[d]),e.hasClass("toolbar__item--collapsed")||(e.addClass("toolbar__item--collapsed"),k-=parseInt(e.data("width"),10),g.hasClass("disabled")&&(k+=h,g.removeClass("disabled").addClass("enabled")),!(k<b)));d++);else if(c()&&k<b){h=e.filter(".toolbar__item--collapsed").get().concat(d.filter(".toolbar__item--collapsed").get());for(d=0;d<h.length;d++)if(e=$(h[d]),k+e.data("width")<b)k+=e.data("width"),e.removeClass("toolbar__item--collapsed");
else break;1>=c()&&(this.view.$(".toolbar__item--collapsed").removeClass("toolbar__item--collapsed"),g.removeClass("enabled").addClass("disabled"))}var b=this.view.$el.not(".toolbar--element").find(".toolbar__item--collapsed").get(),g=this.view.$el.filter(".toolbar--element").find(".toolbar__item--collapsed").get(),l=this.view.$(".toolbar--more ul");l.empty();b.forEach(function(a){return l.append($(a).clone().removeClass("toolbar__item--collapsed"))});g.forEach(function(a){return l.append($(a).clone().removeClass("toolbar__item--collapsed"))});
this.view.$(".toolbar").each(function(a,b){b.getBoundingClientRect().right>window.innerWidth&&$(b).addClass("toolbar--alignRight")});b=this.view.$el.filter(".toolbar--element").find("\x3e .toolbar__list \x3e .toolbar__item:last-child").find("\x3e .toolbar__button .toolbar__tooltip");b.length&&b.get(0).getBoundingClientRect().right>window.innerWidth&&b.addClass("toolbar__tooltip--alignRight")}};f.C=function(){return this.element};f.iD=function(a,b){this.view.iD(a,b.view);this.vo.push(b)};
function TQ(a,b){a.view.$el=a.view.$el.add(b.view.$el);a.vo.push(b)}f.save=function(a){this.view.$el.data("element",this.element);this.view.$el.data("toolbar",this);this.element.data(a||"toolbar",this)};f.hide=function(){this.view.$el.hide()};f.show=function(){this.view.$el.show()};
f.iy=function(a,b){this.Oe=a;this.activate();this.Oe.empty().append('\x3cdiv class\x3d"toolbar__wrapper"\x3e\x3c/div\x3e');this.view.iy(this.Oe.find(".toolbar__wrapper"));SQ(this);this.bF();this.wP=_.debounce(this.bF.bind(this),300);this.viewport=b;this.viewport.on("resize",this.wP)};f.activate=function(){this.Oe&&this.Oe.addClass("toolbarContainer--active")};f.gE=function(){this.Oe&&this.Oe.removeClass("toolbarContainer--active")};
function UQ(a,b){a.Oe&&a.Oe.toggleClass("toolbarContainer--noAnimation",!b)}function VQ(a,b,c){b.forEach(function(b,e){b instanceof on?a.view.setFillColor([b.qa()],c,e):"string"==typeof b&&a.view.setFillColor([b],c,e)});PQ(a.view)}function WQ(a){function b(a){a.forEach(function(a){a instanceof nQ&&a.JB(!0);a.vo&&b(a.vo)})}a.vo&&b(a.vo)}f.addClass=function(a){this.view.$el.addClass(a)};f.removeClass=function(a){this.view.$el.addClass(a)};f.data=function(a){return"canvaElement"===a?this.ad:this.element};
f.Vn=function(a){this.vo.forEach(function(b){b.view.getName()===a&&b.remove(!0)})};f.remove=function(a){var b=this;this.wP&&this.viewport.off("resize",this.wP);a?(UQ(this,!1),this.gE(),this.vo.forEach(function(a){a.remove(!0)}),this.view.remove()):(this.gE(),P.delay(400).then(function(){UQ(b,!0);b.vo.forEach(function(a){a.remove(!0)});b.view.remove()}))};f.render=function(){this.view.render(this.items);return this};f.listenTo=Backbone.Events.listenTo;f.stopListening=Backbone.Events.stopListening;
f.trigger=Backbone.Events.trigger;f.off=Backbone.Events.off;f.on=Backbone.Events.on;function XQ(a,b,c){a=a||"Glegoo";b=b===WD?c.wd():b;return[new wQ("fontFamily",a,{yt:c.format("editorToolbarFontFamilyTooltip")}),new wQ("fontSize",b,{yt:c.format("editorToolbarFontSizeTooltip"),Re:"number"}),new uQ,new BQ("",se(c)),new uQ,new wQ("bold",c.format("editorToolbarTextBold"),{icon:!0,Ge:"^B"}),new wQ("italic",c.format("editorToolbarTextItalic"),{icon:!0,Ge:"^I"}),new wQ("textAlign",c.textAlign(),{icon:!0,If:[new wQ("left",c.format("editorToolbarTextLeft"),{icon:!0,Ge:"^ Shift L"}),new wQ("center",
c.format("editorToolbarTextCenter"),{icon:!0,Ge:"^ Shift C"}),new wQ("right",c.format("editorToolbarTextRight"),{icon:!0,Ge:"^ Shift R"})]}),new wQ("uppercase",c.format("editorToolbarTextUppercase"),{icon:!0,Ge:"^ Shift K"}),new wQ("list",c.format("editorToolbarTextList"),{icon:!0}),new uQ,new wQ("textSpacing",c.format("editorToolbarTextSpacing"),{If:[new yQ("letterSpacing",c.letterSpacing(),{min:-200,max:800,step:10}),new yQ("lineHeight",c.lineHeight(),{min:.5,max:2.5,step:.01}),new uQ,new wQ("textVerticalAlign",
c.format("editorToolbarResizeTextBox")),new wQ("textVerticalAlignTop",c.format("editorToolbarResizeTextBoxFromTop"),{icon:!0,Ge:"^ Alt T"}),new wQ("textVerticalAlignMiddle",c.format("editorToolbarResizeTextBoxFromMiddle"),{icon:!0,Ge:"^ Alt M"}),new wQ("textVerticalAlignBottom",c.format("editorToolbarResizeTextBoxFromBottom"),{icon:!0,Ge:"^ Alt B"})]})]}
function YQ(a){function b(b,d){var e=d.name||d.family,g=d.displayName||e,k=c(d.displayNameThumbnail),e=$('\x3cbutton href\x3d"#"\n          data-name\x3d"'+e+'"\n          data-display-name\x3d"'+g+'"\n          data-family\x3d"'+d.family+'"\n          data-image-src\x3d"'+k.url+'"\n          title\x3d"'+g+'"\n          class\x3d"toolbar__button toolbar__button--font"\x3e\x3c/button\x3e');D||g!==H&&d.family!==H||(e.addClass("toolbar__button--selected"),D=!0);a.KZ&&b?g=$('\x3cdiv class\x3d"toolbar__thumbnailSVG"\x3e\x3c/div\x3e').append(HQ(k).toString()):
(g=$('\x3cimg class\x3d"toolbar__thumbnail" src\x3d"'+k.url+'" width\x3d"'+k.width+'" height\x3d"'+k.height+'" alt\x3d"'+g+'" /\x3e'),b&&g.addClass("toolbar__thumbnail--inverted"));e.append(g);if(g=d.sampleTextThumbnail)g=!!d.sampleTextThumbnail&&!(iJ.has(h.locale)&&(!h.locale||!d.locales||-1!==d.locales.indexOf(h.locale)));g&&(d=c(d.sampleTextThumbnail),a.KZ&&b?(b=$('\x3cdiv class\x3d"toolbar__fontSampleTextSVG"\x3e\x3c/div\x3e').append(HQ(d).toString()),e.append(b)):e.append($('\x3cimg class\x3d"toolbar__fontSampleText" src\x3d"'+
d.url+'" width\x3d"'+d.width+'" height\x3d"'+d.height+'" /\x3e')));return new mQ(e,!0,!1)}function c(a){return{url:a.url,width:a.width/a.height*30,height:30}}function d(a){a=$('\x3cdiv class\x3d"toolbar__menuHeaderLine"\x3e\x3c/div\x3e\x3cdiv class\x3d"toolbar__menuListSeparator"\x3e'+a+'\x3c/div\x3e\x3cdiv class\x3d"toolbar__menuHeaderLine"\x3e\x3c/div\x3e');return new mQ(a,!1,!0)}function e(a){var b=a.find(".menuList__inner");a=a.find(".toolbar__fontCta");if(0===a.length){a=$;var c;c=k.format("editorToolbarFontUploadUpgradePrompt");
var d=k.aN();soy.asserts.assertType(goog.isString(c)||c instanceof goog.soy.data.SanitizedContent,"prompt",c,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(d)||d instanceof goog.soy.data.SanitizedContent,"buttonLabel",d,"string|goog.soy.data.SanitizedContent");c=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"toolbar__fontCta"\x3e\x3cdiv class\x3d"toolbar__fontCtaLabel"\x3e'+soy.$$escapeHtml(c)+'\x3c/div\x3e\x3cbutton class\x3d"button buttonSmall toolbar__fontCtaButton"\x3e'+
soy.$$escapeHtml(d)+"\x3c/button\x3e\x3c/div\x3e");a=a(c.toString());a.insertAfter(b)}}function g(a){var b=a.find(".menuList__inner");a=a.find(".toolbar__fontCta");if(0===a.length){a=$;var c;c=k.format("editorToolbarFontUploadCtaTitle");var d=k.format("editorToolbarFontUploadCtaLabel"),e=!(0<h.KC.length);soy.asserts.assertType(goog.isString("/brand"),"url","/brand","null|string|undefined");soy.asserts.assertType(null==c||c instanceof goog.soy.data.SanitizedContent||goog.isString(c),"title",c,"null|string|undefined");
soy.asserts.assertType(goog.isString(d)||d instanceof goog.soy.data.SanitizedContent,"label",d,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isBoolean(e)||1===e||0===e,"buttonEnabled",e,"boolean");c=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"toolbar__fontUploadFeatureCta"\x3e'+(e?'\x3ca class\x3d"toolbar__fontUploadFeatureCtaTarget" href\x3d"'+soy.$$escapeHtmlAttribute(soy.$$filterNormalizeUri("/brand"))+'" '+(c?'title\x3d"'+soy.$$escapeHtmlAttribute(c)+'"':
"")+' target\x3d"_blank"\x3e\x3cbutton class\x3d"button toolbar__fontUploadFeatureCtaButton"\x3e'+yp({ya:"toolbar__fontUploadFeatureCtaButtonIcon"})+soy.$$escapeHtml(d)+"\x3c/button\x3e\x3c/a\x3e":'\x3cdiv class\x3d"toolbar__fontUploadFeatureCtaLink"\x3e\x3ca class\x3d"toolbar__fontUploadFeatureCtaTarget" href\x3d"'+soy.$$escapeHtmlAttribute(soy.$$filterNormalizeUri("/brand"))+'"'+(c?'title\x3d"'+soy.$$escapeHtmlAttribute(c)+'"':"")+' target\x3d"_blank"\x3e+ '+soy.$$escapeHtml(d)+"\x3c/a\x3e\x3c/div\x3e")+
"\x3c/div\x3e");a=a(c.toString());a.insertAfter(b)}}var h=a.A2,k=a.qf,l=mJ(h),m=_.uniq(h.TO,!1,function(a){return a.family+a.displayName}),n=jJ(h),p=a.M1.map(function(a){return qA(h,a)}).filter(function(a){return!!a}).sort(h.JJ),q=new Set(l.filter(function(a){return!h.locale||!a.locales||-1!==a.locales.indexOf(h.locale)})),l=l.filter(function(a){return!q.has(a)}),u=n.length||m.length,v=0<q.size,z=2<=p.length||0<p.length&&u,r=0<l.length,x=v?k.format("editorToolbarOtherFontFamily"):k.format("editorToolbarAllFontFamily"),
H=a.uz;H||(H=p[0]?p[0].displayName||p[0].name||p[0].family:m[0]?m[0].displayName||m[0].name||m[0].family:"Glegoo");var D=!1,u=[],u=z?u.concat(d(k.format("editorToolbarDocumentFontFamily"))).concat(p.map(b.bind(null,!1))):u,u=m.length?u.concat(d(k.format("editorToolbarBrandFontFamily"))).concat(m.map(b.bind(null,!1))):u,u=n.length?u.concat(d(k.format("editorToolbarUploadedFontFamily"))).concat(n.map(b.bind(null,!0))):u,u=v?u.concat(d(k.format("editorToolbarLocaleFontFamily"))).concat([].concat(na(q)).map(b.bind(null,
!1))):u,u=r?u.concat(d(x)).concat(l.map(b.bind(null,!1))):u,m=_.findIndex(u.filter(function(a){return a.element&&a.element.data("name")}),function(a){return a.element.data("name")===H}),m=qQ({elements:u,Gr:m});a.B2?e(m.view.$el):a.C2&&g(m.view.$el);m.view.$el.find(".toolbar__button--selected").parent().addClass("active");return m}
function ZQ(a,b){var c=Kb,d=b.map(function(b){var d=b===a?"toolbar__button--selected":"",e=b===WD?xc(c).wd():b;b=$('\x3cbutton class\x3d"toolbar__button '+d+'"\x3e').attr("data-text",b).text(e)[0];return new mQ(b,!0,!1)}),e=b.indexOf(a);if(-1===e)for(var g=Math.ceil(a),h=0;h!==b.length;h++)g>b[h]&&(e=h);b=qQ({elements:d,Gr:e});b.view.$el.find(".toolbar__button--selected").parent().addClass("active");return b}var WD=Number.POSITIVE_INFINITY;function wz(a){Backbone.View.call(this,{className:"toolbarContainer",tagName:"menu"});this.i=a.i}var $Q,aR,bR,cR;t(wz,Backbone.View);
wz.prototype.init=function(a){var b=this.i;dR(b);$("#content").on("click",".toolbar__button",!1);eR.forEach(function(b){var c=this;(fR[b]||[]).forEach(function(g){c.$el.on("click",g,{cancel:!0},gR(b,a))})}.bind(this));$("#content").on("click",function(a){$(a.target).closest(".toolbar--fx,.toolbar--flip,.toolbar__item--submenu,.colorPalette,.colorPicker").length||T.trigger("hideContextualControlsRequested")});this.$el.on("mouseup",".enabled \x3e .toolbar__button--back",{cancel:!0},function(){hR(this)});
this.$el.on("mouseup",".enabled \x3e .toolbar__button--forward",{cancel:!0},function(){iR(this)});this.$el.on("click",".enabled \x3e .toolbar__button--copy",{cancel:!0},jR);this.$el.on("click",".enabled \x3e .toolbar__button--delete",{cancel:!0},function(){kR(this)});this.$el.on("click",".enabled \x3e .toolbar__button--imageDelete",{cancel:!0},function(){T.trigger("hideContextualControlsRequested");var a=$(this).parents(".toolbar").last().data("element").data("canvaElement");if(a){var b=a.Fc(),c=
a.kl(b),b={elementIndex:a.K(),pageIndex:a.R().K(),placeholderIndex:b,"new":{},old:c};a.bY();L.register(new Y(PN,b));a.Ya()}});this.$el.on("click",".enabled \x3e .toolbar__button--elementDelete",{cancel:!0},function(){var a=$(this).parents(".toolbar").last().data("toolbar");a&&(a=a.ad)&&a instanceof ZB&&lR(a)});this.$el.on("click",".enabled \x3e .toolbar__button--group",{cancel:!0},mR);this.$el.on("click",".enabled \x3e .toolbar__button--ungroup",{cancel:!0},nR);this.$el.on("click",".enabled \x3e .toolbar__button--crop",
{cancel:!0},oR);this.$el.on("mouseup",".enabled \x3e .toolbar__button--flipHorizontal",{cancel:!0},function(){var a=pR(this);if(a instanceof VB){var b=a.Fc(),c=a.Bp(b),h=c.Xb,k=h^1;c.ht(k);a={pageIndex:jp(I,a.R()),elementIndex:a.K(),placeholderIndex:b,old:{flipOrientation:h},"new":{flipOrientation:k}};L.register(new Y(12,a))}else qR.call(this)});this.$el.on("mouseup",".enabled \x3e .toolbar__button--flipVertical",{cancel:!0},function(){var a=pR(this);if(a instanceof VB){var b=a.Fc(),c=a.Bp(b),h=c.Xb,
k=h^2;c.ht(k);a={pageIndex:jp(I,a.R()),elementIndex:a.K(),placeholderIndex:b,old:{flipOrientation:h},"new":{flipOrientation:k}};L.register(new Y(12,a))}else rR.call(this)});this.$el.on("click",".toolbar__fontCtaButton",{cancel:!0},function(){var a=Lb;a.j.wa(pm("toolbar_fonts_menu","bottom","fonts"));Oo(a,sR)});this.$el.on("click",".toolbar__fontUploadFeatureCtaTarget",{cancel:!0},function(){Tl(tR(),"upload_your_own_fonts","editor","toolbar","font_dropdown")});this.$el.on("mouseleave",".enabled.toolbar__item--submenu .menuList",
{cancel:!0},uR);this.$el.on("keyup",".enabled \x3e .toolbar__button \x3e .toolbar__inputButton--fontSize",{cancel:!0},vR);this.$el.on("click",".enabled \x3e .toolbar__button--bold",{cancel:!0},function(){wR(this)});this.$el.on("click",".enabled \x3e .toolbar__button--uppercase",{cancel:!0},function(){xR(this)});this.$el.on("click",".enabled \x3e .toolbar__button--italic",{cancel:!0},function(){yR(this)});this.$el.on("mouseup",".enabled \x3e .toolbar__button--left",{cancel:!0},function(){var a=$(this).parents(".toolbar").last().data("element");
zR(a,"left")});this.$el.on("mouseup",".enabled \x3e .toolbar__button--center",{cancel:!0},function(){var a=$(this).parents(".toolbar").last().data("element");zR(a,"center")});this.$el.on("mouseup",".enabled \x3e .toolbar__button--right",{cancel:!0},function(){var a=$(this).parents(".toolbar").last().data("element");zR(a,"right")});this.$el.on("click",".enabled \x3e .toolbar__button--list",{cancel:!0},function(){AR(this)});this.$el.on("click",".enabled \x3e .toolbar__button--transparency",{cancel:!0},
$Q);this.$el.on("click",".enabled \x3e .toolbar__button--gridSpacing",{cancel:!0},aR);this.$el.on("click",".enabled \x3e .toolbar__button--textSpacing",{cancel:!0},bR);this.$el.on("mouseup",".enabled \x3e .toolbar__button--HorizontalAlignLeft",{cancel:!0},function(){var a=BR(this);a&&CR(a)});this.$el.on("mouseup",".enabled \x3e .toolbar__button--HorizontalAlignRight",{cancel:!0},function(){var a=BR(this);a&&DR(a)});this.$el.on("mouseup",".enabled \x3e .toolbar__button--HorizontalAlignCenter",{cancel:!0},
function(){var a=BR(this);a&&ER(a)});this.$el.on("mouseup",".enabled \x3e .toolbar__button--VerticalAlignTop",{cancel:!0},function(){var a=BR(this);a&&FR(a)});this.$el.on("mouseup",".enabled \x3e .toolbar__button--VerticalAlignBottom",{cancel:!0},function(){var a=BR(this);a&&GR(a)});this.$el.on("mouseup",".enabled \x3e .toolbar__button--VerticalAlignCenter",{cancel:!0},function(){var a=BR(this);a&&HR(a)});this.$el.on("mouseup",".enabled \x3e .toolbar__button--VerticalDistribute",{cancel:!0},function(){var a=
BR(this);a&&IR(a)});this.$el.on("mouseup",".enabled \x3e .toolbar__button--HorizontalDistribute",{cancel:!0},function(){var a=BR(this);a&&JR(a)});this.$el.on("mouseup",".enabled \x3e .toolbar__button--textVerticalAlignTop",{cancel:!0},function(){KR("top",this)});this.$el.on("mouseup",".enabled \x3e .toolbar__button--textVerticalAlignMiddle",{cancel:!0},function(){KR("middle",this)});this.$el.on("mouseup",".enabled \x3e .toolbar__button--textVerticalAlignBottom",{cancel:!0},function(){KR("bottom",
this)});this.$el.on("click",".enabled \x3e .toolbar__button--link",{cancel:!0},function(){LR(this)});this.$el.on("click",".enabled \x3e .toolbar__button--filter",{cancel:!0},function(){MR(this,b)});Ib.H.get(lg)&&(this.$el.on("click",".enabled \x3e .toolbar__button--chartData",{cancel:!0},function(){var a=$(this).parents(".toolbar").last().data("toolbar");if(a){a=a.ad;a.Au=!a.Au;var c=NR(a,b);c&&vC(c,a.FM())}}),this.$el.on("click",".enabled \x3e .toolbar__button--chartStyle",{cancel:!0},function(){var a;
$("#objectPanel menu .elements a").click();(function(b){$("#resultsElements li.folderExpanded \x3e a:not([data-query\x3d"+b+"])").mousedown();setTimeout(function(){$("#resultsElements li:not(.folderExpanded) \x3e a[data-query\x3d"+b+"]").mousedown()},500);a||(a=setTimeout(function(){$("#resultsElements \x3e .layer").animate({scrollTop:$("#resultsElements a[data-query\x3d"+b+"]").parent().position().top},M.za.Jq);a=void 0},900))})("charts")}));$(window).resize(OR);$(document).on("keyup",function(a){return 27===
a.which&&OR()});var c=this.$el;T.on("hideContextualControlsRequested",function(){if(c.find(".toolbar").length){var a=$(".toolbar").data("element");(a=a&&a.data("toolbar"))&&KQ(a.view)}else c.removeClass("toolbarContainer--active toolbarContainer--noAnimation")})};wz.prototype.render=function(){this.$el.html('\x3cdiv class\x3d"toolbarContainer__inner"\x3e\x3c/div\x3e');return this.$el};
function dR(a){function b(a){return 100-a}function c(){return this.vf()?this.$r(this.ub()):0}function d(){return this.vf()?this.jl(this.ub()):0}$Q=PR([{name:"transparency",displayName:a.Fb(),method:Z.prototype.tF,ty:QR(Z.prototype.Tl,"transparency",b),zy:RR(Z.prototype.tF,"transparency","transparency",!1),lN:b}]);aR=PR([{name:"gridSpacing",displayName:"Spacing",method:VB.prototype.ce,ty:QR(VB.prototype.Qq,"gridSpacing"),zy:RR(VB.prototype.ce,"gridSpacing","spacing",!1)}]);bR=PR([{name:"letterSpacing",
displayName:a.letterSpacing(),method:c,ty:QR(function(a){return this.vf()&&this.Rw(this.ub(),a)},"letterSpacing"),zy:RR(c,"letterSpacing","letterSpacing",!0)},{name:"lineHeight",displayName:a.lineHeight(),method:d,ty:QR(function(a){return this.vf()&&this.Sw(this.ub(),a)},"lineHeight",function(a){return 100*a}),zy:RR(d,"lineHeight","lineHeight",!0),lN:function(a){return.01*a}}])}function OR(){T.trigger("hideContextualControlsRequested")}function tR(){cR||(cR=U||nm());return cR}
function SR(a,b,c,d,e){var g=(new UAParser).getResult().browser.name,g="IE"===g||"Edge"===g,h=c/J.ip;c=qA(Jb,b);I.tB();e=YQ({uz:b,B2:Ib.H.get(ag),C2:!!Ib.H.get(qg),A2:Jb,KZ:g,qf:e,M1:I.fonts.slice()});d=ZQ(h,d);a.iD("fontFamily",e);a.iD("fontSize",d);c?MQ(a.view,"fontFamily",b,c.family):MQ(a.view,"fontFamily","");e.on("select",function(b,c,d){c&&-1!==b&&(TR(c),b=function(){var b=a.ad;a.remove();UR(b,xc(Kb))},d.shiftKey||KQ(a.view,100).then(b))});d.on("select",function(b,c,d){c&&-1!==b&&("keydown"===
d.type?vR(d):VR(c),d.shiftKey||KQ(a.view,100))});d.on("activeChange",function(b){MQ(a.view,"fontSize",b.element.data("text"))});a.view.on("openSubmenu",function(a,b){a&&a.hasClass("toolbar__item--fontSize")&&(a=b.parents(".toolbar").data("element"),(a&&a.data("canvaElement"))instanceof Rp&&WR.ZY(a))});a.view.on("closeSubmenu",function(a){(a&&a.data("canvaElement"))instanceof Rp&&WR.WY(a)})}
function iR(a){lp();var b=$(a).closest(".toolbar__item"),c=I.Aa();a=c.Ta();var c=UO(c,a),d=$("#layerGraph");if(0>=d.length)for(var d=$('\x3col id\x3d"layerGraph" class\x3d"toolbar--layerGraph"\x3e\x3c/ol\x3e'),e=0;e<c.length+1;e++)d.append("\x3cli\x3eLayer "+e+"\x3c/li\x3e");else d.css("opacity","");$("#overlays").append(d);b=b.closest(".toolbar").offset();d.css("top",b.top+25);d.css("left",b.left-15);if(!d.data("locked")&&(d.stop(),window.clearTimeout(d.data("fadeTimer")),0!==a.length)){var b=a[0],
g=b.K(),c=c.filter(function(a){return a.K()>g});if(a=c[0])a.ib()&&(a=JF(a)),b.insertAfter(a),b.Xa(),b={oldElementIndex:g,elementIndex:b.K(),pageIndex:jp(I,b.R())},L.register(new Y(4,b));var b=$("li",d),h=b.eq(c.length),k=h.prev(),c=b.first().outerHeight(!0);h.addClass("selected");a&&(d.data("locked",!0),h.animate({left:-c/2},{duration:M.za.Zp/2,Wk:"linear",queue:!1,complete:function(){$(this).animate({left:0},{duration:M.za.Zp/2,Wk:"linear",queue:!1,complete:function(){k.before(h);h.css("left","").css("top",
"");k.css("top","");d.removeData("locked")}})}}).animate({top:-c},{duration:M.za.Zp,queue:!1}),k.animate({top:c},M.za.Zp));a=window.setTimeout(function(){d.animate({opacity:0},M.za.YV,function(){$(this).remove()})},M.za.ZV);d.data("fadeTimer",a)}}
function hR(a){lp();var b=$(a).closest(".toolbar__item");a=I.Aa();var c=a.Ta();a=UO(a,c);var d=$("#layerGraph");if(0>=d.length)for(var d=$('\x3col id\x3d"layerGraph" class\x3d"toolbar--layerGraph"\x3e\x3c/ol\x3e'),e=0;e<a.length+1;e++)d.append("\x3cli\x3eLayer "+e+"\x3c/li\x3e");else d.css("opacity","");$("#overlays").append(d);b=b.closest(".toolbar").offset();d.css("top",b.top+25);d.css("left",b.left-15);if(!d.data("locked")&&(d.stop(),window.clearTimeout(d.data("fadeTimer")),0!==c.length)){var e=
c[0],g=e.K(),b=a.filter(function(a){return a.K()<g}).reverse();if(c=b[0])e.insertBefore(c),e.Xa(),e={oldElementIndex:g,elementIndex:e.K(),pageIndex:jp(I,e.R())},L.register(new Y(4,e));var e=$("li",d),h=e.eq(a.length-b.length),k=h.next();a=e.first().outerHeight(!0);h.addClass("selected");c&&(d.data("locked",!0),h.animate({left:-a/2},{duration:M.za.Zp/2,Wk:"linear",queue:!1,complete:function(){$(this).animate({left:0},{duration:M.za.Zp/2,Wk:"linear",queue:!1,complete:function(){k.after(h);h.css("left",
"").css("top","");k.css("top","");d.removeData("locked")}})}}).animate({top:a},{duration:M.za.Zp,queue:!1}),k.animate({top:-a},M.za.Zp));a=setTimeout(function(){d.animate({opacity:0},M.za.YV,function(){$(this).remove()})},M.za.ZV);d.data("fadeTimer",a)}}
function jR(){T.trigger("hideContextualControlsRequested");lp();T.trigger("hideContextualControlsRequested");var a=[];I.Ta().forEach(function(b){var c=b.clone(),d=b.R()||I.Aa();b.pA&&!1===b.pA()&&c.UQ&&c.UQ();fC(c,M.XC);gC(c,M.XC);c.appendTo(d);c.lc();a.push(c)});ZJ();a.forEach(Jg);ph();$J();setTimeout(function(){xK(a)},M.Cc)}
function kR(a){(a=$(a).parents(".toolbar").last().data("toolbar"))&&a.remove(!0);T.trigger("hideContextualControlsRequested");ZJ();I.Ta().forEach(function(a){a.vf()&&a.vx();VM(a);a instanceof VG&&em(tR(),"delete_chart");a.remove()});$J();$(".multipleSelectionBox").remove()}function mR(){wK()}function nR(){vK()}function oR(){T.trigger("hideContextualControlsRequested");I.Ta().forEach(function(a){XR(a)})}function pR(a){return $(a).parents(".toolbar").last().data("element").data("canvaElement")}
function TR(a){function b(a){e.ad&&(a?g.is(".focused")||(ZJ(),k.forEach(c),$J()):alert("Sorry, there was a problem trying to apply the font "+h+". Please let us know about it."))}function c(a){var b=a.index,c=l.Sb(b);a={elementIndex:l.K(),pageIndex:jp(I,l.R()),textIndex:b,"new":c,old:a};L.register(new TN(1,a))}var d=a.element.parents(".toolbar"),e=d.data("toolbar");if(e){var g=e.C();d.find(".toolbar__button--fontFamily");var h=a.element.data("name");a.element.data("family");a.element.parents(".menuList").find(".toolbar__button--selected").removeClass("toolbar__button--selected");
a.element.addClass("toolbar__button--selected");var k=[];if(g){var l=e.ad;a=l.ub();if(-1!==a)k=[l.Sb(a)],l.lk(a,h,b);else if(l.ib()&&l.fe())k=zF(l),l.CH(h,b);else return;DD(e);YR(e,l)}}}
function VR(a){var b=a.element.parents(".toolbar").last().data("element"),c=b.data("toolbar");if(c){var d=parseFloat(a.element.data("text"));MQ(c.view,"fontSize",parseFloat(d));a.element.parents(".menuList").find(".toolbar__button--selected").removeClass("toolbar__button--selected");a.element.addClass("toolbar__button--selected");if(b){var e=b.data("canvaElement"),d=parseFloat(d*J.ip);!e.ib()||e.vf()||e.cV()||d===WD?ZR(e,function(){d===WD?e.dL():(e.oE(),e.RB(d))}):(a=d/CF(e),$R(e,a))}}}
function uR(a){a=$(a.currentTarget);a.find(".active").removeClass("active");a.find(".toolbar__button--selected").parents(".selectable").addClass("active")}
function vR(a){a.preventDefault();a.stopPropagation();var b=$(a.target),c=b.parents(".toolbar").last();if(c&&(c=c.data("element"))){var d=c.data("canvaElement");if(13===a.which){if(a=c.data("toolbar")){var c=b.closest(".toolbar__item").find(".menuList"),e=Math.min(Math.max(1,parseFloat(b.val())),400);""===b.val()||isNaN(e)?b.val(d.Qc(0)):(b.val()!==e.toString()&&b.val(e.toString()),MQ(a.view,"fontSize",e.toString()),c.find(".toolbar__button--selected").removeClass("toolbar__button--selected"),c.find('[data-text\x3d"'+
e+'"]').addClass("toolbar__button--selected"),KQ(a.view),e=parseFloat(e*J.ip),d.ib()&&!d.vf()?(b=e/CF(d),$R(d,b)):ZR(d,function(){d.RB(e)}))}}else 27===a.which&&b.val(d.Qc(0))}}
function MR(a,b){var c=$(a).parents(".toolbar").last(),d=c.data("element").data("canvaElement");d.MF();var e=!!c.data("isFxPanelVisible");T.trigger("hideContextualControlsRequested");if(!e){T.once("hideContextualControlsRequested",function(){c.removeData("isFxPanelVisible")});c.data("isFxPanelVisible",!0);var g=new aS({model:d.yd(),HO:zI,qf:b});bS(g,a.getBoundingClientRect());a.parentElement.classList.add("toolbar__item--submenuExpanded");g.$el.removeClass("appeared").addClass("appearing");g.$el.appendTo("#content");
$(".fxPanel").show();window.setTimeout(function(){g.$el.removeClass("appearing").addClass("appeared")},M.za.B1)}}
function LR(a){function b(a){k.removeClass("valid invalid");a?(u.text(xc(Kb).format("editorToolbarElementLinkDescription")),k.addClass("valid")):(u.text(xc(Kb).format("editorToolbarElementLinkInvalid")),k.addClass("invalid"))}function c(){var a=k.find(".toolbar__list");a.addClass("toolbar__list--linkShakeInvalid");P.delay(300).then(function(){a.removeClass("toolbar__list--linkShakeInvalid")})}function d(a){""===a||aC.It.test(a)||null!==a.match(/^(http)/)||(a="http://"+a);q.val(a);bC(n,a);a=q.get(0);
var b=$(a).data("element"),c=$(a).data("lastLinkState");c!=b.Um()&&(c={elementIndex:b.K(),pageIndex:jp(I,b.R()),"new":{link:b.Um()},old:{link:c||""}},L.register(new Y(10,c)),$(a).data("lastLinkState",b.Um()));h.toggleClass("hasLink",!!n.Um());KQ(m.view)}function e(){var a=q.val().trim(),e=aC.URL.test(a)||aC.It.test(a),e=""===a||e;b(e);e?d(a):c()}function g(a){var e=$(a.target).val().trim(),g=aC.URL.test(e)||aC.It.test(e),g=""===e||g;b(g);13===a.which&&(g?d(e):c())}a=$(a);var h=a.parents(".toolbar").last(),
k=h.find(".toolbar--link"),l=h.data("element"),m=l.data("toolbar"),n=l.data("canvaElement"),p=n.Um();a.parents(".toolbar--more").length&&(h=a.parents(".toolbar--more").next(".toolbar"));var q=h.find(".toolbar__input--link"),u=h.find(".toolbar__inputLabel--link"),v=h.find(".toolbar__submit--link");(function(a){a.val(p).data("element",n).data("lastLinkState",p).focus().select();var c=aC.URL.test(p)||aC.It.test(p);b(""===p||c);a.data("linkKeyup")||(a.data("linkKeyup",g).on("keyup",g),v.on("click",e))})(q)}
function qR(){ZJ();I.Ta().forEach(function(a){if(a.Rp()){var b=a.Xb,c=b^1;a.ht(c);a={pageIndex:jp(I,a.R()),elementIndex:a.K(),"new":{flipOrientation:c},old:{flipOrientation:b}};L.register(new Y(kp,a))}});$J()}function rR(){ZJ();I.Ta().forEach(function(a){if(a.Rp()){var b=a.Xb,c=b^2;a.ht(c);a={pageIndex:jp(I,a.R()),elementIndex:a.K(),"new":{flipOrientation:c},old:{flipOrientation:b}};L.register(new Y(kp,a))}});$J()}
function PR(a){return function(){function b(a,b){var c=a.get(0),d;a.on("input",function(){d!==a.val()&&(b.call(c),d=a.val())});b.call(c)}function c(a,b){var c=a.get(0);a.off("change input");b.call(c)}if(!$(this).hasClass("disabled")){var d=$(this).parents(".toolbar").first();d.hasClass("toolbar--more")&&(d=d.next(".toolbar"));var e=$(this).parents(".toolbar").last().data("element").data("canvaElement"),g=d;a.forEach(function(a){function k(){m.off("blur",k);c(l,a.zy)}var l=$(".toolbar__slider--"+a.name,
d),m=$(".toolbar__sliderValue--"+a.name,d),n=a.method.call(e)||0,n=("function"==typeof a.lN?a.lN(n):n).toFixed(1).toString().replace(".0","");g.addClass(a.name+"SliderPresent");l.val(n);m.val(n);l.addClass(a.name+"SliderInput");l.data("element",e);l.data(cS(a.name),a.method.call(e));var p=!1;l.on("mousedown",function(){if(!p){p=!0;b(l,a.ty);var d=function(){$(document).off("mouseup",d);c(l,a.zy);p=!1};$(document).on("mouseup",d)}});m.on("change",function(){var c=m.val();l.val()!==c&&""!==c&&(l.val(m.val().toString()),
b(l,a.ty))});m.on("blur",k)})}}}function QR(a,b,c){return function(){var d=parseFloat($(this).val()),e="function"==typeof c?c(d):d,g=$(this).data("element");$(".toolbar__sliderValue--"+b).val(d.toString());g&&void 0!==e&&a.call(g,e)}}function cS(a){return"last"+a.charAt(0).toUpperCase()+a.slice(1)+"State"}
function RR(a,b,c,d){return function(){var e=cS(b),g=$(this).data("element");if(g){var h=$(this).data(e),k=a.call(g);if(h!=k){var l={elementIndex:g.K(),pageIndex:jp(I,g.R()),"new":{},old:{}};d&&g instanceof Rp?(l.textIndex=0,l["new"]=g.Sb(0),l.old=g.Sb(0),l["new"][c]=k,l.old[c]=h,L.register(new TN(1,l))):(l["new"][c]=k,l.old[c]=h,L.register(new Y(kp,l)));$(this).data(e,k)}}}}
function zR(a,b){var c=a.data("toolbar"),d=a.data("canvaElement"),e=d.ub(),g=["left","right","center"];g.splice(g.indexOf(b),1);ZR(d,function(){d.ci(e,b);c.view.gS(b).tT.apply(c.view,g)})}function wR(a){var b=$(a).parents("li"),c=$(a).parents(".toolbar").last().data("element").data("canvaElement"),d=c.ub(),e=c.ve();0===e.length&&c.ib()&&c.fe()&&(e=HF(c));var g=!!e.data("bold");dS(c,function(){c.eo(d,!g);lA(e,!0);g=!!e.data("bold");b.toggleClass("toolbar__item--active",g)})}
function xR(a){a=$(a).parents("li");var b=I.Ta()[0],c=b.ub(),d=b.mF(c);ZR(b,function(){b.Rq(c,d?void 0:"uppercase");lA(b.$a(c),!0)});a.toggleClass("toolbar__item--active",d)}function yR(a){var b=$(a).parents("li"),c=$(a).parents(".toolbar").last().data("element"),d=c.data("canvaElement"),e=d.ub(),g=d.ve();0===g.length&&d.ib()&&d.fe()&&(g=HF(d));var h=!!g.data("italic");dS(d,function(){d.ho(e,!h);lA(c,!0);h=!!g.data("italic");b.toggleClass("toolbar__item--active",h)})}
function AR(a){var b=$(a).parents("li"),c=$(a).parents(".toolbar").last().data("element").data("canvaElement"),d=c.ub(),e=c.ve(),g=!!e.data("list");dS(c,function(){c.Tw(d,!g);g=!!e.data("list");b.toggleClass("toolbar__item--active",g)})}function dS(a,b){var c=a.ve(),d=c.is(".focused"),c="true"===c.find(".inner").attr("contenteditable");d&&c?b():eS(a,b)}function ZR(a,b){eS(a,b)}
function sC(a,b){if(a&&b){a.view.Jf("crop",!(b.Qp&&b.Qp()));a.view.Jf("filter",!(!b.Vp||!b.Vp()));var c=ue();if(!(!b.Za||!b.Za().length||a.element&&a.element.hasClass("multiSelected")||b instanceof VB||b instanceof ZB||b instanceof hp&&b.ve().length))VQ(a,b.Za(),c);else if(b instanceof ZB){var d=b.Vc;d instanceof Rp?OQ(a.view,TD(d),c,0):d?d&&d.zd()&&VQ(a,d.Za(),c):OQ(a.view,GF(b),c,0)}b.qA&&!b.tc?(a.view.$el.find(".toolbar__item").removeClass("enabled").addClass("disabled"),a.view.Cu("delete")):fS(a,
b);b.Zx()&&(c=b.C().data("sideDrawer"))&&vC(c,b.FM());b instanceof ZB&&!(b instanceof VG)&&(c=b.Vc,a.view.Jf("elementDelete",!!c),!b.ib()||!c||c instanceof Rp||a.view.EF("color--text","fontFamily","fontSize","bold","italic","textAlign","uppercase","list","textSpacing"))}}
function fS(a,b){var c=UO(b.R(),b),d=b.K(),e=c.filter(function(a){return a.K()>d}),c=c.filter(function(a){return a.K()<d});b=b.QF()||0!==e.length||0!==c.length;a.view.Jf("forward",0!==e.length);a.view.Jf("back",0!==c.length);a.view.Jf("arrange",b)}
function DD(a){if(!a.element||!a.element.hasClass("multiSelected")){var b=a.ad;if(b.fe()){var c=b.ve();if(b instanceof hp){if(0===c.length){a.Vn("font");return}a.view.Jf("textSpacing",!1)}if(b.ib()&&!b.fe())a.Vn("font");else{if(1===c.length){var d=nA(c);0===d.Te.length&&(d=bA(c))}else b.ib()&&b.fe()&&(d=EF(b),c=HF(b));var e=function(a){return d.Te.reduce(function(b,c){return b&&a(c)},!0)},g=e(function(a){return(a=qA(Jb,a))&&!0===a.variants.bold}),h=e(function(a){return(a=qA(Jb,a))&&!0===a.variants.italic}),
e=e(function(a){return(a=qA(Jb,a))&&!0===a.variants.boldItalic}),k=function(a){var b;if(!(b=!!c.data(a)))try{b=document.queryCommandState(a)}catch(d){b=!1}return b};a.bF();a.view.Jf("bold",!!c.data("italic")&&h&&e||!(c.data("italic")&&h)&&g);NQ(a.view,"bold",k("bold"));a.view.Jf("italic",!!c.data("bold")&&g&&e||!(c.data("bold")&&g)&&h);NQ(a.view,"italic",k("italic"));a.view.Jf("uppercase",!0);NQ(a.view,"uppercase","uppercase"===c.data("textTransform"));g=c.data("justification")||"left";a.view.tT("left",
"center","right");a.view.gS(g);NQ(a.view,"list",!!c.data("list"));g=b.ub();g=b.Qc(g);b.ib()&&!b.vf()&&(IF(b)?g=0:0!==AF(b)||(g=CF(b)));g/=J.ip;b.oA()?MQ(a.view,"fontSize",xc(Kb).wd()):0!==g?MQ(a.view,"fontSize",g):MQ(a.view,"fontSize","");gS(a,b);OQ(a.view,d.rf,xc(Kb).format("editorToolbarTextPickAColor"));c.data("fontFamily")?(g=c.data("fontName")||d.Te[0],h=d.Te.filter(function(a){return null!==qA(Jb,a)}),g=(1<h.length?"":h[0])||g,(h=qA(Jb,g))&&h.displayName&&(g=h.displayName),h?MQ(a.view,"fontFamily",
g,h.family):MQ(a.view,"fontFamily","")):1===d.Te.length?(g=d.Te[0],(h=qA(Jb,g))&&h.displayName&&(g=h.displayName),h?MQ(a.view,"fontFamily",g,h.family):MQ(a.view,"fontFamily","")):1<d.Te.length&&MQ(a.view,"fontFamily",xc(Kb).format("editorToolbarTextMultipleFonts"),"Open Sans");b.fe()&&!b.vf()&&a.view.EF("textAlign","uppercase","list","textSpacing");b=c.children(".inner");1===b.length&&(b=!0===b.get(0).isContentEditable,a.view.Jf("list",b))}}}}
function YR(a,b){var c=b.Vu(),d=c.map(function(a){a=qA(Jb,a);return a.name||a.family}).filter(function(a){return!pH(Jb,a)});0<d.length?(LQ(a.view,!0),qJ(Jb,d,function(){var d=new Set(b.Vu()),g;a:if(g=new Set(c),d.size!==g.size)g=!1;else{for(var d=ma(d),h=d.next();!h.done;h=d.next())if(!g.has(h.value)){g=!1;break a}g=!0}g&&LQ(a.view,!1)})):LQ(a.view,!1)}function BR(a){if((a=$(a).parents(".toolbar").last().data("element"))&&a.data("canvaElement")instanceof ZB)return a.data("canvaElement")}
function KR(a,b){$(b);var c=$(b).parents(".toolbar").last().data("element");b=c.data("toolbar");if(c=c.data("canvaElement")){switch(a){case "top":oK(c);break;case "middle":pK(c);break;case "bottom":qK(c)}b&&gS(b,c)}}function rC(a){var b=a.view.$el,c=b.data("element");c&&c.data("canvaElement")&&(a.bF(),clearTimeout(hS),hS=setTimeout(function(){var a=b.data("fxPanelView");a&&bS(a,b.get(0).getBoundingClientRect())},M.Cc+100))}
function iS(a,b){var c=$(".toolbarContainer");b=[new wQ("group",b.format("editorToolbarElementGroup"),{enabled:!0}),new wQ("copy",b.format("editorToolbarElementCopy")),new wQ("arrange",b.format("editorToolbarElementArrange"),{enabled:!1}),new wQ("transparency",ie(b),{icon:!0,If:[new yQ("transparency",ie(b))],enabled:!1}),new wQ("link",b.format("editorToolbarElementLink"),{icon:!0,enabled:!1}),new wQ("delete",he(b),{icon:!0})];b=RQ({G:ol,vi:"right",name:"element",items:b,element:a,De:T});a.is(".background, .group")&&
b.view.Jf("group",!1);b.iy(c,$(window));b.save()}
function CO(a,b){var c=a.data("canvaElement"),d=$(".toolbarContainer");if(1===a.length&&c&&c.Uo()){var e=a.data("toolbar");e&&e.remove();a=RQ({G:ol,vi:"right",name:"element",items:EQ(c.Xr(),c.QF()?c.FU():[],b),element:a,De:T});if(c.gD())TQ(a,RQ({G:ol,name:"image",element:c.C(),items:CQ(c,b),De:T}));else if(c.iS()){var g="group",h=[],e=c.Wu();c instanceof VG&&(g="chart",h=[new wQ("chartData",b.format("editorToolbarElementData"),{enabled:!0}),new uQ,new AQ(c.Za()[0].qa(),se(b))],h.push(new wQ("chartStyle",
b.format("editorToolbarElementStyle"),{enabled:!0})));var k=!1;if(c.vf()){var k=c.ve(),l=k.data("fontName"),m=k.data("fontFamily"),l=l||m,m=c.Qc(c.ub());c.oA()&&(m=WD);(k=k.data("canvaElement"))&&(e=k.Wu());h=h.concat(XQ(l,m,b));k=!0}else!c.hv()&&c.fe()&&(m=c.yz(),l=m.fontName,m=m.fontFamily,l=l||m,DF(c)?m=WD:IF(c)?m=0:(m=AF(c),0===m&&(m=CF(c))),h=h.concat(XQ(l,m,b)),k=!0);g=RQ({G:ol,name:g,element:c.C(),items:h,De:T});k&&(SR(g,l,m,e,b),DD(g),YR(g,c));TQ(a,g)}else c.jr()?TQ(a,RQ({G:ol,name:"image",
element:c.C(),items:CQ(c,b),De:T})):c.Ot()?(e=c.ve(),g=e.data("fontName"),l=e.data("fontFamily"),g=g||l||"Glegoo",l=c.Qc(c.ub()),m=c.Wu(),h=XQ(g,l,b),e=RQ({G:ol,name:"font",element:e,items:h,De:T}),c.oA()&&(l=WD),SR(e,g,l,m,b),DD(e),YR(e,c),TQ(a,e)):c.jS()&&TQ(a,RQ({G:ol,name:"shape",element:c.C(),items:[new AQ("",se(b))],De:T}));c.Zx()&&NR(c,b);a.iy(d,$(window));a.save();WQ(a);c.Xa()}}
function HC(a){var b=$(".toolbarContainer"),c=a.data("confirmationToolbar");c||(c=RQ({G:ol,name:"crop",ID:"elementToolbar",element:a,items:[new wQ("ok","Ok",{icon:!0,Ge:"↩ Enter"}),new wQ("cancel","Cancel",{icon:!0})]}),c.iy(b,$(window)),c.save("confirmationToolbar"))}
function NR(a,b){if(a.Zx()){var c=a.C(),d=c.data("sideDrawer");if(!d){var e=[b.format("editorToolbarElementDataLabelColumnHeader"),b.format("editorToolbarElementDataValueColumnHeader")];b=bQ(a.getData(),a.UU(e),b);b.wb.on("change",function(b,c){a.ws(b);a.v1({UM:c})});var g=a.getData();b.wb.on("commit",function(b){var c={pageIndex:jp(I,a.R()),elementIndex:a.K(),"new":{data:b},old:{data:g}};L.register(new Y(15,c));g=b});d=new rQ;d.Pt(b.view);vC(d,!1);$("#objectPanel section.content").after(d.$el);c.data("sideDrawer",
d);var h=function(){a.Au=!1;vC(d,!1)};T.on("objectPanel:tabClicked",h);d.on("remove",function(){return T.off("objectPanel:tabClicked",h)})}return d}}
function gS(a,b){if(b=b.ve().data("canvaElement"))switch(NQ(a.view,"textVerticalAlignTop",!1),NQ(a.view,"textVerticalAlignMiddle",!1),NQ(a.view,"textVerticalAlignBottom",!1),b.pe||"top"){case "top":NQ(a.view,"textVerticalAlignTop",!0);break;case "middle":NQ(a.view,"textVerticalAlignMiddle",!0);break;case "bottom":NQ(a.view,"textVerticalAlignBottom",!0)}}
function $R(a,b){var c=a.pa(),d=zF(a);a.oE();a.setSize(a.l()*b,a.o()*b,!0);a.yr();b=a.pa();Im(c,b)||(ZJ(),d.forEach(function(b){var c=b.index,d=a.Sb(c);d.fontSize=b.fontSize;b={elementIndex:a.K(),pageIndex:jp(I,a.R()),textIndex:c,"new":d,old:b};L.register(new TN(1,b))}),c=c.serialize(),d=b.serialize(),c={elementIndex:a.K(),pageIndex:jp(I,a.R()),old:c,"new":d,proportionalSetSize:!0},L.register(new Y(kp,c)),$J())}var hS=0;function gR(a,b){var c=jS[a];return function(a){return c&&c.call(this,a,b)}}var eR=Object.keys({ER:"CLICK_FILL_COLOR",FR:"CLICK_TEXT_COLOR"}),fR={ER:[".toolbar__button--color.toolbar__target--fill"],FR:[".toolbar__button--color.toolbar__target--text"]};
function kS(a,b){function c(a){var c=a.index===b.index,d=a.type===b.type;return!(a.element===b.element&&c&&d)}if(!a)return[];var d=[];a instanceof on&&(d=Qp(a).filter(c));d.forEach(function(a){"FILL"===a.type&&(a.initial=lS(a.element,a.index));"TEXT"===a.type&&(a.initial=a.element.Sb(a.index))});return d}
function mS(a){a.forEach(function(a){if("FILL"===a.type){var c=lS(a.element,a.index);L.register(new Y(WM,{elementIndex:a.element.K(),pageIndex:a.element.R().K(),old:a.initial,"new":c}));a.initial=c}"TEXT"===a.type&&(c=a.element.Sb(a.index),L.register(new TN(1,{elementIndex:a.element.K(),pageIndex:a.element.R().K(),textIndex:a.index,old:a.initial,"new":c})),a.initial=c)})}
function nS(a,b){a.forEach(function(a){"TEXT"===a.type&&a.element.setColor(a.index,b);"FILL"===a.type&&a.element.Ud(a.index,b)})}function oS(a,b){return a instanceof VB?a.Bp(b).$g():a.zd()>b?(a=a.Za()[b],a===cB?null:a):null}function lS(a,b){if(a instanceof VB)return{index:b,placementData:a.kl(b)};var c=a instanceof hp?cB:"";a=oS(a,b);return{index:b,color:a?a.qa():c}}
var jS={ER:function(a,b){function c(a){var b=a?oS(l,m):n;(u=a)&&q.forEach(function(a){a.element.Eq()});b&&(nS(q,b),ZJ(),mS(q),$J());a||q.forEach(function(a){a.element.gk()})}function d(a,b){k.removeClass("noColor");k.css("background-color",a.qa());b&&nS(q,a);l.Ud(m,a)}function e(a){var b=lS(l,m),c=l.R();c&&b!==p&&(ZJ(),a&&mS(q),L.register(new Y(WM,{elementIndex:l.K(),pageIndex:c.K(),old:p,"new":b})),$J(),p=b)}function g(){h.removeData("colorPalette");h.removeData("activeColorPaletteToolbarButton");
v.remove();e(u);l.gk();q.forEach(function(a){a.element.gk()})}var h=$(this).closest(".toolbar"),k=$(this),l=h.data("element").data("canvaElement");if(l){l.ib()&&l.Vc&&(l=l.Vc);var m=1===l.zd()?0:l instanceof hp||l instanceof TB||l instanceof UB||l instanceof ZB&&l.Vc?k.data("colorindex"):l instanceof VB?l.Fc():-1;if(-1!==m){var n=oS(l,m),p=lS(l,m);a=h.data("activeColorPaletteToolbarButton");var q=kS(n,{element:l,index:m,type:"FILL"});T.trigger("hideContextualControlsRequested");if(a!==this){l.Eq();
a=1<=q.length;var u=!1,v=new Xn({yy:pS,du:b.Ai&&b.Ai.xy||[],tl:tc(b.i),Gi:pc(b.i),Fl:l.R().Ab,KB:!0,mD:!0,Mb:oS(l,m),Gg:a,ey:n,j:b.j,W:Ib});v.on("preview",d);v.on("confirm",e);v.on("changeApplyAll",c);v.listenTo(L,"beforeOperationStackPop",g);v.listenTo(T,"hideContextualControlsRequested",g);v.render();v.$el.addClass("toolbar--overlay");qS.am(v.$el,$(this));v.gC();h.data("colorPalette",v);h.data("activeColorPaletteToolbarButton",this)}}}},FR:function(a,b){function c(a){var b=a?uh(p.Sb(u).color):v;
(O=a)&&z.forEach(function(a){a.element.Eq()});b&&(nS(z,b),ZJ(),mS(z),$J());a||z.forEach(function(a){a.element.gk()})}function d(a,b){K=a;n.removeClass("noColor");n.css("background-color",a.qa());b&&nS(z,a);p.setColor(u,a)}function e(a){!(q=p.R())||D===K||D&&D.equals(K)||(D=K,ZJ(),a&&mS(z),mS(r),x=[],H.forEach(g),$J(),H=x)}function g(a){var b=a.index,c=p.Sb(b);a={elementIndex:p.K(),pageIndex:jp(I,q),textIndex:b,old:a,"new":c};x.push(c);L.register(new TN(1,a))}function h(){m.removeData("colorPalette");
m.removeData("activeColorPaletteToolbarButton");Q.remove();e(O);z.forEach(function(a){a.element.gk()})}function k(a){return 0<a.zd()}function l(a,b){return a.concat(b.Za().map(function(a,c){return{element:b,index:c,type:"FILL",initial:lS(b,c)}}))}var m=$(this).parents(".toolbar"),n=$(this);a=m.data("element");var p=a.data("canvaElement");p.ib()&&p.Vc&&(p=p.Vc);var q=p.R(),u=p.ib()?p.Vc?p.elements.indexOf(p.Vc):-1:p.ub(),v=uh(a.data("fill")),z=kS(v,{element:p,index:u,type:"TEXT"}),r=[],x=[];if(-1!==
u)var H=[p.Sb(u)];else if(p.ib())H=zF(p),r=p.ja().filter(k).reduce(l,[]);else return;a=m.data("activeColorPaletteToolbarButton");T.trigger("hideContextualControlsRequested");if(a!==this){var D=null,K=null;a=b.Ai&&b.Ai.xy||[];var E=1<=z.length,O=!1,Q=new Xn({yy:pS,tl:tc(b.i),Gi:pc(b.i),Fl:p.R().Ab,du:a,KB:!0,mD:!0,Mb:v,Gg:E,ey:v,j:b.j,W:Ib});Q.on("preview",d);Q.on("confirm",e);Q.on("changeApplyAll",c);Q.listenTo(L,"beforeOperationStackPop",h);Q.listenTo(T,"hideContextualControlsRequested",h);Q.render();
Q.$el.addClass("toolbar--overlay");qS.am(Q.$el,n);Q.gC();m.data("colorPalette",Q);m.data("activeColorPaletteToolbarButton",this)}}};function rS(a){a.appendTo("#overlays")}function sS(){return $("#canvaDocument")}var qS=new Oy({$x:rS,Oz:sS,margin:M.$R,mC:Ny}),pS=new Oy({$x:rS,Oz:sS,margin:M.GR,mC:Ny});function tS(a){soy.asserts.assertType(goog.isString(a.v)||a.v instanceof goog.soy.data.SanitizedContent,"classes",a.v,"string|goog.soy.data.SanitizedContent");var b=a.v;soy.asserts.assertType(null==a.disabled||goog.isBoolean(a.disabled)||1===a.disabled||0===a.disabled,"disabled",a.disabled,"boolean|null|undefined");var c=a.disabled;soy.asserts.assertType(a.Kq instanceof soydata.SanitizedHtml||a.Kq instanceof soydata.UnsanitizedText||goog.isString(a.Kq),"selectContent",a.Kq,"soydata.SanitizedHtml");
var d=a.Kq;goog.asserts.assertArray(a.options,"expected parameter 'options' of type list\x3chtml\x3e.");return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"listbox'+(c?" listbox--disabled":"")+" "+soy.$$escapeHtmlAttribute(b)+'" tabindex\x3d"-1"\x3e\x3cdiv class\x3d"listbox__select"\x3e'+soy.$$escapeHtml(d)+'\x3c/div\x3e\x3cdiv class\x3d"listbox__options"\x3e'+uS(a)+"\x3c/div\x3e\x3c/div\x3e")}
function uS(a){var b="";a=goog.asserts.assertArray(a.options,"expected parameter 'options' of type list\x3chtml\x3e.");for(var c=a.length,d=0;d<c;d++)b+=soy.$$escapeHtml(a[d]);return soydata.VERY_UNSAFE.ordainSanitizedHtml(b)};function vS(a,b,c){var d=this;R.call(this,a);this.Ah=c.Ah;this.VC=b;this.IW=this.m4.bind(this);a.on("keydown",function(a){return d.Bl(a)});b.on("click",this.IW);a.on("click",function(a){$(a.target).closest("a")[0]||(d.$el.toggleClass("listbox--open"),d.trigger(wS,d.$el.hasClass("listbox--open")))});a.on("click",".listbox__option",function(a){$(a.target).closest("a")[0]||(a=d.Ah($(a.target).closest(".listbox__option")),d.trigger(xS,a))});a.on("mousemove",".listbox__option",function(a){return d.ZN(a)});
a.on("mouseout",".listbox__option",function(a){d.trigger(yS,d.Ah($(a.target).closest(".listbox__option")))})}t(vS,R);function zS(a,b){return new vS(a,$(document),b)}f=vS.prototype;f.remove=function(){R.prototype.remove.call(this);this.VC.off("click",this.IW)};f.gu=function(){this.$el.removeClass("listbox--open");this.$el.blur()};f.m4=function(a){this.$el[0]!==$(a.target).closest(".listbox")[0]&&this.trigger(AS)};function BS(a,b){a.$el.find(".listbox__select").empty().append(b.toString())}
f.fg=function(a){this.$el.toggleClass("listbox--disabled",!a)};f.UB=function(a){a=$(uS({options:a.map(function(a){return CS(a)})}).toString());this.$el.find(".listbox__options").empty().append(a)};f.Bj=function(){var a=this;return this.$el.find(".listbox__option").toArray().map(function(b){return a.Ah($(b))})};f.length=function(){return this.Bj().length};function DS(a){return a.Bj().findIndex(function(a){return a.$el.hasClass("listbox__option--hover")})}
function ES(a){return a.Ah(a.$el.find(".listbox__option--hover"))}f.Bl=function(a){27===a.keyCode?(a.preventDefault(),this.trigger(GS)):38===a.keyCode?(a.preventDefault(),this.trigger(HS)):40===a.keyCode?(a.preventDefault(),this.trigger(IS)):13===a.keyCode&&(a.preventDefault(),this.trigger(JS))};f.ZN=function(a){this.trigger(KS,this.Ah($(a.target).closest(".listbox__option")))};var wS="CLICK",xS="OPTION_SELECT",AS="BLUR",KS="HOVER",yS="UNHOVER",HS="PRESS_UP",IS="PRESS_DOWN",JS="PRESS_ENTER",GS="PRESS_ESC";
function LS(a){fc.apply(this,arguments)}t(LS,fc);LS.prototype.oc=function(){var a=this.$el.attr("data-value");return w(a&&a.toString(),"value must be present on the option")};LS.prototype.mk=function(a){this.$el.toggleClass("listbox__option--selected",a)};function MS(a,b){a.$el.toggleClass("listbox__option--hover",b)}LS.prototype.yf=function(){return this.$el.hasClass("listbox__option--selected")};function CS(a){return soydata.VERY_UNSAFE.ordainSanitizedHtml(a.$el.prop("outerHTML"))};function NS(a){var b=this;this.view=a;this.DG=null;this.view.on(wS,function(a){return b.Af(a)});this.view.on(xS,function(a){return OS(b,a)});this.view.on(AS,function(){return b.gu()});this.view.on(KS,function(a){return b.ZN(a)});this.view.on(yS,function(a){return MS(a,!1)});this.view.on(HS,function(){var a=DS(b.view);MS(ES(b.view),!1);0>=a?(a=b.view.length()-1,a=b.view.Bj()[a],MS(a,!0)):MS(b.view.Bj()[a-1],!0)});this.view.on(IS,function(){var a=DS(b.view);MS(ES(b.view),!1);a===b.view.length()-1?MS(b.view.Bj()[0],
!0):MS(b.view.Bj()[a+1],!0)});this.view.on(GS,function(){return b.gu()});this.view.on(JS,function(){OS(b,ES(b.view));b.gu()})}function PS(a){Fa(0<a.length,"Need at least one option to render the listbox");a=a.filter(function(a){return a.yf()});Fa(1===a.length,'Expected one option to be selected but found "{}"',a.length);return a[0].Oh()}f=NS.prototype;f.UB=function(a){BS(this.view,PS(a));this.view.UB(a)};function QS(a,b){Fa(!a.DG,"onOptionChanged listener already registered");a.DG=b}
f.Af=function(a){a||this.gu()};f.gu=function(){this.view.gu();MS(ES(this.view),!1)};f.ZN=function(a){MS(ES(this.view),!1);MS(a,!0)};function OS(a,b){a.Bj().filter(function(a){return a.yf()}).forEach(function(a){return a.mk(!1)});b.mk(!0);BS(a.view,b.Oh());null!=a.DG&&a.DG(b)}function RS(a){return a.Bj().find(function(a){return a.yf()})}f.Bj=function(){return this.view.Bj()};f.oc=function(){return w(RS(this),"At least one option must have been selected").oc()};f.fg=function(a){this.view.fg(a)};
f.destroy=function(){this.view.remove()};function SS(a){this.l1=a}function TS(){return new SS(function(){return new FormData})}
function NL(a){var b=TS();return new P(function(c,d){var e=b.l1();Object.keys(a.BU).forEach(function(b){e.append(b,a.BU[b])});e.append("file",a.file);var g=new XMLHttpRequest;g.onerror=d;g.onreadystatechange=function(){if(4===g.readyState){var b=Lk(g.status),e=b&&(a.mV||g.getResponseHeader("x-amz-version-id"));b&&e?c(e):d()}};g.upload.addEventListener("progress",a.progress||function(){});g.open("POST",a.url,!0);g.send(e)})};function Cl(a){return Math.max.apply(Math,a)}function Bl(a){return Math.min.apply(Math,a)}function US(a,b,c){!c&&(c=function(a,b){return a-b});for(var d=0,e,g=a.length,h;0<g;)e=d+(h=g/2|0),0>c(a[e],b)?(d=++e,g-=h+1):g=h;return d}function VS(a,b,c){!c&&(c=function(a,b){return a-b});for(var d=0,e,g=a.length,h;0<g;)e=d+(h=g/2|0),0<=c(b,a[e])?(d=++e,g-=h+1):g=h;return d};function mh(a){var b,c,d,e,g,h;if(!a.src)return 0;if("data:image/svg+xml"===a.src.substring(0,18))return 1;c=a.naturalHeight;b=a.naturalWidth;d=b*c;if(isNaN(d)||0>=d)return 0;e=document.createElement("canvas");e.width=b;e.height=c;e=e.getContext("2d");e.drawImage(a,0,0);a=e.getImageData(0,0,b,c).data;for(h=e=0;h<c;h++)for(g=0;g<b;g++)0>=a[4*(g+h*b)+3]&&e++;return e/d}function sN(a,b){a=a.get(0).getBoundingClientRect();b=b.get(0).getBoundingClientRect();return ih(a,b)}
function ih(a,b){return!a||!b||a.left+a.width<=b.left||a.top+a.height<=b.top||a.left>=b.left+b.width||a.top>=b.top+b.height?!1:!0}function CC(a,b){a=a instanceof V?a:Gm(a);return{transform:gp({ki:a.F(),li:a.w(),Dw:b||0}),left:"",top:"",width:a.l(),height:a.o()}}
function GC(a,b,c){var d={Zs:0,Cw:0,Dw:0};null!=b&&(d.ki=b.F(),d.li=b.w(),a.css("width",b.l()+"px"),a.css("height",b.o()+"px"));a.each(function(){var a=$(this);d.Zs=a.data("FlipTransformation_rotateX")||0;d.Cw=a.data("FlipTransformation_rotateY")||0;!!(c&2)!=(0!=d.Zs%360)&&(d.Zs+=180,a.data("FlipTransformation_rotateX",d.Zs));!!(c&1)!=(0!=d.Cw%360)&&(d.Cw+=0==d.Zs%360?180:-180,a.data("FlipTransformation_rotateY",d.Cw));a.css("transform",gp(d))})}
function FC(a){var b=a.attr("style"),c,d;(c=b.match(/translate(3d)?\((-?[.\d]+)[^-.\d]+(-?[.\d]+)/))?(d=parseFloat(c[2]),c=parseFloat(c[3])):(d=parseFloat(a.css("left")),c=parseFloat(a.css("top")));var e=b.match(/width: ([.\d]+)/),g=b.match(/height: ([.\d]+)/),b=e?parseFloat(e[1]):a.width();a=g?parseFloat(g[1]):a.height();return new V(d,c,b,a)}function BB(a){a=a.get(0).getAttribute("viewBox").split(" ");return new V(parseFloat(a[0]),parseFloat(a[1]),parseFloat(a[2]),parseFloat(a[3]))}
function gp(a){var b=void 0===a.ao?1:a.ao,c=void 0===a.Iq?1:a.Iq,d=a.Zs||0,e=a.Cw||0,g=a.Dw||0;a=""+("translate("+(a.ki||0)+"px,"+(a.li||0)+"px)");if(1!=b||1!=c)a+=" scale("+b+","+c+") ";0!=d&&(a+=" rotateX("+d+"deg)");0!=e&&(a+=" rotateY("+e+"deg)");0!=g&&(a+=" rotateZ("+g+"deg)");return a}function WS(a){a=window.getComputedStyle(a);return a.getPropertyValue("transform")||a.getPropertyValue("-webkit-transform")}
function Dl(a){if(a=/^matrix(?:3d)?\(([^)]*)\)$/.exec(WS(a))){a=a[1].split(",");if(6==a.length)return{ao:parseFloat(a[0]),skewX:parseFloat(a[1]),skewY:parseFloat(a[2]),Iq:parseFloat(a[3]),ki:parseFloat(a[4]),li:parseFloat(a[5])};if(16==a.length)return{ao:parseFloat(a[0]),skewX:parseFloat(a[1]),skewY:parseFloat(a[4]),Iq:parseFloat(a[5]),ki:parseFloat(a[12]),li:parseFloat(a[13])}}return{ao:0,skewX:0,skewY:0,Iq:0,ki:0,li:0}}
function hh(a,b,c){var d=Dl(a),e;for(e in b)b.hasOwnProperty(e)&&d.hasOwnProperty(e)&&(d[e]=c?d[e]+b[e]:b[e]);b=[d.ao,d.skewX,d.skewY,d.Iq,d.ki,d.li];$(a).css("transform","matrix("+b.join(",")+")")}function AD(a,b){return Math.round(1E5*a)/1E5==Math.round(1E5*b)/1E5}
function XS(a){switch(/(\s|^)(tl|t|tr|r|br|b|bl|l)(\s|$)/gi.exec(a.className)[2]){case "tl":return 0;case "t":return 1;case "tr":return 2;case "r":return 4;case "br":return 7;case "b":return 6;case "bl":return 5;case "l":return 3;default:return null}}function uC(a,b){b=Math.round(Um(b)/45);8>b||(b=0);if(a){for(var c=0;8!==c;c++)a.removeClass("octant"+c);a.addClass("octant"+b)}}
function YI(a,b,c,d){function e(a,b){var c=a*a,d=1-a,e=d*d;return b[0]*e*d+3*b[1]*e*a+3*b[2]*d*c+b[3]*c*a}for(var g,h,k=0,l=[];1>k;)g=e(k,[a.x,b.x,c.x,d.x]),h=e(k,[a.y,b.y,c.y,d.y]),l.push({x:g,y:h}),k+=5E-5;var m=[{x:a.x,y:a.y}],n=.05,p=null;l.forEach(function(a){null!==p&&a.x>n&&(m.push(p),n+=.05);p=a});m.push({x:d.x,y:d.y});return m}
function YS(){var a=$("#canvaDocument"),b,c,d,e;Ez||$("body").hasClass("fullscreenMode")?(e=c=0,d=$(window).width(),a=$(window).height()):(e=M.o_,d=M.n_,b=M.l_,c=M.m_,d=a.width()-c-d,a=a.height()-e-b);return new V(c,e,d,a)}function ZS(){var a=M.eD;return Nm(YS().translate(a,a),-2*a,-2*a)}function $S(){var a=M.$R;return Nm(YS().translate(a,a),-2*a,-2*a)};var Fz=!1,Ez=!1;function aT(a,b){function c(){var c=a.slice(0);b.forEach(function(a){a=xP(a.wh.gg).filter(d).map(e(a.name));c=c.concat(a)});return new vP({ji:c})}function d(a){return"start"!==a.name}function e(a){return function(b){return{name:b.name,from:a+":"+b.from,to:a+":"+b.to}}}this.bp=null;this.YH=(b||[]).slice(0);this.gg=new vP;this.mp=null;var g=this,h;0<this.YH.length?(h=c(),yP(this.gg,h.ji),this.YH.forEach(function(a){g.listenTo(a.wh,"change:state",g.t6)})):a&&yP(this.gg,a);this.listenTo(this.gg,"state:enter",
this.s6)}aT.prototype.trigger=Backbone.Events.trigger;aT.prototype.listenTo=Backbone.Events.listenTo;aT.prototype.on=Backbone.Events.on;aT.prototype.off=Backbone.Events.off;_.extend(aT.prototype,Backbone.Events);aT.prototype.start=function(){this.gg.start()};aT.prototype.cancel=function(){this.bp&&this.bp.cancel?(this.bp.cancel(),this.bp=null):this.bp&&this.bp.abort&&(this.bp.abort(),this.bp=null);this.YH.forEach(function(a){a.wh.cancel()})};
aT.prototype.t6=function(a,b,c,d){var e=this.YH.filter(function(b){return b.wh===a})[0].name+":"+b;this.gg.Lz()!==e&&AP(this.gg,e);var g=Array.prototype.slice.call(arguments,2),e=["change:state",this,e].concat(g);this.trigger.apply(this,e)};aT.prototype.s6=function(a,b){this.trigger("change:state",this,b)};function dP(a){a.stopPropagation()}function bT(a){a.preventDefault()}function cT(){return!1}var wN="createTouch"in document,uN=!1;function mp(a){this.el=$(a);this.yI={};this.qT=""}function RM(a){return 0<=a.qT.indexOf("touch")}mp.prototype.selected=function(a){var b=this,c=null;return function(d){var e=d.type;b.qT=e;null===c&&(c=e);return e!==c?!0:a.call(this,d)}};function dT(a){return a.split("|").filter(function(a){return""!==a})}
function eT(a){return a.split(/[|+]/).filter(function(a){return""!==a})}function fT(a,b,c,d){if(a.yI[b+"_"+c])throw a='An event handler already exists for "'+b+'"',c&&(a+=' and selector "'+c+'"'),Error(a);a.yI[b+"_"+c]=d}mp.prototype.on=function(a,b,c){var d=this,e;"function"===typeof c?(e=b,b=c):e="";if(0<=a.indexOf("|")){var g=this.selected(b);b.b_=g;fT(this,a,e,g);dT(a).forEach(function(a){if(e)d.el.on(a,e,g);else d.el.on(a,g)})}else if(fT(this,a,e,b),e)this.el.on(a,e,b);else this.el.on(a,b);return this};
mp.prototype.off=function(a,b,c){var d=this,e;"function"===typeof c?(e=b,b=c):e="";var g=this.yI[a+"_"+e];if(g){if(g!==(b.b_||b))throw Error('The given handler is not listening to event "'+a+'"');b.b_=null;eT(a).forEach(function(a){e?d.el.off(a,e,g):d.el.off(a,g)});delete this.yI[a+"_"+e]}return this};function uj(a){Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor);this.message=a}uj.prototype=Object.create(Error.prototype);uj.prototype.constructor=uj;
function tj(a){switch(a){case "card_declined":return new gT;case "expired_card":return new hT;case "incorrect_cvc":return new iT;case "incorrect_number":return new jT;case "invalid_cvc":return new kT;case "invalid_expiry_month":return new lT;case "invalid_expiry_year":return new mT;case "invalid_number":return new nT;case "missing":return new oT;case "processing_error":return new pT;default:return new qT(a)}}function gT(){uj.call(this,"credit card declined")}gT.prototype=Object.create(uj.prototype);
gT.prototype.constructor=gT;function hT(){uj.call(this,"credit card expired")}hT.prototype=Object.create(uj.prototype);hT.prototype.constructor=hT;function iT(){uj.call(this,"credit card cvc incorrect")}iT.prototype=Object.create(uj.prototype);iT.prototype.constructor=iT;function jT(){uj.call(this,"credit card number incorrect")}jT.prototype=Object.create(uj.prototype);jT.prototype.constructor=jT;function kT(){uj.call(this,"credit card cvc invalid")}kT.prototype=Object.create(uj.prototype);
kT.prototype.constructor=kT;function lT(){uj.call(this,"credit card expiry month invalid")}lT.prototype=Object.create(uj.prototype);lT.prototype.constructor=lT;function mT(){uj.call(this,"credit card expiry year invalid")}mT.prototype=Object.create(uj.prototype);mT.prototype.constructor=mT;function nT(){uj.call(this,"credit card number invalid")}nT.prototype=Object.create(uj.prototype);nT.prototype.constructor=nT;function rT(){uj.call(this,"credit card country invalid")}rT.prototype=Object.create(uj.prototype);
rT.prototype.constructor=rT;function sT(){uj.call(this,"credit card region invalid")}sT.prototype=Object.create(uj.prototype);sT.prototype.constructor=sT;function tT(){uj.call(this,"credit card zipcode invalid")}tT.prototype=Object.create(uj.prototype);tT.prototype.constructor=tT;function oT(){uj.call(this,"credit card missing but required")}oT.prototype=Object.create(uj.prototype);oT.prototype.constructor=oT;function pT(){uj.call(this,"credit card processing error")}pT.prototype=Object.create(uj.prototype);
pT.prototype.constructor=pT;function qT(a){uj.call(this,"unknown credit card processing error "+a);this.errorCode=a}qT.prototype=Object.create(uj.prototype);qT.prototype.constructor=qT;function uT(){uj.call(this,"no credit card entered")}uT.prototype=Object.create(uj.prototype);uT.prototype.constructor=uT;function vT(a,b){if(b instanceof gT)return a.format("creditCardDeclined");if(b instanceof hT)return a.format("creditCardExpired");if(b instanceof iT)return a.format("creditCardCvcIncorrect");if(b instanceof jT)return a.format("creditCardNumberIncorrect");if(b instanceof kT)return a.format("creditCardCvcIncorrect");if(b instanceof lT)return a.format("creditCardExpiryMonthIncorrect");if(b instanceof mT)return a.format("creditCardExpiryYearIncorrect");if(b instanceof nT)return a.format("creditCardNumberIncorrect");
if(b instanceof oT)return a.format("creditCardMissingButRequired");if(b instanceof pT)return a.format("creditCardProcessingError");if(b instanceof qT)return a.format("creditCardUnknownProcessingError",b.errorCode);if(b instanceof uT)return a.format("creditCardNoCardEntered");if(b instanceof rT)return a.format("creditCardNoCountryEntered");if(b instanceof sT)return a.format("creditCardNoRegionEntered");if(b instanceof tT)return a.format("creditCardNoZipcodeEntered");if(b instanceof uj&&b.message)return b.message;
throw Error("unrecognized CreditCardError");};function wT(){var a=window.stripeConfig;switch(a.impl){case "local":return new xT;case "stripe":return new yT(a.publishableKey,window.Stripe||null);default:throw Error('unexpected stripe impl "'+a.impl+'"');}}function xT(){}xT.prototype.createToken=P.method(function(a){return JSON.stringify({stripeId:"card_ "+Math.random(),brand:"Visa",expMonth:a.nL,expYear:a.oL,last4:a.jh.slice(-4)})});function yT(a,b){(this.cf=b)&&this.cf.setPublishableKey(a)}
yT.prototype.createToken=function(a){return new P(function(b,c){if(!this.cf)throw Error("Stripe API is unavailable");a={cvc:a.zm,exp_month:a.nL,exp_year:a.oL,number:a.jh};this.cf.createToken(a,function(a,e){if(e.error){var g;try{g=e.error.code||""}catch(h){g=""}c(tj(g))}else b(e.id)})}.bind(this))};function YO(a){var b=this,c=window.MutationObserver||window.WebKitMutationObserver;this.Vv=null;this.Tz={nodeinserted:[],noderemoved:[],characterdatamodified:[],attrmodified:[]};this.config=a?a:{attributes:!1,childList:!0,characterData:!0,subtree:!0};this.Uk=new c(function(a){a.forEach(function(a){b.handle(a)})})}YO.prototype.normalize=function(a){return a.toLowerCase()};YO.prototype.on=function(a,b){a=this.normalize(a);this.Tz.hasOwnProperty(a)||(this.Tz[a]=[]);this.Tz[a].push(b);return this};
YO.prototype.handle=function(a){function b(b){var e=c.normalize(b),g=new jQuery.Event(b);c.Vv&&(g.target=a.target,g.currentTarget=c.Vv.get(0),c.Tz.hasOwnProperty(e)&&c.Tz[e].forEach(function(a){a.call(c.Vv,g)}))}var c=this;"childList"===a.type?(a.addedNodes&&0<a.addedNodes.length?b("nodeInserted"):a.removedNodes&&0<a.removedNodes.length&&b("nodeRemoved"),b("subtreeModified")):"attributes"===a.type?b("attrModified"):"characterData"===a.type&&b("characterDataModified")};
YO.prototype.observe=function(a){var b=$(a).get(0);if(this.Vv)throw Error("Already observing an element");b&&(this.Uk.observe(b,this.config),this.Vv=$(a))};function $O(a){a.Uk.disconnect();a.Vv=null};function Mp(a,b,c){this.text=b||null;b=lc(a);this.text&&this.text.toLocaleLowerCase()===b.format("documentUntitledDesign").toLocaleLowerCase()&&(this.text=null);this.uu=c||null;this.i=a}Mp.prototype.on=Backbone.Events.on;Mp.prototype.off=Backbone.Events.off;Mp.prototype.trigger=Backbone.Events.trigger;function zT(a){return a.text?(a.text.match(/#[a-z0-9_-]+/gi)||[]).map(function(a){return a.slice(1).trim()}):[]}function AT(a){return null===a.text||""===a.text}Mp.prototype.Zm=function(){return this.text};
function BT(a,b){var c;if(c=b){b=b.trim().replace(/\s+/g," ");c=M.Go;var d="";b=b.trim();if(b.length<=c)c=b;else{void 0===d&&(d="…");var e=b.substr(0,c-d.length),g=b.substr(c-d.length).match(/^\S+/),h=e.match(/\S+$/);h&&g&&(e=e.substr(0,e.length-h[0].length));e=e.trim();""===e&&(e=b.substr(0,c-d.length));c=e=e.trim()+d}}b=c;a.text!==b&&(a.text=b,a.trigger("change"))}
function CT(a,b){var c=jc(a.i);a=lc(a.i);return-1!=[a.Df(),a.format("documentSvgPlaceholderText"),Td(c),Ud(c),c.format("objectPanelTextPanelAddBody")].indexOf(b)}function HO(a,b){var c=a.text||lc(a.i).format("documentUntitledDesign");b=b&&!!b.Y2;a.uu&&(AT(a)||b)&&(c=a.uu+" – "+c);return c};function DT(a){this.media=a.media;this.Pg=a.Pg;this.xc=a.xc;this.Cv=a.Cv;this.We=a.We;this.OB=null;this.CU=a.bm&&this.media.sv()}f=DT.prototype;f.init=function(){var a=ET(this);0<a.length&&!this.pv()&&!this.dn()&&(this.OB=a[0].Rj);return this};f.dn=function(){var a=this;return this.xc.some(function(b){return 0<=a.We.indexOf(b.type)})};function FT(a){return a.dn()?a.xc[0].type:null}f.RF=function(){return"DESIGN"==this.media.eb()};
f.pv=function(){var a=NE(this.media.Ha());return!a||GT(this)?!0:Object.keys(a).every(function(b){return 0==a[b]})};function GT(a){return a.CU&&a.We.some(function(a){return"ONE_USE"===a})}f.$m=function(){var a=this.media.Ha().nc()[QC];return a?a.ma():null};function HT(a){if(a.CU)return Infinity;var b=a.xc.map(function(b){return(b.qL||b.hz||Infinity)-a.Cv});return Math.min.apply(Math,[].concat(na(b)))}f.RM=function(){return!/\.png$/.test(this.$m())};f.pn=function(a){return 0<=this.We.indexOf(a)};
function ET(a){var b=NE(a.media.Ha());if(!b||a.pv())return[];var c=Object.keys(b).filter(function(b){return 0<=a.We.indexOf(b)&&0>IT(a).indexOf(b)}).map(function(c){return{Rj:c,da:b[c],yf:a.OB==c}});return _.sortBy(c,function(a){return a.da})}function IT(a){return a.xc.map(function(a){return a.type})}f.pb=function(){return this.media.Ha().pb()};f.Dz=function(){return this.media.u()};f.Ez=function(){return this.media.Ha().getVersion()};
function JT(a){if(a.dn())return 0;a=ET(a).filter(function(a){return a.yf}).map(function(a){return a.da});return 0<a.length?a[0]:0}function KT(a,b){function c(a){return a.RF()?0:a.pv()?a.dn()?2:1:a.dn()?(a=IT(a),0<=a.indexOf("ONE_USE")?5:0<=a.indexOf("ROYALTY_FREE")?4:3):6}return c(b)-c(a)}function LT(){this.Yh=[]}function MT(a,b){NT(a,b.items.map(function(a){return new DT({media:a.media,Pg:a.Pg,xc:a.xc,We:b.We,Cv:b.Cv,bm:b.bm})}))}
function NT(a,b){a.Yh=b;a.Yh.forEach(function(a){return a.init()});a.Yh.sort(KT)}LT.prototype.pn=function(a){return this.Yh.some(function(b){return b.pn(a)})};function OT(a){return a.Yh.filter(function(a){return!a.dn()})}function PT(a){return a.Yh.reduce(function(a,c){return a+JT(c)},0)}function QT(a){return Math.min.apply(Math,[].concat(na(a.Yh.map(function(a){return HT(a)}))))}
function RT(a,b,c,d){var e=[];d&&e.push(new Wh({D:b,items:[new li({dK:Eh(d)})],currency:"USD"}));e.push(new Wh({D:b,items:ST(a,c),currency:"USD"}));return e}function ST(a,b){return OT(a).map(function(a){return new li({aq:new di({media:a.Dz(),version:a.Ez(),document:b,Rj:a.OB||"ONE_USE"})})})};function TT(a){this.$el=a}t(TT,fc);function UT(a,b,c,d,e){this.ta=a.ta;this.rb=a.rb;this.Zb=a.Zb;this.X=a.X;this.Qb=e;this.view=b;this.zb=c;this.qX=d;this.open=!1}function VT(a,b){return new P(function(c){a.qX.once("paymentComplete",c);WT(a,b).then(function(){return a.show()})})}UT.prototype.close=function(){this.zb.remove();this.open=!1};UT.prototype.show=function(){Fa(!this.open,"the watermark remove dialog is already open");this.open=!0;this.qX.refresh();this.zb.show()};
function WT(a,b){var c=["ROYALTY_FREE","EXTENDED"],d,e,g,h=new kE({types:c,status:["ACTIVATED"],D:a.ta,media:b});b=(new UE).vR(b).Co().RC();return P.all([vE(a.Zb,b),a.rb.$E(h)]).then(function(b){var c=ma(b);b=c.next().value;c=c.next().value;d=b;e=c.xc;g=c.Ml;return P.all(d.media.map(function(b){return a.X.fa(b.fa())}))}).then(function(b){var h=d.media.map(function(a){return new DT({media:a,Pg:b.find(function(b){return b.id===a.fa()}).displayName,xc:e.filter(function(b){return b.media===a.u()}),zba:g,
We:c,bm:!1})});NT(a.Qb,h)})};function XT(a,b,c,d,e,g,h,k){var l=xN;void 0===k&&(k=!0);var m=Math.max(M.XR,M.XR/d());k=ZT(a,c,m,b,h);if(void 0!==h&&null!=k.mt&&null!=k.nt){var n=Math.abs(a.Yb()-k.mt),p=Math.abs(a.hc()-k.nt);n>p?k.nt=null:k.mt=null}null!=k.mt&&(!a.Qa()&&1===k.wo.length&&!k.wo[0].Qa()&&Math.abs(k.wo[0].F()-a.F())<m?!h&&a.gb(k.wo[0].F()):!h&&a.gb(k.mt));null!=k.nt&&(!a.Qa()&&1===k.wo.length&&!k.wo[0].Qa()&&Math.abs(k.wo[0].w()-a.w())<m?!h&&a.ab(k.wo[0].w()):!h&&a.ab(k.nt));!h||null==k.mt&&null==k.nt||(k=ZT(a,c,1,
b,h));l();b=[].concat([a],na(k.wo));if(null!=k.mt){c=Math.max.apply(Math,[].concat(na(b.map(function(a){return a.ed()}))));h=Math.min.apply(Math,[].concat(na(b.map(function(a){return a.hc()}))));var q=Math.abs(c-h)*d(),u=Math.min.apply(Math,[].concat(na(b.map(function(a){return g(a)})))),v=[];k.Rt.ql&&v.push(e(a)-1);k.Rt.r&&v.push(e(a)+a.dh()*d());k.Rt.cy&&v.push(e(a)+a.dh()/2*d());gh().write(function(){v.forEach(function(a,b){$("#overlays .vertical.align").eq(b).addClass("on").css("top",Math.round(u)).css("left",
Math.round(a)).css("height",Math.round(q))})})}if(null!=k.nt){c=Math.max.apply(Math,[].concat(na(b.map(function(a){return a.Bd()}))));h=Math.min.apply(Math,[].concat(na(b.map(function(a){return a.Yb()}))));var z=Math.abs(c-h)*d(),r=Math.min.apply(Math,[].concat(na(b.map(function(a){return e(a)})))),x=[];k.Rt.t&&x.push(g(a)-1);k.Rt.b&&x.push(g(a)+a.bh()*d());k.Rt.cx&&x.push(g(a)+a.bh()/2*d());gh().write(function(){x.forEach(function(a,b){$("#overlays .horizontal.align").eq(b).addClass("on").css("top",
Math.round(a)).css("left",Math.round(r)).css("width",Math.round(z))})})}}
function ZT(a,b,c,d,e){function g(a){function b(c,d){return a(c)-a(d)}var c,d=[];Q.slice(0).sort(b).forEach(function(e){c&&0==b(c.ze[0],e)?(c.ze.push(e),c.ul=Math.min(c.ul,e.ul),c.vl=Math.min(c.vl,e.vl),c.vn=Math.max(c.vn,e.vn),c.wn=Math.max(c.wn,e.wn)):d.push(c={ze:[e],pos:a(e),ul:e.ul,vl:e.vl,vn:e.vn,wn:e.wn,wK:NaN})});return d}function h(a,b){return a.pos-b.pos}function k(a,b){return a.wK<b.wK?a:b}function l(a,b,d){var e=US(b,{pos:d-c},h),g=VS(b,{pos:d+c},h);b=b.slice(e,g);b.forEach(function(a){a.wK=
Math.abs(d-a.pos)});b.length&&a.push(b.reduce(k))}var m=null,n=null,p=[],q={ql:!1,r:!1,cy:!1,t:!1,b:!1,cx:!1},u=a.dh(),v=a.bh(),z,r,x,H,D,K,E,O;z=a.Yb();r=a.hc();x=a.Bd();H=a.ed();D=a.dh();K=a.bh();E=z+D/2;O=r+K/2;var Q=b.map(function(a){var b=a.Yb(),c=a.Bd(),d=(b+c)/2,e=a.hc(),g=a.ed();return{object:a,ul:b,vl:e,kG:d,lG:(e+g)/2,vn:c,wn:g}});d.Pp||(d.Pp=!0,d.Xl={ul:g(function(a){return a.ul}),kG:g(function(a){return a.kG}),vn:g(function(a){return a.vn}),vl:g(function(a){return a.vl}),lG:g(function(a){return a.lG}),
wn:g(function(a){return a.wn})});b=0;var N=null;b=[];if(void 0===e||e.ql)if(N=null,b=[],l(b,d.Xl.ul,z),l(b,d.Xl.vn,z),N=b.length&&b.reduce(k))for(m=N.pos,q.ql=!0,b=0;b<N.ze.length;++b)p.push(N.ze[b].object);if(void 0===e||e.r)if(N=null,b=[],l(b,d.Xl.ul,x),l(b,d.Xl.vn,x),N=b.length&&b.reduce(k))for(m=N.pos-D,q.r=!0,b=0;b<N.ze.length;++b)p.push(N.ze[b].object);if(void 0===e||e.d)if(N=null,b=[],l(b,d.Xl.vl,r),l(b,d.Xl.wn,r),N=b.length&&b.reduce(k))for(n=N.pos,q.t=!0,b=0;b<N.ze.length;++b)p.push(N.ze[b].object);
if(void 0===e||e.M9)if(N=null,b=[],l(b,d.Xl.vl,H),l(b,d.Xl.wn,H),N=b.length&&b.reduce(k))for(n=N.pos-K,q.b=!0,b=0;b<N.ze.length;++b)p.push(N.ze[b].object);(function(){var b;b=[];l(b,d.Xl.kG,E);if(b=b.length&&b.reduce(k)){m=b.pos-D/2;q.cy=!0;for(var c=0;c<b.ze.length;++c)p.push(b.ze[c].object);var g=(c=e&&e.ul)?a.Bd():a.Yb();u=2*Math.abs(b.kG-g);c&&(m-=(u-D)/2)}})();(function(){var a;a=[];l(a,d.Xl.lG,O);if(a=a.length&&a.reduce(k)){n=a.pos-K/2;q.cx=!0;for(var b=0;b<a.ze.length;++b)p.push(a.ze[b].object);
b=e&&e.vl;v=2*Math.abs(a.lG-(b?H:r));b&&(n-=(v-K)/2)}})();z=a.F()-a.Yb();x=a.w()-a.hc();null!==m&&m>a.F()?m+=z:null!==m&&m<a.F()&&(m+=z);null!==n&&n>a.w()?n+=x:null!==n&&n<a.w()&&(n+=x);null!==m&&0===Math.round(10*m)/10&&(m=0);null!==n&&0===Math.round(10*n)/10&&(n=0);return{mt:m,nt:n,baa:u,aaa:v,wo:p,Rt:q}};var SB="screen";function yO(a,b,c){var d=xb,e=Hb;a=new Vt(b.id,2,0,a,b.version,b.session,b.timestamp,b.content||{},Oq(b.extensions),null!=b.conversionLoss?Ds("conversionLoss",b.conversionLoss):null);c=new Ot(d,e,a,new xl,c);c.Tp=!0;ub=c;Ib.H.get(Of)&&ub.start();ub.aQ($T);Xb=0;return ub}
function vz(a){$("#canvaDocument").on("mousedown",".page img, .cropControls img, a",bT);$("#canvaDocument").on("mouseup",xN);$("#canvaDocument").on("click",".hasWatermark .removeWatermark",aU(a));if(Ib.H.get(Bg))$("#canvaDocument").on("mouseenter",".element.grid .content",bU());$("#content").on("keydown",".element.text.focused",cU);$("#content").on("keydown",".element.text.focused",dU);$("#content").on("input",".element.text.focused",eU);$("#canvaDocument").on("DOMNodeInserted",".element.text.focused",
fU);if(!wN)$("#canvaDocument").on("click",".page .element:not(.focused)",!1);$("#content").on("dblclick",".selectionBox:not(.multipleSelectionBox)",gU);(new mp("#canvaDocument")).on("mousedown",".selectionBox, .element",Yb).on("touchstart",".selectionBox, .element",Yb);(new mp("#canvaDocument")).on("click",".element.focused",dP).on("mousedown",".element.focused",dP).on("touchstart",".element.focused",dP).on("mousedown",".element:not(.focused, .multiSelected)",hU).on("touchstart",".element:not(.focused, .multiSelected)",
hU);(new mp("#content")).on("click",".selectionBox.multipleSelectionBox",cT).on("click",".element.multiSelected",cT).on("mousedown",".selectionBox.multipleSelectionBox",iU).on("touchstart",".selectionBox.multipleSelectionBox",iU).on("mousedown",".element.multiSelected",iU).on("touchstart",".element.multiSelected",iU);(new mp("#content")).on("click",".selectionBox",cT).on("mousedown",".selectionBox",jU).on("touchstart",".selectionBox",jU);(new mp("#content")).on("click",".selectionBox .handle",cT).on("mousedown",
".selectionBox:not(.multipleSelectionBox, .text.freeResize) .handle",kU).on("touchstart",".selectionBox:not(.multipleSelectionBox, .text.freeResize) .handle",kU);(new mp("#content")).on("click",".selectionBox .handle",cT).on("mousedown",".selectionBox.text.freeResize .handle.br",lU).on("touchstart",".selectionBox.text.freeResize .handle.br",lU);(new mp("#content")).on("mousedown",".multipleSelectionBox .handle",mU).on("touchstart",".multipleSelectionBox .handle",mU);(new mp("#content")).on("click",
".cropControls",cT).on("mousedown",".cropControls",nU).on("touchstart",".cropControls",nU);(new mp("#content")).on("click",".cropControls .handle",cT).on("mousedown",".cropControls .handle",oU).on("touchstart",".cropControls .handle",oU);(new mp("#content")).on("click",".viewPort .frameHandle",cT).on("mousedown",".viewPort .frameHandle",pU).on("touchstart",".viewPort .frameHandle",pU);(new mp("#content")).on("click",".selectionBox .rotate",cT).on("mousedown",".selectionBox .rotate",fp).on("touchstart",
".selectionBox .rotate",fp);(new mp("#objectPanel")).on("mousedown",qU).on("touchstart",qU).on("mousedown",".gallery a",qU).on("touchstart",".gallery a",qU);$("#canvaDocument").on("mouseenter",".unapproved, .failed",rU);if(wN)$("#content").on("click",sU);$("#null").keydown(function(){$(this).blur()})}function tU(){var a=I;function b(a){a.NC(vb)}Ez||fq(a).forEach(b)}
function uU(a,b,c,d,e,g){function h(){return new vU({nm:(new UAParser).getBrowser().name,document:a,W:b,oa:ub,ps:Date.now(),Mi:new ju(Hb),BK:new cu,Kk:d,i:g})}function k(a){document.title=a}if(Ez)J=new wU({i:g,model:a,G:ol});else{Tb=new EO({model:a,W:b,oa:ub,ic:$b,Ni:c,iI:k,WI:e,VJ:h,sg:d.sg,i:g,Kk:d,j:w(U)});c=c.kh()?xU:void 0;J=new wU({i:g,model:a,G:ol,DI:c});Zb=new yU({model:a,Qk:J,i:g});var l=new GP(a,J);Rb=function(){return l}}}
function uz(a,b,c,d,e,g){function h(a){-1===l.indexOf(a)&&(l.push(a),m())}I&&(ph(),I.off(),J.remove(),Ez||(Tb.remove(),Zb.remove()));var k=_.flatten(_.pluck(a.pages,"elements")).length,l=[],m=_.after(k+1,function(){if(I&&I.ja){var a=10*I.ja().length;T.off("elementLoaded",h);T.off("elementLoadingError",h);window.setTimeout(function(){I.zM=!0;T.trigger("documentRendered");window.setTimeout(function(){$("#canvaDocument").addClass("rendered")},2E3);g&&(g.wa("rendered"),g.done());I.on("change",I.jH);I.listenTo(T,
"elementLoaded:graphic",I.jH);I.listenTo(T,"elementLoaded:svg",I.jH);I.jH();I.on("change",I.tB);I.listenTo(T,"elementLoaded:text",I.tB);I.listenTo(T,"elementLoaded:svg",I.tB);I.tB()},100+a)}});T.on("elementLoaded",h);T.on("elementLoadingError",h);T.on("pageTimeoutWaitingForElements",function(){KN()});I=new Kp(a,b,d);I.on("change",Vb);uU(I,Ib,c,Lb,e?e():[],d);I.Cb().forEach(function(a){a.ja().forEach(function(b){a.trigger("element:add",a,b)})});m();L=new MN;tU()}
function Jg(a){var b=a.R();if(null==b)throw Error("cannot register element add operation - element must first be added to a page");a=VN(a.serialize());a.pageIndex=jp(I,b);L.register(new Y(QN,a))}function zU(a){var b=[];a.elements.forEach(function(a){a=a.elementIndex;-1!==a&&b.push(a)});return[Math.min.apply(null,b),Math.max.apply(null,b)]}
function AU(a){var b=a.R();if(null==b)throw Error("cannot register element group operation - group has no page");a=a.serialize();var c=VN(a);c.pageIndex=jp(I,b);c.childRange=zU(a);L.register(new Y(13,c))}function BU(a){var b=a.R();if(null==b)throw Error("cannot register element ungroup operation - group has no page");a=a.serialize();var c=VN(a);c.pageIndex=jp(I,b);c.childRange=zU(a);L.register(new Y(14,c))}
function VM(a){var b=a.R();if(null!=b){var c=VN(a.serialize());c.pageIndex=jp(I,b);mC(a)&&(b=nC(a))&&(c.groupElementIndex=b.K(),c.groupIndex=b.ja().indexOf(a));L.register(new Y(RN,c))}}
function CU(a){if(a.vJ()){var b=a.R(),c=jp(I,b),d=b.pa();Qm(a.pa(),d)?(ZJ(),b.ja().forEach(function(b){b!==a&&b.kc()&&(VM(b),b.remove())}),a.kc()||(b=a.K(),aq(a),L.register(new Y(aN,{backgroundColor:a.$g(),elementIndex:a.K(),oldElementIndex:b,pageIndex:c})),ph(),Kg(a)),$J()):a.kc()&&(b=a.K(),d=a.$g(),YC(a),L.register(new Y($M,{backgroundColor:d,elementIndex:a.K(),oldElementIndex:b,pageIndex:c})))}}
(function(){var a=0,b=!1;Vb=function(){if(ub&&ub.Tp){var c=I.serialize();DL(c);if(jq(c).result)Xb=ub.post(Xb,c),null==Xb&&IN(),a=0;else if(I.zM)if(lq())T.once("pageLayoutLoaded",Vb);else 3<=a&&(KN(),ub.close()),a+=1;else b||(b=!0,T.once("documentRendered",Vb))}else KN()}})();var DU=0;
function $T(a){window.clearTimeout(DU);ub&&ub.Tp?(1==a?DU=window.setTimeout(function(){KN()},M.Vx):2==a?(1===Xb&&2===ub.Td()&&window.opener&&"/"===window.opener.location.pathname&&window.opener.location.reload(),JN()):3==a&&(IN(),ub.close()),T.trigger("session:sync",a)):KN()}
(function(){function a(){b=[];$(document).off("keyup",a)}var b=[];Yb=function(c){var d=void 0!==c.clientX?c.clientX:c.originalEvent.touches[0].clientX,e=void 0!==c.clientY?c.clientY:c.originalEvent.touches[0].clientY;if(c.metaKey){$(document).on("keyup",a);var g=[],h=null;$("#canvaDocument .page.selected .element").each(function(){var a=this.getBoundingClientRect();a.left<d&&a.right>d&&a.top<e&&a.bottom>e?(a=$(this).data("canvaElement"),g.push(a),-1===b.indexOf(a)&&(a.yf()?(aO(a),b.unshift(a)):b.push(a))):
h=$(this).data("canvaElement")});b.forEach(function(a,c){-1===g.indexOf(a)&&b.splice(c,1)});h&&-1!==b.indexOf(h)&&b.unshift(h);var k=b.pop();if(k)return ph(),Kg(k),b.unshift(k),c.stopPropagation(),c.preventDefault(),!1}return!0}})();function EU(){return I.Cb().map(function(a){return{rect:eh(XC(J,a)),page:a}})}
function bU(){var a=zc(Kb).format("editorSelectionBoxGridHint"),b=$('\x3cdiv class\x3d"gridHint"\x3e'+a+"\x3c/div\x3e"),c=null;return function(a){function e(){h.removeClass("showGridHint");b.remove()}function g(a,c){a=a.parents(".element.grid").position().top;c=c?5:15;0>a?b.css({top:c+-1*a+"px"}):b.css({top:c+"px"})}var h=$(a.currentTarget);c&&(c.removeClass("showGridHint"),c.off("mouseleave",e),c=null);80<h.width()&&30<h.height()&&(a=160>h.width()||50>h.height(),b.toggleClass("gridHint--tiny",a),
h.addClass("showGridHint"),g(h,a),h.append(b),h.on("mouseleave",e),c=h)}}
function aU(a){return function(b){var c=Gx(a.Ga).fa(),c={j:U,la:Hx(a.Ga).u(),ta:c.u(),aa:yb,Zb:Bb,X:Cb,rb:a.rb,cb:a.cb,i:Kb,Ve:c.Ph(),ea:a.ea},d=c.i;d.sR||(d.sR=new cf(d.config));var e=d.sR,d=new LT,g={j:c.j,aa:c.aa,X:c.X,cb:c.cb,rb:c.rb,i:c.i,la:c.la,ta:c.ta,af:!1,Gf:e.Gf(),Qb:d,Ve:c.Ve,ea:c.ea},h=FU({D:g.ta,nj:g.aa,Re:!1,cf:g.cb,Va:ad(g.i),j:g.j}),h=new GU({pd:h.wb,Ji:h.view}),g=(new HU({view:h,j:g.j,la:g.la,ta:g.ta,aa:g.aa,X:g.X,rb:g.rb,Ub:g.Ub,i:g.i,af:g.af,Gf:g.Gf,Qb:g.Qb,lb:g.lb,Ve:g.Ve,ea:g.ea})).init(),
k=e.title(),e=$;soy.asserts.assertType(goog.isString(k)||k instanceof goog.soy.data.SanitizedContent,"title",k,"string|goog.soy.data.SanitizedContent");k=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3csection class\x3d"watermarkRemovalDialog__content"\x3e\x3cheader class\x3d"watermarkRemovalDialog__header"\x3e\x3ch2\x3e'+soy.$$escapeHtml(k)+'\x3c/h2\x3e\x3c/header\x3e\x3cdiv class\x3d"watermarkRemovalDialog__body"\x3e\x3cdiv class\x3d"watermarkRemovalDialog__paymentPage"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/section\x3e');
e=e(k.toString());e.find(".watermarkRemovalDialog__paymentPage").append(h.$el);h=new TT(e);e=new rp({content:h.$el,G:ol,$e:!0,className:"watermarkRemovalDialog"});c=new UT(c,h,e,g,d);b=$(b.target).parent(".selectionBox");d=b.data("element");if(d.data("canvaElement"))return d=d.data("canvaElement"),IU(c,d,b)}}
function IU(a,b,c){var d=I;function e(a,b){if(b.rv()){var c=b.Cz();if(0<c.length&&c.map(function(a){return a.Kb()}).some(h.bind(null,a)))return!0}return b.Mj()?h(a,b.Kb()):!1}function g(a){return a.ww?a.ww():P.resolve()}function h(a,b){return a.some(function(a){return null!=a&&null!=b&&a.id===b.id&&a.version===b.version})}var k=[];if(b.rv()){var l=b.Cz();0<l.length&&(k=l.map(function(a){return a.Kb()}).filter(JU))}b.Mj()&&JU(b.Kb())&&k.push(b.Kb());b=k.filter(function(a){return null!=a}).map(function(a){return a.id});
VT(a,b).then(function(a){a=d.ja().filter(e.bind(null,a)).map(g);return P.all(a)}.bind(null,k)).then(function(){a.close();c.removeClass("hasWatermark")})}function KU(a){if(a.rv()){var b=a.Cz();if(0<b.length&&b.some(function(a){return JU(a.Kb())}))return!0}return a.Mj()?JU(a.Kb()):!1}function JU(a){var b;a&&(b=(a=Fb.Gc(a.id,a.version))&&a[Tg]);return b&&b.watermarked||!1}function lp(){$("#overlays .element.text.focused").each(function(){VA($(this))})}
function hU(a){function b(a){Pl=!!a.shiftKey;Ab=void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX;Gb=void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY;qc=r.C().get(0).getBoundingClientRect();je.read(c);return!1}function c(){var a=!1;if(r.Mj()){var b=r.Kb();b&&!hq(vb,b)&&(a=!0)}if(!r.qA||r.tc||a){a=Ab-D;b=Gb-K;sa&&r.ib()&&r.Ei();if(sa){var c=ch(J,dh(qc));(c=LU(c,h))&&c.page?(ef&&(ef=!1,r.C().removeClass("outsidePage")),r.py()&&!r.wv(r.R())?(Qb&&c.page!=Qb&&Qb.$el.removeClass("hotspotHover"),
Qb=XC(J,c.page),Qb.$el.addClass("hotspotHover")):Qb&&Qb.$el.removeClass("hotspotHover")):(r.C().addClass("outsidePage"),ef=!0)}if(sa||Math.abs(a)>M.Dc||Math.abs(b)>M.Dc){sa=!0;r.setPosition(da+a/W,ca+b/W);Pl||Da.hasClass("placing")?xN():lh(r,Oa,ha);b=$(".page.selected.on");c=$("#overlays");if(1===b.length&&1===c.length&&1===E.length){var a=E.get(0).getBoundingClientRect(),b=b.get(0).getBoundingClientRect(),d=c.get(0).getBoundingClientRect(),c=a.left-d.left,d=a.top-d.top,g=Math.round((a.left-b.left)/
W),a=Math.round((a.top-b.top)/W);e.addClass("positionIndicatorShowing").addClass("positionIndicatorMoving").css("transform","translate("+c+"px,"+d+"px)").text(g+", "+a)}r.Xa()}sa&&!ia&&(a=Da.find("img"),a.attr("data-screen-width",r.l()).attr("data-screen-height",r.o()),r.qA&&a.attr("data-media-approved",r.tc),Da.addClass("clone"),!r.FD()&&r instanceof RB&&Da.addClass("cutout"),b=Rg({id:r.ha,version:r.ia,origin:r.origin?r.origin.eb():"CANVA",files_:[{quality:"THUMBNAIL",page:0,url:a.attr("src")},{quality:"SCREEN",
page:0,url:a.attr("src")}]}),c=$("\x3cli\x3e\x3c/li\x3e"),c.data("result",b).append(a.clone()),Da.data("li",c),r.FD()||r.fh())&&(qh(Da,null,RM(rc)),ia=!0)}}function d(a){rc.off("mousemove|touchmove",b).off("mouseup|touchend",d);Cd.read(function(){var b=r.C().get(0).getBoundingClientRect();Cd.write(function(){var c;e.remove();E.remove();r.jg=!1;$("#hotspots").remove();Qb&&Qb.$el.removeClass("hotspotHover");$("#overlays .align").removeClass("on");if(sa){if(r.R())if(r.wv(r.R()))ZJ(),CU(r),c={elementIndex:r.K(),
pageIndex:jp(I,r.R()),"new":{left:r.F(),top:r.w()},old:{left:da,top:ca}},c=new Y(kp,c),L.register(c),$J();else{r.vf()&&VA(r.ve());c=ch(J,dh(b));var d=LU(c,h);d&&r.py()?(ZJ(),c=MU(r,c,d,da,ca),CU(c),$J(),H&&NU([c])):(c=VN(r.serialize()),c.pageIndex=jp(I,r.R()),c.left=da,c.top=ca,c=new Y(RN,c),ZJ(),L.register(c),r.remove(),$J())}}else if(!p||q&&!m||n)c=!1,u&&(d=k.closest(".text"),x?VA(d):a.shiftKey||(r instanceof hp?(hK(d,!0),CO(v,xc(g)),c=!0):r instanceof VG||(r instanceof ZB?(r.Ei(),d.is(".element")&&
hK(d,!1),r.Vn(),CO(v,xc(g)),c=!0):hK(d)))),!(r instanceof VG)&&r instanceof ZB&&z&&(xF(r,z),(d=r.C().data("toolbar"))&&sC(d,r)),Kg(r,c);Da.removeClass("clone cutout").removeData("startLeft").removeData("startTop").removeData("li");Da.find("img").removeAttr("data-screen-width").removeAttr("data-screen-height")})})}if(a.which==M.yh||a.ctrlKey)return!0;$("#overlays .positionIndicator").remove();var e=$('\x3cdiv class\x3d"positionIndicator"\x3e\x3c/div\x3e');$("#overlays").append(e);var g=Kb,h=EU(),k=
$(a.target),l=0!==k.parents(".group").length,m=k.is(".group"),n=k.is(".chart"),p=k.is(".group .elements"),q=k.is(".chart .elements"),u=k.is(".text")||0<k.parents(".text").length,v=u?k.closest(".element"):$(this),z;l&&(z=v.data("canvaElement"),v=k.parents(".group").first());if(v.data("canvaElement")){var r=v.data("canvaElement");if(l=r.R()){if(!r.ED())return a.preventDefault(),a.stopImmediatePropagation(),!1;T.trigger("hideContextualControlsRequested");a.altKey&&(lp(),r=r.clone(),r.appendTo(l),r.lc(),
v=r.C());var x=v.hasClass("focused"),H=r.yf(),D=void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX,K=void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY;if($(document.elementFromPoint(D,K)).is(".handle.on"))return!0;if(a.shiftKey&&0===I.Ta().length||r.kc()&&!H||r.yg()&&!H)return Zb.JA(a,!0);var E=$("\x3cdiv\x3e\x3c/div\x3e"),l=Um(r.Qa());45<l&&135>=l?E.css({position:"absolute",bottom:0,left:0}):135<l&&225>=l?E.css({position:"absolute",bottom:0,right:0}):225<l&&315>=l?E.css({position:"absolute",
top:0,right:0}):E.css({position:"absolute",top:0,left:0});r.C().append(E);l=!(1===I.Ta().length&&I.Ta()[0]===r);a.shiftKey||H||!l||ph();if(r instanceof hp)l=$("#overlays .svg.text.focused"),0<l.length&&(VA(l),r.iP(),CO(v,xc(g))),l=k.siblings("image").filter(function(){return this.classList.contains("placeholder")&&this.getAttribute("xlink:href")!=M.Ho}),k.is("image.placeholder")&&k.attr("xlink:href")!=M.Ho?r.ft(k):k.is(".outline")&&1===l.length&&r.ft(l);else if(r instanceof VB)k.is(".placeholder")&&
r.tg()!==k&&r.ft(k);else if(r instanceof ZB){a=z===r;var O=z instanceof Rp,Q=!O&&r.Vc instanceof Rp,N=O&&z!==r.Vc;if(Q||N||O&&l||a)(N||Q||a)&&r.Vc instanceof Rp&&VA(r.Vc.C()),r.Ei(),r.iP(),a||!m&&!p||CO(v,xc(g))}var da=r.F(),ca=r.w(),sa=!1,Oa={},ha=kh(r),ia=!1,Da=r.C();Da.data("startLeft",da).data("startTop",ca);var Ab=0,Gb=0,qc=v.get(0).getBoundingClientRect(),je=gh(),Cd=gh(),ef=!1,Qb,Pl=!1;r.jg=!0;var rc=new mp($(document));rc.on("mousemove|touchmove",b).on("mouseup|touchend",d);return!1}}}
function MU(a,b,c,d,e){var g=(b.F()-c.rect.F())/W;b=(b.w()-c.rect.w())/W;var h=VN(a.serialize());h.pageIndex=jp(I,a.R());h.left=d;h.top=e;d=new Y(RN,h);ZJ();L.register(d);d=a.clone();a.remove();d.kc()&&YC(d);d.appendTo(c.page);d.setPosition(g,b);Jg(d);$J();return d}function LU(a,b){for(var c=0;c!=b.length;c++)if(fh(a,b[c].rect))return b[c];return null}
function OU(a,b){return I.Ta().filter(function(c){c=c.C().get(0).getBoundingClientRect();return c.left<a&&c.right>a&&c.top<b&&c.bottom>b}).sort(function(a,b){return a.K()-b.K()})}function PU(a){var b=Kb;2>I.Ta().length||(aO(a),a=I.Ta(),1<a.length?(a.forEach(function(a){a.C().removeData("toolbar")}),aK(xc(b),zc(b))):1===a.length&&($(".multipleSelectionBox").remove(),ph(),a[0].C().removeClass("multiSelected"),vN(a[0]),a[0].Xa()))}
function QU(a){function b(a,b){return a.K()-b.K()}if(2>a.length)return null;for(var c=a[0].R(),d=c.K(),e=1;e!==a.length;e++)if(!c||!a[e].R()||a[e].R()!==c)return null;var g=uF(new ZB,a);ZJ();(function(a){a.sort(b);for(var c=a[0],e=1;e!==a.length;e++){var g=a[e].K();a[e].insertAfter(c);var c=a[e],n=a[e].K();g!==n&&L.register(new Y(4,{oldElementIndex:g,elementIndex:n,pageIndex:d}))}return a})(a);g.insertBefore(a[0]);a.forEach(function(a){g.addElement(a);var b=(new gn).translate(-1*g.F(),-1*g.w());a.transform(b);
g.C().find(".elements").append(a.C())});AU(g);$J();return g}function wK(){function a(a){return a.elements&&0!==a.elements.length}function b(a){return a.kc()}function c(a){return mC(a)}var d=I.Ta();if(!(1>=d.length||0<d.filter(a).length||0<d.filter(b).length||0<d.filter(c).length)){for(var e=d[0].R(),g=1;g!==d.length;g++)if(!e||!d[g].R()||d[g].R()!==e)return;ph();(d=QU(d))&&Kg(d)}}
function eS(a,b){var c=a.C().data("toolbar"),d=a.ub();if(-1!==d)d=[a.Sb(d)];else if(a.ib()&&a.fe())d=zF(a),c&&DD(c);else return;b();ZJ();d.forEach(function(b){var c=b.index,d=a.Sb(c);b={elementIndex:a.K(),pageIndex:jp(I,a.R()),textIndex:c,"new":d,old:b};L.register(new TN(1,b))});$J();c&&DD(c)}
function jK(a){function b(a){if(0===a.Qa()){var b=a.pa();a.gb(0);a.na(c);var h=a.pa();Im(b,h)||L.register(new Y(kp,{elementIndex:a.K(),pageIndex:d,old:b.serialize(),"new":h.serialize(),proportionalSetSize:!1}))}}if(a.ib()){var c=a.l(),d=jp(I,a.R());ZJ();wF(a).forEach(b);$J()}}function kK(a){a.ib()&&(ZJ(),wF(a).forEach(function(b){eS(b,function(){a.Rq(0,"uppercase");lA(a.$a(0),!1)})}),$J())}
function lK(a){a.ib()&&(ZJ(),wF(a).forEach(function(a){eS(a,function(){a.ci(0,"left");lA(a.$a(0),!1)})}),$J())}function mK(a){a.ib()&&(ZJ(),wF(a).forEach(function(a){eS(a,function(){a.ci(0,"right");lA(a.$a(0),!1)})}),$J())}function nK(a){a.ib()&&(ZJ(),wF(a).forEach(function(a){eS(a,function(){a.ci(0,"center");lA(a.$a(0),!1)})}),$J())}
function RU(a,b,c){var d=a.ja().slice(),e=b(a),g=a.Vc;g&&(e=b(g));ZJ();b=a.ve();1===b.length&&VA(b);BU(a);WN(a);d.forEach(function(a){var b=a.F(),d=a.w();c(a,e);L.register(new Y(kp,{elementIndex:a.K(),pageIndex:jp(I,a.R()),"new":{left:a.F(),top:a.w()},old:{left:b,top:d}}))});(a=QU(d))&&vN(a);$J()}function CR(a){RU(a,function(a){return a.Yb()},function(a,c){dC(a,a.Yb()-c)})}function DR(a){RU(a,function(a){return a.Bd()},function(a,c){fC(a,c-a.Bd())})}
function ER(a){RU(a,function(a){return a.Yb()+a.dh()/2},function(a,c){var d=a.Yb()+a.dh()/2;dC(a,d-c)})}function FR(a){RU(a,function(a){return a.hc()},function(a,c){eC(a,a.hc()-c)})}function GR(a){RU(a,function(a){return a.ed()},function(a,c){gC(a,c-a.ed())})}function HR(a){RU(a,function(a){return a.hc()+a.bh()/2},function(a,c){var d=a.hc()+a.bh()/2;eC(a,d-c)})}
function JR(a){var b=a.ja().slice();ZJ();BU(a);WN(a);a=b.slice().sort(function(a,b){return a.Yb()>b.Yb()});var c=a.shift().Bd(),d=a.pop().Yb(),e=a.reduce(function(a,b){return b.dh()+a},0),g=(d-c-e)/(a.length+1),h=c;a.forEach(function(a){var b=a.F(),c=a.w();dC(a,a.Yb()-h-g);h=a.Bd();L.register(new Y(kp,{elementIndex:a.K(),pageIndex:jp(I,a.R()),"new":{left:a.F(),top:a.w()},old:{left:b,top:c}}))});(b=QU(b))&&vN(b);$J()}
function IR(a){var b=a.ja().slice();ZJ();BU(a);WN(a);a=b.slice().sort(function(a,b){return a.hc()>b.hc()});var c=a.shift().ed(),d=a.pop().hc(),e=a.reduce(function(a,b){return b.bh()+a},0),g=(d-c-e)/(a.length+1),h=c;a.forEach(function(a){var b=a.F(),c=a.w();eC(a,a.hc()-h-g);h=a.ed();L.register(new Y(kp,{elementIndex:a.K(),pageIndex:jp(I,a.R()),"new":{left:a.F(),top:a.w()},old:{left:b,top:c}}))});(b=QU(b))&&vN(b);$J()}
function WN(a){var b=[].concat(a.ja()).reverse(),c=hC(a);a.Ei();b.forEach(function(b){a.aj(b);var e=rF(c,hC(b),!0);b.insertAfter(a);b.C().insertAfter(a.C());b.Tl(e.Fb);b.setPosition(e.left,e.top);b.Sl(e.rotation)});a.remove();ph();xK(b)}function vK(){var a=I.Ta(),b;if(b=1===a.length)b=-1!==a[0].Xr().indexOf("ungroup");b&&(ph(),ZJ(),a=a[0],BU(a),WN(a),$J())}
function iU(a){function b(a){r=void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX;x=void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY;D.read(c);return!1}function c(){var a=r-k,b=x-l,c=$(".multipleSelectionBox").get(0).getBoundingClientRect(),c=ch(J,dh(c)),c=LU(c,H);if(z||Math.abs(a)>M.Dc||Math.abs(b)>M.Dc)z=!0,h.setPosition(n+a/W,p+b/W),lh(h,u,v),c&&c.page&&c.page!==h.R()&&!h.wv(h.R())?XC(J,c.page).$el.addClass("hotspotHover"):$(".page").removeClass("hotspotHover"),aK(xc(e),
zc(e))}function d(){E.off("mousemove|touchmove",b).off("mouseup|touchend",d);K.read(function(){var a=$(".multipleSelectionBox").get(0).getBoundingClientRect(),b=ch(J,dh(a));K.write(function(){var a=LU(b,H);$(".page").removeClass("hotspotHover");$("#overlays .align").removeClass("on");SU(g,!1);if(z){ZJ();if(h.wv(h.R()))g.forEach(function(a,b){a={elementIndex:a.K(),pageIndex:jp(I,a.R()),"new":{left:a.F(),top:a.w()},old:{left:q[b].left,top:q[b].top}};L.register(new Y(kp,a))});else if(a){for(var c=[],
d=g.length-1;0<=d;d--){var e=g[d];if(e.py()){var k=e.C().get(0).getBoundingClientRect(),k=ch(J,dh(k)),e=MU(e,k,a,q[d].left,q[d].top);c.push(e)}}ph();xK(c)}else g.forEach(function(a,b){var c=VN(a.serialize());c.left=q[b].left;c.top=q[b].top;c.pageIndex=jp(I,a.R());L.register(new Y(RN,c));a.remove()}),$(".multipleSelectionBox").remove();$J()}})})}var e=Kb;if(a.which==M.yh||a.ctrlKey)return!0;var g=I.Ta().sort(function(a,b){return b.K()-a.K()}),h=new Al(g),k=void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX,
l=void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY,m=OU(k,l)[0];if(a.shiftKey&&m)return PU(m),!1;SU(g,!0);var n=h.F(),p=h.w(),q=g.map(function(a){return{left:a.F(),top:a.w()}}),u={},v=kh(g),z=!1,r=0,x=0,H=EU(),D=gh(),K=gh(),E=new mp($(document));E.on("mousemove|touchmove",b).on("mouseup|touchend",d);return!1}$(function(){ac=new YO;ac.on("nodeInserted",TU).on("nodeInserted",UU).on("nodeRemoved",UU).on("characterDataModified",UU)});
function cK(){if(1===I.Ta().length){var a=I.Ta()[0];if(a.ib()){var b=a.ub(),c;a:{for(c=a.ub()+1;c!=a.elements.length;c++)if(yF(a,c))break a;b:{for(c=0;c!=a.elements.length;c++)if(yF(a,c))break b;c=-1}}-1!==c&&c!==b&&(b=a.$a(c),c=b.data("canvaElement"))&&(VA(a.ve()),a.Ei(),hK(b),xF(a,c),a.Xa())}}}
function hK(a,b){if(!a.hasClass("focused")){var c=a.data("canvaElement");if(c&&c.Uo()){var d=a.parents(".page").hasClass("dark");d&&a.addClass("dark");Tb&&(VU(Tb),WU(Tb));var e=!!a.parents(".page").length;if(a.is(".svg .text"))d=a.parents(".element").first(),e&&a.data("precedingElement",d.prevAll(".element").first()),a.addClass("focused svg element"),d.appendTo("#overlays"),c.setPosition(),ip(c);else if(a.is(".group .text")){var g=a.parents(".group").first();e&&(e=g.prevAll(".element").first(),a.data("precedingElement",
e),g.data("precedingElement",e));a.addClass("focused");d&&g.find(".text").addClass("dark");g.appendTo("#overlays");g.data("canvaElement").setPosition()}else e&&a.data("precedingElement",a.prevAll(".element").first()),a.appendTo("#overlays").addClass("focused"),c.setPosition();d=c.ub();a.removeClass("focused");c=c.Sb(d);a.data("oldTextData",c);a.addClass("focused");mA(a);c=a.children(".inner");c.attr("contentEditable","true");c.focus();c.off("paste").on("paste",XU);$O(ac);ac.observe(a);WR.WY(a);d=
lc(Kb);a=a.data("placeholderText")||d.Df();a=c.text()==a;(b||a)&&FA(c)}}}function FA(a,b){window.setTimeout(function(){var c,d;window.getSelection&&document.createRange?(d=document.createRange(),d.selectNodeContents(a.get(0)),c=window.getSelection(),c.removeAllRanges(),c.addRange(d)):document.body.createTextRange&&(d=document.body.createTextRange(),d.moveToElementText(a.get(0)),d.select());b&&b()},1)}
function XU(a){if(document.queryCommandSupported("ms-pasteContentOnly"))document.execCommand("ms-pasteContentOnly");else if(document.queryCommandSupported("insertHTML")&&a.originalEvent.clipboardData){var b=a.originalEvent.clipboardData.getData("text/plain"),b=_.escape(b).replace(/\r?\n/g,"\x3cbr\x3e").replace(/ {2}/g," \x26nbsp;");document.execCommand("insertHTML",!1,b)}else throw Error("Beware! Unsupported browser. Sneaking around.");a.preventDefault()}
function TU(a){function b(a){var b=a.attr("style");b&&-1<b.indexOf("Glegoo, Helvetica, Arial, sans-serif")&&a.attr("style","")}a=$(a.target);b(a);a.children().each(function(){b($(this))})}var YU=!1;
function UU(a){var b=$(this),c=b.data("textChangeCount")||0;b.data("textChangeCount",++c);if(YU)YU=!1;else{var c=b.data("designObject")||null,d=b.data("Canva.textElementUpdated:lastCalledAt")||0;5<a.timeStamp-d&&(b.data("Canva.textElementUpdated:lastCalledAt",a.timeStamp),c&&b.is(".svg")&&oD(c));a=/[\uE000-\uF8FF]/g;c=b.html();a.test(c)&&(YU=!0,b.html(c.replace(a,"�")))}}
var WR=function(){function a(a){a.get(0)===e&&(0!==d&&(window.cancelAnimationFrame(d),d=0),$(e).off("keydown mousemove",b),e=null,h=0)}function b(){g=Date.now();0===d&&(d=window.requestAnimationFrame(c))}function c(){var a=Date.now();if(5E3<a-g)d=0;else if(e){if(100<a-h){var b=jQuery.data(e,"toolbar");b&&DD(b);h=a}d=window.requestAnimationFrame(c)}}var d=0,e=null,g=0,h=0;return{WY:function(c){c=c.get(0);c!==e&&(null!==e&&a($(e)),e=c,b(),$(e).on("keydown mousemove",b))},ZY:a}}();
function VA(a){var b=a.data("canvaElement");if(b&&a.is(".focused")){a.data("textChangeCount",0);var c=a.data("precedingElement"),d=a.children(".inner"),e=b.R()||I.Aa(),g=XC(J,e),h=b.ub(),k=!1,l=!a.parents(".page").length;WR.ZY(a);Tb&&ZU(Tb);a.removeClass("dark");if(a.is(".svg.text"))k=a.parents(".element").first(),l&&(c&&0<c.length?k.insertAfter(c):$U(g,k)),a.removeData("precedingElement").removeClass("focused svg element"),d.attr("contentEditable","false"),ip(b),Wz(b,h),k=!0,(c=b.C().data("toolbar"))&&
c.Vn("font");else if(a.is(".group .text")){var m=a.parents(".group").first();m.find(".text").removeClass("dark");var n=m.data("canvaElement"),c=m.data("precedingElement");l&&(c&&1===c.length&&0>=m.has(c[0]).length?m.insertAfter(c):$U(g,m));m.removeData("precedingElement");a.removeData("precedingElement");a.text().match(/^\s*$/)&&n?((c=a.data("oldTextData"))&&b.ej(h,c),lR(n)):(Wz(b,h),k=!0);n.Ei();d.attr("contentEditable","false");n.lc();(c=n.C().data("toolbar"))&&c.Vn("font")}else 0<a.length&&(l&&
(c&&0<c.length?a.insertAfter(c):$U(g,a)),a.removeClass("focused"),d.attr("contentEditable","false"),a.text().match(/^\s*$/)?((c=a.data("oldTextData"))&&b.ej(h,c),ZJ(),VM(b),b.remove(),$J()):(Wz(b,h),k=!0));d.off("paste",XU);$O(ac);b.lc();$("#null").focus();window.setTimeout(function(){$("#null").blur()},0);if(k){if(d=a.data("oldTextData"))k=b.Sb(h),e={elementIndex:b.K(),pageIndex:jp(I,e),textIndex:h,"new":k,old:d},e=new TN(1,e),ZJ(),L.register(e),b.nI=!0,$J();b=I.pb();e=a.text();AT(b)&&BT(b,CT(b,
e)?"":e)}a.removeData("oldTextData")}}
function jU(a){var b;if(/touch/gi.test(a.type)||!$(this).hasClass("multipleSelectionBox")){var c=$(this).data("element");if(!c)return;b=c.get(0);if(b&&(c=c.data("canvaElement")))if(c instanceof Rp)a.target=b;else{$(this).css("visibility","hidden");var c=document.elementFromPoint(void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX,void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY),d=$(c).closest(".element").get(0);d?(a.target=c,b=d):a.target=b;$(this).css("visibility","")}else return;
hU.call(b,a)}return!1}function gU(a){var b=$(this).data("element"),c=$(b).data("canvaElement");if(!c||a.metaKey)return!1;b.hasClass("text")?hK(b):c.um?XR(c):c.Zx()&&(c.Au=!c.Au,c.Xa());return!1}var aV=!1;
function Kg(a,b){function c(a){var b=a.C();a.oh();b.is(".text.focused")&&VA(b);b.addClass("multiSelected")}aV=!1;var d=Kb,e=a.C(),g=I.Ta();if(a.Uo()){var h=!1;g.forEach(function(b){b.R()===a.R()&&(h=!0)});if(!(0<g.length)||h){if(mC(a))if(e=e.parents(".group"),1===e.length&&e.data("canvaElement"))a=e.data("canvaElement"),vF(a),a.Ei(),a.Vn();else return;a.yf()?a.ib()&&!b&&UR(a,xc(d)):(a.mk(!0),0===g.length?(bV(e),!b&&UR(a,xc(d))):mC(a)||(g.forEach(c),e.addClass("multiSelected"),aK(xc(d),zc(d))))}}}
function UR(a,b){CO(a.C(),b)}function vN(a){var b=I.Ta();if(1!=b.length||-1==b.indexOf(a))ph(),Kg(a)}function zK(a){var b=I.Ta(),c=I.Aa(),d=c.ja().length-1;if(0!==a&&1===b.length&&(b=c.elements.indexOf(b[0]),-1!==b)){b+=a;0>b&&(b=d);b>d&&(b=0);var e=c.elements[b]||null;e&&(e.kc()&&(0<a?(b+=1,b>d&&(b=0)):(--b,0>b&&(b=d))),(a=c.elements[b]||null)&&vN(a))}}var cV=_.template('\x3cdiv class\x3d"selectionBox cornerHandles"\x3e\x3cdiv class\x3d"inner"\x3e\x3c/div\x3e\x3ca class\x3d"handle tl" href\x3d"#" title\x3d"\x3c%- resize %\x3e"\x3e\x3c/a\x3e\x3ca class\x3d"handle t" href\x3d"#" title\x3d"\x3c%- stretch %\x3e"\x3e\x3c/a\x3e\x3ca class\x3d"handle tr" href\x3d"#" title\x3d"\x3c%- resize %\x3e"\x3e\x3c/a\x3e\x3ca class\x3d"handle l" href\x3d"#" title\x3d"\x3c%- stretch %\x3e"\x3e\x3c/a\x3e\x3ca class\x3d"handle r" href\x3d"#" title\x3d"\x3c%- stretch %\x3e"\x3e\x3c/a\x3e\x3ca class\x3d"handle br" href\x3d"#" title\x3d"\x3c%- resize %\x3e"\x3e\x3c/a\x3e\x3ca class\x3d"handle b" href\x3d"#" title\x3d"\x3c%- stretch %\x3e"\x3e\x3c/a\x3e\x3ca class\x3d"handle bl" href\x3d"#" title\x3d"\x3c%- resize %\x3e"\x3e\x3c/a\x3e\x3ca class\x3d"rotate" href\x3d"#" title\x3d"\x3c%- rotate %\x3e"\x3e\x3c/a\x3e\x3ca class\x3d"move" href\x3d"#"\x3e\x3c/a\x3e\x3ca class\x3d"removeWatermark" href\x3d"#"\x3e\x3c%- removeWatermark %\x3e\x3c/a\x3e\x3c/div\x3e');
function bV(a){function b(){e.removeClass("initialHover");e.off("mousemove",b)}var c=Kb,d=$("#overlays"),e=a.data("selectionBox"),g=a.data("canvaElement")||null;a.addClass("selected");e||(e=$(cV({resize:zc(c).resize(),stretch:zc(c).stretch(),rotate:zc(c).rotate(),removeWatermark:zc(c).Y7()})),e.data("element",a).appendTo(d),a.hasClass("text")&&e.addClass("text"),a.hasClass("svg")&&e.addClass("svg"),a.hasClass("graphic")&&e.addClass("graphic"),a.hasClass("unapproved")&&e.addClass("unapproved"),a.hasClass("group")&&
e.addClass("group"),a.data("selectionBox",e));g&&(Ib.H.get(gg)&&(KU(g)?(e.addClass("hasWatermark"),e.addClass("initialHover"),e.on("mousemove",b)):e.removeClass("hasWatermark")),g.Xa())}function aO(a){var b=a.C(),c=b.find(".text.focused");a.mk(!1);a.oh();b.removeClass("selected").removeClass("multiSelected");b.is(".text.focused")?VA(b):a instanceof ZB?1===c.length&&VA(c):a instanceof hp&&1===c.length&&VA(c);a.Ei();(b=a.R())&&!a.wv(b)&&(VM(a),a.remove())}function dV(a){aO(a);Kg(a)}
function xK(a){for(var b=0;b!==a.length;b++)if(!a[b].Uo())return;if(1===a.length)Kg(a[0]);else for(b=0;b!==a.length;b++)Kg(a[b],!0)}
function NU(a){function b(a){!1===aV?c():(a=d.indexOf(a),-1!==a&&d.splice(a,1),0===d.length&&(c(),xK(e)))}function c(){T.off("elementLoaded",b);T.off("elementLoadingError",b)}var d=a.filter(function(a){return a.qv()}),e=a.filter(function(b){return 0===a.filter(function(a){return a.ib()&&-1!==a.elements.indexOf(b)}).length});0<d.length?(aV=!0,T.on("elementLoaded",b),T.on("elementLoadingError",b)):xK(e)}
function ph(){T.trigger("hideContextualControlsRequested");I.Ta().forEach(aO);$(".multipleSelectionBox").remove();$(document.activeElement).is("input, textarea")||window.getSelection().removeAllRanges()}
function dK(a){var b=ro(),c=b.elements[0],d=-1;b.hm&&0===b.hm.elementIndex&&(d=b.hm.filterableIndex);var e=-1;b.jm&&0===b.jm.elementIndex&&(e=b.jm.textIndex);var g=jp(I,a.R()),h=a.K();if(b&&c&&b.uv){ZJ();L.register(new Y(kp,{elementIndex:h,pageIndex:g,"new":{transparency:c.Fb},old:{transparency:a.Fb}}));a.Tl(c.Fb);c.lM()&&a.lM()&&(L.register(new Y(kp,{elementIndex:h,pageIndex:g,"new":{border:c.Nh()},old:{border:a.Nh()}})),VD(a,c.Nh()));c.oM()&&a.oM()&&(L.register(new Y(kp,{elementIndex:h,pageIndex:g,
"new":{padding:c.padding},old:{padding:a.padding}})),a.VB(c.padding));c.Wz()&&a.Wz()&&(L.register(new Y(kp,{elementIndex:h,pageIndex:g,"new":{spacing:c.ce()},old:{spacing:a.ce()}})),a.Qq(c.ce()));if(c.Kp()&&a.Kp()){var b=a.xz(),k=c.vp(d),d=a.yd();if(k&&d){var k=WC(k),l=WC(d),h=new Y(11,{elementIndex:h,pageIndex:g,placeholderIndex:b,"new":{filter:k},old:{filter:l}});KI(d,k);L.register(h)}}h=c.zd();b=a.zd();0!==h&&h===b&&c.Za().forEach(function(b,c){if(null!==b){var d={index:c},e={index:c};a instanceof
VB?d.placementData=a.kl(c):d.color=a.Za()[c];a.Ud(c,b);a instanceof VB?e.placementData=a.kl(c):e.color=a.Za()[c];b=new Y(WM,{elementIndex:a.K(),pageIndex:g,old:d,"new":e});L.register(b)}});c.fe()&&a.fe()&&(h=a.ub(),-1!==e&&-1!==h&&(b=a.Sb(h),(c=c.Sb(e))&&b&&(a.eo(h,c.bold),a.lk(h,c.fontFamily),c.fontMedia&&a.Mq(h,fn(c.fontMedia)),a.ke(h,c.fontSize),a.ho(h,c.italic),a.ci(h,c.justification),a.Rw(h,c.letterSpacing),a.Sw(h,c.lineHeight),a.Rq(h,c.textTransform),a.setColor(h,uh(c.color))),c=a.Sb(h),c=new TN(1,
{elementIndex:a.K(),pageIndex:g,textIndex:h,"new":c,old:b}),L.register(c)));$J();a.Xa()}}function tK(a){void 0===a&&(a=I.Ta());if(0<a.length){var b=a.map(function(a){return a.clone()});qo(b,a[a.length-1])}}
function uK(){function a(a){if(a.Mj()){var b=a.Kb();b&&!hq(vb,b)&&tE(Bb,b.id,(new ZC).xk(b.version)).then(function(b){Yg(vb,b.u(),b.Ha().getVersion(),b.Ha().nc());a.ww()}).catch($.noop)}}function b(b){b.ib()?b.ja().forEach(a):a(b);e?(fC(b,M.XC),gC(b,M.XC),b.insertAfter(e),e=b):b.appendTo(d);h++;h===g.length&&(ZJ(),g.forEach(Jg),ph(),$J(),NU(g),tK(g))}var c=ro();if(c&&!c.uv){var d=I.Aa(),e=c.hw;!e||-1<d.elements.indexOf(e)||(e=null);e&&e.ib()&&(e=JF(e));var g=c.elements.filter(function(a){return!!a}),
h=0;g.forEach(b)}}
function nU(a){function b(a){p=void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX;q=void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY;n.write(c);return!1}function c(){var a=Pn(e.Qa()),b=(p-g)*Math.cos(a)-(h-q)*Math.sin(a)+g-g,a=-1*(h-q)*Math.cos(a)-(p-g)*Math.sin(a)+h-h;if(m||Math.abs(b)>M.Dc||Math.abs(a)>M.Dc)m=!0,b/=W,a/=W,e.OP(k+b,l+a),e.Xa()}function d(){u.off("mousemove|touchmove",b).off("mouseup|touchend",d);e.jg=!1}if(a.which==M.yh||a.ctrlKey||$(a.target).is(".handle"))return!0;var e=
$(this).data("canvaElement");if(!e)return!0;var g=void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX,h=void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY;a=e.Uf();var k=a.F(),l=a.w(),m=!1,n=gh(),p=0,q=0;e.jg=!0;var u=new mp($(document));u.on("mousemove|touchmove",b).on("mouseup|touchend",d);return!1}
function oU(a){function b(a){da=a.shiftKey?!1:!0;Q=void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX;N=void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY;ca.read(c);return!1}function c(){u=Km(dh($(".cropControls").get(0).getBoundingClientRect()));ca.write(function(){var a,b,c=0,d=0;b=a=0;var k=EP({x:Q,y:N},q),u=Sn(n,p,Q,N),ca=Math.cos(Pn(k-v))*u;da&&(k=v,u=ca);ca=KB(k,g.Qa());switch(XS(e.get(0))){case 2:c=ca-FP("TR");b=u*Math.cos(Pn(c));a=u*Math.sin(Pn(c));da&&(b=a/m);c=
z;d=r-b;a=x+a;b=H+b;break;case 7:c=ca-FP("BR");b=u*Math.sin(Pn(c));a=u*Math.cos(Pn(c));da&&(b=a/m);c=z;d=r;a=x+a;b=H+b;break;case 5:c=ca-FP("BL");b=u*Math.cos(Pn(c));a=u*Math.sin(Pn(c));da&&(b=a/m);c=z-a;d=r;a=x+a;b=H+b;break;case 0:c=ca-FP("TL"),b=u*Math.sin(Pn(c)),a=u*Math.cos(Pn(c)),da&&(b=a/m),c=z-a,d=r-b,a=x+a,b=H+b}var u=l.F()+l.l(),ca=l.w()+l.o(),k=Math.floor(d)>l.w(),sa=Math.floor(c)>l.F(),Oa=Math.ceil(c+a)<u,Qb=Math.ceil(d+b)<ca;k&&(l.w(),E===l.w()?(d=E,b=O,da&&(c=D,a=K)):(d=l.w(),b=O+(E-
d),da&&(a=b*m,c=D,Math.ceil(c+a)<u&&(a=u,b=a/m))));sa&&(l.F(),D===l.F()?(c=D,a=K,da&&(b=O,d=E)):(c=l.F(),a=K+(D-c),da&&(b=a/m,d=E,Math.ceil(d+b)<ca&&(b=ca,a=b*m))));Oa&&(D+K===u?(a=K,c=D,da&&(d=E,b=O)):(a=u-c,da&&(b=a/m,d=E)));Qb&&(E+O===ca?(b=O,d=E,da&&(c=D,a=K)):(b=ca-d,da&&(a=b*m,c=D)));isNaN(1*b)||isNaN(1*a)||isNaN(1*d)||isNaN(1*c)||(b<ca&&(d=E,c=D,b=ca,da&&(a=b*m)),a<u&&(c=D,d=E,a=u,da&&(b=a/m)),k=Math.floor(d)>l.w(),sa=Math.floor(c)>l.F(),Oa=Math.ceil(c+a)<u,Qb=Math.ceil(d+b)<ca,k||sa||Oa||
Qb||(h.gb(c/W).ab(d/W).na(a/W).ca(b/W),g.Ql(h),g.Xa(),D=c,E=d,K=a,O=b))})}function d(){Oa.off("mousemove|touchmove",b).off("mouseup|touchend",d);sa.write(function(){e.removeClass("on");g.jg=!1})}var e=$(this),g=I.Ta()[0],h=g.Uf(),k=g.Uf().scale(W),l=g.cd().scale(W);l.gb(0).ab(0);var m=k.Zg(),n=void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX,p=void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY,q={x:n,y:p};a=Km(dh(e.get(0).getBoundingClientRect()));var u=Km(dh($(".cropControls").get(0).getBoundingClientRect())),
v=EP(a,u),z=k.F(),r=k.w(),x=k.l(),H=k.o(),D=k.F(),K=k.l(),E=k.w(),O=k.o(),Q=0,N=0,da=!0,ca=gh(),sa=gh();g.jg=!0;var Oa=new mp($(document));Oa.on("mousemove|touchmove",b).on("mouseup|touchend",d);return!1}
function pU(a){function b(a){H=void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX;D=void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY;K.read(c);return!1}function c(){var a,b,c,d,E=0,O=0,ha=h.clone(),ia=Sn(l,m,H,D),E=KB(EP({x:H,y:D},n),e.Qa()),Da=0;switch(XS(g.get(0))){case 2:Da=E-FP("TR");O=ia*Math.cos(Pn(Da));E=ia*Math.sin(Pn(Da));a=h.F();c=h.w()-O;b=h.l()+E;d=h.o()+O;break;case 7:Da=E-FP("BR");O=ia*Math.sin(Pn(Da));E=ia*Math.cos(Pn(Da));a=h.F();c=h.w();b=h.l()+E;d=h.o()+
O;break;case 5:Da=E-FP("BL");E=ia*Math.sin(Pn(Da));O=ia*Math.cos(Pn(Da));a=h.F()-E;c=h.w();b=h.l()+E;d=h.o()+O;break;case 0:Da=E-FP("TL"),O=ia*Math.sin(Pn(Da)),E=ia*Math.cos(Pn(Da)),a=h.F()-E,c=h.w()-O,b=h.l()+E,d=h.o()+O}ia=k.w();c<ia&&(r===ia?(c=r,d=x):(c=ia,d=x+(r-c)));ia=k.F();a<ia&&(v===ia?(a=v,b=z):(a=ia,b=z+(v-a)));ia=k.o()+k.w();c+d>ia&&(r+x===ia?(d=x,c=r):d=ia-c);ia=k.l()+k.F();a+b>ia&&(v+z===ia?(b=z,a=v):b=ia-a);20>b?b=20:20>d?d=20:isNaN(1*d)||isNaN(1*b)||isNaN(1*c)||isNaN(1*a)||(ha.gb(a).ab(c).na(b).ca(d),
v=a,r=c,z=b,x=d,K.write(function(){zl(e,ha.scale(1/W));u&&lh(u,p,q);e.Xa()}))}function d(){O.off("mousemove|touchmove",b).off("mouseup|touchend",d);E.write(function(){$("#overlays .align").removeClass("on");g.removeClass("on");e.jg=!1})}var e=I.Ta()[0],g=$(this);e.Xa();var h=e.cd();h.scale(W);var k=e.Uf();k.scale(W).translate(h.F(),h.w());var l=void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX,m=void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY,n={x:l,y:m},p={},q=kh(e),
u=e instanceof RB?new yl(e):null,v=h.F(),z=h.l(),r=h.w(),x=h.o(),H=0,D=0,K=gh(),E=gh();e.jg=!0;var O=new mp($(document));O.on("mousemove|touchmove",b).on("mouseup|touchend",d);return!1}
function mU(a){function b(a){var b=(void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX)-n;a=(void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY)-p;var d=Math.sqrt(Math.pow(q+b,2)+Math.pow(u+a,2));E=e(H);10>q+b||10>u+a||(D=d/v,c(),x.css("-webkit-transform","scale("+D+")").css("transform","scale("+D+")"))}function c(){var a=$("#overlays").offset();K.css("top",E.top-a.top+"px").css("left",E.left-a.left+"px").css("width",E.width+"px").css("height",E.height+"px")}function d(){N.off("mousemove|touchmove",
b).off("mouseup|touchend",d);SU(z,!1);k();x.remove();h();K.remove()}function e(a){var b=Infinity,c=Infinity,d=0,e=0;a.each(function(a,g){a=g.getBoundingClientRect();a.top<b&&(b=a.top);a.left<c&&(c=a.left);a.bottom>e&&(e=a.bottom);a.right>d&&(d=a.right)});return{top:b,left:c,right:d,bottom:e,width:d-c,height:e-b}}function g(){H=$($(".multiSelected").map(function(a){$(this).data("multi-id",a);return this})).clone(!0).off();H.each(function(){$(this).removeAttr("id");$(this).find("*").removeAttr("id")});
H.removeClass(".multiSelected");x=$('\x3cdiv class\x3d"ghost element"\x3e\x3c/div\x3e');$(".multipleSelectionBox").css("visibility","hidden");$(".multiSelected").css("opacity","0");H.appendTo(x);var a=I.Ta()[0].C().parent(".elements");x.appendTo(a);m.hasClass("br")?x.addClass("fixTopLeft"):m.hasClass("bl")?x.addClass("fixTopRight"):m.hasClass("tr")?x.addClass("fixBottomLeft"):m.hasClass("tl")&&x.addClass("fixBottomRight")}function h(){$(".multipleSelectionBox").css("visibility","visible");$(".multiSelected").each(function(){var a=
$(this).data("canvaElement");$(this).css("opacity",1-a.Fb/100)})}function k(){var a=x.get(0).getBoundingClientRect(),b=a.left,c=a.top;ZJ();H.each(function(){function a(){0==v&&h.setPosition(r/W,u/W)}function d(){var a=h.pa();if(!Im(n,a)){var b=n.serialize(),a=a.serialize();h.Xz()&&(b.transformDependentData=p,a.transformDependentData=h.Mz());b={elementIndex:h.K(),pageIndex:q,old:b,"new":a};L.register(new Y(kp,b))}}var e=$(this).data("multi-id"),g=$(".multiSelected").filter(function(){return $(this).data("multi-id")==
e}).first(),h=g.data("canvaElement"),k=g.get(0).getBoundingClientRect(),m=$(this).get(0).getBoundingClientRect(),n=h.pa(),p=h.Xz()?h.Mz():null,q=jp(I,h.R()),g=(m.right-m.left)/(k.right-k.left),k=(m.bottom-m.top)/(k.bottom-k.top),r=m.left-b+Q,u=m.top-c+O,v=h.Qa();$(this).remove();if(h instanceof Rp){var m=h.Qc(0),m=parseFloat(parseFloat(m*D)),z=h.l()*g,k=h.Sb(0),g=h.wd;h.wd=!1;h.ke(0,m);h.na(z);h.ca();h.Ya();a();m=h.Sb(0);m={elementIndex:h.K(),pageIndex:q,textIndex:0,"new":m,old:k};L.register(new TN(1,
m));d();g&&UD(h)}else h.setSize(h.l()*g,h.o()*k),a(),d();h.Ya();aK(xc(l),zc(l))});$J()}var l=Kb,m=$(this),n=void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX,p=void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY,q=$(".multipleSelectionBox").width(),u=$(".multipleSelectionBox").height(),v=Math.sqrt(Math.pow(q,2)+Math.pow(u,2)),z=I.Ta();if(!(0>=z.length)){a=z[0].R();for(var r=0;r!==z.length;r++)if(z[r].R()!==a)return;m.addClass("on");T.trigger("hideContextualControlsRequested");
SU(z,!0);var x,H,D=1,K=$('\x3cdiv id\x3d"ghostSelectionBox" class\x3d"cornerHandles"\x3e\x3cdiv class\x3d"inner"\x3e\x3c/div\x3e\x3ca class\x3d"handle tl"\x3e\x3c/a\x3e\x3ca class\x3d"handle tr"\x3e\x3c/a\x3e\x3ca class\x3d"handle br"\x3e\x3c/a\x3e\x3ca class\x3d"handle bl"\x3e\x3c/a\x3e\x3c/div\x3e');g();var E=e(H),r=XC(J,w(a));a=r.$el.offset().top;var r=r.$el.offset().left,O=E.top-a,Q=E.left-r;x.css("left",Q+"px").css("top",O+"px");H.each(function(a,b){hh(b,{ki:-Q,li:-O},!0)});$("#overlays").append(K);
c();var N=new mp($(document));N.on("mousemove|touchmove",b).on("mouseup|touchend",d);return!1}}
function lU(a){function b(a){var b=(g||0)+Math.sqrt(Math.pow(void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX,2)+Math.pow(void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY,2))-h;0<b?e.VB(b/W):e.VB();e.Xa();a.preventDefault();a.stopPropagation();return!1}function c(){k.off("mousemove|touchmove",b).off("mouseup|touchend",c);e.Sj&&e.Sj();e.jg=!1;var a={elementIndex:e.K(),pageIndex:jp(I,e.R()),"new":{padding:e.padding},old:{padding:g}};L.register(new Y(kp,a))}var d=$(this);
d.addClass("on");var e=d.parents(".selectionBox").data("element").data("canvaElement");if(e){var g=e.padding,h=Math.sqrt(Math.pow(void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX,2)+Math.pow(void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY,2));e.jg=!0;var k=new mp($(document));k.on("mousemove|touchmove",b).on("mouseup|touchend",c)}}
function kU(a){function b(a){Wq=k instanceof hp||k instanceof TB?D:k.ib()?D:a.shiftKey?!D:D;qm=void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX;rm=void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY;YN.read(c);return!1}function c(){wq=np(k);var a=EP({x:qm,y:rm},H),b=Sn(r,x,qm,rm),c=Math.cos(Pn(a-PL))*b,d=0,g=0,l=0;Wq&&(a=PL,b=c);if(!(SL&&3>Math.abs(RL-qm)||TL&&3>Math.abs(QL-rm))){SL=TL=!1;var m=XS(e.get(0)),n,D,pf=!1,a=KB(a,k.Qa());switch(m){case 4:d=c;n=qc;D=ia;break;case 3:d=
c;n=ia;D=qc;break;case 1:g=c;n=Ab;D=Oa;break;case 6:g=c;n=Oa;D=Ab;break;case 2:pf=!0;n=Gb;D=ha;l=a-FP("TR");d=b*Math.sin(Pn(l));g=b*Math.cos(Pn(l));break;case 7:pf=!0;n=sa;D=Da;l=a-FP("BR");g=b*Math.sin(Pn(l));d=b*Math.cos(Pn(l));break;case 5:pf=!0;n=ha;D=Gb;l=a-FP("BL");d=b*Math.sin(Pn(l));g=b*Math.cos(Pn(l));break;case 0:pf=!0,n=Da,D=sa,l=a-FP("TL"),g=b*Math.sin(Pn(l)),d=b*Math.cos(Pn(l))}k instanceof Rp&&(3===m?(n=ha,D=qc,IB(k)&&(n=Cd),JB(k)&&(n=Da)):4===m&&(n=sa,D=ia,IB(k)&&(n=je),JB(k)&&(n=Gb)));
var sm=n.get(0).getBoundingClientRect(),ZN=Q.scrollLeft,$N=Q.scrollTop;Wq&&pf&&(0===d?d=g*z:g=d/z);var hz;hz=0===d?k.l():pf?Math.max(u+d,E)/W:Math.max(u+d,K*W,ef)/W;var iz;iz=0===g?k.o():pf?Math.max(v+g,O)/W:Math.max(v+g,K*W,Qb)/W;k.elements&&0!==k.elements.length||lh(k,t6,u6,{d:!0,ql:!0,r:!0,M9:!0},Wq);c=$("#overlays").get(0).getBoundingClientRect();D=D.get(0).getBoundingClientRect();a=D.left-c.left;c=D.top-c.top;D.left<wq.x&&ca.addClass("positionIndicatorScalingFromLeft");D.top>wq.y&&ca.addClass("positionIndicatorScalingFromBottom");
ca.addClass("positionIndicatorShowing").addClass("positionIndicatorScaling").css("transform","translate("+a+"px,"+c+"px)").html(hz.toFixed(0)+" × "+iz.toFixed(0));YN.write(function(){jz=pf;k.setSize(hz,iz,jz);var a=n.get(0).getBoundingClientRect(),b=$N-da,c=ZN-N;da=$N;N=ZN;Pl+=sm.top-a.top-b;rc+=sm.left-a.left-c;a=k;b=(q+Pl)/W;cC(a,(p+rc)/W);kC(a,b);k instanceof Rp&&0!==k.Qa()?(k.na(),k.lc()):k.Ya();eV(k);(a=h.data("toolbar"))&&k.ib()&&k.fe()&&DD(a)});RL=qm;QL=rm}}function d(){sm.off("mousemove|touchmove",
b).off("mouseup|touchend",d);T8.write(function(){ca.remove();$("#overlays .align").removeClass("on");e.removeClass("on");k instanceof Rp?window.setTimeout(function(){k.Sj();lA(h,!0);k.jg=!1},0):k.jg=!1;var a=k.pa();if(!Im(l,a)){ZJ();CU(k);var b=l.serialize(),a=a.serialize();k.Xz()&&(b.transformDependentData=m,a.transformDependentData=k.Mz());b={elementIndex:k.K(),pageIndex:jp(I,k.R()),old:b,"new":a,proportionalSetSize:jz};L.register(new Y(kp,b));n&&(b={elementIndex:k.K(),pageIndex:jp(I,k.R()),old:n,
"new":k.Sb(k.ub()),textIndex:k.ub()},L.register(new TN(1,b)));$J()}sa.remove();Oa.remove();ha.remove();ia.remove();Da.remove();Ab.remove();Gb.remove();qc.remove();je.remove();Cd.remove()})}var e=$(this),g=Kb,h=e.parents(".selectionBox").data("element"),k=h.data("canvaElement");if(k){e.addClass("on");var l=k.pa(),m=k.Xz()?k.Mz():null,n=k instanceof Rp&&k.wd?k.Sb(k.ub()):null,p=Math.round(k.left*W),q=Math.round(k.top*W),u=lC(k),v=op(k),z=u/v,r=void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX,
x=void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY,H={x:r,y:x},D=!(k instanceof Rp||k instanceof VB),K=M.QI;k instanceof ZB&&(K=M.Tx);k instanceof VG&&(K=M.z_);a=(new V(0,0,K,K)).scale(W);a=Pm(new V(0,0,z,1),a);var E=a.l(),O=a.o(),Q=$("#canvaDocument").get(0),N=Q.scrollLeft,da=Q.scrollTop,ca=$('\x3cdiv class\x3d"positionIndicator"\x3e\x3c/div\x3e');$("#overlays").append(ca);T.trigger("hideContextualControlsRequested");lp();k.ib()&&k.fe()&&(k.Vn(),CO(h,xc(g)));var sa=$("\x3cdiv\x3e\x3c/div\x3e");
sa.css({position:"absolute",top:0,left:0});k.C().append(sa);var Oa=$("\x3cdiv\x3e\x3c/div\x3e");Oa.css({position:"absolute",top:0,left:"50%"});k.C().append(Oa);var ha=$("\x3cdiv\x3e\x3c/div\x3e");ha.css({position:"absolute",top:0,right:0});k.C().append(ha);var ia=$("\x3cdiv\x3e\x3c/div\x3e");ia.css({position:"absolute",top:"50%",right:0});k.C().append(ia);var Da=$("\x3cdiv\x3e\x3c/div\x3e");Da.css({position:"absolute",bottom:0,right:0});k.C().append(Da);var Ab=$("\x3cdiv\x3e\x3c/div\x3e");Ab.css({position:"absolute",
bottom:0,left:"50%"});k.C().append(Ab);var Gb=$("\x3cdiv\x3e\x3c/div\x3e");Gb.css({position:"absolute",bottom:0,left:0});k.C().append(Gb);var qc=$("\x3cdiv\x3e\x3c/div\x3e");qc.css({position:"absolute",top:"50%",left:0});k.C().append(qc);var je=$("\x3cdiv\x3e\x3c/div\x3e");je.css({position:"absolute",top:"50%",left:0});k.C().append(je);var Cd=$("\x3cdiv\x3e\x3c/div\x3e");Cd.css({position:"absolute",top:"50%",right:0});k.C().append(Cd);var ef=0,Qb=0;k instanceof hp&&(g=k.sb?$.extend(!0,{},k.sb):null)&&
(ef=(g.left+g.right)*zD(k).scale*W,Qb=(g.top+g.bottom)*zD(k).scale*W);var Pl=0,rc=0,wq=np(k),g=Km(dh(e.get(0).getBoundingClientRect())),PL=EP(g,wq),QL=x,RL=r,SL=!1,TL=!1,t6={},u6=kh(k),qm=0,rm=0,Wq=D,jz=!1,YN=gh(),T8=gh();k.jg=!0;var sm=new mp($(document));sm.on("mousemove|touchmove",b).on("mouseup|touchend",d);return!1}}
function eV(a){if(a instanceof Rp&&a.wd){for(var b=a.Qc(0),c=a.C().children(".inner"),d=c.parent().outerHeight()/W,e=c.parent().outerWidth()/W;c.outerHeight()<=d&&Number(c.prop("scrollWidth"))<=e&&b<M.x_;)b++,a.ke(0,b,!0);for(;(c.outerHeight()>d||.95*Number(c.prop("scrollWidth"))>e)&&b>M.OI;)b--,a.ke(0,b,!0);b===M.OI&&c.outerHeight()>d&&a.ca(c.outerHeight());a.C().removeData("cachedLineLengths")}}var fV=_.template('\x3cdiv class\x3d"selectionBox multipleSelectionBox"\x3e\x3cdiv class\x3d"inner"\x3e\x3c/div\x3e\x3ca class\x3d"handle tl" href\x3d"#" title\x3d"\x3c%- resize %\x3e"\x3e\x3c/a\x3e\x3ca class\x3d"handle tr" href\x3d"#" title\x3d"\x3c%- resize %\x3e"\x3e\x3c/a\x3e\x3ca class\x3d"handle br" href\x3d"#" title\x3d"\x3c%- resize %\x3e"\x3e\x3c/a\x3e\x3ca class\x3d"handle bl" href\x3d"#" title\x3d"\x3c%- resize %\x3e"\x3e\x3c/a\x3e\x3ca class\x3d"rotate" href\x3d"#" title\x3d"\x3c%- rotate %\x3e"\x3e\x3c/a\x3e\x3ca class\x3d"move" href\x3d"#"\x3e\x3c/a\x3e\x3c/div\x3e');
function aK(a,b){if(I&&I.Ta){var c=I.Ta();if(!(2>c.length)){var d=$("#overlays"),e=$(".selectionBox.multipleSelectionBox");0==e.length&&(e=$(fV({resize:b.resize(),rotate:b.rotate()})),e.appendTo(d));0===c.filter(function(a){return 0!==a.Qa()}).length&&e.addClass("cornerHandles");b=gV(c);e.css("left",b.F()).css("top",b.w()).css("width",b.l()).css("height",b.o());var g=$();c.map(function(a){g.push(a.C().get(0))});iS(g,a)}}}
function gV(a){function b(a,b){return jC(J.Ia[a?a.K():0])+b*W}function c(a,b){return oC(J.Ia[a?a.K():0])+b*W}var d=a.map(function(a){return b(a.R(),a.Yb())}),e=a.map(function(a){return c(a.R(),a.hc())}),d=Bl(d),e=Bl(e),g=Cl(a.map(function(a){return b(a.R(),a.Bd())}));a=Cl(a.map(function(a){return c(a.R(),a.ed())}));return new V(d,e,g-d,a-e)}
function hV(){var a=$(this),b=a.data("canvaElement");if(b&&b.Uo()&&!(0<a.parents(".group").length)){var c=I.Ta(),d=I.Cb().filter(function(a){a=XC(J,a);return sN(a.$el,$("#marquee"))}),e=sN(a,$("#marquee")),d=-1!==d.indexOf(b.R()),g=0===c.length;c.forEach(function(a){b.R()===a.R()&&(g=!0)});e&&d&&g?b.kc()||b.yg()?(c=a.get(0).getBoundingClientRect(),e=$("#marquee").get(0).getBoundingClientRect(),e.top+10<c.top&&e.left+10<c.left?(b.mk(!0),a.addClass("multiSelected")):(b.mk(!1),a.removeClass("multiSelected"))):
(b.mk(!0),a.addClass("multiSelected")):(b.mk(!1),a.removeClass("multiSelected"))}}function fU(a){a=a.target;"SPAN"==a.tagName&&(a.style.removeProperty("font-size"),a.style.removeProperty("background-color"),a.style.removeProperty("line-height"),a.style.removeProperty("letter-spacing"))}
function cU(a){(function(a){if(13!==a.keyCode||!document.queryCommandSupported("insertLineBreak")||a.ctrlKey||a.metaKey)return!1;if(a.shiftKey||a.altKey)return!0;if(document.queryCommandState("insertUnorderedList")||document.queryCommandState("insertOrderedList"))return!1;a=document.queryCommandValue("formatBlock");return""!==a&&"div"!==a&&"p"!==a?!1:!0})(a)&&(document.execCommand("insertLineBreak",!1,null),a.preventDefault())}
function dU(){if(iV)$("#content").off("keydown",".element.text.focused",dU);else{var a=$(this);jV(a)}}function eU(){iV=!0;var a=$(this);jV(a)}var iV=!1;function jV(a){function b(){a.data("handleTextElementInputTimerId",0);kV(a);lA(a,!0)}if(!lV(a)){var c=a.data("handleTextElementInputTimerId")||0;0===c&&(c=iV?requestAnimationFrame(b):window.setTimeout(b,M.Cc),a.data("handleTextElementInputTimerId",c))}}
function kV(a){var b=a.data("canvaElement");if(b){var c=b.ub();0<Object.keys(b.Yr(c)).length&&mV(function(){b.Oo(c)})}}function lV(a){return a.hasClass("svg")||0<a.closest(".element.svg").length}
function mV(a){var b=window.getSelection(),c=document.createElement("span");c.classList.add("fauxCaret");c.appendChild(document.createTextNode("​"));if(b.rangeCount){var d=b.getRangeAt(0);d.collapse(!1);d.insertNode(c)}a();b=window.getSelection();b.rangeCount&&(d=document.createRange(),d.setStart(c.childNodes[0],0),d.collapse(!0),b.removeAllRanges(),b.addRange(d));c.parentNode.removeChild(c)}
function lA(a,b){function c(){h.Ya();k&&(m.fP(h,K),m.Ya())}function d(a,b){return a.Yb()+b>a.R().Bd()}function e(a){return a.Yb()<=a.R().Yb()}var g=!!b;if(!lV(a)){var h=a.data("canvaElement");if(h&&(h.qv()&&(g=!1),b=a.children(".inner"),0!==b.length)){var k=0<a.parents(".element.group").length,l=0;if(k){var m=a.parents(".group").first().data("canvaElement"),l=m.Qa();h.Sj()}100<b.text().length&&h.Vs(h.ub());var n=g&&!h.pA();n&&(b.css("width","0"),b.addClass("explicitLineBreaksLayoutMode"));var p=b.prop("scrollWidth"),
q=Dl(b[0]).ao;q&&1<q&&(p/=q);var q=a.data("justification"),u=h.l(),v=h.F();if(n){var z=u;a.data("ephemeralStartWidth")?z=a.data("ephemeralStartWidth"):a.data("ephemeralStartWidth",h.l());a=Math.max(z,p+2);h.R()&&(q&&"left"!==q?"right"===q?(h.gb(v+u-a),e(h)&&(a=u,h.gb(0),h.Sj())):"center"===q&&(h.gb(v+(u-a)/2),e(h)||d(h,a))&&(h.gb(v),a=u,h.Sj()):d(h,a)&&(a=h.R().Bd()-h.Yb(),h.Sj()))}else a=Math.max(u,p);q=p=0;if(g=(0!==Um(l)-Um(h.Qa())||!(!h.pe||"top"===h.pe))&&g){var r=$('\x3cspan class\x3d"shim"\x3e\x26nbsp;\x3c/span\x3e');
h.C().find(".shim").remove();h.C().prepend(r);r.css("position","absolute").css("left",0);h.pe&&"top"!==h.pe?JB(h)?r.css("top","100%"):IB(h)&&r.css("top","50%"):r.css("top",0);var x=r.get(0).getBoundingClientRect(),H=h.w(),D=h.F()}n&&b.removeClass("explicitLineBreaksLayoutMode");h.na(a);var K=h.pa();b=h.o();h.Ya();g&&b!==h.o()?(b=r.get(0).getBoundingClientRect(),r.remove(),p=b.top-x.top,q=b.left-x.left,mC(h)&&(r=jn(hn([q,p]).rotate(m.Qa())),q=r[0],p=r[1]),0==p&&0==q||h.setPosition(D-q/W,H-p/W),window.setTimeout(c,
0)):(c(),r&&r.remove());eV(h)}}}
function yK(){var a=I.Ta(),b,c,d=M.PR*M.ZC,e,g;(c=I.Aa())&&1===a.length&&(b=a[0],aO(b),a=b.pa(),b instanceof VB?(e=c.pa(),e.ab(e.w()-d),e.na(e.l()+2*d),e.ca(e.o()+2*d),e.gb(e.F()-d)):e=nh(a.clone(),c.pa()),b instanceof Rp?(ZJ(),d=b.Sb(0),g=b.Qc(0)*(e.o()/a.o()),b.ke(0,g),window.setTimeout(function(){b.na(e.l());b.ca();b.Ya()},0),b.setPosition(e.F(),e.w()),g=b.Sb(0),d={elementIndex:b.K(),pageIndex:jp(I,c),textIndex:0,"new":g,old:d},d=new TN(1,d),L.register(d)):(b.ld(e),b.Ya()),c={elementIndex:b.K(),
pageIndex:jp(I,c),"new":e.serialize(),old:a.serialize()},c=new Y(kp,c),L.register(c),b instanceof Rp&&$J(),Kg(b))}function lz(){var a=$(".toolbarContainer .toolbar__button--cancel");0<$("#overlays \x3e .mask.on").length&&0<a.length&&a.trigger("click")}function qU(){lz()}
function rU(a){function b(a){if($(a.target).is("#cutoutMessage")||0<$(a.target).parents("#cutoutMessage").length||$("#overlays").hasClass("shakeOverlays"))return!0;clearTimeout(v);$("#overlays").addClass("shakeOverlays");v=setTimeout(function(){$("#overlays").removeClass("shakeOverlays")},300)}function c(a){$(a.target).hasClass("buttonCutoutMessageEditText")&&(a=u,a.mz=!1,a.C().toggleClass("failed",a.mz),a.Mq(0),a.SB(0),a.lk(0,"Glegoo"),a.Ts=!0,mA(a.C(),!0),a.Ya(),Kg(u),hK(u.C(),!0),u.Xa(),d())}function d(){$(n).off("mousedown",
b).off("mouseleave",d);$("#cutoutMessage").on("transitionend",e).addClass("disappear")}function e(){$(this).remove()}function g(){var a=q.get(0)===n;if(a=q.data("triggerElement")!==n&&!a){var a=$("#overlays").find(".text.focused"),b;0<a.length?(a=dh(a.get(0).getBoundingClientRect()),b=dh(n.getBoundingClientRect()),a=fh(a,b)):a=!1;a=!a}return a}var h,k,l;l=200;var m=85,n=a.currentTarget;a=lc(Kb);h=n.classList.contains("unapproved");k=a.format("documentMediaLoadFailedError");var p=n.classList.contains("failed"),
q=$("#cutoutMessage"),u=$(n).data("canvaElement");if(u){0>=q.length&&(q=$('\x3cdiv id\x3d"cutoutMessage"\x3e\x3c/div\x3e'));p&&(l=240,m=100,k=a.format("documentFontLoadFailedError"));q.data("canvaElement",u).html(k).toggleClass("unapproved",h).toggleClass("failed",p).off("transitionend").removeClass("disappear");$(n).on("mousedown",b);g()&&(a=dh(n.getBoundingClientRect()),h=dh($("#overlays").get(0).getBoundingClientRect()),k=$("#canvaDocument").offset(),k=$S().translate(k.left,k.top).translate(-h.F(),
-h.w()),l=new V(0,0,l,m),Rm(Om(l,a).translate(-h.F(),-h.w()),k),q.css(l.serialize()).appendTo("#overlays").data("triggerElement",n).on("click",c));$(n).on("mouseleave",d);var v}}function sU(a){$(a.target).is("#content, #canvaDocument, #canvaDocument \x3e .inner, #canvaDocument \x3e .inner \x3e .page, #canvaDocument \x3e .inner \x3e .page .page__elements")&&($(a.target).is("input")||$(document.activeElement).blur(),ph())}
function qh(a,b,c){function d(a){uN=!0;window.clearTimeout(Q);Q=window.setTimeout(function(){uN=!1},1E3);var b=document.elementFromPoint(a.originalEvent.touches[0].clientX,a.originalEvent.touches[0].clientY);N.forEach(function(a){a!=b&&l.call(a)});var c=$(b),d=0<=N.indexOf(b);!d&&0<c.parents("#hotspots").length&&c.is(".element.hotspot")?(O=b,g.call(b,a),N=[b]):N=d?[b]:[]}function e(a){$(document).off("touchmove",d).off("touchend",e);var b=$(O);0<b.parents("#hotspots").length&&b.is(".element.hotspot")&&
m.call(O,a);window.setTimeout(function(){uN=!1},300)}function g(b){if(b&&b.shiftKey)z=!1;else if(a.hasClass("svg")||a.hasClass("cutout")){r=z=!1;var c=$("#cutoutMessage");0>=c.length&&(c=$('\x3cdiv id\x3d"cutoutMessage"\x3e').text(p.format("documentCutoutInFrameWarning")),c.appendTo("#content"));c.off("transitionend").removeClass("disappear")}else if(u&&null===u.Kb())r=z=!1;else{var d=q.clone(!0);d.css("width","").css("height","");b=$(this).data("canvaElement");var e=$(this).data("placeholderIndex");
a.data("placedInElement",b).addClass("placing").addClass("draggedMediaOverHotspot");var g=a.data("li"),h=g.data("result"),k=g.find("img").data("mediaApproved"),g=h.u(),h=h.getVersion(),l=b.Ym(e),d=new V(0,0,u?lC(u):parseInt(d.data("screenWidth"),10),u?op(u):parseInt(d.data("screenHeight"),10));Pm(d,l).translate(-l.F(),-l.w());d={type:"image",index:e,mediaId:g,mediaVersion:h,origin:u?u.Nd():null,imageBox:d.serialize(),flipOrientation:u?u.Xb:0,mediaApproved:void 0===k?!0:k};K=b.kl(e);E=WC(b.vp(e));
g===K.mediaId?z=!1:(b.Pq(e,d),u&&((g=u.C().data("selectionBox"))&&g.hide(),u.Kp()&&u.yd()&&(c=WC(u.yd()))),b=b.vp(e),b.remove(),KI(b,c||WC(b)))}}function h(){D.read(k)}function k(){var b=a.offset();D.write(function(){$("#cutoutMessage").css("left",b.left+a.width()/2-$("#cutoutMessage").outerWidth()/2).css("top",b.top+a.height()/2-$("#cutoutMessage").outerHeight()/2)})}function l(){var b=$(this).data("canvaElement"),c=$(this).data("placeholderIndex"),d=b.vp(c);a.removeData("placedInElement").removeClass("placing").removeClass("draggedMediaOverHotspot");
$("#cutoutMessage").on("transitionend",n).addClass("disappear");z&&(b.Pq(c,K),d.remove(),KI(d,E),u&&(b=u.C().data("selectionBox"))&&b.show())}function m(b){if(a.data("li")&&(!b||!b.shiftKey)&&($("#cutoutMessage").on("transitionend",n).addClass("disappear"),r)){b=a.data("li").data("result");var c=$(this).data("canvaElement"),d=$(this).data("placeholderIndex"),e=c.Iz(d);vN(c);var g={elementIndex:c.K(),pageIndex:jp(I,c.R()),placeholderIndex:d,"new":c.kl(d),old:K},h={elementIndex:c.K(),pageIndex:jp(I,
c.R()),placeholderIndex:d,"new":{filter:WC(c.vp(d))},old:{filter:E}},g=new Y(PN,g),h=new Y(11,h);ZJ();L.register(g);L.register(h);c.nI=!0;c.ft(e);a.one("transitionend",n).addClass("disappeared").removeClass("draggedMediaOverHotspot").removeClass("placing");x.remove();e.removeData("oldPlacement");u&&(u.gb(a.data("startLeft")),u.ab(a.data("startTop")),VM(u),u.remove(),u instanceof RB&&c instanceof hp&&0!=u.Xb&&setTimeout(function(){function a(c){c.target!=l.get(0)&&(clearTimeout(v),c.target==l.find("a")[0]?
($(document).on("mouseout mouseup",b),c.preventDefault()):k())}function b(){$(document).off("mouseout mouseup",b);k()}function e(){$(document).off("mousemove",e);u=setTimeout(function(){l.on("mouseenter",g).on("mouseleave",h)},100)}function g(){clearTimeout(v)}function h(){clearTimeout(v);v=setTimeout(k,1E3)}function k(){clearTimeout(u);$(document).off("mousedown",a).off("mousemove",e);l.off("mouseenter",g).off("mouseleave",h);l.on("transitionend",n).addClass("disappear")}var l=$("#cutoutMessage");
0==l.length&&(l=$('\x3cdiv id\x3d"cutoutMessage"\x3e\x3c/div\x3e'));var m=XC(J,w(c.R()));l.off("transitionend").addClass("closeable").removeClass("disappear").text(p.format("documentCutoutFlippedImageWarning")).append('\x3ca href\x3d"#" class\x3d"close"\x3eClose\x3c/a\x3e');nV(m,l);var q=c.pa(),r=c.Ym(d),m=q.w()+r.w()+r.o()/2,m=m*W,m=m-l.outerHeight()/2,q=q.F()+r.F()+r.l()/2,q=q*W,q=q-l.outerWidth()/2;l.css("top",m).css("left",q);$(document).on("mousedown",a).on("mousemove",e);var u=0,v=setTimeout(k,
1E4)},200));$J();b&&(e=b.Nd(),e!==Sg&&"GOOGLE"!==e||Lg(Fb,b,c.Bp(d)),HK(VK(b,v)))}}function n(){$(this).remove()}b=b||I.Aa();var p=lc(Kb),q=$("img",a),u=a.data("canvaElement"),v=!!a.data("isOrganicSearchResult"),z=!0,r=!0,x=$('\x3csection id\x3d"hotspots"\x3e\x3c/section\x3e'),H=aE(J,b);x.css(H.serialize());var D=gh();b.ja().forEach(function(a){if((a instanceof hp||a instanceof VB)&&!mC(a)){var b=$('\x3cdiv class\x3d"container"\x3e\x3c/div\x3e'),d=a.pa();b.css(d.scale(W).round().serialize()).css("transform",
"rotate("+a.Qa().toString()+"deg)");for(var d=a.Xf(),e=0;e<d;e++){var k=a.Ym(e);k.scale(W).round();var n=$('\x3cdiv class\x3d"element hotspot"\x3e\x3c/div\x3e');n.css(k.serialize()).data("canvaElement",a).data("placeholderIndex",e).appendTo(b);!1===c&&n.mouseover(g).mousemove(h).mouseout(l).mouseup(m)}b.appendTo(x)}});x.appendTo("#content");b=XC(J,b).$el;x.css("left",b.offset().left).css("top",b.offset().top);var K=null,E=null,O=null,Q=null;if(!0===c){var N=[];$(document).on("touchmove",d).on("touchend",
e)}}
function QM(a,b){function c(a){a={left:a.originalEvent.touches[0].clientX,top:a.originalEvent.touches[0].clientY,width:0,height:0};for(var b={left:q,top:u,width:0,height:0},c=0;c<p.length;c++){var d=p[c];ih(a,d)&&!ih(b,d)?e.call(d.element):ih(b,d)&&!ih(a,d)&&g.call(d.element)}q=a.left;u=a.top}function d(b){$(document).off("touchmove",c).off("touchend",d);for(var e={left:b.originalEvent.changedTouches[0].clientX,top:b.originalEvent.changedTouches[0].clientY,width:0,height:0},g=0;g<p.length;g++){var l=p[g];
if(ih(e,l)){var m=$(".page",k).index(l.element);$(l.element).data("page",$("#canvaDocument \x3e .inner \x3e .page").eq(m));h.call(l.element,b,a)}}}function e(){var b=$(this).data("page");b&&(b.addClass("hotspotHover"),$(this).addClass("hover"),a.addClass("placing"))}function g(){var b=$(this).data("page");b&&b.removeClass("hotspotHover");$(this).removeClass("hover");a.removeClass("placing")}function h(b,c){function d(a){function b(){h.off("unpacked",b);RO({Yo:QO(h),$d:I.hb(),page:h});c(h.serialize())}
function c(b){n&&(e=new cn({type:$A,id:n.id,version:n.version}),oV(a,e));var d={};a.layout&&(d.id=a.layout.id,d.version=a.layout.version);p&&(d.id=p.id,d.version=p.version);b=Zm(new Xm(d),b);var d={"new":b,old:Oa,pageIndex:sa.K()},g=jq(b.Ag()),h=U,k=b.serialize();!g&&h&&k&&$l(h,k.id);bO(sa,b,l,e);L.register(new XN(4,d))}var e;l&&(sa.clear(),LO(sa,l));if(a.width!==sa.l()||a.height!==sa.o()){var g=Zm(new Xm,a),h=new Op(I,{});bO(h,g,null,null,!0);h.on("unpacked",b)}else c(a)}function e(a){return a.getDocument().we().content.pages[q.pageIndex]}
ph();2==arguments.length&&(a=c);var g=a.data("li"),h=$(this).data("page");if(g&&h){h=$("#canvaDocument \x3e .inner \x3e .page").index(h);Pp(I,h);var l,m=!!a.data("isOrganicSearchResult"),n=g.find("a").data("documentProperties"),p=g.find("a").data("layoutProperties"),q=g.find("a").data("pageTemplateRequest"),u=g.find("a").data("pageTemplateRequest"),ca=g.find("a").data("pageTemplate"),sa=I.Aa(),Oa=sa.Wt();n&&n.previewUrl&&(l=n.previewUrl);p&&p.previewUrl&&(l=p.previewUrl);if(q||u||ca)XL.By(sa,Kb).then(function(a){a&&
(q?(sa.clear(),LO(sa,n.previewUrl),xb.getDocument(new jt({og:n.id,gA:!0})).then(e).then(d)):u?(sa.clear(),$.getJSON(u.url,function(a){(a=a.content.pages[0])&&d(a)})):ca&&d(ca))});else if(0<g.parents(".backgroundGallery").length)XM(a.data("li")),(h=g.data("result"))&&HK(VK(h,m));else if(0<g.parents(".templateGallery").length){var ha=g.data("layoutItem"),m=g.data("designItem"),h=g.data("searchResult"),ia=g.parents(".results").data("view"),Da=g.find("a");pV(ia,Da,!0);m?(g=g.data("usablePreview"),qV(ia,
m,g)):ha?rV(ia,ha):h&&AO(ia,h)}}k.remove();a.remove();$("#canvaDocument \x3e .inner \x3e .page").removeClass("hotspotHover")}var k=$('\x3cdiv id\x3d"hotspots"\x3e\x3c/div\x3e'),l=parseInt($("#canvaDocument").offset().left,10),m=parseInt($("#canvaDocument").offset().top,10),n=$("#canvaDocument").get(0).scrollTop;k.css("left",l).css("top",m-n).css("z-index","99999").appendTo("#content");$("#canvaDocument \x3e .inner \x3e .page").each(function(){var a=$(this);a.clone().css("width",a.outerWidth()).css("height",
a.outerHeight()).data("page",a).empty().appendTo(k)});if(b){var p=[],q=0,u=0;$(".page",k).each(function(){var a=$(this).offset(),b=$(this).outerWidth(),c=$(this).outerHeight();p.push({element:this,left:a.left,top:a.top,width:b,height:c})});$(document).on("touchmove",c).on("touchend",d)}else $(".page",k).mouseover(e).mouseout(g).mouseup(h)}
function XR(a){function b(){h.data("selectionBox")?($("#overlays \x3e .mask").addClass("on"),h.addClass("cropping"),a.Xa(),$(".cropControls img.uncropped").css("opacity",.5),$(".cropControls .cropBox").css("background-color","rgba(255, 255, 255, 0.5)"),uC($(".cropControls"),a.Qa())):e()}function c(a){13===a.which?d():27===a.which&&e()}function d(){var b=a.F(),c=a.w();a.Cr();b={elementIndex:a.K(),pageIndex:jp(I,a.R()),placeholderIndex:a.Fc(),"new":{placeholderBox:a.cd().serialize(),imageBox:a.Uf().serialize(),
cropped:!0,left:a.F(),top:a.w()},old:{placeholderBox:l.serialize(),imageBox:k.serialize(),cropped:m||a instanceof RB,left:b,top:c}};L.register(new Y(6,b));$("#overlays \x3e .mask").removeClass("on");$(".cropControls .cropBox").css("background-color","rgba(255, 255, 255, 0)");a.Ya();CO(h,xc(Kb));g();U&&am("crop_confirm")}function e(){a instanceof RB?(l&&zl(a,l),a.Ql(k),a.gI=!1,h.removeClass("cropping")):(a.Ql(k),a.Cr());var b=h.data("toolbar");a.yf()&&b&&b.show();$("#overlays \x3e .mask").removeClass("on");
$(".cropControls .cropBox").css("background-color","rgba(255, 255, 255, 0)");a.Ya();a.yf()&&CO(h,xc(Kb));g();am("crop_cancel")}function g(){$("#content").off("click",".toolbar--crop .toolbar__button--ok",d).off("click",".toolbar--crop .toolbar__button--cancel",e);$(document).off("keydown",c)}if(a.um&&a.pM()){var h=a.C(),k=a.Uf(),l=a.cd(),m=!!a.Jk;$("#content").on("click",".toolbar--crop .toolbar__button--ok",d).on("click",".toolbar--crop .toolbar__button--cancel",e);$(document).on("keydown",c);a.hH(a.Fc(),
b)}}function xN(){gh().write(function(){$("#overlays .align").removeClass("on")})}function lh(a,b,c,d,e){function g(a){var b=null;if(a instanceof Z||a instanceof Al)b=a.R();return b?XC(J,b):oh(J)}XT(a,b,c,function(){return W},function(a){return jC(g(a))+Math.round(a.Yb()*W)},function(a){return oC(g(a))+Math.round(a.hc()*W)},d,e)}
function kh(a){var b=[];void 0!==a&&(a instanceof Z?b.push(a):a instanceof Array&&(b=a));var c=0==b.length?I.Aa():b[0].R();if(!c)return[];a=c.ja();a=a.filter(function(a){return-1===b.indexOf(a)&&!a.kc()&&!mC(a)});a.push(c);var d=[];Rb&&Rb()&&(d=KP());c=MP(c)||[];return a.concat(d).concat(c)}function HN(){Tb&&LN();$("body").addClass("blockDocument");ph();$("#search").blur()}
function FN(){if(Tb){var a=Tb;a.wD=!1;a.$el.removeClass("blockEditorControls");sV(a,a.wu)}$("body").removeClass("blockDocument")}function fK(a,b){var c=a.Nh();c&&VD(a,c+105*b/2);a={elementIndex:a.K(),pageIndex:jp(I,a.R()),"new":{borderWidth:a.Nh()},old:{borderWidth:c}};L.register(new Y(kp,a))}function gK(a,b){var c=a.ce();b=c+5*b;0<=b&&50>=b&&(a.Qq(b),a={elementIndex:a.K(),pageIndex:jp(I,a.R()),"new":{spacing:a.ce()},old:{spacing:c}},L.register(new Y(kp,a)))}
function eK(a){var b=a.Nh();b?VD(a,0):VD(a,105);a={elementIndex:a.K(),pageIndex:jp(I,a.R()),"new":{borderWidth:a.Nh()},old:{borderWidth:b}};L.register(new Y(kp,a))}function tV(a,b){L.register(new Y(kp,{elementIndex:a.K(),pageIndex:jp(I,a.R()),"new":{verticalAlignment:a.pe||"top"},old:{verticalAlignment:b}}))}function oK(a){var b=a.pe||"top";a.NQ();tV(a,b)}function pK(a){var b=a.pe||"top";a.uN();tV(a,b)}function qK(a){var b=a.pe||"top";a.nJ();tV(a,b)}
function iK(a,b){function c(){a.uT&&a.uT()}function d(){a.sV&&a.sV()}function e(){a.DY&&a.DY(0)}var g=a.$a(a.ub());0===Rz(g)&&(1===b?mV(d):-1===b?mV(c):0===b&&mV(e),lA(g,!0))}
function lR(a){var b=a.Vc,c=_.sortBy(a.ja(),function(a){return a.w()}),d=c.filter(function(a){return a!==b});if(b){a.vf()&&a.vx();ZJ();var e=[],g;if(b instanceof Rp){var h=b.pa(),k=c.indexOf(b)-1,l=c.indexOf(b)+1;g=b.pe||"top";var m=a.w(),n=h.clone(),p;c.length>l&&c[l]instanceof Rp?(p=h.ua()-c[l].w(),n.ca(p)):1<c.length&&c[k]instanceof Rp?(p=c[k].ua()-h.w(),n.ca(p)):n.ca(0);d.forEach(function(a){var b={pageIndex:jp(I,a.R())};b.old=a.pa();e.push(b)});Object.freeze(d);Object.freeze(e);a.fP(b,h,n);if(0===
a.Qa()){c=m;switch(g){case "middle":c=m-p/2;break;case "bottom":c=m-p}g={elementIndex:a.K(),pageIndex:jp(I,a.R()),"new":{top:c},old:{top:m}};g=new Y(kp,g);L.register(g);a.ab(c)}}VM(b);a.aj(b);b.remove();g=a.yr(d[0]);g.proportionalSetSize=!1;g=new Y(kp,g);L.register(g);d.forEach(function(a,b){e[b]&&(e[b].elementIndex=a.K(),e[b]["new"]=a.pa(),e[b].proportionalSetSize=!1)});e.forEach(function(a){L.register(new Y(kp,a))});1===a.ja().length&&(aO(a),BU(a),WN(a));$J()}}
function SU(a,b){a.forEach(function(a){a.jg=b})}function sK(){var a=$(".element [contenteditable\x3dtrue]");if(1===a.length){var b=a.data("textChangeCount")||0;if(0<b&&document.execCommand("undo",!1,null)){a.data("textChangeCount",--b);return}lp()}a=L;if(0!=a.hd.length){a.trigger("beforeOperationStackPop");a.TQ=!0;if(0<a.cn.length)throw Error("cannot undo while a grouped operation is being collected");var b=a.hd.pop(),c=b.invert();c.Pn();a.uw.push(b);ph();NU(SN(c));a.TQ=!1;I.trigger("change")}}
function rK(){if(1===$(".element [contenteditable\x3dtrue]").length){if(document.execCommand("redo",!1,null))return;lp()}var a=L;if(0!=a.uw.length){a.trigger("beforeOperationStackPop");a.eP=!0;if(0<a.cn.length)throw Error("cannot undo while a grouped operation is being collected");var b=a.uw.pop();b.Pn();a.hd.push(b);ph();NU(SN(b));a.eP=!1;I.trigger("change")}}
function uV(a){var b=new dO(1,{"new":{docType:xu(a.doctype),doctypeSpec:a.Rk?Tp(a.Rk):null},old:{docType:xu(a.Ab.hb()),doctypeSpec:a.Ab.Rk?Tp(a.Ab.Rk):null,model:a.Ab.serialize()}}),c=w(a.doctype.getName()),d=a.Ab.pb();d.uu=c;d.trigger("change");ph();a.hd.register(b);b.Pn()};function vV(a,b,c){return location.protocol+"//"+location.host+"/design/"+encodeURIComponent(a)+(c?"/"+encodeURIComponent(c):"")+(b?"/"+encodeURIComponent(b):"")}function wV(a,b){return vV(a,"view",b)}function xV(a,b,c,d){return wV(a,b)+"?"+yV(a,c,d)}function yV(a,b,c){return["utm_content\x3d"+encodeURIComponent(a),"utm_campaign\x3d"+encodeURIComponent("designshare"),"utm_medium\x3d"+encodeURIComponent(c),"utm_source\x3d"+encodeURIComponent(b)].join("\x26")};function zV(){}zV=Backbone.View.extend({className:"switch"});f=zV.prototype;f.events=function(){return{"blur input":this.As,"change input":this.a4,dragstart:this.Bs,"focus input":this.pq,mousedown:this.Cs}};f.initialize=function(a){a=_.defaults({},a,{Al:null,on:!1,Wj:null});this.Al=a.Al;this.Zt=void 0===a.Zt||!!a.Zt;this.tG=this.tG.bind(this);this.uG=this.uG.bind(this);this.Wj=a.Wj;this.YN=a.on};function AV(a){return!!a.input.prop("checked")}f.As=function(){this.$el.removeClass("switchFocused")};
f.a4=function(){var a=AV(this);this.$el.toggleClass("switchOn",a);this.trigger("toggle",a)};f.tG=function(a){var b=this.handle.offset().left,c=b+this.handle.outerWidth(),b=AV(this)&&a.pageX<b;a=!AV(this)&&a.pageX>c;if(b||a)this.handle.removeClass("switchHandlePressed"),BV(this),this.toggle()};f.uG=function(a){$(a.target).closest(this.el).length&&(this.trigger("click"),this.Zt&&this.toggle());this.handle.removeClass("switchHandlePressed");BV(this)};f.Bs=function(a){a.preventDefault()};f.pq=function(){this.$el.addClass("switchFocused")};
f.Cs=function(a){a.target===this.handle[0]&&($(document).on("mousemove",this.tG),this.handle.addClass("switchHandlePressed"));$(document).on("mouseup",this.uG)};f.remove=function(){Backbone.View.prototype.remove.call(this);BV(this)};function BV(a){$(document).off({mousemove:a.tG,mouseup:a.uG})}
f.render=function(){var a;this.YN?(a=this.YN,delete this.YN):a=!(!this.input||!this.input.prop("checked"));var b,c={Al:this.Al,Wj:this.Wj},d,c=c||{};soy.asserts.assertType(null==c.Wj||c.Wj instanceof goog.soy.data.SanitizedContent||goog.isString(c.Wj),"onLabel",c.Wj,"null|string|undefined");b=c.Wj;soy.asserts.assertType(null==c.Al||c.Al instanceof goog.soy.data.SanitizedContent||goog.isString(c.Al),"offLabel",c.Al,"null|string|undefined");c=c.Al;b=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cinput type\x3d"checkbox"\x3e\x3cdiv class\x3d"switchContent"\x3e\x3cdiv class\x3d"switchLabelOn"\x3e'+
soy.$$escapeHtml(null==(d=b)?"":d)+'\x3c/div\x3e\x3cdiv class\x3d"switchHandle"\x3e\x3c/div\x3e\x3cdiv class\x3d"switchLabelOff"\x3e'+soy.$$escapeHtml(null==(d=c)?"":d)+"\x3c/div\x3e"+(c?'\x3cdiv class\x3d"switchLabelOffSpacer"\x3e'+soy.$$escapeHtml(c)+"\x3c/div\x3e":"")+"\x3c/div\x3e");this.$el.html(b.toString());this.$el.toggleClass("switchOn",a);this.handle=this.$(".switchHandle");this.input=this.$("input");this.input.prop("checked",a);return this};
f.toggle=function(a){void 0===a&&(a=!this.input.prop("checked"));a!==this.input.prop("checked")&&(this.input.prop("checked",a),this.input.change())};function RO(a){function b(a){a.translate(-g.F(),-g.w());Lm(a,q,u,p);a.translate(r,x)}var c=a.page,d=c.pa(),e=function(a){a=Zg(a.nb);return new V(0,0,a.l(),a.o())}(a.$d),g=a.Yo||d;a=g.l();var h=g.o(),k=e.l(),l=e.o(),m=k/a,n=l/h,p=Math.min(m,n),q=a/2,u=h/2,v=k/2,z=l/2,r=v-q,x=z-u;c.ja().forEach(function(a){if(!a.sh&&!mC(a)){var c;if(a instanceof VB&&1===a.Xf()){var g=a.ce();c=a.pa();g=bn(d.l(),d.o(),g,!1);c=Qm(c,g)}else c=a instanceof RB?a.Wp()&&a.kc():!1;if(c)a instanceof VB?(a.ld(bn(k,l,a.ce(),!1)),
a.Ya()):a.ld(e.clone());else if(a.kc()){c=a.pa();g=1;b(c);if(m<n)var g=c.w(),h=l-c.ua(),g=l/(l-2*Math.max(0,g,h));else m>n&&(g=c.F(),h=k-c.Wa(),g=k/(k-2*Math.max(0,g,h)));1<g&&Lm(c,v,z,g);a.ld(c)}else c=a.pa(),a instanceof Rp&&(g=p*a.Qc(0),a.pA()?a.ke(0,g):(a.Sj(),a.ke(0,g),a.UQ())),b(c),a.ld(c),a instanceof VB&&a.Ya()}});c.na(k);c.ca(l);return nh(g.clone(),e)};function CV(){}CV=Backbone.View.extend({className:"tileListBusyIndicator"});f=CV.prototype;f.initialize=function(){this.transitionDelay=-1;this.dI=0};f.hide=function(){DV(this,function(){this.$el.removeClass("tileListBusyIndicatorOn")})};f.render=function(){this.$el.html(this.template());return this};function DV(a,b){0!=a.dI&&(window.clearTimeout(a.dI),a.dI=0);0<=a.transitionDelay?a.dI=window.setTimeout(b.bind(a),a.transitionDelay):b.call(a)}f.show=function(){DV(this,function(){this.$el.addClass("tileListBusyIndicatorOn")})};
f.template=function(){return _.range(8).map(function(){return"\x3cspan\x3e\x3c/span\x3e"}).join("")};function EV(a,b){this.$el=a;this.qm=b.qm||"";this.Og=b.Og}function FV(a){var b=$(soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"masonryLayout"\x3e\x3c/div\x3e').toString());return new EV(b,a)}f=EV.prototype;f.add=function(a,b){var c=this;this.ra||GV(this,this.gl());var d=HV(this);this.ra.eq(0).append(a);var e=a.get().map(this.o,this);a.each(function(a,h){var k=IV(c,d);d[k]+=e[a];b?c.ra.eq(k).prepend(h):c.ra.eq(k).append(h)})};
function JV(a,b){var c=a.gl();if(void 0!==b.ra){if(b.ra.length!==c)throw Error("Cannot merge masonry layouts with different column counts.");a.ra||GV(a,c);a.ra.each(function(a,c){b.ra.eq(a).children().appendTo(c)})}}f.contains=function(a){return!(!this.ra||!this.ra.children().filter(a).length)};function GV(a,b){var c="masonryLayoutColumn "+a.qm;a.ra=_.range(b).map(function(){return $("\x3cdiv\x3e").addClass(c).width(100/b+"%")}).reduce($.merge);a.ra.appendTo(a.$el)}
f.jL=function(a){var b=this.$el.width()/this.gl();return Math.floor(a/b)*this.gl()+this.gl()};f.gl=function(){var a;"function"===typeof this.Og?(a=this.$el.width(),a=this.Og(a)):a=this.Og;return Math.max(a,1)};function HV(a){return a.ra.get().map(function(a){var c=$(a).children();if(!c.length)return 0;var c=c.last().get(0),d=window.getComputedStyle(c),d=parseInt(d.marginBottom,10)||0;return c.getBoundingClientRect().bottom+d-a.getBoundingClientRect().top})}
function IV(a,b){b||(b=HV(a));return _.min(_.range(b.length),function(a){return b[a]})}f.o=function(a){var b=window.getComputedStyle(a);a=a.getBoundingClientRect().height;var c=Math.pow(10,2);return Math.round(a*c)/c+(parseInt(b.marginBottom,10)||0)+(parseInt(b.marginTop,10)||0)};f.uf=function(){var a=this.ra&&this.ra.children().get()||[];a.sort(function(a,c){return a.offsetTop!==c.offsetTop?a.offsetTop-c.offsetTop:a.offsetLeft-c.offsetLeft});return $(a)};
f.Yu=function(a){function b(a){return a.offsetHeight+a.offsetTop}if(!this.contains(a))throw Error("The given element is not an item in the masonry layout.");var c=b(a[0]);return $(this.ra.children().get().filter(function(a){return b(a)>c}))};f.ll=function(){if(this.ra){var a=IV(this),a=this.ra.get(a);return $(a)}return null};f.isEmpty=function(){return!(this.ra&&this.ra.children().length)};f.push=function(a){this.add(a)};
f.Ya=function(){var a=this.gl(),a=this.ra&&a!==this.ra.length;this.ra&&a&&(a=this.uf().detach(),this.ra&&this.ra.remove(),this.ra=void 0,this.push(a),this.trigger("redraw"))};f.remove=function(a){this.ra&&this.ra.children().filter(a).remove()};f.removeAll=function(){this.ra&&this.ra.children().remove()};
f.split=function(a){if(!this.contains(a))throw Error("The given element is not an item in the masonry layout.");var b=this.Yu(a);if(0===b.length)return null;var c=FV({qm:this.qm,Og:this.Og});GV(c,this.ra.length);this.ra.each(function(a,e){e=$(e).children().filter(b);c.ra.eq(a).append(e)});return c};f.unshift=function(a){this.add(a,!0)};f.on=Backbone.Events.on;f.off=Backbone.Events.off;f.trigger=Backbone.Events.trigger;function KV(a){this.children=[];this.qm=a.qm;this.Og=a.Og;this.$el=$("\x3cdiv\x3e")}f=KV.prototype;f.listenTo=Backbone.Events.listenTo;f.off=Backbone.Events.off;f.on=Backbone.Events.on;f.trigger=Backbone.Events.trigger;function LV(a){return FV({qm:a.qm,Og:a.Og})}f.jL=function(a){var b=this.$el.width()/this.gl();return Math.ceil(a/b)*this.gl()+this.gl()};f.gl=function(){var a;"function"===typeof this.Og?(a=this.$el.width(),a=this.Og(a)):a=this.Og;return Math.max(a,1)};
f.uf=function(){var a=[];this.children.forEach(function(b){b instanceof EV?a=a.concat(b.uf().get()):a.push(b)});return $(a)};function MV(a,b){return NV(a).filter(function(a){return a.contains(b)})[0]||null}function NV(a){return a.children.filter(function(a){return a instanceof EV})}f.ll=function(){var a=NV(this).slice(-1)[0];return a&&a.ll()||null};
function OV(a,b,c){var d,e;d=MV(a,b);if(!d)throw Error("The given element is not an item in the masonry layout.");c.insertAfter(d.$el);e=a.children.indexOf(d);a.children.splice(e+1,0,c[0]);d.Yu(b).length&&(a.trigger("beforeSplit",d.ra),b=d.split(b),b.$el.insertAfter(c),a.children.splice(e+2,0,b),a.trigger("afterSplit",d.ra,b.ra))}f.push=function(a){if(!(this.children.slice(-1)[0]instanceof EV)){var b;b=LV(this);b.$el.appendTo(this.$el);this.children.push(b)}this.children.slice(-1)[0].push(a)};
f.Ya=function(){function a(){b=!0}var b=!1;NV(this).forEach(function(b){b.on("redraw",a);b.Ya();b.off("redraw",a)});b&&this.trigger("redraw")};f.remove=function(a){this.children=this.children.reduce(function(b,c){c instanceof EV?(c.remove(a),c.isEmpty()?c.$el.remove():b.push(c)):b.push(c);return b},[])};
function PV(a,b){var c=a.children.indexOf(b[0]),d,e;if(0>c)throw Error("The given element is not a block in the layout.");d=a.children[c+1];e=a.children[c-1];d instanceof EV&&e instanceof EV&&(a.trigger("beforeMerge",e.ra,d.ra),JV(e,d),d.$el.remove(),a.children.splice(a.children.indexOf(d),1));b.remove();a.children.splice(c,1)}f.unshift=function(a){if(!(this.children[0]instanceof EV)){var b;b=LV(this);b.$el.prependTo(this.$el);this.children.unshift(b)}this.children[0].unshift(a)};function QV(a){this.np=a;this.h2=$.isWindow(this.np[0]);this.aV=_.throttle(this.dispatchEvent.bind(this),200)}f=QV.prototype;f.$F=function(){this.stopListening();this.np.on("scroll",this.aV)};f.stopListening=function(){this.np.off("scroll",this.aV)};
function RV(a,b,c){c=_.defaults({},c,{xM:!1});var d=b.offset().top;c=c.xM?parseInt(b.css("margin-bottom"),10):0;b=b.outerHeight();d=d+b+c;b=a.h2?a.np.scrollTop():a.np.offset().top+parseInt(a.np.css("border-top-width"),10);a=a.np.innerHeight();return d-(b+a)}f.on=Backbone.Events.on;f.once=Backbone.Events.once;f.off=Backbone.Events.off;f.trigger=Backbone.Events.trigger;f.dispatchEvent=function(){this.trigger("scroll",this)};function SV(a){soy.asserts.assertType(null==a.rl||a.rl instanceof goog.soy.data.SanitizedContent||goog.isString(a.rl),"licensePrice",a.rl,"null|string|undefined");var b=a.rl;soy.asserts.assertType(null==a.bq||goog.isBoolean(a.bq)||1===a.bq||0===a.bq,"licenseFree",a.bq,"boolean|null|undefined");var c=a.bq;soy.asserts.assertType(goog.isString(a.Bv)||a.Bv instanceof goog.soy.data.SanitizedContent,"licenseWithMarkup",a.Bv,"string|goog.soy.data.SanitizedContent");var d=a.Bv;soy.asserts.assertType(goog.isString(a.Av)||
a.Av instanceof goog.soy.data.SanitizedContent,"licenseDescription",a.Av,"string|goog.soy.data.SanitizedContent");var e=a.Av;soy.asserts.assertType(goog.isString(a.xd)||a.xd instanceof goog.soy.data.SanitizedContent,"free",a.xd,"string|goog.soy.data.SanitizedContent");a=a.xd;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cli\x3e\x3cdiv class\x3d"license"\x3e\x3cdiv class\x3d"license__name"\x3e'+soy.$$escapeHtml(d)+'\x3c/div\x3e\x3cdiv class\x3d"license__price"\x3e'+(null!=c&&c?soy.$$escapeHtml(a):
soy.$$escapeHtml(b))+'\x3c/div\x3e\x3c/div\x3e\x3cp class\x3d"priceSummary"\x3e'+soy.$$escapeHtml(e)+"\x3c/p\x3e\x3c/li\x3e")}
function TV(a){soy.asserts.assertType(goog.isBoolean(a.GB)||1===a.GB||0===a.GB,"royaltyFreeEnabled",a.GB,"boolean");var b=!!a.GB;soy.asserts.assertType(goog.isBoolean(a.jz)||1===a.jz||0===a.jz,"extendedEnabled",a.jz,"boolean");var c=!!a.jz;soy.asserts.assertType(null==a.YA||a.YA instanceof goog.soy.data.SanitizedContent||goog.isString(a.YA),"oneUsePrice",a.YA,"null|string|undefined");var d=a.YA;soy.asserts.assertType(null==a.HB||a.HB instanceof goog.soy.data.SanitizedContent||goog.isString(a.HB),
"royaltyFreePrice",a.HB,"null|string|undefined");var e=a.HB;soy.asserts.assertType(null==a.kz||a.kz instanceof goog.soy.data.SanitizedContent||goog.isString(a.kz),"extendedPrice",a.kz,"null|string|undefined");var g=a.kz;soy.asserts.assertType(goog.isString(a.xd)||a.xd instanceof goog.soy.data.SanitizedContent,"free",a.xd,"string|goog.soy.data.SanitizedContent");var h=a.xd;soy.asserts.assertType(goog.isString(a.gF)||a.gF instanceof goog.soy.data.SanitizedContent,"freeDescription",a.gF,"string|goog.soy.data.SanitizedContent");
var k=a.gF;soy.asserts.assertType(a.XA instanceof soydata.SanitizedHtml||a.XA instanceof soydata.UnsanitizedText||goog.isString(a.XA),"oneTimeUseWithMarkup",a.XA,"soydata.SanitizedHtml");var l=a.XA;soy.asserts.assertType(goog.isString(a.Ic)||a.Ic instanceof goog.soy.data.SanitizedContent,"oneTimeUseDescription",a.Ic,"string|goog.soy.data.SanitizedContent");var m=a.Ic;soy.asserts.assertType(goog.isString(a.AD)||a.AD instanceof goog.soy.data.SanitizedContent,"c4wFreeMediaTitle",a.AD,"string|goog.soy.data.SanitizedContent");
var n=a.AD;soy.asserts.assertType(a.IB instanceof soydata.SanitizedHtml||a.IB instanceof soydata.UnsanitizedText||goog.isString(a.IB),"royaltyFreeWithMarkup",a.IB,"soydata.SanitizedHtml");var p=a.IB;soy.asserts.assertType(goog.isString(a.Kc)||a.Kc instanceof goog.soy.data.SanitizedContent,"royaltyFreeDescription",a.Kc,"string|goog.soy.data.SanitizedContent");var q=a.Kc;soy.asserts.assertType(a.lz instanceof soydata.SanitizedHtml||a.lz instanceof soydata.UnsanitizedText||goog.isString(a.lz),"extendedWithMarkup",
a.lz,"soydata.SanitizedHtml");var u=a.lz;soy.asserts.assertType(goog.isString(a.Ld)||a.Ld instanceof goog.soy.data.SanitizedContent,"extendedDescription",a.Ld,"string|goog.soy.data.SanitizedContent");var v=a.Ld;soy.asserts.assertType(null==a.Zv||goog.isBoolean(a.Zv)||1===a.Zv||0===a.Zv,"oneUseFree",a.Zv,"boolean|null|undefined");var z=a.Zv;soy.asserts.assertType(null==a.Ew||goog.isBoolean(a.Ew)||1===a.Ew||0===a.Ew,"royaltyFreeFree",a.Ew,"boolean|null|undefined");var r=a.Ew;soy.asserts.assertType(null==
a.Iu||goog.isBoolean(a.Iu)||1===a.Iu||0===a.Iu,"extendedFree",a.Iu,"boolean|null|undefined");var x=a.Iu;soy.asserts.assertType(goog.isBoolean(a.mA)||1===a.mA||0===a.mA,"isC4wFreeMedia",a.mA,"boolean");a=!!a.mA;b=""+(null!=d&&!z||b&&null!=e&&!r||c&&null!=g&&!x?"\x3cul\x3e"+(null!=d?(a?"\x3cli\x3e\x3cp\x3e"+soy.$$escapeHtml(n)+"\x3c/p\x3e\x3c/li\x3e":"")+SV({rl:d,bq:z,Bv:l,Av:m,xd:h}):"")+(b&&null!=e?SV({rl:e,bq:r,Bv:p,Av:q,xd:h}):"")+(c&&null!=g?SV({rl:g,bq:x,Bv:u,Av:v,xd:h}):"")+"\x3c/ul\x3e":"\x3cp\x3e"+
soy.$$escapeHtml(h)+'\x3c/p\x3e\x3cp class\x3d"priceSummary"\x3e'+soy.$$escapeHtml(k)+"\x3c/p\x3e");return soydata.VERY_UNSAFE.ordainSanitizedHtml(b)};function pN(){}
pN=Backbone.View.extend({className:"infoPanel",template:_.template('\x3ca class\x3d"close" href\x3d"#" title\x3d"\x3c%- close %\x3e"\x3e\x3c%- close %\x3e\x3c/a\x3e\x3ch3 class\x3d"infoPanelTitle"\x3e\x3c%- title %\x3e\x3c/h3\x3e'),B8:_.template('\x3ca class\x3d"close" href\x3d"#" title\x3d"\x3c%- close %\x3e"\x3e\x3c%- close %\x3e\x3c/a\x3e\x3ch3 class\x3d"infoPanelTitle"\x3e\x3c%- title %\x3e\x3c/h3\x3e\x3ch4 class\x3d"infoPanelSubtitle brandInfo"\x3e\x3cspan class\x3d"brand"\x3e\x3c/span\x3e\x3cspan class\x3d"spinner on"\x3e\x26hellip;\x3c/span\x3e\x3c/h4\x3e\x3cdiv class\x3d"sectionTitle"\x3e\x3c%- purchase %\x3e\x3c/div\x3e\x3cdiv class\x3d"prices"\x3e\x3c/div\x3e\x3c% if (hasComponentMedia) { %\x3e\x3cdiv class\x3d"sectionTitle"\x3e\x3c%- includedAssets %\x3e\x3c/div\x3e\x3cul class\x3d"componentItems componentMedia threeCol"\x3e\x3c/ul\x3e\x3c% } %\x3e\x3cdiv class\x3d"sectionTitle"\x3e\x3c%- details %\x3e\x3c/div\x3e\x3cdiv class\x3d"details"\x3e\x3cp class\x3d"id"\x3e\x3c%- idTag %\x3e\x3ca target\x3d"_blank" href\x3d"\x3c%- url %\x3e"\x3e\x3c%- id %\x3e\x3c/a\x3e\x3c/p\x3e\x3c/div\x3e\x3c% if (hasKeywords) { %\x3e\x3cdiv class\x3d"sectionTitle"\x3e\x3c%- keywords %\x3e\x3c/div\x3e\x3cp class\x3d"keywords"\x3e\x3c/p\x3e\x3c% } %\x3e'),z1:_.template('\x3ca class\x3d"close" href\x3d"#" title\x3d"\x3c%- closeThisInfoPanel %\x3e"\x3e\x3c%- close %\x3e\x3c/a\x3e\x3ch3 class\x3d"infoPanelTitle"\x3e\x3c%- title %\x3e\x3c/h3\x3e\x3ch4 class\x3d"infoPanelSubtitle layoutsInfo"\x3e\x3cspan class\x3d"infoPanelLayoutsCount"\x3e\x3c%- count %\x3e\x3c/span\x3e\x3c/h4\x3e\x3c% if (hasComponentDesignPages) { %\x3e\x3cul class\x3d"componentItems componentLayouts twoCol"\x3e\x3c/ul\x3e\x3c% } %\x3e'),
O3:_.template('\x3ca class\x3d"close" href\x3d"#" title\x3d"\x3c%- closeThisInfoPanel %\x3e"\x3e\x3c%- close %\x3e\x3c/a\x3e\x3ch3 class\x3d"infoPanelTitle"\x3e\x3c%- title %\x3e\x3c/h3\x3e\x3ch4 class\x3d"infoPanelSubtitle brandInfo layoutsInfo"\x3e\x3cspan class\x3d"infoPanelLayoutsCount"\x3e\x3c%- count %\x3e\x3c/span\x3e \x3cspan class\x3d"brand"\x3e\x3c/span\x3e\x3cspan class\x3d"spinner on"\x3e\x26hellip;\x3c/span\x3e\x3c/h4\x3e\x3cul class\x3d"componentItems componentLayouts twoCol"\x3e\x3c/ul\x3e'),
Z9:_.template('\x3ca class\x3d"close" href\x3d"#" title\x3d"\x3c%- closeThisInfoPanel %\x3e"\x3e\x3c%- close %\x3e\x3c/a\x3e\x3ch3 class\x3d"infoPanelTitle"\x3e\x3c%- title %\x3e\x3c/h3\x3e\x3c% if (isUnapproved) { %\x3e\x3cp class\x3d"unapproved error"\x3e\x3c%- uploadError %\x3e\x3cbr\x3e\x3c%- imageRequirementsTitle %\x3e\x3c/p\x3e\x3cul class\x3d"unapproved error"\x3e\x3cli\x3e\x3c%- imageRequirementsSize %\x3e\x3c/li\x3e\x3cli\x3e\x3c%- imageRequirementsExt %\x3e\x3c/li\x3e\x3cli\x3e\x3c%- imageRequirementsRgb %\x3e\x3c/li\x3e\x3c/ul\x3e\x3c% } %\x3e\x3cp class\x3d"delete removeUpload" data-media-id\x3d"\x3c%- id %\x3e" data-version\x3d"\x3c%- version %\x3e"\x3e\x3cspan class\x3d"icon" title\x3d"\x3c%- deleteMsg %\x3e"\x3e\x3c/span\x3e\x3c%- deleteMsg %\x3e\x3c/p\x3e'),
LJ:_.template('\x3cli class\x3d"componentItem fetchingComponentItem componentItem\x3c%- id %\x3e"\x3e\x3cspan class\x3d"componentItemLinkLoading"\x3e\x3c/span\x3e\x3ca class\x3d"componentItemLink" target\x3d"_blank" href\x3d"\x3c%- url %\x3e"\x3e\x3c%- id %\x3e\x3c/a\x3e\x3c% if (hasPrice) { %\x3e\x3cspan class\x3d"componentItemPrice"\x3e\x3c%- price %\x3e\x3c/span\x3e\x3c% } %\x3e\x3c/li\x3e'),m3:_.template('\x3cspan class\x3d"mediaKeyword"\x3e\x3c%- keyword %\x3e\x3c/span\x3e',{variable:"keyword"})});
f=pN.prototype;f.initialize=function(a){this.i=a.i;this.W=a.W;this.J=jc(a.i);this.title=a.title||this.model.pb&&this.model.pb()||Nd(this.J);this.document=null;this.Pa=a.Pa;this.TM=a.TM;this.Nj=a.Nj;this.QM=a.QM;this.DM=a.DM;this.SM=a.SM;this.bO=a.bO;this.Nb=a.Nb;this.rs=a.rs;this.Vo=new Map;this.QH=a.QH};
f.events=function(){return{"mousedown .componentLayouts .componentItem a":this.P1,"click .componentLayouts .componentItem a":this.tS,"click .brandInfo a":this.w8,"click .mediaKeyword":this.z8,"click .removeUpload":this.X7,"click .close":this.close}};
f.render=function(){this.$el.html(this.template({title:this.title,close:Ld(this.J)}));if(this.TM)this.$el.html(this.Z9({title:this.title||Nd(this.J),id:this.model.u(),version:this.model.getVersion(),isUnapproved:this.SM,close:Ld(this.J),closeThisInfoPanel:Md(this.J),uploadError:this.J.format("objectPanelInfoUploadError"),imageRequirementsTitle:this.J.format("objectPanelInfoImageRequirementsTitle"),imageRequirementsSize:this.J.format("objectPanelInfoImageRequirementsSize"),imageRequirementsExt:this.J.format("objectPanelInfoImageRequirementsExt"),
imageRequirementsRgb:this.J.format("objectPanelInfoImageRequirementsRgb"),deleteMsg:this.J.format("objectPanelInfoDelete")}));else if(this.DM)this.$el.html(this.z1({title:this.title,count:Od(this.J,Number(this.model.we().pageCount)),hasComponentDesignPages:this.eV(),close:Ld(this.J),closeThisInfoPanel:Md(this.J)})),this.eV()&&UV(this);else if(this.Nj)this.$el.html(this.O3({title:this.title,count:Od(this.J,Number(this.model.gc())),close:Ld(this.J),closeThisInfoPanel:Md(this.J)})),NK(this.model)&&0<
this.model.gc()&&VV(this);else if(this.QM){this.$el.html(this.B8({title:this.title,id:this.model.u(),url:"/media/"+encodeURIComponent(this.model.u()),hasComponentMedia:this.mM(),hasKeywords:this.fV(),close:Ld(this.J),purchase:this.J.format("objectPanelInfoPurchase"),includedAssets:this.J.format("objectPanelInfoIncludedAssets"),details:this.J.format("objectPanelInfoDetails"),keywords:this.J.format("objectPanelInfoKeywords"),idTag:this.J.format("objectPanelInfoIDTag")}));if(this.fV()){var a=this.model.il().map(this.m3).join(", ");
this.$(".keywords").html(a)}this.mM()&&WV(this);this.model.fa&&this.model.fa()&&XV(this);var b,c,d=0;this.mM()?(d=this.model.oF()/100,a=0===d?0:100):a=KK(this.model);b=10*a;c=100*a;this.$(".prices").html(TV({GB:!1,jz:!1,YA:YV(this,a,d),HB:YV(this,b,d),kz:YV(this,c,d),xd:this.J.format("objectPanelInfoFree"),gF:this.J.format("objectPanelInfoFreeDescription"),XA:this.J.format("objectPanelInfoOneUse"),Ic:this.J.format("objectPanelInfoOneUsePriceDescription"),AD:this.J.format("objectPanelInfoC4WFreeMedia"),
IB:this.J.Bc(),Kc:this.J.format("objectPanelInfoRoyaltyFreePriceDescription"),lz:this.J.vd(),Ld:this.J.format("objectPanelInfoExtendedPriceDescription"),Zv:0===a,Ew:0===b,Iu:0===c,mA:this.model.sv()}).toString())}return this};
function WV(a){function b(a,b){function d(){var a=$(this).attr("src");$(this).remove();k++;u.removeClass("fetchingComponentItem");u.find(".componentItemLink").css("background-image","url("+a+")");k>=h&&ZV(c)}if(200===a){a=0;var e=b.Ha().nc(),e=e.THUMBNAIL_LARGE||e[QC],g=NE(b.Ha());g&&(a=100*NE(b.Ha()).ONE_USE||0);var u=$(c.LJ({url:"/media/"+b.u(),id:b.u(),hasPrice:g,price:$V(c,a)}));c.$(".componentMedia").append(u);$("\x3cimg/\x3e").attr("src",e.ma()).one("load",d)}}var c=a,d=a.model.NL(),e=Math.ceil(d.length/
3),g=.21*$(".infoPanelGallery").width()+20;a=a.$(".componentMedia");var h=d.length,k=0;aW(c);a.css("height",e*g+"px");d.forEach(function(a){Bb.Jb(a.id,(new ZC).xk(a.version),b)})}function bW(a,b){function c(){return null}var d=Cb.fa(a.model.fa()).catch(c);a="DESIGN"==LK(a.model)&&a.model.va&&a.model.va()?Cb.va(a.model.va()).then(function(a){return a.ob()||a.Yf()}).catch(c):a.model.GU();P.all([d,a]).spread(b)}
function XV(a){bW(a,function(b,c){var d="DESIGN"==LK(a.model)?$("\x3cspan\x3e"):$("\x3ca\x3e").attr("href","#");if(b){var e=b.ob()||b.ML(),g=a.J.format("objectPanelInfoBrand")+" "+b.u();c?b.Ph()&&!e?d.text(a.J.format("objectPanelInfoByUser",c)):d.text(a.J.format("objectPanelInfoByUserFromBrand",c,e||g)):d.text(a.J.format("objectPanelInfoByBrand",e||g))}else d.text(a.J.format("objectPanelInfoByUnknownBrand"));a.$(".brandInfo .brand").append(d).addClass("on");a.$(".brandInfo .infoPanelLayoutsCount").addClass("on");
a.$(".brandInfo .spinner").removeClass("on").addClass("off")})}
function VV(a){function b(a){var b=d.model.getFile("THUMBNAIL_LARGE",a)||d.model.getFile(QC,a),c="https://static.canva.com/static/images/default_thumbnail.gif",e=$(d.LJ({url:"#",id:a,hasPrice:!1})).css("padding-top",d.QH*l*100+"%");b&&(c=b.url);g.append(e);$("\x3cimg/\x3e").attr("src",c).one("load",function(){var a=$(this).attr("src");$(this).remove();h++;e.removeClass("fetchingComponentItem");e.find(".componentItemLink").css("background-image","url("+a+")");h>=k&&ZV(d)})}function c(a,b){var c=[];Array.isArray(b.media)&&
(c=b.media.map(La).map(fn));0<c.length&&(b=VE(new UE,c).RC(),uE(Bb,b,function(b,c){var e=0;200===b&&(e=c.media.reduce(function(a,b){return a+(NE(b.Ha()).ONE_USE||0)},0));0!==e&&d.$(".componentLayouts .componentItem"+a).append('\x3cspan class\x3d"componentItemPrice unlistedPrice"\x3e$\x3c/span\x3e')}))}var d=a,e=a.model.gc(),g=a.$(".componentLayouts"),h=0,k=e,e=$(".infoPanelGallery").width(),l=(e-10)/e/2;aW(a);XV(a);MK(a.model).sort(function(a,b){return a-b}).forEach(function(a){b(a);cW(d,a,function(b){c(a,
b)})})}
function UV(a){function b(a){var b=!1,d="https://static.canva.com/static/images/default_thumbnail.gif";e[a]&&(b=!0,d=e[a].url);var m=$(c.LJ({url:"#",id:a,hasPrice:!1})).css("padding-top",c.QH*n*100+"%");m.toggleClass("componentItemThumbnailUpdating",!b||g);h.append(m);$("\x3cimg/\x3e").attr("src",d).one("load",function(){var a=$(this).attr("src");$(this).remove();k++;m.removeClass("fetchingComponentItem");m.find(".componentItemLink").css("background-image","url("+a+")");k>=l&&ZV(c)})}var c=a,d=a.model.we().imageSets.thumbnail,e=
d.images,g=a.model.getVersion()>d.version,d=a.model.we().pageCount,h=a.$(".componentLayouts"),k=0,l=d,m=$(".infoPanelGallery").width(),n=(m-10)/m/2;aW(a);for(a=0;a<d;a++)b(a)}function aW(a){a.$el.addClass("infoPanelLoading")}function ZV(a){window.setTimeout(function(){a.$el.removeClass("infoPanelLoading").addClass("infoPanelLoaded")},M.za.a3)}f.fV=function(){return this.model.il&&0<(this.model.il()||[]).length};f.eV=function(){return this.model.we&&1<this.model.we().pageCount};
f.mM=function(){return this.model.NL&&0<(this.model.NL()||[]).length};function YV(a,b,c){return null===b?null:0===b?a.J.format("objectPanelInfoFree"):null!=c&&0<c?a.J.format("objectPanelInfoComponentsPrice",c,(b/100).toFixed(0)):a.J.format("objectPanelInfoPrice",(b/100).toFixed(0))}function $V(a,b){b=YV(a,b);null===b&&(b=a.J.format("objectPanelInfoPriceUnavailable"));return b}f.close=function(){rN.call(this.$(".close").get(0))};f.w8=function(){$("#search").val("brand:"+this.model.fa());wM=null;UL(this.i)};
f.z8=function(a){$("#search").val(a.currentTarget.textContent);wM=null;UL(this.i)};f.X7=function(a){this.close(a);a=(new yE).Do(this.model.u()).xk(this.model.getVersion()).Dt(!0);wE(Bb,a,this.bO)};
f.aM=function(a){var b;if(!(this.model instanceof qr))throw Error("attempted to get a page from a non-design");try{b=this.model.we().content.pages[a]}catch(c){}if(!b&&this.document)try{b=this.document.we().content.pages[a]}catch(c){}b?this.Nb&&this.rs&&(a={},a[this.rs.Pb()]="#"+this.Nb,b=dW(null,b,a)):b=null;return b};function cW(a,b,c){var d=a.model.getFile("ORIGINAL",b).ma();$.getJSON(d,function(d){a.Vo.set(b,d);c&&c(d)})}function eW(a,b){if(a=a.Vo.get(b))return a.content.pages[0]}
function fW(a){return a.Pa.getDocument(new jt({og:a.model.u(),gA:!0})).then(function(a){return this.document=a.getDocument()}.bind(a))}
f.tS=function(a,b){function c(a){function b(){RO({Yo:QO(v),$d:I.hb(),page:v});c(v.serialize())}function c(b){var g={};a.layout&&(g.id=a.layout.id,g.version=a.layout.version);d.model instanceof JK&&(g.id=d.model.u(),g.version=d.model.getVersion());b=Zm(new Xm(g),b);var g={"new":b,old:l,pageIndex:h.K()},n=jq(b.Ag()),p=U,u=b.serialize();!n&&p&&u&&$l(p,u.id);bO(h,b,k,e);L.register(new XN(4,g))}if(d.model instanceof qr){var e=new cn({type:$A,id:d.model.u(),version:d.model.getVersion()});oV(a,e)}if(a.width!==
h.l()||a.height!==h.o()){var g=Zm(new Xm,a),v=new Op(I,{});bO(v,g,null,null,!0);d.listenToOnce(v,"unpacked",b)}else c(a)}var d=this,e=parseInt(a.currentTarget.textContent,10),g=this.Nj?eW(this,e):this.aM(e),h=I.Aa();if(b){var k=this.model instanceof qr?rr(this.model,e):this.model.getFile(QC,e).ma(),l=h.Wt();h.clear();k&&LO(h,k);g?c(g):this.Nj?cW(this,e,function(a){return c(a)}):fW(this).then(this.aM.bind(this,e)).then(c.bind(this))}else XL.By(h,this.i).then(function(b){b&&this.tS(a,!0)}.bind(this))};
f.P1=function(a){var b,c,d,e=parseInt($(a.currentTarget).text(),10),g={url:"https://static.canva.com/static/images/default_thumbnail.gif"};this.Nj?(b=eW(this,e),c=this.model.getFile("THUMBNAIL_LARGE",e)||this.model.getFile(QC,e),d={url:c.ma()},c={draft:{content:{pages:[]},imageSets:{thumbnail:{images:[d||g]}}}}):(b=this.aM(e),c=$.extend(!0,{},this.model),d=c.draft.imageSets.thumbnail.images[e],c.draft.imageSets.thumbnail.images[0]=d||g);b?(c.draft.content.pages=[],c.draft.content.pages[0]=$.extend(!0,{},b),b={pageTemplate:b}):
b=this.Nj?{cdfRequest:{url:this.model.getFile("ORIGINAL",e).ma()}}:{pageTemplateRequest:{pageIndex:e}};this.model instanceof qr?b.documentProperties={id:this.model.u(),version:this.model.getVersion(),previewUrl:rr(this.model,e)}:this.model instanceof JK&&(b.layoutProperties={id:this.model.u(),version:this.model.getVersion(),previewUrl:this.model.getFile(QC,e).ma()});e=gW(Aq(c),jc(this.i));e.$el.children("a").data(b).css("width",$(a.currentTarget).css("width")).css("height",$(a.currentTarget).css("height"));
$(a.currentTarget).parents("li").data("view",e);return rM.call(a.currentTarget,a)};function gW(a,b,c){if(a instanceof JK)return"DESIGN"===LK(a)&&hW(function(){a.Cj()}),new hP({model:a,query:c||void 0,J:b,W:Ib});if(a instanceof nI)return new iW({model:a});if(a instanceof qr)return new jW({model:a});if("string"===typeof a&&-1<_.keys(Vm).indexOf(a))return new kW({model:a});if("string"===typeof a&&-1<_.keys(Wm).indexOf(a))return new lW({model:a,J:b});throw new TypeError("Unknown galleryObject type: "+typeof a);}
var hW=function(){var a=Date.now();return function(b){var c=Date.now(),d=Math.max(0,500-(c-a));window.setTimeout(b,d);a=c+d}}();function mW(){}mW=Backbone.View.extend({});mW.waa=function(){};mW.prototype.hc=function(){return Math.round(this.$el.offset().top)};mW.prototype.ed=function(){return Math.round(this.$el.offset().top+this.$el.height())};function nW(a){return Math.round(parseInt(a.$el.css("left"),10)+a.$el.width()/2)}mW.prototype.Lg=function(a,b){b?this.$el.css("top","+\x3d"+a):this.$el.addClass("doNotTransition").css("top","+\x3d"+a).removeClass("doNotTransition")};
function oW(a,b,c){var d=a.$el.data("originalTop");c?a.$el.css("top",d+b):a.$el.addClass("doNotTransition").css("top",d+b).removeClass("doNotTransition")}
mW.prototype.Gy=function(){var a=this.$el.children("a"),b=a.offset(),c=a.width(),d=a.height(),e=$('\x3cdiv class\x3d"clone"\x3e\x3c/div\x3e'),a=a.children().first().clone();a.hasClass("multiPageLayoutItem")&&(a=a.find("img"));a.css("width",c).css("height",d).appendTo(e);e.data("li",this.$el).css("left",b.left).css("top",b.top).css("width",c).css("height",d);return e};function kW(){}kW=mW.extend({tagName:"li",className:"newSearch grid",template:_.template('\x3ca href\x3d"#"\x3e\x3c/a\x3e')});kW.prototype.initialize=function(a){this.WU=this.model;this.F2=Vm[this.WU];!a.el&&this.render();this.$el.data("view",this)};kW.prototype.render=function(){this.$el.html(this.template()).attr("data-grid-name",this.WU);this.$("a").append(YD(this.F2.items));return this};function lW(){}lW=mW.extend({tagName:"li",className:"newSearch chart",template:_.template('\x3ca href\x3d"#"\x3e\x3c/a\x3e')});lW.prototype.initialize=function(a){this.J=a.J;this.ZS=this.model;this.o0=JSON.parse(JSON.stringify(Wm[this.ZS]));!a.el&&this.render();this.$el.data("view",this)};
lW.prototype.render=function(){this.$el.html(this.template()).attr("data-chart-name",this.ZS);var a=ZG(this.o0);a.setAttribute("style","max-height: 72px");this.$("a").append(a);this.$("a").append('\x3cspan class\x3d"edit"\x3e'+this.J.format("objectPanelInfoEdit")+"\x3c/span\x3e");return this};function iW(){}iW=mW.extend({tagName:"li",className:"newSearch loading",template:_.template('\x3ca href\x3d"#" title\x3d"\x3c%\x3d name %\x3e"\x3e\x3cimg src\x3d"\x3c%\x3d thumbnail.url %\x3e" width\x3d"\x3c%\x3d thumbnail.width %\x3e" height\x3d"\x3c%\x3d thumbnail.height %\x3e" \x3e\x3c/a\x3e'),G2:_.template('\x3ca href\x3d"#" title\x3d"\x3c%\x3d name %\x3e"\x3e\x3c/a\x3e')});iW.prototype.initialize=function(a){!a.el&&this.render();this.$el.data("view",this)};
iW.prototype.render=function(){var a=this,b=this.model.getContent();oI(this.model)?(this.$el.addClass("grid").html(this.G2(this.model)),this.$("a").append(YD(b.elements[0].items)),this.$el.removeClass("loading")):(this.$el.html(this.template(this.model)),this.$("img").on("load",function(){a.$el.removeClass("loading")}));this.$el.data("layoutItem",this.model);return this};
iW.prototype.Gy=function(){var a=mW.prototype.Gy.call(this),b=a.children().first();a.addClass("template");oI(this.model)&&(a.addClass("draggableGridItem dragging"),b.find(".item \x3e .content").addBack().css("left",1).css("right",1).css("top",1).css("bottom",1));return a};function jW(){}jW=iW.extend({className:"designGalleryItem newSearch loading",tagName:"li"});jW.prototype.initialize=function(){this.render()};
jW.prototype.render=function(){var a=this,b=this.model.draft,c=pW(this);this.$el.data({designItem:this.model,usablePreview:c,view:this});this.$el.html(this.template({pageCount:b.pageCount,name:b.content.title,thumbnail:ar(a.model.draft.imageSets.thumbnail)}));this.$el.toggleClass("designItemThumbnailUpdating",c);this.$("img").on("load",function(){a.$el.removeClass("loading")});return this};
function pW(a){var b;try{b=a.model.we().imageSets.thumbnail.version}catch(c){b=-1}return a.model.getVersion()>b}jW.prototype.Gy=function(){var a,b,c;a=mW.prototype.Gy.call(this);a.addClass("template");b=a.find(".designItem");1===b.length&&(c=a.find("img"),c.css("width",a.width()),c.css("height",a.height()),b.remove(),a.append(c));return a};jW.prototype.template=_.template('\x3ca href\x3d"#" title\x3d"\x3c%\x3d name %\x3e"\x3e\x3c% if (pageCount \x3e 1) { %\x3e\x3cdiv class\x3d"designItem multiPageDesignItem" style\x3d"background-image: url(\x3c%\x3d thumbnail.images[0].url %\x3e);"\x3e\x3cdiv class\x3d"multiPageDesignItemPageCount"\x3e\x3c%\x3d pageCount %\x3e\x3c/div\x3e\x3cimg src\x3d"\x3c%\x3d thumbnail.images[0].url %\x3e" width\x3d"\x3c%\x3d thumbnail.width %\x3e" height\x3d"\x3c%\x3d thumbnail.height %\x3e" \x3e\x3c/div\x3e\x3c% } else { %\x3e\x3cimg src\x3d"\x3c%\x3d thumbnail.images[0].url %\x3e" width\x3d"\x3c%\x3d thumbnail.width %\x3e" height\x3d"\x3c%\x3d thumbnail.height %\x3e" \x3e\x3c% } %\x3e\x3c/a\x3e');function hP(){}hP=mW.extend();hP.prototype.initialize=function(a){this.Ni=new rh(window.viewConfig);this.query=a.query;this.J=a.J;this.W=a.W;this.render()};hP.prototype.render=function(){this.$el=this.createElement();this.$el.data("view",this);this.$el.data("searchResult",this.model);this.$el.data("result",this.model);return this};hP.prototype.Nj=function(){return NK(this.model)};
hP.prototype.createElement=function(){function a(){var a;if(c.query&&/^\w+$/.test(c.query)){var b=c.query.toLowerCase();a=c.model.fM();var e=!1;if(a)for(var g=0;g<a.length;g++)if(a[g].toLowerCase()==b){e=!0;break}a='\x3cspan class\x3d"superKeyword '+(e?"superHit":"superMiss")+'" title\x3d"'+(e?"Remove superKeyword ":"Add superKeyword ")+"'"+b+"'\" \x3eS\x3c/span\x3e ";d.data("superKeywordAdd",!e);d.data("query",b);d.find(".searchResultItem__info").append($(a))}}function b(){var a=$('\x3cdiv class\x3d"multiPageLayoutItem"\x3e\x3c/div\x3e'),
b=$('\x3cdiv class\x3d"multiPageLayoutItemPageCount"\x3e\x3c/div\x3e'),e=c.model.getFile("THUMBNAIL_LARGE",0)||c.model.getFile(QC,0);a.css("background-image","url("+e.ma()+")");b.text(String(c.model.gc()));d.find("a \x3e *").wrapAll(a);d.find(".multiPageLayoutItem").append(b)}var c=this,d=$('\x3cli class\x3d"newSearch loading"\x3e\x3ca href\x3d"#"\x3e\x3cimg\x3e\x3c/a\x3e\x3c/li\x3e'),e=this.model.getFile("THUMBNAIL_LARGE")||this.model.getFile(QC),g=this.model.getFile(Tg),h=this.J.format("objectPanelSearchResultItemViewShowMoreInfo");
switch(LK(this.model)){case "ELEMENT_GROUP":hP.x9(function(){c.model.Cj()});d.addClass("elementGroupSearchResult");break;case Pg:d.addClass("vectorSearchResult");break;case Ng:d.addClass("rasterSearchResult")}(function(){var a=$("img",d);DC(EC,a,e.ma()).then(function(){d.removeClass("loading")}).catch(function(){var a=c;a.$el.addClass("failed");a.$el.find(".multiPageLayoutItem").removeClass("multiPageLayoutItem");a.$el.find(".multiPageLayoutItemPageCount").remove();a.$el.find(".price").remove();a.$el.find(".info").remove()});
a.data("screen-url",g.ma()).data("screen-width",g.l()).data("screen-height",g.o()).attr("width",e.l()).attr("height",e.o());LK(c.model)===Pg&&(c.model.dv()?a.addClass("graphic"):a.addClass("svg"))})();(function(){var a=KK(c.model),b=(a/100).toFixed(0),e=c.model.oF(),g=!!c.W.H.get(tg)&&c.model.sv(),a=(e=!!e)&&"$"||(0===a||g)&&Yd(c.J)||qW(c)&&c.J.format("objectPanelMediaItemCostPro")||null!==a&&"$"+b+" USD"||null;$("a",d).append(rW({lt:h,Kf:e,nf:sW(c)||qW(c)||g,da:a}).toString())})();c.Nj()&&(b(),$(".info",
d).remove());"CANVA"!==c.model.Nd()&&$(".info",d).remove();c.model.restricted||c.model.status==BE||($(".info",d).remove(),$(".price",d).remove(),$("img",d).addClass("inMarketplaceReview"));this.Ni.kg.get("quickKeywordEditEnabled",void 0)&&a();return d};
function sW(a){if(0!==KK(a.model)||["text","lines","shapes","frames","Canva"].some(function(b){return b===a.query}))return!1;switch(LK(a.model)){case "DESIGN":return a.W.H.get(pg);case Ng:return a.W.H.get(ug);case Pg:return a.W.H.get(ug);default:return!1}}function qW(a){var b=KK(a.model);if(!a.model.sv()||0===b||null==b)return!1;switch(LK(a.model)){case Ng:return a.W.H.get(xg);case Pg:return a.W.H.get(xg);default:return!1}}
hP.x9=function(){var a=Date.now();return function(b){var c=Date.now(),d=Math.max(0,500-(c-a));window.setTimeout(b,d);a=c+d}}();function tW(){}tW=Backbone.View.extend({className:"searchGroup"});f=tW.prototype;f.initialize=function(a){this.Ru=a.Ru;this.DU=[];this.Fw=a.model;this.listenTo(this.Fw,{"results:willFetch":this.PC,"results:didFetch":this.Jr,"results:clear":this.t0});this.i=a.i;this.kP=!1;a.el||this.render();this.$el.data("view",this)};f.render=function(){this.$el.html(this.template({title:this.Fw.pb()}));this.$(".gallery").addClass(this.Ru);""===this.Fw.pb()&&this.$("h2").remove();return this};f.PC=function(){};
f.Jr=function(a,b,c){function d(b){return gW(b,p,a.P7)}function e(a){a.$el.appendTo(n)}function g(a){return a instanceof JK&&"DESIGN"===LK(a)}function h(a){return a instanceof kW}function k(a){return a instanceof lW}function l(a){return a instanceof iW}function m(){n.addClass("templateGallery").removeClass("photoGallery")}var n,p=jc(this.i);c||(n=this.$(".gallery"),this.$el.addClass("hasContent"),0<b.length?(c=b.map(d),c.forEach(e),c.some(k)&&n.addClass("chartGallery").removeClass("photoGallery"),
c.some(h)&&n.addClass("gridGallery").removeClass("photoGallery"),c.some(l)&&m(),b.some(g)&&m(),this.DU=this.DU.concat(c),this.ka(),this.trigger("results:render")):0===this.Fw.Fz()&&(n.remove(),this.$(".noResults,.layoutsTab__noResults").remove(),this.$el.append(this.aL())))};f.t0=function(){this.$(".gallery").find("li").each(function(){$(this).data("view").remove()})};f.ka=function(){Hz(this.$(".gallery"),!1)};f.compact=function(){Iz(this.$el,!0)};
f.ca=function(a,b){var c=0===a?0:"";b?this.$el.css("height",a).css("padding",c):this.$el.addClass("doNotTransition").css("height",a).css("padding",c).removeClass("doNotTransition")};function uW(a,b){a.$el.addClass("doNotTransition").css("height","+\x3d"+b).removeClass("doNotTransition")}f.Yu=function(a){var b=a.ed();return a.$el.nextAll().toArray().filter(function(a){a=a.getBoundingClientRect();return(a.top+a.bottom)/2>b}).map(function(a){return $(a).data("view")})};
function vW(a,b){b=a.Yu(b);if(0===b.length)return 0;a=b.slice(0).sort(function(a,b){return a.hc()-b.hc()});b=b.slice(0).sort(function(a,b){return b.ed()-a.ed()});a=a[0];return b[0].ed()-a.hc()}function wW(a){return a.$el.outerHeight(!0)-a.$el.height()}f.dz=function(){};f.eT=function(){};f.aL=function(){return $("\x3cp\x3e").addClass("noResults").text(jc(this.i).format("objectPanelSearchNoResults"))};f.template=_.template('\x3ch2\x3e\x3c%- title %\x3e\x3c/h2\x3e\x3cul class\x3d"gallery"\x3e\x3c/ul\x3e');function xW(){}xW=tW.extend();xW.prototype.initialize=function(a){this.i=a.i;this.nA=a.nA;tW.prototype.initialize.call(this,a)};xW.prototype.aL=function(){var a=$("\x3cp\x3e");this.nA?a.addClass("layoutsTab__noResults layoutsTab__noResults--folder").text(jc(this.i).format("objectPanelFolderNoResults")):a.addClass("layoutsTab__noResults layoutsTab__noResults--yourDesigns").text(jc(this.i).format("objectPanelYourDesignsNoResults"));return a};function yW(){}yW=tW.extend();yW.prototype.initialize=function(a){this.i=a.i;tW.prototype.initialize.call(this,a)};yW.prototype.aL=function(){return $("\x3cp\x3e").addClass("layoutsTab__noResults layoutsTab__noResults--templates").html(jc(this.i).format("objectPanelTemplateNoResults"))};function zW(){}zW=tW.extend({});zW.prototype.initialize=function(a){this.mx=null;this.fU=0;tW.prototype.initialize.apply(this,arguments);a.el&&this.$(".gallery li").each(function(){var a=new mW({el:this});$(this).data("view",a)})};
zW.prototype.dz=function(a,b){var c=a.$el,d=this.Yu(a),e=c.height(),e=c.data("originalTop")+e,g=AW(this,e);this.$el.addClass("folderExpanded");c.addClass("folderExpanded");d.forEach(function(a){oW(a,Math.min(b,g),!0)});b>g&&window.setTimeout(function(){d.forEach(function(a){oW(a,b,!1)})},M.za.vz);this.ca(e,!0);this.fU=b;null===this.mx&&(a=vW(this,a),c=this.$el.next(),this.mx=$('\x3cdiv class\x3d"spacer"\x3e\x3c/div\x3e'),this.mx.css("height",a).insertAfter(c))};
zW.prototype.eT=function(a){var b=this.Yu(a),c=this.fU-AW(this);0<c&&b.forEach(function(a){a.Lg(-c,!1)});this.$el.removeClass("folderExpanded");a.$el.removeClass("folderExpanded");b.forEach(function(a){oW(a,0,!0)});var d=this;window.setTimeout(function(){d.compact();d.mx&&d.mx.remove();d.mx=null},M.za.vz*M.Qx)};function AW(a,b){void 0===b&&(b=a.$el.height());var c=a.$el.parents(".layer").outerHeight(!0);a=a.$el.position().top;return c-(a+b)};function BW(){}BW=tW.extend({className:"inlineFolderGroup searchGroup",template:_.template('\x3cul class\x3d"gallery"\x3e\x3c/ul\x3e')});BW.Sx=150;f=BW.prototype;f.initialize=function(a){this.model=a.model;this.eh=null;tW.prototype.initialize.apply(this,arguments);this.render();this.ca(0,!1)};
f.remove=function(){function a(){tW.prototype.remove.apply(b,arguments);b.kP=!1}var b=this,c=this.$(".infoPanel .close"),d=0<c.length,e=this.$el.parent();this.kP=!0;d&&c.trigger("click");if(this.eh)this.eh.css("opacity",0).one("transitionend",function(){$(this).remove();b.eh=null});if(0<e.length){var g=this.$el.offset(),c=g.top+this.$el.outerHeight(),d=e.offset().top+e.outerHeight(),c=c-d;if(0<c){uW(this,-c);var h=e.outerHeight()-g.top;this.$(".gallery li").each(function(){var a=$(this).data("originalTop");
(a>=h||a<-g.top)&&$(this).remove()})}this.$el.one("transitionend",a).addClass("disappearing")}else a()};f.PC=function(){0===this.Fw.Fz()&&KM(this.$el);tW.prototype.PC.apply(this,arguments)};f.Jr=function(a,b,c){OM(this.$el);tW.prototype.Jr.apply(this,arguments);var d=this;window.setTimeout(function(){d.compact()},M.za.m8)};f.compact=function(){if(0!==this.model.Fz()){var a=this;tW.prototype.compact.apply(this,arguments);window.setTimeout(function(){a.$el.height()<BW.Sx&&a.ca(BW.Sx,!0)},M.za.vz)}};
function CW(a){if(null===a.eh){var b=a.$el.parents(".layer");a.eh=$('\x3cdiv class\x3d"folder header clone"\x3e\x3ca class\x3d"close" href\x3d"#" title\x3d"Close this folder"\x3eClose\x3c/a\x3e\x3ch2\x3e\x3cspan\x3e'+_.escape(a.Fw.pb())+"\x3c/span\x3e\x3c/h2\x3e\x3c/div\x3e");a.eh.css("opacity",0).insertAfter(b);P.delay(M.Cc).then(function(){a.eh.css("opacity","")});a.eh.find("a.close").one("click",function(){a.trigger("headerClose:click",a)})}}
function DW(a){if(null!==a.eh){var b=a.eh;a.eh=null;b.css("opacity",0).one("transitionend",function(){$(this).remove()})}};function EW(){}EW=Backbone.View.extend({tagName:"section",className:"layer"});EW.Ik=function(a,b){return new tW({model:a,Ru:"infoPanelGallery photoGallery",i:b})};f=EW.prototype;f.events=function(){return{scroll:_.throttle(this.scroll,200)}};
f.initialize=function(a){this.i=a.i;this.LB=this.model=a.model;this.Rd=[];this.vH=[];this.Ik=a.Ik||EW.Ik;this.AM=!1;this.listenTo(this.LB,"searchGroup:add",this.zk);this.listenTo(this.LB,"searchGroup:remove",this.zB);this.listenTo(this.LB,"results:willFetch",this.PC);this.listenTo(this.LB,"results:didFetch",this.Jr);this.$el.data("view",this)};
f.render=function(){this.$el.empty();this.Rd.forEach(function(a){this.$el.append(a.$el)},this);this.$el.append('\x3cdiv class\x3d"searchLoaderHolder"\x3e\x3c/div\x3e');return this};f.scroll=function(){0<this.Rd.filter(function(a){return a.kP}).length||this.KF()};
f.KF=function(){var a=this.$el.parent(),b=this.Rd[this.Rd.length-1],c=kP(this.LB);if(0!==a.length&&b&&c&&!this.AM){var d=function(){var c=b.$el.offset().top+b.$el.outerHeight(),d=a.offset().top+a.outerHeight();return c-d};gh(this).read(function(){if(c.IA&&d()<=a.outerHeight()*M.OR){var b=this.$("\x3e .inner \x3e .searchGroup .gallery li").length;b>M.cD&&gh(this).write(function(){AN(this.$el,b-M.cD)});this.AM=!0;c.Kh(FW(this))}c.IA||gh(this).write(function(){this.$el.data("userPreparedSearch",!0)})})}};
f.zk=function(a,b,c){(a=this.Rd[c-1])&&a.compact();b=this.Ik(b,this.i);this.Rd.splice(c,0,b);a?b.$el.insertAfter(a.$el):b.$el.appendTo(this.$el.children(".inner"))};f.zB=function(a,b,c){a=this.Rd[c];this.Rd.splice(c,1);a.remove()};f.PC=function(a){this.vH.push(a);KM(this.$el)};f.Jr=function(a,b){var c=this.vH.indexOf(a);-1<c&&this.vH.splice(c,1);0===this.vH.length&&OM(this.$el);this.AM=!1;if(a.IA){var d=this;setTimeout(function(){a===kP(d.model)&&d.KF()},b.length*M.za.Tv+M.za.KA)}};
function FW(a){a=a.$el.parent();return MM(a,a.height())};function GW(){}GW=EW.extend({});f=GW.prototype;f.events=function(){var a=EW.prototype.events.apply(this,arguments);a["mousedown .albumGallery a"]=this.x0;a["click .albumGallery a"]=function(){return!1};a["mousedown .albumGallery a img"]=function(a){a.preventDefault()};a["click .inlineFolderGroup \x3e .header a.close"]=this.cT;a.mousedown=this.H0;return a};f.initialize=function(a){EW.prototype.initialize.call(this,a);this.LD=!1;this.TE=0;this.hA=$();this.listenTo(T,"infoPanelToggle",this.b3)};
function HW(a){a=a.Rd.filter(function(a){return a instanceof BW});return 0<a.length?a[0]:null}f.scroll=function(a){EW.prototype.scroll.apply(this,arguments);var b=HW(this);b&&gh().read(function(a){var d=parseInt(b.$el.css("margin-top"),10),e=parseInt(b.$el.css("margin-bottom"),10),g=b.$el.outerHeight(!1),d=b.$el.position().top+d,h=0<d,k=d+g<e;a.write(function(){h||k?DW(b):CW(b)})})};f.KF=function(){this.$el.data("userPreparedSearch")?AM.call(this.el):EW.prototype.KF.apply(this,arguments)};
f.H0=function(a){if(a.target===this.el||"li"===a.target.nodeName.toLowerCase()&&0<$(a.target).parents(".browseCategories").length)return(a=this.Rd[0].$("li.folderExpanded").data("view"))&&IW(this,a),!1};f.x0=function(a){var b=this.Rd[0];a=$(a.currentTarget).parent().data("view");var c=b.$el.hasClass("folderExpanded")&&!a.$el.hasClass("folderExpanded");a.$el.hasClass("folderExpanded")?IW(this,a):c?(b=b.$("li.folderExpanded").data("view"),IW(this,b)):this.LD||JW(this,a);return!1};
f.cT=function(){var a=this.$(".gallery .folderExpanded").data("view");!this.LD&&IW(this,a)};
function JW(a,b){var c=a.Rd[0],d=a.model,e=b.$el.children("a"),g=e.attr("title"),e=e.data("query"),h=lP(e),k=new bM(h,g,e);jP(d,k,1);a.trigger("folder:expand",e);d=a.Rd[1];d.$el.attr("data-query",e);KW(a,BW.Sx);c.dz(b,a.TE);0===vW(c,b)&&d.$el.addClass("end");a.listenTo(d,"headerClose:click",function(){a.cT()});a.hA.remove();a.hA=$('\x3cdiv class\x3d"inlineFolderPointer"\x3e\x3c/div\x3e');a.hA.css("left",nW(b)+parseInt(a.$el.css("padding-left"),10)).insertBefore(d.$el);KM(d.$el);setTimeout(function(){k.Kh(FW(a))},
M.za.vz*M.Qx);a.$el.removeData("userPreparedSearch")}function IW(a,b){var c=a.Rd[0],d=a.model;if(1<d.getLength()){a.LD=!0;var e=kP(d),g=HW(a);a.stopListening(g);d.zB(e);a.hA&&setTimeout(function(){a.hA.remove();a.LD=!1},M.za.vz)}c.eT(b);KW(a,0);a.$el.data("userPreparedSearch",!0)}f.zk=function(a,b,c){(a=this.Rd[c-1])&&a.compact();var d=new BW({model:b,Ru:"infoPanelGallery photoGallery",i:this.i});this.Rd.splice(c,0,d);d.$el.insertAfter(a.$el);P.delay(M.Cc).then(function(){d.ca(BW.Sx-72,!0)})};
f.Jr=function(a,b,c){EW.prototype.Jr.apply(this,arguments);eP(this,!0)};function eP(a,b){var c=a.Rd[0],d=HW(a),e=c.$("li.folderExpanded").data("view");if(e){var g=wW(d),h=d.$el.data("contentHeight")||0,g=g+h,k=oN(d.$el),l=Math.max(g,BW.Sx),m=c.$el.find("li");b?c.dz(e,l+k):(m.addClass("doNotTransition"),P.delay(M.Cc).then(function(){c.dz(e,l+k);P.delay(M.Cc).then(function(){m.removeClass("doNotTransition")})}));KW(a,l)}}
f.b3=function(a,b){var c=HW(this);c&&c.el===a.get(0)&&(a=this.Rd[0],c=a.$("li.folderExpanded").data("view"),a.dz(c,this.TE+b))};function KW(a,b){var c=b-a.TE;a.TE=b;var d=a.Rd[0].$el.nextAll(".searchGroup:not(.inlineFolderGroup)").find(".infoPanel, .infoPanelPointer");d.one("transitionend",function(){$(this).removeClass("transitionTop")}).addClass("transitionTop");P.delay(M.Cc).then(function(){d.css("top","+\x3d"+c)})};function VL(){}VL=Backbone.View.extend({className:"textControls"});VL.I_=1.02;f=VL.prototype;f.events=function(){return{"mousedown a.add":this.D3,"click a.add":this.v0}};f.initialize=function(a){this.Ai=a.Ai;this.i=a.i;this.GD=!1;this.listenTo(this.model,"change:defaultFont",this.V9);this.render()};f.template=_.template("\x3c% if (hasBrandKit) { %\x3e\x3cp\x3e\x3c%- brandFontLabel %\x3e\x3c/p\x3e\x3c% } else { %\x3e\x3cp\x3e\x3c%- fontLabel %\x3e\x3c/p\x3e\x3c% } %\x3e\x3cul\x3e\x3c/ul\x3e");
f.r3=_.template('\x3cli style\x3d"color: \x3c%- color %\x3e; text-align: \x3c%- justification %\x3e;"\x3e\x3ca class\x3d"add" data-style\x3d"\x3c%- style %\x3e"href\x3d"#" style\x3d"color: \x3c%\x3d color %\x3e; font-family: \'\x3c%- fontFamily %\x3e\'; font-size: \x3c%- fontSizePercentage %\x3e%; font-style: \x3c%- italic ? "italic" : "normal"%\x3e; font-weight: \x3c%- bold ? "bold" : "normal"%\x3e;"\x3e\x3c%- placeholderText %\x3e\x3c/a\x3e\x3c/li\x3e');
f.render=function(){var a,b=this;this.$el.html(this.template(function(){var a=jc(b.i);return{hasBrandKit:!!b.Ai,fontLabel:a.format("objectPanelTextPanelFontLabel"),brandFontLabel:a.format("objectPanelTextPanelBrandFontLabel")}}()));a=this.$el.children("ul");for(var c in dc)a.append(LW(this,dc[c]));MW(this,this.h8.bind(this));return this};
f.h8=function(){var a;this.$(".add").each(function(){a=a||Math.min(1,this.parentElement.offsetWidth/this.offsetWidth);this.style.fontSize=parseFloat(this.style.fontSize)*a+"%"})};function MW(a,b){function c(){d++;3===d&&b&&b()}var d=0;Object.keys(dc).forEach(function(a){a=this.Wr(dc[a]).fontFamily;pJ(a,c)},a)}function LW(a,b){b=a.Wr(b);return $(a.r3(b))}
f.Wr=function(a){var b={title:32,subtitle:18,body:14},c=$.extend(!0,{},this.model.mI[a]),d=$.extend(!0,{},this.model.rr[a]),e=NW(this,a),g=jc(this.i);switch(a){case "title":g=Td(g);break;case "subtitle":g=Ud(g);break;case "body":g=g.format("objectPanelTextPanelAddBody");break;default:throw Error("Unknown TextElementStyle "+a);}g={bold:!1,italic:!1,justification:"center",color:"auto",placeholderText:g,style:a};c=_.extend({},g,d,c,e);(e=qA(Jb,c.fontFamily))?c.fontFamily=e.family:c=_.extend({},g,d);
void 0===c.fontSize&&(c.fontSize=b[a]);c.fontSizePercentage=c.fontSize*M.ti;return c};function NW(a,b){var c;try{c=a.Ai.xC[0].yC||[]}catch(d){c=[]}return c.filter(function(a){return!!a.font&&a.getName()===b}).map(function(a){a=a.font;return{bold:a.bold,italic:a.italic,fontFamily:a.family,fontSize:a.Gp()}})[0]}f.V9=function(a,b,c){var d=this.$el.find("[data-style\x3d"+b+"]").parent(),e=LW(this,b);pJ(c.fontFamily,function(){d.replaceWith(e)})};
f.v0=function(a){function b(a){a.Vk(d);Jg(a)}var c=this.model;a=$(a.currentTarget).data("style");var d=c.Aa();this.$D(a).then(b,b);this.GD=!0;return!1};
f.$D=function(a){var b=this.$(".add[data-style\x3d"+a+"]"),c=this.Wr(a);c.fontSize*=J.ip;var d=OW(this,b);d.find("a").css("font-size",c.fontSize*M.ti+"%");d.css("font-size","100%").css("opacity",0).appendTo("#content");var e=d.width();d.remove();var g=_.defaults({style:a,lockedWidth:!1,width:e*VL.I_,html:b.text(),placeholderText:b.text()},c);return new P(function(a,b){new Rp(g,function(c,d){d?a(c):b(c)})})};
function OW(a,b){var c=a.model.Aa().xg(),d=a.Wr(b.data("style")),e=b.clone();a=PW(a);var g=parseFloat(b.get(0).style.fontSize||100)/100,d=d.color&&"auto"!==d.color?d.color:"inherit";e.css("width",b.width()).css("height",b.height()).css("white-space","nowrap").css("color",d).css("font-size",a*g*100+"%");b=$('\x3cdiv class\x3d"textControls clone text"\x3e\x3c/div\x3e');b.css("font-size",100*W+"%").css("color",c?"white":"black").append(e);return b}
f.D3=function(a){function b(a){var h=void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX;a=void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY;if(d.GD)return D.off("mousemove|touchmove",b).off("mouseup|touchend",c),l&&l.remove(),g.removeClass("pickedUp"),d.GD=!1;if(null==l)if(RM(D)){var m=Rn(r,x,h,a);if(300<m||60>m)l=OW(d,e),$("#content").append(l),g.addClass("pickedUp");else return!0}else if(Math.abs(h-r)>M.Dc||Math.abs(a-x)>M.Dc)l=OW(d,e),$("#content").append(l),g.addClass("pickedUp");
null!=l&&(m=k.top+a-x,l.css("left",k.left+h-r).css("top",m),m=Math.min(1,Math.sqrt(Math.pow(h-r,2)+Math.pow(a-x,2))/H),l.css("font-size",100*(1+(u-1)*m)+"%").css("color",In(Q,N,m).qa()),(h<n.left||h>n.left+p||a<n.top||a>n.top+q)&&sN(v.$el,l)?(null==K&&(K=new jh(l,z)),lh(K,O,E)):$("#overlays .align").removeClass("on"));return!1}function c(a){function h(){l.remove();g.removeClass("pickedUp");l.hasClass("returning")||k()}function k(){e.one("transitionend",function(){$(this).removeClass("reappearing")}).addClass("reappearing")}
function m(a){a.setPosition(K.F(),K.w());a.appendTo(d.model.Aa());Jg(a);Kg(a);hK(a.C())}D.off("mousemove|touchmove",b).off("mouseup|touchend",c);$("#overlays .align").removeClass("on");$("#content").trigger("mousedown");ph();var u=void 0!==a.clientX?a.clientX:a.originalEvent.changedTouches[0].clientX;a=void 0!==a.clientY?a.clientY:a.originalEvent.changedTouches[0].clientY;if(null==l&&Math.abs(u-r)<M.Dc&&Math.abs(a-x)<M.Dc)return!1;null!=l&&((u<n.left||u>n.left+p||a<n.top||a>n.top+q)&&sN(v.$el,l)?
(u=e.data("style"),d.$D(u).then(m).finally(h)):(u=e.offset(),l.addClass("returning"),l.one("transitionend",h).css("left",u.left).css("top",u.top).css("font-size","100%").css("color",Q.qa())))}if(a.which!==M.yh){var d=this,e=$(a.currentTarget),g=e.parent("li"),h=$(a.currentTarget).data("style"),k=e.offset(),l=null,m=$("#objectPanel"),n=m.offset(),p=m.outerWidth(),q=m.outerHeight(),h=this.Wr(h);h.fontSize*=J.ip;var u=1/(parseFloat(e.get(0).style.fontSize)/M.ti*PW(this)/h.fontSize)*W,v=oh(J),z=v.$el.find(".page__content").get(0).getBoundingClientRect(),
r=void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX,x=void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY,H=Math.abs(r-(n.left+p)),D=new mp($(document));D.on("mousemove|touchmove",b).on("mouseup|touchend",c);var K=null,E=kh(),O={};a=this.model.Aa().xg();var Q=qn(new on,255,255,255),N=new on;h.color&&"auto"!==h.color?N=uh(h.color)||N:a?qn(N,255,255,255):qn(N,0,0,0);this.GD=!1;return wN}};
function PW(a){return parseFloat(getComputedStyle(a.el.querySelector("ul")).fontSize)/parseFloat(getComputedStyle(a.el).fontSize)};function dM(){}dM=EW.extend();dM.prototype.initialize=function(a){this.limit=0;this.J=jc(a.i);a.model=new iP;a.Ik=dM.Ik;EW.prototype.initialize.call(this,a);this.model.zk(QW())};dM.Ik=function(a,b){return new yW({model:a,Ru:"infoPanelGallery photoGallery",i:b})};function QW(){var a=Gx(Dx()).fa(),b=w(I.hb().u());return new bM(new uP({ta:a.u(),Pa:xb,xK:b,ni:new jI(Hb)}))}dM.prototype.Kh=function(a){this.limit=a;kP(this.model).Kh(a)};
dM.prototype.reset=function(){for(var a=this.model;kP(a);)a.zB(kP(a));this.model.zk(QW())};function ZL(){}ZL=EW.extend();ZL.Ik=function(a,b,c){return new xW({model:b,nA:a,Ru:"infoPanelGallery photoGallery",i:c})};ZL.prototype.initialize=function(a){a.model=new iP;a.Ik=ZL.Ik.bind(null,a.nA);EW.prototype.initialize.call(this,a);this.model.zk(new bM(a.A1))};ZL.prototype.Kh=function(a){kP(this.model).Kh(a)};function aM(){}aM=EW.extend();aM.prototype.initialize=function(a){this.ZD=a.ZD;a.model=new iP;EW.prototype.initialize.call(this,a);this.model.zk(this.ZD())};aM.prototype.Kh=function(a){kP(this.model).Kh(a)};aM.prototype.reset=function(){this.model.zB(kP(this.model));this.model.zk(this.ZD())};function XL(){}XL=Backbone.View.extend();f=XL.prototype;f.initialize=function(a){this.Nb=a.Nb;this.hK=a.hK;this.Fr=SM;this.WD=a.WD;this.YJ=a.YJ;this.UJ=a.UJ;this.ZJ=a.ZJ;this.Pa=a.Pa;this.ec=a.ec;this.Pc=null;this.zU=!1;this.jQ=a.jQ;this.lQ=a.lQ;this.xA=this.$p=this.hi=null;this.rs=a.v3.reduce(function(a,c){a[c.template]=mN(c);return a},{});this.wH=null;this.i=a.i;this.J=jc(this.i);this.render();RW(this);this.$el.data("view",this);this.listenTo(this.model,"resize",this.iY)};
f.events=function(){return{"click .templateGallery .info .moreInfo":this.L0,"click .templateGallery a":this.S0,"click .tabDropdown":this.R0}};f.remove=function(){this.xA&&this.xA.remove();Backbone.View.prototype.remove.call(this)};f.Y6=_.template('\x3csection class\x3d"layoutTabPanel"\x3e\x3csection class\x3d"layer scrollPane"\x3e\x3cdiv class\x3d"inner"\x3e\x3cdiv class\x3d"searchLoaderHolder"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/section\x3e\x3c/section\x3e');f.template=_.template('\x3c% if (showTabMenu) { %\x3e\x3cdiv class\x3d"layoutsControls"\x3e\x3cdiv class\x3d"select tabDropdown"\x3e\x3c/div\x3e\x3c/div\x3e\x3c% } %\x3e\x3csection class\x3d"layoutsContainer layoutsContainer"\x3e\x3c/section\x3e');
function RW(a){var b=zk((new yk).Gt(a.hK),[dk]).yR().lg(100);a.ec.wU(b).then(function(b){a.Pc=b.wp().filter(function(a){var b;if(b="undefined"!==typeof a.Rm())b=["OWNER","ADMIN","EDITOR","VIEWER"],b=b.indexOf(a.Rm())<=b.indexOf("EDITOR");return b}).sort(SW);a.hi&&a.Pc&&TW(a.hi,a.Pc)}).catch(function(){a.zU=!0;a.hi&&UW(a.hi)})}f.Kh=function(a){this.wH&&this.wH.Kh(a)};
f.S0=function(a){ph();if($(a.target).is(".moreInfo"))return!1;a=$(a.currentTarget);var b=a.parents("li").data("view"),c=b.model;this.$(".gallery li.on").removeClass("on");if(pV(this,a))return!1;c.getContent?(rV(this,c),b.$el.addClass("on")):c.nc?(AO(this,c),b.$el.addClass("on")):c.we&&1===c.we().pageCount&&(qV(this,c),b.$el.addClass("on"));return!1};
function pV(a,b,c){var d=b.parents("li").data("view"),e=d.model;return d.Nj&&d.Nj()||e.we&&e.we()&&1<e.we().pageCount?(d=!1!==c&&!b.hasClass("infoOpen"),!0!==c&&b.hasClass("infoOpen")?Gz():d&&(c=document.createElement("span"),$(c).css("visibility","hidden").css("width",0).css("height",0),b.append(c),uM.call(c,a.i)),!0):!1}f.L0=function(a){return uM.call(a.currentTarget,this.i)};
XL.By=function(a,b){if((new rh(window.viewConfig)).kh())b=P.resolve(!0);else{b.WK||(b.WK=new de(b.config));b=b.WK;a=NO(a);var c=Cb,d=new VW({G:ol,rR:b.rR(),J1:b.Dk(),Q3:b.oG(),e8:b.Xo(),qR:b.qR()});b=(new WW({i:b,mO:a,X:c},d)).confirm()}return b};
function qV(a,b,c,d){function e(a){return a.getDocument()}function g(a){function d(){RO({Yo:QO(g),$d:I.hb(),page:g});XW(I.Aa(),Ym(g.serialize()),p,rr(a,0),m)}n.clear();q&&c&&LO(n,q);l=a.we().content.pages[0];m=new cn({type:$A,id:a.u(),version:a.getVersion()});oV(l,m);null!==k.Nb&&k.rs.hasOwnProperty(b.u())&&dW(null,l,h());if(l.width!==n.l()||l.height!==n.o()){var e=Zm(new Xm,l),g=new Op(I,{});bO(g,e,null,null,!0);k.listenToOnce(g,"unpacked",d)}else XW(I.Aa(),Ym(l),p,rr(a,0),m)}function h(){var a=
{};a[k.rs[b.u()].Pb()]="#"+k.Nb;return a}var k=a,l,m,n=I.Aa(),p=n.Wt(),q=rr(b,0);if(d){var u;try{u=b.we().content.pages[0]}catch(v){}u?g(b):(n.clear(),q&&c&&LO(n,q),a.Pa.getDocument(new jt({og:b.u(),gA:!0})).then(e).then(g))}else XL.By(n,a.i).then(function(a){a&&qV(this,b,c,!0)}.bind(a))}function rV(a,b,c){var d=I.Aa();c?(a=b.getContent(),a=Zm(new Xm,a),oI(b)&&an(a,d.l(),d.o()),XW(d,a)):XL.By(d,a.i).then(function(a){a&&rV(this,b,!0)}.bind(a))}
function AO(a,b,c){function d(a){function c(){RO({Yo:QO(n),$d:I.hb(),page:n});XW(g,Ym(n.serialize()),null,b.$m())}if(a&&a.content&&a.content.pages){var d={id:b.u(),version:b.getVersion(),price:KK(b),title:b.pb(),keywords:b.il()},d=$m(new Xm(d),a),m=I.Aa();a=a.content.pages[0];if(a.width!==m.l()||a.height!==m.o()){var n=new Op(I,{});bO(n,d,null,null,!0);e.listenToOnce(n,"unpacked",c)}else XW(g,d,null,b.$m())}}var e=a,g=I.Aa();c?(b.Cj(d),HK(VK(b))):XL.By(g,a.i).then(function(a){a&&AO(this,b,!0)}.bind(a))}
function XW(a,b,c,d,e){c={"new":b,old:c||a.Wt(),pageIndex:a.K()};var g=jq(b.Ag()),h=U,k=b.serialize();!g&&h&&k&&$l(h,k.id);bO(a,b,d,e);L.register(new XN(4,c))}XL.prototype.render=function(){this.$el.html(this.template({layoutsLabelText:this.J.format("objectPanelLayoutsPanelLayoutsTabLabel"),yourDesignsLabelText:Vd(this.J),showTabMenu:this.lQ}));YW(this);return this};XL.prototype.iY=function(){this.$p.reset&&this.$p.reset();this.wH===this.$p&&this.Kh(MM(this.$el,this.$el.height()))};
XL.prototype.R0=function(){var a=this;this.hi=this.ZJ(this.Fr);this.hi.on("select",function(b){a.Fr!==b&&(a.Fr=b,YW(a))});this.hi.on("hide",function(){a.$el.removeClass("resultsLayout--fadeResults")});this.hi.on("remove",function(){a.hi.off();a.hi=null});this.hi.ei(this.$(".tabDropdown"));this.$el.addClass("resultsLayout--fadeResults");this.zU?UW(this.hi):this.Pc&&TW(this.hi,this.Pc);RW(this)};
function YW(a){var b=a.$(".tabDropdown"),c=$(a.Y6()),d=c.find(".layer");a.$(".layoutsContainer").empty().append(c);a.xA&&a.xA.remove();a.xA=(new co(c.find(".scrollPane"))).render();switch(a.Fr){case SM:a.$p=a.YJ(d);b.text(Wd(a.J));break;case TM:a.$p=a.UJ(d);b.text(Xd(a.J));break;case UM:a.$p=a.WD(d,null);b.text(Vd(a.J));break;default:a.$p=a.WD(d,a.Fr),b.text(a.Pc.filter(function(b){return b.u()===a.Fr})[0].getName()||"")}a.jQ&&(c=$(document.createElement("span")).addClass("newFeatureLabel").text(qd(a.i).An()),
b.append(c));b.attr("data-selected",a.Fr);a.wH=a.$p;a.Kh(MM(a.$el,a.$el.height()))};var SM="CANVA_LAYOUTS",TM="TEAM_TEMPLATES",UM="YOUR_DESIGNS";function YL(){}YL=Ry.extend({className:"layoutsTabMenu"});f=YL.prototype;f.initialize=function(a){this.J=a.J;this.su=a.su;this.Tc=a.Tc;this.$w=a.$w;this.Nl=null;Ry.prototype.initialize.call(this,{content:this.mP(),bx:!1,$v:!0,oo:!1,position:Ep})};
f.events=function(){function a(a,d){b.trigger("select",a);b.$(".layoutsTabMenu__item--selected").removeClass("layoutsTabMenu__item--selected");$(d.currentTarget).addClass("layoutsTabMenu__item--selected layoutsTabMenu__item--activated");b.G.setTimeout(function(){return b.remove()},100)}var b=this;return{"click .layoutsTabMenu__item--canvaLayouts":function(b){return a(SM,b)},"click .layoutsTabMenu__item--teamTemplates":function(b){return a(TM,b)},"click .layoutsTabMenu__item--yourDesigns":function(b){return a(UM,
b)},"click .layoutsTabMenu__item--folder":function(b){return a($(b.currentTarget).attr("data-id"),b)},"click .layoutsTabMenu__upgrade":function(){var a=b.Tc;a.j.wa(pm("object_panel_layouts","folders_dropdown","design_templates"));var d;a.W.H.get(jg)?(window.open("https://about.canva.com/pricing","_blank"),d=!0):d=!1;d||Oo(a,ZW);b.remove()}}};f.Ap=function(){return $W};f.remove=function(){this.Nl&&this.Nl.remove();Ry.prototype.remove.call(this)};
f.render=function(){Ry.prototype.render.call(this);this.Nl||(this.Nl=(new co(this.$(".selectMenu"))).render());return this};
f.mP=function(){var a=$,b;b=this.J.format("objectPanelLayoutsPanelFoldersLoading");var c=soydata.VERY_UNSAFE.ordainSanitizedHtml(this.J.format("objectPanelLayoutsPanelUpgradeCta"));soy.asserts.assertType(goog.isString(b)||b instanceof goog.soy.data.SanitizedContent,"loadingMsg",b,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(c instanceof soydata.SanitizedHtml||c instanceof soydata.UnsanitizedText||goog.isString(c),"upgradeHtml",c,"soydata.SanitizedHtml");b=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"selectMenu layoutsTabMenu"\x3e\x3cdiv class\x3d"layoutsTabMenu__loading"\x3e'+
soy.$$escapeHtml(b)+'\x3c/div\x3e\x3cdiv class\x3d"layoutsTabMenu__upgradeCta"\x3e'+soy.$$escapeHtml(c)+"\x3c/div\x3e\x3c/div\x3e");a=a(b.toString());b=a.find(".layoutsTabMenu__loading");b.before(aX({xs:"canvaLayouts",selected:this.su===SM,label:Wd(this.J),locked:!1}).toString());b.before(aX({xs:"teamTemplates",selected:this.su===TM,label:Xd(this.J),locked:this.$w}).toString());b.before(aX({xs:"yourDesigns",selected:this.su===UM,label:Vd(this.J),locked:this.$w}).toString());a.toggleClass("layoutsTabMenu--demoMode",
this.$w);return a};function TW(a,b){b.length?a.$(".layoutsTabMenu__loading").remove():a.$(".layoutsTabMenu__loading").text(a.J.format("objectPanelLayoutsPanelFoldersEmpty"));a.$(".layoutsTabMenu__item--folder").remove();b.forEach(function(b){a.$(".layoutsTabMenu__upgradeCta").before(aX({xs:"folder",selected:a.su===b.u(),label:b.getName()||"",Xw:b.shared,ox:b.Jp()&&b.Jp().starred,rz:b.u(),locked:a.$w}).toString())})}
function UW(a){a.$(".layoutsTabMenu__loading").text(a.J.format("objectPanelLayoutsPanelFoldersError"))};function aX(a){soy.asserts.assertType(goog.isString(a.xs)||a.xs instanceof goog.soy.data.SanitizedContent,"modifierName",a.xs,"string|goog.soy.data.SanitizedContent");var b=a.xs;soy.asserts.assertType(goog.isBoolean(a.selected)||1===a.selected||0===a.selected,"selected",a.selected,"boolean");var c=!!a.selected;soy.asserts.assertType(goog.isString(a.label)||a.label instanceof goog.soy.data.SanitizedContent,"label",a.label,"string|goog.soy.data.SanitizedContent");var d=a.label;soy.asserts.assertType(goog.isBoolean(a.locked)||
1===a.locked||0===a.locked,"locked",a.locked,"boolean");var e=!!a.locked;soy.asserts.assertType(null==a.Xw||goog.isBoolean(a.Xw)||1===a.Xw||0===a.Xw,"sharedFolder",a.Xw,"boolean|null|undefined");var g=a.Xw;soy.asserts.assertType(null==a.ox||goog.isBoolean(a.ox)||1===a.ox||0===a.ox,"starredFolder",a.ox,"boolean|null|undefined");var h=a.ox;soy.asserts.assertType(null==a.rz||a.rz instanceof goog.soy.data.SanitizedContent||goog.isString(a.rz),"folderId",a.rz,"null|string|undefined");a=a.rz;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"selectMenu__item layoutsTabMenu__item layoutsTabMenu__item--'+
soy.$$escapeHtmlAttribute(b)+(c?" layoutsTabMenu__item--selected":"")+(e?" layoutsTabMenu__item--locked":"")+'"'+(a?' data-id\x3d"'+soy.$$escapeHtmlAttribute(a)+'"':"")+"\x3e"+(a?g?bX({ya:"layoutsTabMenu__icon",ri:h}):cX({ya:"layoutsTabMenu__icon",ri:h}):"")+soy.$$escapeHtml(d)+"\x3c/div\x3e")};function mM(a){this.ON=this.ON.bind(this);this.Bn=this.Bn.bind(this);this.element=a;this.element.on({dragover:this.ON,drop:this.Bn});this.XM=null;this.$V=-1}_.extend(mM.prototype,Backbone.Events);mM.prototype.trigger=Backbone.Events.trigger;
mM.prototype.ON=function(a){var b=this;a.originalEvent.dataTransfer&&(a.originalEvent.dataTransfer.dropEffect="copy",a.preventDefault(),clearTimeout(this.$V),this.XM||(this.XM=Date.now(),1===$("#objectPanel \x3e menu \x3e .uploads.on").length?this.trigger("dragenter"):($("#objectPanel \x3e menu \x3e .uploads \x3e a").click(),setTimeout(function(){b.trigger("dragenter")},300))),this.$V=setTimeout(function(){b.trigger("dragleave");b.XM=null},500))};
mM.prototype.Bn=function(a){var b;try{b=a.originalEvent.dataTransfer.files}catch(c){}a.preventDefault();a.stopPropagation();b&&b.length&&this.trigger("drop",b);return!1};function dX(){}dX=Backbone.View.extend({className:"uploadsFolderItem"});f=dX.prototype;f.events=function(){return{click:this.Af,dragstart:this.Bs,mousedown:this.Cs}};f.initialize=function(a){this.La=a.La;this.model=a.model;this.root=a.root};f.Af=function(){this.La.kS(this.model)};f.Bs=function(a){a.preventDefault();return!1};f.Cs=function(a){return a.which===M.yh||this.xQ(a)};f.XN=function(a,b){function c(){d.$el.removeClass("uploadsFolderItemDragging")}var d=this;b?setTimeout(c,600):(this.Af(),c())};
f.render=function(){this.$el.addClass("uploadsFolderItemLoading");this.$el.html(this.template());this.BB();return this};f.BB=function(){var a,b,c=this;a=this.model.ee().o()/this.model.ee().l();b=this.$(".uploadsFolderItemThumbnail");b.css("padding-bottom",100*a+"%");a=b.find("img");a.one("load",function(){c.$el.removeClass("uploadsFolderItemLoading")});DC(EC,a,this.model.ee().ma())};
f.xQ=function(a){var b=this.el.getBoundingClientRect(),c=a.clientX,d=a.clientY,e=this.$el.clone().off(),c=new V(c,d,c,d),b=dh(b);if(this.root){this.$el.addClass("uploadsFolderItemDragging");var d=this.La,g=this.model;bh(d,Mg(g),b,e,c,d.kS.bind(d,g));this.pR(a)}return!1};f.template=_.template('\x3cdiv class\x3d"uploadsFolderItemThumbnail"\x3e\x3cimg\x3e\x3c/div\x3e');
f.pR=function(a){function b(c){3<Math.sqrt(Math.pow(c.clientX-a.clientX,2)+Math.pow(c.clientY-a.clientY,2))&&(e=!0,d.root.off("mousemove",b))}function c(a){d.root.off("mousemove",b);d.root.off("mouseup",c);d.XN(a,e)}var d=this,e=!1;d.root.on("mouseup",c);d.root.on("mousemove",b)};function eX(a){this.La=a.La;this.al=a.al;this.Lh=!1;this.nM=!0;this.ka=new fX;this.offset=0;this.zf=a.zf;this.view=new gX({J:a.J});this.view.on({retry:this.fetch,signIn:this.authorize},this)}f=eX.prototype;f.listenTo=Backbone.Events.listenTo;f.on=Backbone.Events.on;f.stopListening=Backbone.Events.stopListening;f.trigger=Backbone.Events.trigger;f.authorize=function(){dI(this.al).then(this.view.qZ.bind(this.view,!1)).then(this.fetch.bind(this)).catch(function(){})};
f.p0=function(){return eI(this.al).catch(function(){throw new hX;})};f.fetch=function(){function a(){b.Lh=!1}var b=this;this.zf?!b.Lh&&b.nM&&(this.Lh=!0,this.view.Ig(!0),this.view.wt(!1),this.d$().bind(this).then(this.p0).then(this.t2).finally(a).then(this.V5).catch(hX,this.S5).catch(jX,this.h6).catch(this.W5)):iX(this.view)};f.nz=function(){this.fetch()};f.t2=function(){return hI(this.offset,25)};f.getElement=function(){return this.view.$el};f.ll=function(){return this.ka.ll()};f.es=function(){return this.nM};
f.S5=function(){this.view.Ig(!1);this.view.qZ(!0)};f.V5=function(a){var b,c=this;b=$(a.map(function(a){return(new dX({La:c.La,model:a,root:$(window)})).render()}).map(function(a){return a.el}));Vg(this.La,a);this.nM=0<a.length;kX("uploadsItemAppearing",b,2200);this.ka.push(b);this.offset+=a.length;this.view.Ig(!1);this.view.vt(1>this.ka.uf().length&&1>a.length);this.trigger("fetch")};f.W5=function(){this.view.Ig(!1);this.view.wt(!0)};f.h6=function(){this.view.Ig(!1);this.view.wt(!0)};f.remove=function(){this.stopListening()};
f.render=function(){this.view.render();this.view.$el.prepend(this.ka.$el);return this};f.d$=P.method(function(){function a(){return P.try(function(){return aI()||P.delay(500).then(a).cancellable()})}return a().timeout(2500).catch(P.TimeoutError,function(){throw new jX;})});function hX(){}hX.prototype=Object.create(Error.prototype);function jX(){}jX.prototype=Object.create(Error.prototype);function gX(){}gX=Backbone.View.extend({className:"facebookPhotos uploadsFolderContent"});f=gX.prototype;f.c2=_.template('\x3cp class\x3d"uploadsFolderContentEmptyMessage"\x3e\x3c%- message %\x3e\x3c/p\x3e');f.PE=_.template('\x3cp class\x3d"uploadsFolderContentErrorMessage"\x3e\x3c%- message %\x3e\x3cbutton class\x3d"button facebookPhotosRetry"\x3e\x3c%- buttonLabel %\x3e\x3c/button\x3e\x3c/p\x3e');f.events=function(){return{"click .buttonFacebook":this.f5,"click .facebookPhotosRetry":this.c6}};
f.initialize=function(a){this.Bi=new CV;this.J=a.J};f.f5=function(){this.trigger("signIn")};f.c6=function(){this.trigger("retry")};f.render=function(){this.$el.append(this.Bi.render().$el);return this};f.Z8=_.template('\x3cdiv class\x3d"facebookPhotosSignIn"\x3e\x3cp\x3e\x3c%- message %\x3e\x3c/p\x3e\x3cbutton class\x3d"button buttonFacebook"\x3e\x3c%- buttonLabel %\x3e\x3c/button\x3e\x3c/div\x3e');f.z3=_.template('\x3cp class\x3d"facebookUploadDisabled feedback feedback--error"\x3e\x3c%\x3d label %\x3e\x3c/p\x3e');
f.Ig=function(a){a?this.Bi.show():this.Bi.hide()};f.vt=function(a){var b=this.$(".uploadsFolderContentEmptyMessage");a?1>b.length&&this.$el.append(this.c2({message:this.J.format("objectPanelUploadsPanelFacebookFolderEmptyMessage")})):b.remove()};
f.wt=function(a){var b=this.$(".uploadsFolderContentErrorMessage");a?1>b.length&&this.$el.append(this.PE({buttonLabel:this.J.format("objectPanelUploadsPanelFacebookFolderTryAgainButtonLabel"),message:this.J.format("objectPanelUploadsPanelFacebookFolderErrorMessage")})):b.remove()};
f.qZ=function(a){var b=this.$(".facebookPhotosSignIn");a?1>b.length&&this.$el.append(this.Z8({buttonLabel:this.J.format("objectPanelUploadsPanelFacebookFolderAuthorizeButton"),message:this.J.format("objectPanelUploadsPanelFacebookFolderSignInMessage")})):b.remove()};function iX(a){a.$(".facebookUploadDisabled");var b=$(a.z3({label:Pd(a.J)}));a.$el.prepend(b)};function kX(a,b,c){b.addClass(a);b.on("animationend",function e(){$(this).off("animationend",e);$(this).removeClass(a)});setTimeout(function(){b.removeClass(a)},c)};function lX(){}lX=Backbone.View.extend({className:"uploadsFolderInfo uploadsInfo"});f=lX.prototype;f.events=function(){return{"click .uploadsInfoTrash":this.trigger.bind(this,"trash")}};f.initialize=function(a){this.Sa=a.Sa;this.i=a.i;this.la=a.la;this.zf=a.zf};f.render=function(){this.$el.html(this.template(this.ai()));return this};
f.ai=function(){var a=jc(this.i),b=new sI(this.Sa,a),c=this.Sa.va()===this.la,d=this.Sa.shared,b=b.ob(),b=a.format("objectPanelUploadsPanelFolderInfoHeader",b);return{isOwner:c,isShared:d,headerMessage:b,itemCount:a.format("objectPanelUploadsPanelFolderInfoItemCount",this.Sa.itemCount),youSharedMessage:a.format("objectPanelUploadsPanelFolderInfoYouShared"),sharedWithYouMessage:a.format("objectPanelUploadsPanelFolderInfoSharedWithYou"),trashLabel:a.format("objectPanelUploadsPanelFolderInfoTrashLabel"),
mediaWritesEnabled:this.zf}};f.template=_.template('\x3ch3\x3e\x3c%- headerMessage %\x3e\x3c/h3\x3e\x3cp class\x3d"uploadsFolderInfoItemCount"\x3e\x3c%- itemCount %\x3e\x3c/p\x3e\x3c% if (isShared \x26\x26 isOwner) { %\x3e\x3cp class\x3d"uploadsFolderInfoShared"\x3e\x3c%- youSharedMessage %\x3e\x3c/p\x3e\x3c% } else if (isShared) { %\x3e\x3cp class\x3d"uploadsFolderInfoShared"\x3e\x3c%- sharedWithYouMessage %\x3e\x3c/p\x3e\x3c% } %\x3e\x3c% if (isOwner \x26\x26 mediaWritesEnabled) { %\x3e\x3cbutton class\x3d"button buttonPlain uploadsInfoTrash"\x3e\x3c%- trashLabel %\x3e\x3c/button\x3e\x3c% } %\x3e');function mX(){}mX=Backbone.View.extend({className:"uploadsFolderItemInfo uploadsInfo"});f=mX.prototype;f.events=function(){return{"click .uploadsInfoDownload":this.trigger.bind(this,"download"),"click .uploadsInfoTrash":this.trigger.bind(this,"trash"),"change select":this.J9}};f.initialize=function(a){this.LK=a.LK;this.DN=a.DN;this.Sa=a.Sa;this.dr=a.dr||[];this.item=a.item;this.J=a.J;this.zf=a.zf;this.title=a.title||this.item.getName();this.item.Jb()&&(this.title=this.item.Jb().importFilename)};
function nX(a){var b=a.$("select").val();return a.dr.filter(function(a){return a.u()===b})[0]}f.render=function(){this.$el.html(this.template(this.ai()));this.$("select").val(this.Sa.u());return this};
f.ai=function(){var a=this;return{title:this.title,downloadLink:this.LK,moveOptions:this.DN,downloadOriginalTitle:this.J.format("objectPanelUploadsPanelItemInfoDownloadOriginal"),options:this.dr.map(function(b){return _.extend({},b,{name:(new sI(b,a.J)).ob()})}).map(this.G6),trashLabel:this.J.format("objectPanelUploadsPanelItemInfoTrash"),mediaWritesEnabled:this.zf}};f.J9=function(){this.trigger("move",nX(this))};f.G6=_.template('\x3coption value\x3d"\x3c%- id %\x3e"\x3e\x3c%- name %\x3e\x3c/option\x3e');
f.template=_.template('\x3c% if (title) { %\x3e\x3ch3\x3e\x3c%- title %\x3e\x3c/h3\x3e\x3c% } %\x3e\x3c% if (mediaWritesEnabled) { %\x3e\x3cbutton class\x3d"button buttonPlain uploadsInfoTrash"\x3e\x3c%- trashLabel %\x3e\x3c/button\x3e\x3c% } %\x3e\x3c% if (moveOptions) { %\x3e\x3cselect\x3e\x3c%\x3d options %\x3e\x3c/select\x3e\x3c% } %\x3e\x3c% if (downloadLink) { %\x3e\x3ca class\x3d"uploadsInfoDownload" title\x3d"\x3c%- downloadOriginalTitle %\x3e"\x3e\x26#11015;\x3c/a\x3e\x3c% } %\x3e');function oX(){var a={ya:"printOrderError__headerIcon"},a=a||{};soy.asserts.assertType(null==a.ya||a.ya instanceof goog.soy.data.SanitizedContent||goog.isString(a.ya),"cssClass",a.ya,"null|string|undefined");a=a.ya;return soydata.VERY_UNSAFE.ordainSanitizedHtml("\x3csvg "+(a?'class\x3d"'+soy.$$escapeHtmlAttribute(a)+'"':"")+' version\x3d"1.2" baseProfile\x3d"tiny" xmlns\x3d"http://www.w3.org/2000/svg" viewBox\x3d"0 0 100 95.8"\x3e\x3cpath d\x3d"M.4 90.2L46.6 2C48-.7 51.9-.7 53.3 2l46.2 88.2c1.3 2.5-.5 5.5-3.4 5.5H3.8c-2.9.1-4.7-3-3.4-5.5z"/\x3e\x3cpath fill\x3d"#FFF" d\x3d"M45.1 73.7c0-1.6.4-2.8 1.3-3.7.9-.8 2.1-1.2 3.8-1.2 1.6 0 2.8.4 3.7 1.3.9.8 1.3 2.1 1.3 3.6s-.4 2.7-1.3 3.6c-.9.9-2.1 1.3-3.7 1.3s-2.9-.4-3.8-1.3c-.9-.9-1.3-2.1-1.3-3.6zm8.6-9.9h-7l-1.5-28.2h10l-1.5 28.2z"/\x3e\x3c/svg\x3e')}
function pX(a){a=a||{};soy.asserts.assertType(null==a.ya||a.ya instanceof goog.soy.data.SanitizedContent||goog.isString(a.ya),"cssClass",a.ya,"null|string|undefined");a=a.ya;return soydata.VERY_UNSAFE.ordainSanitizedHtml("\x3csvg "+(a?'class\x3d"'+soy.$$escapeHtmlAttribute(a)+'"':"")+' version\x3d"1.2" baseProfile\x3d"tiny" xmlns\x3d"http://www.w3.org/2000/svg" viewBox\x3d"0 0 100 100"\x3e\x3ccircle cx\x3d"50" cy\x3d"50" r\x3d"50"/\x3e\x3cpath fill\x3d"#FFF" d\x3d"M69.5 25.8l-26 35.4L30.1 54c-3.3-2.1-5.6 2.9-3.8 4.6 1.8 1.7 18.2 16.6 18.2 16.6.5.4 1.2.4 1.7.1.2-.1.4-.3.5-.5 0 0 24.7-40.9 26.9-44.6 2.3-3.8-1.6-7.8-4.1-4.4z"/\x3e\x3c/svg\x3e')}
function qX(){return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3csvg width\x3d"18px" height\x3d"18px" viewBox\x3d"0 0 18 18" xmlns\x3d"http://www.w3.org/2000/svg"\x3e\x3cg fill-rule\x3d"evenodd"\x3e\x3cpath d\x3d"M2.5 9c0 3.588 2.912 6.5 6.5 6.5s6.5-2.912 6.5-6.5S12.588 2.5 9 2.5A6.503 6.503 0 0 0 2.5 9zm14 0c0 4.14-3.36 7.5-7.5 7.5-4.14 0-7.5-3.36-7.5-7.5 0-4.14 3.36-7.5 7.5-7.5 4.14 0 7.5 3.36 7.5 7.5z"/\x3e\x3cpath d\x3d"M9.75 6.75h-1.5v-1.5h1.5v1.5zm0 6h-1.5v-4.5h1.5v4.5z"/\x3e\x3c/g\x3e\x3c/svg\x3e')}
function rX(a){var b;b={};soy.asserts.assertType(goog.isString(a.Se)||a.Se instanceof goog.soy.data.SanitizedContent,"fileType",a.Se,"string|goog.soy.data.SanitizedContent");var c=a.Se;soy.asserts.assertType(goog.isString(a.color)||a.color instanceof goog.soy.data.SanitizedContent,"color",a.color,"string|goog.soy.data.SanitizedContent");return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3csvg width\x3d"32" height\x3d"40" viewBox\x3d"0 0 32 40" xmlns\x3d"http://www.w3.org/2000/svg"\x3e\x3cg fill\x3d"none" fill-rule\x3d"evenodd"\x3e\x3cpath d\x3d"M-8-4h48v48H-8z"/\x3e\x3cpath d\x3d"M4 0C1.8 0 .02 1.8.02 4L0 36c0 2.2 1.78 4 3.98 4H28c2.2 0 4-1.8 4-4V12L20 0H4z" fill\x3d"'+
soy.$$escapeHtmlAttribute(a.color)+'"/\x3e\x3cpath d\x3d"M20 0l12 12h-8.004A4 4 0 0 1 20 8.004V0z" fill-opacity\x3d".5" fill\x3d"#FFF" style\x3d"'+(b.Vb?"/*"+b.Vb+"*/":"")+'mix-blend-mode:lighten"/\x3e\x3ctext width\x3d"32" height\x3d"12" x\x3d"16" y\x3d"35" text-anchor\x3d"middle" fill\x3d"#FFF" style\x3d"'+(b.Vb?"/*"+b.Vb+"*/":"")+"font-size: 10px; font-family: 'Open Sans', 'Helvetica Neue', Helvetica, Arial, sans-serif;\"\x3e"+soy.$$escapeHtml(c)+"\x3c/text\x3e\x3c/g\x3e\x3c/svg\x3e")}
function cX(a){a=a||{};soy.asserts.assertType(null==a.ya||a.ya instanceof goog.soy.data.SanitizedContent||goog.isString(a.ya),"cssClass",a.ya,"null|string|undefined");var b=a.ya;soy.asserts.assertType(null==a.ri||goog.isBoolean(a.ri)||1===a.ri||0===a.ri,"withStar",a.ri,"boolean|null|undefined");a=a.ri;return soydata.VERY_UNSAFE.ordainSanitizedHtml("\x3csvg "+(b?'class\x3d"'+soy.$$escapeHtmlAttribute(b)+'"':"")+'  width\x3d"20" height\x3d"15" viewBox\x3d"0 0 20 15" xmlns\x3d"http://www.w3.org/2000/svg"\x3e\x3cpath class\x3d"folderIcon__folder" fill\x3d"#FFF" d\x3d"M15.5 3H0v8.5c0 .828.672 1.5 1.5 1.5h14c.828 0 1.5-.672 1.5-1.5v-7c0-.828-.672-1.5-1.5-1.5M2 2h7L7 0H0v2h1"/\x3e'+
(a?'\x3cpath class\x3d"folderIcon__star" d\x3d"M17.83 9.827l-.51-1.074c-.476-1-1.242-1.007-1.72 0l-.51 1.074-1.065.16c-1.094.167-1.356.935-.573 1.728l.795.807-.197 1.196c-.18 1.087.467 1.536 1.423 1.013l.987-.538.987.54c.964.527 1.6.073 1.422-1.014l-.198-1.196.795-.807c.778-.788.527-1.56-.572-1.727l-1.066-.16z" fill\x3d"#F3B600"/\x3e':"")+"\x3c/svg\x3e")}
function bX(a){a=a||{};soy.asserts.assertType(null==a.ya||a.ya instanceof goog.soy.data.SanitizedContent||goog.isString(a.ya),"cssClass",a.ya,"null|string|undefined");var b=a.ya;soy.asserts.assertType(null==a.ri||goog.isBoolean(a.ri)||1===a.ri||0===a.ri,"withStar",a.ri,"boolean|null|undefined");a=a.ri;return soydata.VERY_UNSAFE.ordainSanitizedHtml("\x3csvg "+(b?'class\x3d"'+soy.$$escapeHtmlAttribute(b)+'"':"")+' width\x3d"18" height\x3d"15" viewBox\x3d"0 0 18 15" xmlns\x3d"http://www.w3.org/2000/svg"\x3e\x3cpath class\x3d"folderIcon__folder" d\x3d"M10.32 8.842c.127-.214.2-.466.2-.736V7.64c-.267-.33-.48-.713-.606-1.127-.027-.083-.04-.18-.115-.233-.742-.998-.093-1.186-.102-1.27 0-.418-.003-.837.002-1.254.016-.387.278-1.937 2.163-1.943h.01c1.885.006 2.147 1.556 2.163 1.943.006.417 0 .836.002 1.254-.01.084.64.272-.1 1.27-.076.053-.09.15-.117.233-.127.414-.34.796-.607 1.128v.466c0 .605.37 1.12.89 1.315.142.055 1.31.27 1.762.634.303.245.69.525 1.004 1.057.088.15.23 1.19.23 1.19 0 .387-.276.7-.65.7h-3.846l.092-.336s-.006-.782-.134-1.197c-.085-.33-.254-1.277-.674-1.614-.53-.422-.76-.68-1.57-1.01zm.408.735c-.523-.424-1.883-.674-2.05-.736-.6-.226-1.032-.825-1.032-1.528v-.54c.312-.386.558-.83.706-1.31.032-.097.048-.21.134-.272.86-1.16.106-1.378.117-1.475-.002-.486.004-.972-.003-1.457C8.582 1.808 8.277.008 6.087 0 3.883.007 3.58 1.807 3.56 2.258c-.006.485 0 .97-.002 1.457.01.097-.744.316.117 1.475.086.062.102.175.134.272.147.48.393.924.704 1.31v.54c0 .703-.43 1.302-1.032 1.53-.167.06-1.526.31-2.05.735-.35.284-.802.61-1.166 1.228C.163 10.98 0 12.187 0 12.187c0 .45.32.813.752.813h10.656c.433 0 .753-.363.753-.813 0 0-.163-1.208-.265-1.382-.172-.666-.815-.944-1.167-1.228z" fill\x3d"#FFF"/\x3e'+
(a?'\x3cpath class\x3d"folderIcon__star" d\x3d"M15.83 9.827l-.51-1.074c-.476-1-1.242-1.007-1.72 0l-.51 1.074-1.065.16c-1.094.167-1.356.935-.573 1.728l.795.807-.197 1.196c-.18 1.087.467 1.536 1.423 1.013l.987-.538.987.54c.964.527 1.6.073 1.422-1.014l-.198-1.196.795-.807c.778-.788.527-1.56-.572-1.727l-1.066-.16z" fill\x3d"#F3B600"/\x3e':"")+"\x3c/svg\x3e")}
function sX(){var a={ya:"addressDetailsAddress__expandAddressButtonIcon"},a=a||{};soy.asserts.assertType(null==a.ya||a.ya instanceof goog.soy.data.SanitizedContent||goog.isString(a.ya),"cssClass",a.ya,"null|string|undefined");a=a.ya;return soydata.VERY_UNSAFE.ordainSanitizedHtml("\x3csvg  "+(a?'class\x3d"'+soy.$$escapeHtmlAttribute(a)+'"':"")+' viewBox\x3d"0 0 17 17" width\x3d"17" height\x3d"17" xmlns\x3d"http://www.w3.org/2000/svg"\x3e\x3cpath d\x3d"M8.783 14.483c-3.385 0-6.14-2.754-6.14-6.14 0-3.384 2.755-6.138 6.14-6.138 3.384 0 6.138 2.754 6.138 6.14 0 3.384-2.753 6.138-6.137 6.138m0-14.167C4.35.316.755 3.91.755 8.344s3.594 8.028 8.028 8.028c4.433 0 8.027-3.595 8.027-8.028S13.216.316 8.783.316"/\x3e\x3cpath d\x3d"M13.066 8.344c0-.522-.422-.944-.944-.944H9.727V5.005c0-.522-.422-.944-.944-.944-.523 0-.945.423-.945.945V7.4H5.444c-.523 0-.945.422-.945.944 0 .26.105.497.276.668.17.17.407.276.668.276h2.394v2.395c0 .26.106.497.277.668.17.172.407.278.668.278.522 0 .944-.423.944-.945V9.288h2.395c.522 0 .944-.422.944-.944"/\x3e\x3c/svg\x3e')}
function yp(a){a=a||{};soy.asserts.assertType(null==a.color||a.color instanceof goog.soy.data.SanitizedContent||goog.isString(a.color),"color",a.color,"null|string|undefined");var b=a.color;soy.asserts.assertType(null==a.ya||a.ya instanceof goog.soy.data.SanitizedContent||goog.isString(a.ya),"cssClass",a.ya,"null|string|undefined");a=a.ya;return soydata.VERY_UNSAFE.ordainSanitizedHtml("\x3csvg "+(a?'class\x3d"'+soy.$$escapeHtmlAttribute(a)+'" ':"")+'fill\x3d"'+soy.$$escapeHtmlAttribute(null==b?"#FFF":
b)+'" xmlns\x3d"http://www.w3.org/2000/svg" viewBox\x3d"-505 380 12 10"\x3e\x3cpath d\x3d"M-503 388h8v1h-8zM-494 382.2c-.4 0-.8.3-.8.8 0 .1 0 .2.1.3l-2.3.7-1.5-2.2c.3-.2.5-.5.5-.8 0-.6-.4-1-1-1s-1 .4-1 1c0 .3.2.6.5.8l-1.5 2.2-2.3-.8c0-.1.1-.2.1-.3 0-.4-.3-.8-.8-.8s-.8.4-.8.8.3.8.8.8h.2l.8 3.3h8l.8-3.3h.2c.4 0 .8-.3.8-.8 0-.4-.4-.7-.8-.7z"/\x3e\x3c/svg\x3e')};function SW(a,b){var c=a.Jp()&&a.Jp().starred,d=b.Jp()&&b.Jp().starred;return c^d?c?-1:1:(a.getName()||"").toLowerCase().localeCompare((b.getName()||"").toLowerCase())};function tX(){}tX=Backbone.View.extend({className:"uploadsFolderItem"});f=tX.prototype;f.initialize=function(a){this.La=a.La;this.disabled=!1;this.model=a.model;this.Ov=a.Ov;this.fi=a.fi;this.J=a.J;this.fk=void 0;this.root=a.root;(this.oe=a.oe)&&this.listenTo(this.oe,{complete:this.z6,fail:this.A6,update:this.ar})};f.events=function(){return{click:this.Af,dragstart:this.Bs,mousedown:this.Cs}};
f.Af=function(a){var b=a.target.classList.contains("uploadsInfoButton");if(!this.disabled)if(b)this.trigger("infoClick",this.model);else{var b=!1,c=this.model.Jb();a.target&&$(a.target).is("img")?b=mh(a.target)>M.NI:1===$(a.target).find("img").length&&(b=mh($(a.target).find("img").get(0))>M.NI);c?this.La.lS(c,void 0,void 0,b):this.oe&&this.oe.Jb()&&this.La.mS(this.oe,void 0,void 0,b)}};f.z6=function(){this.fk.remove();this.fk=void 0;this.stopListening(this.oe)};
f.A6=function(){this.tk(!0);this.fk.$el.addClass("uploadProgressBarFail");this.stopListening(this.oe);setTimeout(this.JY.bind(this),1E3);setTimeout(this.trigger.bind(this,"uploadFail"),5350)};f.Bs=function(a){a.preventDefault();return!1};f.Cs=function(a){lz();var b=a.target.classList.contains("uploadsInfoButton"),c=a.which==M.yh;return this.disabled||c||b||a.ctrlKey||this.xQ(a)};
f.XN=function(a,b){function c(){d.$el.removeClass("uploadsFolderItemDragging")}var d=this,e=this.el.getBoundingClientRect();b?(ah(this.La,dh(e)),setTimeout(c,600)):(this.Af(a),c())};
f.render=function(){this.$el.addClass("uploadsFolderItemLoading");var a=this.model.PU(),b=this.el,a=a&&a.type,c=this.J.aq(this.J.format("objectPanelLicenseExtended")),d=this.J.aq(this.J.format("objectPanelLicenseRoyaltyFree")),e=this.fi;soy.asserts.assertType(null==a||a instanceof goog.soy.data.SanitizedContent||goog.isString(a),"licenseType",a,"null|string|undefined");soy.asserts.assertType(goog.isString(c)||c instanceof goog.soy.data.SanitizedContent,"licenseTitleExtended",c,"string|goog.soy.data.SanitizedContent");
soy.asserts.assertType(goog.isString(d)||d instanceof goog.soy.data.SanitizedContent,"licenseTitleRoyaltyFree",d,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isBoolean(e)||1===e||0===e,"showControls",e,"boolean");var e=!!e,g='\x3cdiv class\x3d"uploadsFolderItemThumbnail"\x3e\x3cimg\x3e\x3c/div\x3e';if(null!=a){g+='\x3cdiv class\x3d"uploadsFolderItemLicense"';switch(goog.isObject(a)?a.toString():a){case "ROYALTY_FREE":g+='title\x3d"'+soy.$$escapeHtmlAttribute(d)+'"\x3e'+soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3csvg width\x3d"24" height\x3d"24" viewBox\x3d"0 0 24 24" xmlns\x3d"http://www.w3.org/2000/svg" xmlns:xlink\x3d"http://www.w3.org/1999/xlink"\x3e\x3cdefs\x3e\x3cpath d\x3d"M10 0C4.48 0 0 4.48 0 10s4.48 10 10 10 10-4.48 10-10S15.52 0 10 0z" id\x3d"a"/\x3e\x3cfilter x\x3d"-50%" y\x3d"-50%" width\x3d"200%" height\x3d"200%" filterUnits\x3d"objectBoundingBox" id\x3d"b"\x3e\x3cfeOffset dy\x3d"1" in\x3d"SourceAlpha" result\x3d"shadowOffsetOuter1"/\x3e\x3cfeGaussianBlur stdDeviation\x3d"1" in\x3d"shadowOffsetOuter1" result\x3d"shadowBlurOuter1"/\x3e\x3cfeComposite in\x3d"shadowBlurOuter1" in2\x3d"SourceAlpha" operator\x3d"out" result\x3d"shadowBlurOuter1"/\x3e\x3cfeColorMatrix values\x3d"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.5 0" in\x3d"shadowBlurOuter1"/\x3e\x3c/filter\x3e\x3cmask id\x3d"c" x\x3d"0" y\x3d"0" width\x3d"20" height\x3d"20" fill\x3d"#fff"\x3e\x3cuse xlink:href\x3d"#a"/\x3e\x3c/mask\x3e\x3c/defs\x3e\x3cg fill\x3d"none" fill-rule\x3d"evenodd"\x3e\x3cg transform\x3d"translate(2 2)"\x3e\x3cuse fill\x3d"#000" filter\x3d"url(#b)" xlink:href\x3d"#a"/\x3e\x3cuse stroke\x3d"#FFF" mask\x3d"url(#c)" stroke-width\x3d"2" fill\x3d"#9F72D7" xlink:href\x3d"#a"/\x3e\x3c/g\x3e\x3cpath d\x3d"M6 6h12v12H6z"/\x3e\x3cpath d\x3d"M15.3 9c-.72 0-1.4.295-1.885.806L12 11.128l-.76.705h.005L9.9 13.092a1.64 1.64 0 0 1-1.2.521c-.935 0-1.695-.795-1.695-1.78 0-.984.76-1.78 1.695-1.78.455 0 .88.185 1.22.543l.565.526.755-.705-.63-.585A2.618 2.618 0 0 0 8.7 9C7.21 9 6 10.274 6 11.833c0 1.56 1.21 2.834 2.7 2.834.72 0 1.4-.295 1.885-.806L12 12.544l.005.006.755-.717h-.005l1.345-1.258a1.64 1.64 0 0 1 1.2-.522c.935 0 1.695.796 1.695 1.78 0 .985-.76 1.78-1.695 1.78-.45 0-.88-.184-1.22-.542l-.57-.532-.755.706.635.59c.51.531 1.185.826 1.91.826 1.49 0 2.7-1.269 2.7-2.833C18 10.264 16.79 9 15.3 9z" fill\x3d"#FFF"/\x3e\x3c/g\x3e\x3c/svg\x3e');
break;case "EXTENDED":g+='title\x3d"'+soy.$$escapeHtmlAttribute(c)+'"\x3e'+soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3csvg width\x3d"24" height\x3d"24" viewBox\x3d"0 0 24 24" xmlns\x3d"http://www.w3.org/2000/svg" xmlns:xlink\x3d"http://www.w3.org/1999/xlink"\x3e\x3cdefs\x3e\x3cpath d\x3d"M10 0C4.48 0 0 4.48 0 10s4.48 10 10 10 10-4.48 10-10S15.52 0 10 0z" id\x3d"a"/\x3e\x3cfilter x\x3d"-50%" y\x3d"-50%" width\x3d"200%" height\x3d"200%" filterUnits\x3d"objectBoundingBox" id\x3d"b"\x3e\x3cfeOffset dy\x3d"1" in\x3d"SourceAlpha" result\x3d"shadowOffsetOuter1"/\x3e\x3cfeGaussianBlur stdDeviation\x3d"1" in\x3d"shadowOffsetOuter1" result\x3d"shadowBlurOuter1"/\x3e\x3cfeComposite in\x3d"shadowBlurOuter1" in2\x3d"SourceAlpha" operator\x3d"out" result\x3d"shadowBlurOuter1"/\x3e\x3cfeColorMatrix values\x3d"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.5 0" in\x3d"shadowBlurOuter1"/\x3e\x3c/filter\x3e\x3cmask id\x3d"c" x\x3d"0" y\x3d"0" width\x3d"20" height\x3d"20" fill\x3d"#fff"\x3e\x3cuse xlink:href\x3d"#a"/\x3e\x3c/mask\x3e\x3c/defs\x3e\x3cg fill\x3d"none" fill-rule\x3d"evenodd"\x3e\x3cg transform\x3d"translate(2 2)"\x3e\x3cuse fill\x3d"#000" filter\x3d"url(#b)" xlink:href\x3d"#a"/\x3e\x3cuse stroke\x3d"#FFF" mask\x3d"url(#c)" stroke-width\x3d"2" fill\x3d"#399BE6" xlink:href\x3d"#a"/\x3e\x3c/g\x3e\x3cpath d\x3d"M5 6h14v12H5z"/\x3e\x3cpath d\x3d"M14 10.762a1.7 1.7 0 0 0-.4.313l-1.34 1.258-.76.711-1.415 1.317a2.597 2.597 0 0 1-1.885.806c-1.49 0-2.7-1.275-2.7-2.834C5.5 10.774 6.71 9.5 8.2 9.5c.72 0 1.4.295 1.91.832l.63.585-.755.705-.565-.526a1.658 1.658 0 0 0-1.22-.543c-.935 0-1.695.796-1.695 1.78 0 .985.76 1.78 1.695 1.78.455 0 .88-.184 1.2-.521l1.34-1.259.76-.705 1.415-1.322c.3-.316.673-.549 1.085-.681v1.137zM16.372 13c-.251.653-.86 1.113-1.572 1.113-.45 0-.88-.184-1.22-.542l-.57-.532-.755.706.635.59c.51.531 1.185.826 1.91.826 1.27 0 2.336-.92 2.624-2.161h-1.052zM19 9.5h-1.5V8h-1v1.5H15v1h1.5V12h1v-1.5H19v-1z" fill\x3d"#FFF"/\x3e\x3c/g\x3e\x3c/svg\x3e');
break;default:g+="\x3e"}g+="\x3c/div\x3e"}a=soydata.VERY_UNSAFE.ordainSanitizedHtml(g+(e?'\x3cdiv class\x3d"uploadsControls"\x3e\x3cbutton class\x3d"button buttonPlain uploadsInfoButton"\x3ei\x3c/button\x3e\x3c/div\x3e':""));b.innerHTML=a;this.$el.toggleClass("uploadsFolderItemMovable",this.Ov);this.BB();this.oe&&!this.oe.Pf&&(b=this.$(".uploadsControls"),this.fk||(this.fk=new uX),this.fk.render().$el.insertBefore(b));if(b=this.oe)b=this.oe,b=b.Pf&&!b.media;b&&this.JY();return this};
f.BB=function(){function a(){d.off("load",a);e.$el.removeClass("uploadsFolderItemLoading")}var b,c,d,e=this;b=this.model.ee().o()/this.model.ee().l();c=this.$(".uploadsFolderItemThumbnail");c.css("padding-bottom",100*b+"%");d=c.find("img");d.on("load",a);b=this.model.ee().ma();DC(EC,d,b)};f.show=function(){this.fk&&this.ar()};
f.xQ=function(a){var b,c,d=this.model.Jb();b=a.clientX;c=a.clientY;var e=this.$el.clone().off();e.find(".uploadProgressBar").remove();e.find(".uploadsFolderItemLicense").remove();e.find(".uploadsControls").remove();this.trigger("pickedUp",this.model,e.find("img"));if(this.root){b=new V(b,c,b,c);c=dh(this.el.getBoundingClientRect());this.$el.addClass("uploadsFolderItemDragging");var g=!1;if(d){var g=this.La,h;h=d.Ha().nc()[Tg];h=Rg({id:d.u(),version:d.Ha().getVersion(),files_:[{page:0,quality:"THUMBNAIL",
url:e.find("img").attr("src")},{page:0,quality:"SCREEN",url:h.ma(),width:h.l(),height:h.o()}]});bh(g,h,c,e,b,g.lS.bind(g,d));g=!0}else if(this.oe){d=this.La;g=this.oe;h=e.find("img").attr("src");var k=g.Jb();k?(h=Rg({id:k.u(),version:1,files_:[{page:0,quality:"THUMBNAIL",url:h},{page:0,quality:"SCREEN",url:h,width:g.nb.width,height:g.nb.height}]}),bh(d,h,c,e,b,d.mS.bind(d,g)),g=!0):g=!1}g&&this.pR(a)}return!0};f.tk=function(a){this.disabled=a};
function vX(a,b){a.Ov=b;a.$el.toggleClass("uploadsFolderItemMovable",a.Ov)}f.JY=function(){this.fk&&this.fk.remove();this.fk=void 0;this.$el.addClass("uploadsFolderItemFailed");this.$el.find("img").attr("title",this.J.format("objectPanelUploadsPanelUploadFailed"));vX(this,!1);this.tk(!0)};
f.Bx=P.method(function(a,b){var c=this;return a?P.try(function(){c.$el.toggleClass("doNotAnimate",!!b).addClass("doNotTransition").height(c.$el.height())}).delay(M.Cc).then(function(){c.$el.removeClass("doNotTransition").addClass("uploadsFolderItemHidden").height("")}).delay(350):(this.$el.removeClass("doNotAnimate uploadsFolderItemHidden"),P.resolve())});f.ar=function(){wX(this.fk,this.oe.On)};
f.pR=function(a){function b(c){3<Math.sqrt(Math.pow(c.clientX-a.clientX,2)+Math.pow(c.clientY-a.clientY,2))&&(e=!0,d.root.off("mousemove",b))}function c(a){d.root.off("mousemove",b);d.root.off("mouseup",c);d.XN(a,e)}var d=this,e=!1;d.root.on("mouseup",c);d.root.on("mousemove",b)};function xX(a){this.La=a.La;this.Zb=a.Zb;this.Z=null;this.iq=!0}xX.prototype.fetch=function(a){function b(a){return sk({id:a.u(),media:a,thumbnail:a.Ha().nc()[QC],type:"MEDIA"})}var c=this;a=QE((new PE).Ft(!0).Dt(!1).Co(),[Ng,Pg]).lg(a);null!=c.Z&&a.pi(c.Z);return rE(this.Zb,a).then(function(a){0!==a.media.length&&Xg(c.La,a.media);c.Z=a.Z;c.iq=null!=c.Z;return P.resolve(a.media.map(b))})};xX.prototype.es=function(){return this.iq};function yX(a){this.La=a.La;this.ni=a.ni;this.oR=a.oR;this.Z=null;this.iq=!0}yX.prototype.fetch=function(a){function b(a){return sk(a)}var c=this;a=(new pI).wk(this.oR).lg(a).pi(this.Z);return mI(this.ni,a).tap(function(a){c.Z=a.Bb();c.iq=!!c.Z}).tap(function(a){a=(a.uf()||[]).map(function(a){return a.Jb()}).filter(Boolean);Xg(c.La,a)}).then(function(a){return(a.uf()||[]).map(b)})};yX.prototype.es=function(){return this.iq};function zX(a){this.La=a.La;this.ec=a.ec;this.Sa=a.Sa;this.Z=null;this.iq=!0}zX.prototype.fetch=function(a){function b(a){return a.uf()||[]}var c=this;a=uk((new tk).pi(this.Z).wk($g(this.Sa))).lg(a);return this.ec.BA(a).tap(function(a){c.Z=a.Bb();c.iq=!!c.Z}).tap(function(a){a=b(a).map(function(a){return a.Jb()});Xg(c.La,a)}).then(b)};zX.prototype.es=function(){return this.iq};function AX(a){this.Hn=this.D=void 0;this.tv=a.la===a.Sa.va();this.La=a.La;this.W=a.W;this.tU=this.Lh=!1;this.Sa=a.Sa;this.dr=a.dr;this.ec=a.ec;this.fA=!1;this.Qh=[];this.ka=new fX;this.Zb=a.Zb;this.J=a.J;this.X=a.X;this.At=a.At;this.Lf=a.Lf;this.listenTo(this.Lf,"create",this.Q9);this.la=a.la;this.Eh=a.Eh;this.cF=a.cF;this.Mo=a.Mo;this.fi=a.fi;this.view=new BX({disabled:a.disabled,model:this.Sa,J:this.J,Mo:a.Mo,Yk:a.Yk,zf:this.W.H.get(mg)});this.listenTo(this.view,{upload:this.lI,share:this.O8})}
f=AX.prototype;f.listenTo=Backbone.Events.listenTo;f.off=Backbone.Events.off;f.on=Backbone.Events.on;f.stopListening=Backbone.Events.stopListening;f.trigger=Backbone.Events.trigger;f.Gh=function(){this.uV=void 0;this.ag&&(PV(this.ka,this.ag.$el),this.ag=void 0)};f.fetch=function(a){a=a||25;this.Lh||this.fA||!this.es()||(this.Lh=!0,this.view.Ig(!0),this.cF.fetch(a).bind(this).then(this.v5).catch(this.w5))};f.nz=function(a){a=this.ka.jL(a);isFinite(a)?this.fetch(a):this.fetch()};f.getElement=function(){return this.view.$el};
function CX(a,b){for(var c=0;c<a.Qh.length;c++){var d=a.Qh[c];if(d.model===b||d.oe===b)return d}return null}f.ll=function(){return this.ka.ll()};function DX(a){return a.Lf.pF(a.Sa.u()).filter(function(b){return!CX(a,b)}).filter(function(b){return b.Pf&&!b.media?!1:b.Pf&&b.Jb()?-1===a.At.indexOf(b.Jb().u()):!0})}f.es=function(){return this.cF.es()};
f.moveItem=function(a,b,c){var d=CX(this,a);d&&(this.Gh(),this.view.vt(1===this.Qh.length),b=Vj(Wj(new Uj,$g(this.Sa)).YZ([a.u()]),$g(b)),P.settle([this.ec.G3(b),d.Bx(!0,c)]).then(function(b){b[0].isFulfilled()?this.removeItem(a):EX(this,a)}.bind(this)))};
f.PW=function(a){var b;if(a===this.uV)this.Gh();else{var c;c=(new mX({LK:this.W.H.get(Yf),DN:this.Sa!==ik,Sa:this.Sa,dr:this.dr,item:a,title:a.getName()||"",J:this.J,zf:this.W.H.get(mg)})).render();c.on({move:this.moveItem.bind(this,a),trash:this.I9.bind(this,a),download:this.O1.bind(this,a)});b=CX(this,a);this.Gh();c=(new FX({wi:!1,tr:!0,content:c.$el,J:this.J,target:b.$el})).render();c.on("close",this.Gh,this);this.ag=c;OV(this.ka,b.$el,this.ag.$el);this.ag.show();this.uV=a;this.Eh&&this.Eh(this.ag.getContent(),
!0)}};
f.v5=function(a){this.tU=!0;this.Lh=!1;GX(this,DX(this).map(this.eY,this));GX(this,a.filter(this.i3,this).map(this.a8,this));this.view.Ig(!1);this.view.vt(1>this.Qh.length);a=this.view;var b=a.$(".uploadsFolderContentUploadButton");if(!a.zf)b.remove(),b=soydata.VERY_UNSAFE.ordainSanitizedHtml(Pd(a.J)),soy.asserts.assertType(b instanceof soydata.SanitizedHtml||b instanceof soydata.UnsanitizedText||goog.isString(b),"label",b,"soydata.SanitizedHtml"),b=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cp class\x3d"feedback feedback--error"\x3e'+soy.$$escapeHtml(b)+
"\x3c/p\x3e").toString(),a.$el.prepend(b);else if(a.Mo&&1>b.length){var b=a.J.format("objectPanelUploadsPanelUploadButtonLabel"),c=!!a.disabled;soy.asserts.assertType(goog.isString(b)||b instanceof goog.soy.data.SanitizedContent,"label",b,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isBoolean(c)||1===c||0===c,"disabled",c,"boolean");b=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cbutton class\x3d"button buttonBlock uploadsFolderContentUploadButton" '+(c?"disabled":"")+"\x3e"+
soy.$$escapeHtml(b)+"\x3c/button\x3e").toString();a.$el.prepend(b)}this.trigger("fetch")};f.i3=function(a){function b(a){var b="MEDIA"===a.eb(),c=a.Jb();a="FONT"!==a.Jb().eb();return b&&(!c||a)}var c=this;return function(a){return c.Qh.every(function(b){return b.oe&&b.oe.Jb()?b.oe.Jb().u()!==a.u():!0})}(a)&&-1===c.At.indexOf(a.u())&&b(a)};
function HX(a){function b(){if(!e.tv)return e.X.va(e.Sa.va())}function c(){IX(e.view,!1)}function d(a,b){a&&(e.tv||b)&&(e.Hn=b?b:void 0,e.D=a,IX(e.view,!0),JX(e.view,!1,KX(e)))}var e=a,g;g=(new wk).wk($g(a.Sa));a.ec.sc(g).then(function(a){a=a.sc();var g=a.Rm();a&&(e.Sa=a);a="ADMIN"===g;var g="OWNER"===g,l=e.Sa.de(),m=e.Sa===hk;!a&&!g||l||m?c():P.all([e.X.fa(e.Sa.fa()),b()]).spread(d).catch(c)}).catch(c)}f.w5=function(){this.Lh=!1;this.fA=!0;this.view.Ig(!1);this.view.wt(!0)};
f.AG=function(a){this.removeItem(a);this.trigger("trash",a.u())};f.C6=function(a){var b=CX(this,a);b&&(b.model=b.model.wy({id:a.Jb().u()}),b.tk(!1),vX(b,!0))};function GX(a,b){var c=$(b.map(function(a){return a.el}));a.Qh=a.Qh.concat(b);kX("uploadsItemAppearing",c,2200);a.ka.push(c);b.forEach(function(a){a.show()})}f.remove=function(){this.Qh.forEach(function(a){a.remove()});this.Sq&&this.Sq.remove();this.stopListening()};
f.removeItem=function(a){a=CX(this,a);a.remove();this.Qh.splice(this.Qh.indexOf(a),1);this.view.vt(1>this.Qh.length)};f.render=function(){this.view.render();this.view.$el.prepend(this.ka.$el);this.view.Ig(!0);return this};f.a8=function(a){a=(new tX({La:this.La,model:a,Ov:!0,fi:this.fi,J:this.J,root:$(window)})).render();this.listenTo(a,{infoClick:this.PW,pickedUp:this.trigger.bind(this,"pickedUp")});return a};
f.eY=function(a){var b=(new tX({La:this.La,model:sk({id:"",thumbnail:{height:a.nb.height,url:a.$m(),width:a.nb.width},type:"MEDIA"}),Ov:!1,fi:!0,J:this.J,root:$(window),oe:a})).render();this.listenTo(b,{infoClick:this.PW,pickedUp:this.trigger.bind(this,"pickedUp")});this.listenTo(a,"start",this.C6);return b};function EX(a,b){if(b=CX(a,b))b.Bx(!1),a.view.vt(!1)}f.Q9=function(){function a(a){a.tk(!0)}var b=DX(this);!this.Vz()||1>b.length||(b=b.map(this.eY,this),b.forEach(a),LX(this,b),this.view.vt(!1))};
f.Vz=function(){return this.tU};function LX(a,b){var c=$(b.map(function(a){return a.el}));a.Qh=b.concat(a.Qh);kX("uploadsItemUploading",c,600);a.ka.unshift(c);b.forEach(function(a){a.show()})}f.lI=function(a){var b=this.Sa===ik;this.Mo&&(b?0<a.length&&this.La.Hy(this.Sa,"button").upload(a):this.La.lI(this.Sa,a,"button"))};
f.O8=function(a,b){function c(a,b){"UNSHARED"===a?KX(d)&&(d.tv||window.confirm(d.J.format("objectPanelUploadsPanelSharePopOverUnshareConfirmation")))&&(MX(d,d.D.u(),!1),d.view.tk(!d.tv),d.trigger("disabled",!d.tv)):(MX(d,a,b),d.view.tk(!1),d.trigger("disabled",!1))}var d=this,e;this.D&&(e=d.tv?this.J.format("objectPanelUploadsPanelSharePopOverPrivateLabel"):Rd(this.J,this.Hn.ob()||this.Hn.Yf()),e=[{id:"UNSHARED",KQ:!KX(this),title:e},{id:this.D.u(),KQ:KX(this),title:this.D.ob()||this.J.format("objectPanelUploadsPanelSharePopOverPublicLabel")}],
this.Sq&&(d.stopListening(this.Sq),this.Sq.remove()),this.Sq=new NX({title:this.J.format("objectPanelUploadsPanelSharePopOverTitle")}),OX(this.Sq,e),this.Sq.Zw(a,b),this.listenTo(this.Sq,"change",c))};function MX(a,b,c){function d(){JX(e.view,!1,KX(e))}var e=a;c=c?"EDITOR":void 0;JX(e.view,!0);b=pk(a.Sa,b,c);a.ec.XQ(b).then(function(a){a&&a.sc()&&a.sc().u()===e.Sa.u()?(e.Sa=a.sc(),JX(e.view,!1,KX(e))):d()}).catch(d)}
function KX(a){return 0<(a.Sa.Tf()&&a.Sa.Tf().getEntries()||[]).filter(function(b){return a.D&&b.fa()===a.D.u()&&"EDITOR"===b.Rm()}).length}f.I9=function(a){function b(){return c().then(function(a){return AE(g.Zb,a.u(),a.Ha().getVersion())})}function c(){return P.try(function(){return a.Jb()||tE(g.Zb,a.u(),TE(new ZC))})}function d(b){b.isFulfilled()?g.AG(a):EX(g,a)}var e=CX(this,a),g=this;e&&(this.Gh(),P.settle([b(),e.Bx(!0)]).get(0).then(d))};
f.O1=function(a){var b=this;(function(){var c=a.u(),d=new ZC;d.includeImportFileUrl=!0;d=TE(d);return tE(b.Zb,c,d)})().then(function(a){a=a.Ha().importFileUrl;var b=$("#canvaDownloadIframe");1>b.length&&(b=$("\x3ciframe /\x3e",{id:"canvaDownloadIframe"}).appendTo("body"));b.attr("src",a)})};function BX(){}BX=Backbone.View.extend({className:"uploadsFolderContent"});f=BX.prototype;f.events=function(){return{"change .uploadsFolderContentFileInput":this.g5,"click .uploadsFolderContentUploadButton":this.y6,"click .uploadsFolderContentShareButton:not(.buttonSpinner)":this.i6}};
f.initialize=function(a){this.P_="image/jpeg,image/png,image/raw,image/svg+xml,image/x-fuji-raf";this.Bi=new CV;this.Mo=a.Mo;this.disabled=a.disabled;this.J=a.J;this.Yk=a.Yk||this.J.format("objectPanelUploadsPanelDragIn");this.model=a.model;this.zf=a.zf};
f.render=function(){var a=this;this.zf&&this.$el.html(PX({accept:this.P_}).toString());this.$el.toggleClass("uploadsFolderContentChristmas",function(){var b=a.model.getName()?a.model.getName().toLowerCase():"";return-1<["christmas","xmas","x-mas"].indexOf(b)}());this.$el.append(this.Bi.render().$el);this.tk(this.disabled);return this};f.g5=function(){var a;a=this.$(".uploadsFolderContentFileInput")[0].files;a.length&&this.trigger("upload",a)};
f.i6=function(a){var b=a.target.getBoundingClientRect();this.trigger("share",b.right,b.top+b.height/2);$(a.target).blur()};f.y6=function(){this.$(".uploadsFolderContentFileInput").click()};f.Ig=function(a){a?this.Bi.show():this.Bi.hide()};f.tk=function(a){this.disabled=a;this.$el.toggleClass("uploadsFolderContentDisabled",a);this.$el.find(".uploadsFolderContentUploadButton").prop("disabled",a)};
f.vt=function(a){var b=this.$(".uploadsFolderContentEmptyMessage");a&&this.zf?1>b.length&&this.$el.append(QX({Yk:this.Yk}).toString()):b.remove();this.$el.toggleClass("uploadsFolderContentEmpty",a)};f.wt=function(a){var b=this.$(".uploadsFolderContentErrorMessage");a?1>b.length&&this.$el.append(RX({message:this.J.format("objectPanelUploadsPanelFolderContentLoadingError")}).toString()):b.remove()};
function IX(a,b){var c=a.$(".uploadsFolderContentShareButton");b?1>c.length&&a.$el.prepend(soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cbutton class\x3d"button buttonBlock uploadsFolderContentShareButton"\x3e\x3cspan class\x3d"spinner"\x3e\x3c/span\x3e\x3c/button\x3e').toString()):c.remove();a.$el.toggleClass("uploadsFolderContentShareable",b)}function JX(a,b,c){a=a.$(".uploadsFolderContentShareButton");a.toggleClass("buttonSpinner",b);a.toggleClass("uploadsFolderContentShareButtonShared",c)};function PX(a){soy.asserts.assertType(goog.isString(a.accept)||a.accept instanceof goog.soy.data.SanitizedContent,"accept",a.accept,"string|goog.soy.data.SanitizedContent");return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cinput class\x3d"uploadsFolderContentFileInput" type\x3d"file" accept\x3d"'+soy.$$escapeHtmlAttribute(a.accept)+'" multiple\x3e\x3cdiv class\x3d"uploadsFolderContentDropOverlay"\x3e\x3c/div\x3e\x3cdiv class\x3d"uploadsFolderDropIcon"\x3e\x3c/div\x3e')}
function RX(a){soy.asserts.assertType(goog.isString(a.message)||a.message instanceof goog.soy.data.SanitizedContent,"message",a.message,"string|goog.soy.data.SanitizedContent");return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cp class\x3d"uploadsFolderContentErrorMessage"\x3e'+soy.$$escapeHtml(a.message)+"\x3c/p\x3e")}
function QX(a){soy.asserts.assertType(goog.isString(a.Yk)||a.Yk instanceof goog.soy.data.SanitizedContent,"emptyPrompt",a.Yk,"string|goog.soy.data.SanitizedContent");return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cp class\x3d"uploadsFolderContentEmptyMessage"\x3e'+soy.$$escapeHtml(a.Yk)+"\x3c/p\x3e")};function SX(){}SX=Backbone.View.extend({className:"uploadsFolder"});f=SX.prototype;f.close=function(){this.$el.removeClass("uploadsFolderOpen")};
f.events=function(){return{"blur .uploadsFolderName \x3e input":this.N5,"click .uploadsFolderName \x3e span":this.M5,"click .uploadsFolderThumbnail":this.VW,dragenter:this.X4,dragleave:this.Y4,dragstart:this.Bs,drop:this.Bn,"mouseover .uploadsFolderThumbnail":this.x6,"mouseout .uploadsFolderThumbnail":this.w6,"focus .uploadsFolderName \x3e input":this.O5,"keypress .uploadsFolderName \x3e input":this.P5}};
f.initialize=function(a){this.wi=a.wi;this.ay=a.ay;this.Nb=a.Nb;this.disabled=!1;this.model=a.model;this.Qv=!1;this.J=a.J;this.JG=-1;this.cY=!1;this.fi=a.fi;this.G=a.G};function TX(a,b,c){a=a.el.getBoundingClientRect();return b>=a.left&&b<=a.right&&c>=a.top&&c<=a.bottom}
function UX(a){function b(){return k.model.u().split("").reduce(function(a,b){return a+b.charCodeAt(0)},0)}var c="rgba(159, 109, 218, 1);rgba(250, 204, 51, 1);rgba(235, 78, 135, 1);rgba(80, 154, 210, 1);rgba(243, 149, 48, 1);rgba(226, 70, 51, 1);rgba(126, 198, 100, 1);rgba(49, 70, 146, 1)".split(";"),d=!!a.model.u(),e=!!a.model.ee(),g=!!a.model.de(),h="LOGOS"===a.model.de(),k=a;return e?"":h&&a.Nb?"#"+a.Nb:d&&!g?c[b()%c.length]:"rgba(217, 218, 221, 1)"}
function VX(a,b,c){return a.wi&&TX(a,b,c)&&!a.Tp()}f.Tp=function(){return this.$el.hasClass("uploadsFolderOpen")};f.X4=function(a){this.wi&&(this.$el.addClass("uploadsFolderDropping"),this.Tp()||(this.G.clearTimeout(this.JG),this.JG=this.G.setTimeout(this.VW.bind(this,a),1E3)))};f.Y4=function(a){TX(this,a.originalEvent.clientX,a.originalEvent.clientY)||(this.G.clearTimeout(this.JG),this.JG=-1,this.$el.removeClass("uploadsFolderDropping"))};f.Bs=function(a){a.preventDefault();return!1};
f.Bn=function(a){var b;try{b=a.originalEvent.dataTransfer.files}catch(c){}this.$el.removeClass("uploadsFolderDropping");b&&b.length&&this.wi&&!this.disabled&&(a.preventDefault(),a.stopPropagation(),this.trigger("drop",this.model,b))};f.M5=function(){this.disabled||(this.ay?WX(this,!0):this.trigger("click",this.model))};f.N5=function(){this.Qv&&(this.Qv=!1,XX(this))};f.O5=function(){this.Qv=!0};f.P5=function(a){13===a.which&&XX(this)};
f.VW=function(a){this.disabled||(a=a.target.classList.contains("uploadsInfoButton"),this.trigger(a?"infoClick":"click",this.model))};f.x6=function(){this.$el.addClass("uploadsFolderHover")};f.w6=function(){this.$el.removeClass("uploadsFolderHover")};f.open=function(){this.$el.addClass("uploadsFolderOpen")};
f.render=function(){var a=!this.ay||this.disabled,b=new sI(this.model,this.J),c=this.model.de();this.Qv=!1;this.$el.toggleClass("uploadsFolderAllowDrop",this.wi);this.$el.toggleClass("uploadsFolderStaticName",a);this.$el.attr("title",b.ob());c?this.$el.attr("data-system-folder",c):this.$el.removeAttr("data-system-folder");this.$el.html(this.template(this.ai()));this.BB();WX(this,this.cY);return this};
f.BB=function(){function a(){c.off("load",a);e.$el.removeClass("uploadsFolderLoading")}var b,c,d=!1,e=this;b=this.$(".uploadsFolderThumbnail");b.addClass(function(){var a=e.model.ee();return a&&a.o()>a.l()?"uploadsFolderThumbnailPortrait":"uploadsFolderThumbnailLandscape"}());b.css("background-color",UX(this));b.toggleClass("uploadsFolderThumbnailDefault",!this.model.ee());d="LOGOS"===this.model.de();c=b.children("img");c.on("load",a);DC(EC,c,function(){var a=e.model.ee();return a?a.ma():d?"https://static.canva.com/static/images/logos_folder_thumbnail_transparent_bg.png":
"https://static.canva.com/static/images/default_folder_thumbnail_transparent_bg.png"}())};f.ai=function(){return _.extend({},this.model,{name:(new sI(this.model,this.J)).ob(),shared:this.model.shared,showControls:this.fi})};f.show=function(){this.$el.addClass("uploadsFolderLoading")};f.rS=function(){var a=this;this.$el.addClass("uploadsFolderZoomIn");this.G.setTimeout(function(){a.$el.removeClass("uploadsFolderTransparent");a.$el.removeClass("uploadsFolderZoomIn")},500)};f.template=_.template('\x3cdiv class\x3d"uploadsFolderThumbnail"\x3e\x3cimg\x3e\x3c% if (showControls) { %\x3e\x3cdiv class\x3d"uploadsControls"\x3e\x3c% if (shared) { %\x3e\x3cspan class\x3d"uploadsInfoShared"\x3eshared\x3c/span\x3e\x3c% } %\x3e\x3cbutton class\x3d"button buttonPlain uploadsInfoButton"\x3ei\x3c/button\x3e\x3c/div\x3e\x3c% } %\x3e\x3c/div\x3e\x3cdiv class\x3d"uploadsFolderName"\x3e\x3cinput type\x3d"text" value\x3d"\x3c%- name %\x3e"\x3e\x3cspan\x3e\x3c%- name %\x3e\x3c/span\x3e\x3c/div\x3e');
f.tk=function(a){this.disabled=a};f.Bx=P.method(function(a){var b=this;return a?P.try(function(){b.$el.addClass("doNotTransition");b.$el.height(b.$el.height())}).delay(M.Cc).then(function(){b.$el.removeClass("doNotTransition");b.$el.addClass("uploadsFolderHidden");b.$el.height("")}).delay(300):(this.$el.removeClass("uploadsFolderHidden"),P.resolve())});
function WX(a,b){a.Qv=!1;a.cY=b;a.$el.toggleClass("uploadsFolderRenaming",b);b&&(b=a.$(".uploadsFolderName \x3e input"),b.val(a.model.getName()),b.select(),a.Qv=!0)}function YX(a){var b;b=a.$(".uploadsFolderThumbnail");b.css("background-color","rgba(217, 218, 221, 1)");a.G.setTimeout(function(){b.css("background-color",UX(a))},M.Cc)}function XX(a){var b=Qd(a.J),b=a.$(".uploadsFolderName \x3e input").val().trim()||b;a.trigger("rename",a.model,b)};function ZX(a){this.Nb=a.Nb;this.La=a.La;this.Z=null;this.PK=this.BE=void 0;this.al=a.al;this.cz=a.cz;this.Zk=a.Zk;this.W=a.W;this.Lh=!1;this.ec=a.ec;this.ni=a.ni;this.Oi=[];this.fA=!1;this.ka=new fX;this.listenTo(this.ka,"redraw",this.C5);this.Zb=a.Zb;this.i=a.i;this.BN=!0;this.GG=this.GG.bind(this);this.X=a.X;this.At=[];this.Lf=a.Lf;this.la=a.la;this.qE=[];this.G=a.G;this.Eh=a.Eh;this.Tc=a.Tc;this.view=new $X({J:jc(this.i),po:this.W.H.get(ag)&&!this.Zk,root:a.root});this.listenTo(this.view,{close:this.Wv,
drop:this.Bn,drag:this.W4,dragScroll:this.Z4,folderUpgradeCta:this.n5});this.Zk&&(a=new aY({i:this.i}),this.listenTo(a,"click",this.R5),this.lq=a)}function bY(a,b,c){return a.Oi.filter(function(a){return!cY(this,a.model)&&VX(a,b,c)}.bind(a))[0]}f=ZX.prototype;f.n5=function(){var a=this.Tc;a.j.wa(pm("object_panel_uploads","top","photo_folders"));Oo(a,dY)};f.Wv=function(){this.Gh()};
f.W4=function(a,b){function c(){e&&d.view.Kr.addClass("uploadsFolderItemCloneOverTarget").removeClass("uploadsFolderItemCloneNotOverTarget")}var d=this;eY(this,a,b);var e=bY(this,a,b);e!==this.BE&&(this.BE&&this.view.Kr.addClass("uploadsFolderItemCloneNotOverTarget").removeClass("uploadsFolderItemCloneOverTarget"),this.BE=e,this.PK&&clearTimeout(this.PK),this.PK=setTimeout(c,300))};f.Z4=function(a){this.vO&&this.trigger("dragScroll",a)};
f.Bn=function(a,b){function c(){fY(e.view,"uploadsFolderItemCloneDropping");d.$el.toggleClass("uploadsFolderDroppedOn",!0);setTimeout(function(){d.$el.toggleClass("uploadsFolderDroppedOn",!1)},500)}var d,e=this,g=this.vO,h=this.tX,k=this.sX;eY(this,-1,-1);this.vO=this.sX=this.tX=this.BE=void 0;a=(d=bY(this,a,b))&&d.model;g&&a&&a!==k&&!cY(e,a)?(c(),h.moveItem(g,a,!0)):e.rq||fY(this.view,"uploadsFolderItemCloneHidden")};f.off=Backbone.Events.off;f.listenTo=Backbone.Events.listenTo;f.on=Backbone.Events.on;
f.once=Backbone.Events.once;f.stopListening=Backbone.Events.stopListening;f.trigger=Backbone.Events.trigger;f.Gh=function(){var a;this.tV=void 0;this.ag&&(PV(this.ka,this.ag.$el),this.d3=this.ag.Il,this.ag=void 0,gY(this)||this.lx());this.rq&&(a=this.sc(this.rq),this.Mu.remove(),this.Mu=void 0,hY(this,a).close(),this.rq=void 0,iY(this.view,!1))};
f.nT=function(a){var b=SX,c=a.va()===this.la,d=!!a.de();a=new b({wi:!0,ay:c&&!d,Nb:this.Nb,model:a,J:jc(this.i),fi:!a.de(),G:this.G});this.listenTo(a,{click:this.SN,drop:this.cR,infoClick:this.k5,rename:this.Z7});a.render().show();return a};f.WJ=function(a){var b;b=a.getName();b=(new Bk).Et(b);b.type="MEDIA";b=b.Gt(this.la);this.ec.WJ(b).then(this.i5.bind(this,a)).catch(this.j5.bind(this,a))};
f.XJ=function(a){function b(b,d,h,k){return new AX({La:c.La,W:c.W,Sa:a,dr:c.wp().filter(function(a){return jY(c,a)}),ec:c.ec,Zb:c.Zb,J:jc(c.i),X:c.X,At:c.At,Lf:c.Lf,la:c.la,disabled:cY(c,a),Eh:c.Eh,cF:b,Mo:d,fi:h,Yk:k})}var c=this,d;switch(a){case hk:d=new eX({La:c.La,al:c.al,J:jc(c.i),zf:c.W.H.get(mg)});break;case ik:d=b(new xX({La:this.La,Zb:this.Zb}),!0,!0);this.listenTo(d,{trash:c.AG,pickedUp:c.QW.bind(c,d,a),disabled:c.MW.bind(c,a)});break;case jk:d=b(new yX({La:this.La,ni:this.ni,oR:"/media/unlimited_use_purchases"}),
!1,!1,jc(this.i).format("objectPanelUploadsPanelPurchasedUnlimitedUseFolderEmpty"));break;default:d=b(new zX({La:this.La,ec:this.ec,Sa:a}),!0,!0),this.listenTo(d,{trash:c.AG,pickedUp:c.QW.bind(c,d,a),disabled:c.MW.bind(c,a)}),c.cz&&HX(d)}d.fetch();d.render();return d};
f.fetch=function(a){if(!this.Lh&&!this.fA&&this.BN)if(this.Zk){var b=zk((new yk).pi(this.Z),["MEDIA"]);b.includeSystemFolders=!0;b.includeThumbnails=!0;a=b.Gt(this.la).lg(a||25);this.Lh=!0;this.view.Ig(!0);this.ec.wU(a).bind(this).then(this.p5).catch(this.q5)}else this.sc(ik.u())||kY(this,ik),this.sc(jk.u())||kY(this,jk),this.sc(hk.u())||kY(this,hk),this.BN=!1,this.view.Ig(!1),this.trigger("fetch")};f.nz=function(a){a=this.ka.jL(a);isFinite(a)?this.fetch(a):this.fetch(25)};
f.sc=function(a){return this.wp().filter(function(b){return b.u()===a})[0]};f.wp=function(){return this.Oi.map(function(a){return a.model})};f.ll=function(){return this.ka.ll()};f.de=function(a){return this.wp().filter(function(b){return(b=b.de())&&b===a})[0]};
function gY(a){function b(){var a=hY(h,hk);return!a||g.eq(2).is(a.$el)||g.eq(3).is(a.$el)}function c(a){return a.childNodes.length}function d(){var a=h.de("UNFOLDERED"),a=a&&hY(h,a);return!a||g.eq(1).is(a.$el)||g.eq(2).is(a.$el)}function e(){var a=h.de("LOGOS"),a=a&&hY(h,a);return!a||g.eq(1).is(a.$el)}var g=a.ka.uf(),h=a;return function(){var a=h.ka.$el.find(".uploadsLayoutColumn").get().map(c),b=[].concat(a).sort().reverse();if(b=_.isEqual(a,b))b=2>Math.max.apply(Math,a)-Math.min.apply(Math,a);return b}()&&
b()&&(!h.lq||g.first().is(h.lq.$el))&&d()&&e()}f.getElement=function(){return this.view.$el};function hY(a,b){return a.Oi.filter(function(a){return a.model===b})[0]}function lY(a){return a.rq?a.sc(a.rq):void 0}function cY(a,b){return _.contains(a.qE,b.u())}function jY(a,b){var c=-1!==_.values(kk).map(function(a){return a.u()}).indexOf(b.u());return!cY(a,b)&&!c}
f.SN=function(a){a.u()===this.rq?this.Gh():(this.Gh(),hY(this,a).open(),iY(this.view,!0),this.Mu=this.XJ(a),this.rq=a.u(),mY(this,{tr:!1,content:this.Mu.getElement(),Sa:a}),this.trigger("open"),this.Eh(hY(this,a).$el))};f.i5=function(a,b){b=b.sc();a=hY(this,a);a.model=b;a.tk(!1);a.render();YX(a)};f.j5=function(a,b){a=w(hY(this,a));window.alert(this.NU(b));this.stopListening(a);this.Oi.splice(this.Oi.indexOf(a),1);this.ka.remove(a.$el);this.lx()};
f.NU=function(a){return a instanceof Array&&a[0]&&"quota exceeded"==a[0].error?jc(this.i).format("objectPanelUploadsPanelCreateFolderQuotaExceededError"):jc(this.i).format("objectPanelUploadsPanelCreateFolderError")};f.k5=function(a){var b=a.u()===this.tV;this.Gh();b||(this.tV=a.u(),b=(new lX({Sa:a,i:this.i,la:this.la,zf:this.W.H.get(mg)})).render(),b.on("trash",this.H9.bind(this,a)),mY(this,{tr:!0,content:b.$el,Sa:a}),this.Eh(this.ag.getContent(),!0))};
f.m5=function(a){var b;b=this.sc(a.u());b=hY(this,b);b.model=a;b.render()};f.p5=function(a){var b=a.wp();b.length&&nY(this,b);this.sc(hk.u())||kY(this,hk);this.sc(jk.u())||kY(this,jk);this.Zk&&this.lq&&this.ka.push(this.lq.$el);this.Z=a.Bb();this.Lh=!1;this.BN=!!this.Z;this.lx();this.view.Ig(!1);this.trigger("fetch")};f.q5=function(){this.Lh=!1;this.fA=!0;this.view.Ig(!1);this.view.wt(!0)};f.MW=function(a,b){b?this.qE.push(a.u()):this.qE=_.without(this.qE,a.u())};f.AG=function(a){this.At.push(a)};
f.QW=function(a,b,c,d){this.tX=a;this.sX=b;this.vO=c;this.view.Kr=d};f.C5=function(){this.Gh();this.lx()};f.R5=function(){var a=this,b;b=function(){var b;b=bk({name:Qd(jc(a.i)),user:a.la});b=a.nT(b);b.$el.addClass("uploadsFolderTransparent");a.Oi.push(b);a.ka.push(b.$el);b.tk(!0);WX(b,!0);return b}();this.Eh(b.$el).then(function(){b.rS()});U&&U.track("new_upload_folder")};f.GG=function(){this.ka.Ya()};f.YW=function(){var a,b;b=(a=this.Zk?this.de("UNFOLDERED"):ik)&&a.u()===this.rq;a&&!b&&this.SN(a)};
function kY(a,b){b=new SX({wi:!1,ay:!1,Nb:a.Nb,model:b,J:jc(a.i),fi:!1,G:a.G});a.listenTo(b,"click",a.SN);b.render().show();a.Oi.push(b);a.ka.push(b.$el)}function nY(a,b){b=b.map(a.nT,a);a.Oi=a.Oi.concat(b);b=$(b.map(function(a){return a.el}));a.ka.push(b)}f.remove=function(){$(window).off("resize",this.GG);this.stopListening();this.view.remove()};
f.Z7=function(a,b){var c,d;c=a.wy({name:b});d=hY(this,a);d.model=c;d.render();WX(d,!1);a.u()?(b=(new mk).wk($g(a)).Et(b),this.ec.XQ(b).catch(this.m5.bind(this,a))):this.WJ(c)};f.render=function(){this.lq&&this.lq.render();this.view.render();this.view.$el.prepend(this.ka.$el);var a=this.view;a.po&&a.$el.prepend(a.Y9({folderUpgradePrompt:a.J.format("objectPanelUploadsPanelFolderUpgradePrompt"),learnMoreButtonLabel:a.J.format("objectPanelUploadsPanelLearnMoreButtonLabel")}));return this};
function eY(a,b,c){a.Oi.forEach(function(a){cY(this,a.model)||a.$el.toggleClass("uploadsFolderDropping",VX(a,b,c))}.bind(a))}f.show=function(){$(window).on("resize",this.GG)};function mY(a,b){var c=b.Sa===hk,d=hY(a,b.Sa).$el;a.ag=(new FX({wi:!c,tr:b.tr,content:b.content,J:jc(a.i),Il:a.d3,target:d})).render();a.ag.on({close:a.Gh,drop:a.cR.bind(a,b.Sa)},a);OV(a.ka,d,a.ag.$el);a.ag.show()}
f.lx=function(){function a(){var a=e.de("LOGOS");if(a=a&&hY(e,a))g.splice(g.indexOf(a.el),1),g.unshift(a.el)}function b(){var a=hY(e,hk);a&&(g.splice(g.indexOf(a.el),1),g.unshift(a.el))}function c(){var a=hY(e,jk);a&&(g.splice(g.indexOf(a.el),1),g.unshift(a.el))}function d(){var a=e.de("UNFOLDERED");if(a=a&&hY(e,a))g.splice(g.indexOf(a.el),1),g.unshift(a.el)}var e=this;if(this.Zk&&!this.ag){var g=this.ka.uf().detach().toArray();b();c();d();a();g.splice(g.indexOf(e.lq.el),1);g.unshift(e.lq.el);this.ka.push($(g))}};
f.H9=function(a){function b(){var b=a.itemCount,d=jc(c.i);return window.confirm(d.format("objectPanelUploadsPanelTrashFolderConfirmation",b))}var c=this,d;0<a.itemCount&&!b()||(this.Gh(),d=ok((new mk).wk($g(a))),P.settle([this.ec.XQ(d),hY(c,a).Bx(!0).bind(c).then(c.lx)]).then(function(b){b[0].isFulfilled()?(b=hY(this,a),b.remove(),this.stopListening(b),this.Oi.splice(this.Oi.indexOf(b),1)):(hY(this,a).Bx(!1),this.lx())}.bind(this)))};
f.cR=function(a,b,c){this.W.H.get(mg)&&(jY(this,a)?this.La.lI(a,b,c||"drop"):cY(this,a)||0<b.length&&this.La.Hy(a,c||"drop").upload(b))};function $X(){}$X=Backbone.View.extend({className:"uploadsFolders"});$X.prototype.initialize=function(a){this.Bi=new CV;this.Kr=$();this.J=a.J;this.root=a.root||$(window);this.po=a.po};$X.prototype.events=function(){return{mousedown:this.Cs,"click .folderUpgradeCta .buttonLearnMore":this.A4}};$X.prototype.A4=function(){this.trigger("folderUpgradeCta")};$X.u_=50;$X.J_=100;$X.K_=5;f=$X.prototype;
f.Cs=function(a){function b(){function b(a){var h=a.clientX;a=a.clientY;d.trigger("drag",h,a);h<$X.u_?(e||d.trigger("close"),e=!0,d.trigger("dragScroll",0)):h>g?d.trigger("dragScroll",0):Math.abs(l-a)>$X.K_?d.trigger("dragScroll",c(h,a)):d.trigger("dragScroll",0);return!1}function k(a){d.root.off("mousemove",b);d.root.off("mouseup",k);d.trigger("dragScroll",0);d.trigger("drop",a.clientX,a.clientY)}var l=a.clientY;d.root.on("mousemove",b);d.root.on("mouseup",k);return!1}function c(a,b){var c;c=$X.J_;
b=new V(a,b,0,0);a=d.$el.parent(".scrollPane").get(0).getBoundingClientRect();var e=dh(a);a=b.w()-(e.w()+c);c=b.ua()-(e.ua()-c);return 0>a?Math.max(Math.floor(a/10),-10):0<c?Math.min(Math.ceil(c/10),10):0}var d=this,e=!1,g=this.el.getBoundingClientRect().right;return function(){var b=0<$(a.target).parents(".uploadsFolderItemMovable").length,c=$(a.target).hasClass("uploadsFolderItemMovable");return a.which==M.yh||!(c||b)}()||b()};f.render=function(){this.Bi.render();this.$el.append(this.Bi.$el);return this};
function fY(a,b){var c;c=a.Kr.clone();c.removeClass().addClass(b);b=a.Kr.get(0).getBoundingClientRect();c.css("top",b.top+"px").css("left",b.left+"px").css("width",b.width+"px").css("height",b.height+"px");$("body").append(c);a.Kr.remove();a.Kr=$();setTimeout(function(){c.remove()},500)}f.Ig=function(a){a?this.Bi.show():this.Bi.hide()};f.wt=function(a){var b=this.$(".uploadsFoldersError");a?1>b.length&&this.$el.append(this.PE({message:this.J.format("objectPanelUploadsPanelFoldersFetchError")})):b.remove()};
function iY(a,b){a.$el.toggleClass("uploadsFoldersFolderOpen",b)}f.PE=_.template('\x3cp class\x3d"uploadsFoldersError"\x3e\x3c%- message %\x3e\x3c/p\x3e');f.Y9=_.template('\x3cdiv class\x3d"folderUpgradeCta"\x3e\x3cspan class\x3d"folderUpgradePrompt"\x3e\x3c%- folderUpgradePrompt %\x3e\x3c/span\x3e\x3cbutton class\x3d"button buttonSmall buttonLearnMore"\x3e\x3c%- learnMoreButtonLabel %\x3e\x3c/button\x3e\x3c/div\x3e');function FX(){}FX=Backbone.View.extend({className:"inlineContent"});FX.D_=14.14;f=FX.prototype;f.events=function(){return{"click .inlineContentClose":this.trigger.bind(this,"close"),drop:this.Bn}};f.initialize=function(a){this.wi=a.wi;this.sS=!1;this.tr=!!a.tr;this.content=a.content;this.J=a.J;this.Il=a.Il;this.target=a.target};f.getContent=function(){return this.content};
f.Bn=function(a){var b;try{b=a.originalEvent.dataTransfer.files}catch(c){}b&&b.length&&this.wi&&(a.preventDefault(),a.stopPropagation(),this.trigger("drop",b))};
function oY(a){function b(){var a=FX.D_/2,b=d.target.offset().left+d.target.outerWidth()/2,e=d.$el.offset().left;c(b-e-a)}function c(a){d.Il=a;e.css("transform","translateX("+a+"px) rotate(-45deg)")}var d=a,e;e=a.$(".inlineContentPointer");e.addClass("doNotTransition");void 0!==a.Il?c(a.Il):b();window.setTimeout(function(){e.removeClass("doNotTransition");b()},M.Cc)}
f.render=function(){this.$el.html(this.template(this.ai()));this.$el.toggleClass("inlineContentAppearing",!this.sS);this.$(".inlineContentContent").append(this.content);return this};f.ai=function(){return{closeButton:this.tr,closeTitle:this.J.format("objectPanelUploadsPanelInlineContentCloseTitle")}};f.show=function(){this.sS=!0;oY(this);pY(this)};
function pY(a){var b;P.try(function(){a.$el.height("auto");b=a.$el.height();a.$el.height(0)}).delay(M.Cc).then(function(){a.$el.removeClass("inlineContentAppearing");a.$el.height(b)}).delay(200).then(function(){a.$el.addClass("doNotTransition");a.$el.height("")}).delay(M.Cc).then(function(){a.$el.removeClass("doNotTransition")})}f.template=_.template('\x3cdiv class\x3d"inlineContentPointer"\x3e\x3c/div\x3e\x3c% if (closeButton) { %\x3e\x3ca class\x3d"inlineContentClose" href\x3d"#" title\x3d"\x3c%- closeTitle %\x3e"\x3e\x3c/a\x3e\x3c% } %\x3e\x3cdiv class\x3d"inlineContentContent"\x3e\x3c/div\x3e');function fX(){KV.call(this,{Og:function(a){return Math.floor(a/90)},qm:"uploadsLayoutColumn"});this.listenTo(this,{afterSplit:this.$_,beforeMerge:this.f0,beforeSplit:this.g0})}fX.prototype=Object.create(KV.prototype);fX.prototype.$_=function(a,b){b.addClass("doNotTransition");b.each(function(b,d){d=$(d);d.css("margin-top",qY(a.eq(b))-d.offset().top)}.bind(this));b.height();b.removeClass("doNotTransition");setTimeout(function(){a.children().add(b).add(b.children()).css("margin-top","")},M.Cc)};
fX.prototype.g0=function(a){rY(a.children())};function qY(a){function b(a){return a.offset().top+a.outerHeight()}return a.children().length?b(a.children().last()):b(a)}function rY(a){var b=a.get().map(function(a){return window.getComputedStyle(a)});a.each(function(a,d){d.style.marginTop=d.previousSibling?Math.max(parseInt(b[a-1].marginBottom,10)||0,parseInt(b[a].marginTop,10)||0)+"px":(parseInt(b[a].marginTop,10)||0)+"px"})}
fX.prototype.f0=function(a,b){var c;c=b.children();c.addClass("doNotTransition");rY(c);(function(){return b.get().map(function(a){return a.firstChild})})().forEach(function(b,c){b&&(b=$(b),b.css("margin-top",b.offset().top-qY(a.eq(c))).addClass("closing-transition").one("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",function(){$(this).removeClass("closing-transition")}))}.bind(this));c.height();c.removeClass("doNotTransition");setTimeout(function(){c.css("margin-top",
"")},M.Cc)};function aY(){}aY=Backbone.View.extend({className:"newUploadsFolder"});f=aY.prototype;f.events=function(){return{click:this.trigger.bind(this,"click")}};f.initialize=function(a){this.i=a.i};f.rS=function(){this.$el.addClass("newUploadsFolderAppearing");setTimeout(function(){this.$el.removeClass("newUploadsFolderAppearing")}.bind(this),450)};f.render=function(){var a=jc(this.i);this.$el.html(this.template({label:a.format("objectPanelUploadsPanelNewFolderButtonLabel")}));return this};f.template=_.template('\x3cdiv class\x3d"newUploadsFolderThumbnail"\x3e\x3c/div\x3e\x3cdiv class\x3d"newUploadsFolderLabel"\x3e\x3c%- label %\x3e\x3c/div\x3e');function lM(a){this.La=a.La;this.xu=0;this.element=$("\x3cdiv\x3e").addClass("layer scrollPane uploadsPanel");this.Tc=a.Tc;this.Pc=new ZX({Nb:a.Nb,La:a.La,cz:a.cz,Zk:a.Zk,al:a.al,W:a.W,ec:a.ec,ni:a.ni,Zb:a.Zb,i:a.i,X:a.X,Lf:a.Lf,la:a.la,G:a.G,Eh:this.Eh.bind(this),Tc:this.Tc,XJ:a.XJ});this.Pc.on({fetch:this.AJ,open:this.l5,dragScroll:this.o5},this);this.Pc.once("fetch",this.Pc.YW,this.Pc);this.WV=-1;a.W.H.get(mg)&&this.listenTo(a.S1,{dragenter:this.a5,dragleave:this.b5,drop:this.c5})}f=lM.prototype;
f.listenTo=Backbone.Events.listenTo;f.o5=function(a){a!==this.xu?(this.xu=a,this.sH&&clearInterval(this.sH),0!==this.xu&&(this.sH=setInterval(this.l7.bind(this),10))):0===a&&this.sH&&clearInterval(this.sH)};
f.Eh=function(a,b){var c=this.element.height(),d=RV(this.bt,a,{xM:!0}),e=c+d-a.outerHeight(!0);a=c/3;var g=null;this.element.find(".closing-transition").each(function(a,b){a=parseInt(b.style.marginTop,10)-10;if(RV(this.bt,$(b),{xM:!0})<d&&0<a)return e-=a,d-=a,!1}.bind(this));if(b&&0<d)g=this.element.scrollTop()+d+10;else if(!b&&e>a||0>e)g=this.element.scrollTop()+e-a;return new P(function(a){null!==g?this.element.animate({scrollTop:g},200,"linear",a):a()}.bind(this))};
f.AJ=function(){var a=this.Pc.Mu,b=a&&a.ll();a&&a.es()&&b&&800>RV(this.bt,b)&&0===this.xu?this.Pc.Mu.nz(800):(a=this.Pc.ll())&&800>RV(this.bt,a)&&this.Pc.nz(800)};f.getElement=function(){return this.element};f.a5=function(){var a=lY(this.Pc);a&&a!==hk&&a!==jk||this.Pc.YW();this.element.addClass("uploadsPanelDropTarget")};f.b5=function(){sY(this)};function sY(a){a.element.removeClass("uploadsPanelDropTarget")}f.l5=function(){this.Pc.Mu.on("fetch",this.AJ,this)};
f.f6=function(){var a=this.bt.np.scrollTop();a>this.WV&&this.AJ();this.WV=a};f.l7=function(){var a=1*this.element.scrollTop();(function(){return 0===a&&0>this.xu})()||this.element.scrollTop(a+this.xu)};f.render=function(){this.Pc.getElement().appendTo(this.element);this.Pc.render();return this};
f.show=function(){var a=Number(this.element.height()),b=800;isNaN(a)||(b+=a);var a=this.element,a=$(a),c=a.data("CANVA_SCROLL_TARGET");c||(c=new QV(a),c.$F(),a.data("CANVA_SCROLL_TARGET",c));this.bt=c;this.bt.on("scroll",this.f6,this);this.bt.$F();this.Pc.show();this.Pc.nz(b)};f.c5=function(a){sY(this);var b=this.Pc,c=lY(b);c&&b.cR(c,a,"drop")};function uX(){}uX=Backbone.View.extend({className:"uploadProgressBar"});uX.prototype.initialize=function(){this.lh=0};uX.prototype.render=function(){this.$el.html(this.template());wX(this,this.lh);return this};function wX(a,b){var c;c=a.$(".uploadProgressBarFill");c.css("transform","translateX("+Math.max(c.height()/a.$el.width()*100,b)+"%)");a.lh=b}uX.prototype.template=_.template('\x3cdiv class\x3d"uploadProgressBarFill"\x3e\x3c/div\x3e');function nM(a){this.$el=$('\x3cdiv class\x3d"uploadProgressPorthole"\x3e\x3cdiv class\x3d"uploadProgressPortholeFill"\x3e\x3c/div\x3e\x3c/div\x3e');this.root=a.root;this.root.append(this.$el);this.zO=this.On=0;this.sx=Date.now();this.jZ=0;this.Lf=a.Lf;this.hf=a.hf}f=nM.prototype;f.off=Backbone.Events.off;f.listenTo=Backbone.Events.listenTo;f.on=Backbone.Events.on;f.once=Backbone.Events.once;f.stopListening=Backbone.Events.stopListening;f.trigger=Backbone.Events.trigger;
f.start=function(){this.sx=Date.now()-100;this.stopListening(this.Lf);this.listenTo(this.Lf,{create:this.UH,fail:function(a){tY(this,a,this.hf)}})};f.UH=function(){this.zO=setTimeout(this.PV.bind(this),50)};
f.PV=function(){function a(){var a=Math.random();.025>a&&(c.$el.addClass("showRubberDucky"),.005>a&&c.$el.addClass("showNautilus"),setTimeout(function(){c.$el.removeClass("showRubberDucky showNautilus")},9E3))}var b=lL(this.Lf,this.sx),c=this;clearTimeout(this.jZ);clearTimeout(this.zO);this.root.addClass("showUploadsProgressPorthole");100===b?this.finish():(this.On=Math.round(.7*b+.05),uY(this),a(),this.zO=setTimeout(this.PV.bind(this),1E3))};
f.finish=function(){var a=this;this.jZ=setTimeout(function(){a.sx=Date.now()-2E3-100;a.On=100;uY(a);setTimeout(a.reset.bind(a),1100)},2E3)};function tY(a,b,c){var d=a.$el.find(".uploadProgressPortholeFill");d.addClass("uploadProgressPortholeFillFailure");setTimeout(function(){d.removeClass("uploadProgressPortholeFillFailure")},650);b&&fL.show(b,c)}
function uY(a){var b=a.$el.find(".uploadProgressPortholeFill"),c="translateY("+(100-a.On)+"%)";b.css("transform",c+" rotate(2deg)");setTimeout(function(){b.css("transform",c+" rotate(-2deg)")},1050);setTimeout(function(){b.css("transform",c)},2100)}f.reset=function(){this.On=0;this.sx=Date.now();this.root&&this.root.removeClass("showUploadsProgressPorthole");uY(this)};f.remove=function(){this.reset();this.stopListening(this.Lf);this.$el.remove()};function vY(a){var b=this;R.call(this,a);a.on("click",".searchMenu__toggle",function(){return b.trigger(wY)})}t(vY,R);function xY(){var a=$(soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"searchMenu"\x3e\x3cdiv class\x3d"select searchMenu__toggle"\x3e\x3c/div\x3e\x3c/div\x3e').toString());return new vY(a)}var wY="SHOW_OVERLAY";
function yY(a){var b=this;R.call(this,a);a.on("click",".searchMenu__item",function(a){return b.RN(a)});a.on("click",".searchMenu__freeFilterCta",function(){return b.trigger(zY)})}t(yY,R);yY.prototype.RN=function(a){a=$(a.target).closest(".searchMenu__item").data("filterType");this.trigger(AY,a)};var AY="FILTER_CHANGE",zY="FREE_FILTER_CTA";function BY(a){Ry.call(this,{className:"searchMenuPopOver",content:a.content,bx:!1,position:Ep})}t(BY,Ry);BY.prototype.Ap=function(){return $W};var CY=new Jf("gd",!1),DY=new Jf("go",!1);function EY(a,b,c){var d=this;this.Ol=a.Ol;this.view=b;this.s7=c;this.Aq=this.zq=null;this.wL=a.wL;this.NB="NONE";this.KD=a.KD;this.anchor=a.anchor;this.j=a.j;this.view.on(wY,function(){FY(d);d.zq.ei(d.anchor)})}
function fM(a){var b=xY();return{wb:GY(a,b,function(b){var d=[],e;d.push({type:"NONE",label:a.Ol.format("searchMenuMostRelevant"),nf:!1});a.H.get(CY)?d.push({type:"FREE",label:a.Ol.Yg(),nf:!0}):a.H.get(DY)&&(e=a.Ol.Oa("searchMenuFreeFilterCtaHtml",3E5),d.push({type:"FREE_CTA",label:a.Ol.Yg(),nf:!0,disabled:!0}));var g=$;soy.asserts.assertType(goog.isString(b)||b instanceof goog.soy.data.SanitizedContent,"selectedFilterType",b,"string|goog.soy.data.SanitizedContent");d=goog.asserts.assertArray(d,"expected parameter 'filters' of type list\x3c[crownTag: bool|null, label: string, selected: bool|null, type: string]\x3e.");
soy.asserts.assertType(null==e||e instanceof soydata.SanitizedHtml||e instanceof soydata.UnsanitizedText||goog.isString(e),"footerCta",e,"?soydata.SanitizedHtml|string|undefined");for(var h='\x3cdiv class\x3d"searchMenu__overlay"\x3e\x3cdiv class\x3d"selectMenu"\x3e',k=d.length,l=0;l<k;l++){var m=d[l],n,p=m.type==b,q=m.nf;n=m.label;m=m.type;soy.asserts.assertType(null==p||goog.isBoolean(p)||1===p||0===p,"selected",p,"boolean|null|undefined");soy.asserts.assertType(null==q||goog.isBoolean(q)||1===
q||0===q,"crownTag",q,"boolean|null|undefined");soy.asserts.assertType(goog.isString(n)||n instanceof goog.soy.data.SanitizedContent,"label",n,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(m)||m instanceof goog.soy.data.SanitizedContent,"type",m,"string|goog.soy.data.SanitizedContent");n=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"selectMenu__item searchMenu__item'+(p?" searchMenu__item--selected":"")+'" data-filter-type\x3d"'+soy.$$escapeHtmlAttribute(m)+
'"\x3e'+soy.$$escapeHtml(n)+(q?yp({ya:"searchMenu__crown",color:"#3f4652"}):"")+"\x3c/div\x3e");h+=n}h+=(e?'\x3cdiv class\x3d"searchMenu__footerCta"\x3e'+soy.$$escapeHtml(e)+"\x3c/div\x3e":"")+"\x3c/div\x3e\x3c/div\x3e";b=soydata.VERY_UNSAFE.ordainSanitizedHtml(h);g=g(b.toString());g=new yY(g);b=new BY({content:g.$el});return{Aq:g,zq:b}}),view:b}}function GY(a,b,c){return new EY(a,b,c)}
function HY(a){return X(X(X(X(new fm("filter_changed"),"section","editor"),"subsection","object_panel"),"location","search_menu"),"type",a)}EY.prototype.RN=function(a){if("FREE_CTA"===a)this.zq.cancel(),this.KD();else{this.NB=a;var b=this.Aq,c=this.NB;b.$el.find(".searchMenu__item--selected").removeClass("searchMenu__item--selected");b.$el.find('.searchMenu__item[data-filter-type\x3d"'+c+'"]').addClass("searchMenu__item--selected");this.zq.cancel();this.wL();this.j.wa(HY(a.toString()))}};
function FY(a){var b=a.s7(a.NB),c=b.zq,d=b.Aq;a.Aq=d;a.zq=c;a.Aq.on(AY,function(b){return a.RN(b)});a.Aq.on(zY,function(){a.zq.cancel();a.KD()});a.zq.once("remove",function(){d.remove();a.Aq===d&&(a.Aq=null)})};function iM(){}iM=Backbone.View.extend({});iM.prototype.events=function(){return{"click .searchFilterMediaTypeOption__link":this.L2}};iM.prototype.initialize=function(a){var b=this,c=new iP;this.listenTo(c,"results:didFetch",function(a,c,d){b.trigger("results:didFetch",a,c,d)});var d=new bM(new qP);c.zk(d);this.UF=new GW({model:c,el:this.$(".layer"),i:a.i});c=new zW({model:d,el:this.$(".browseCategories"),i:a.i});this.UF.Rd.push(c);!a.el&&this.render()};iM.prototype.zp=function(){return this.$el.find(".searchFilterMediaTypeOption--selected").data("mediaTypes")};
iM.prototype.L2=function(a){this.$el.find(".searchFilterMediaTypeOption").removeClass("searchFilterMediaTypeOption--selected");$(a.target).closest(".searchFilterMediaTypeOption").addClass("searchFilterMediaTypeOption--selected");this.trigger("searchFilterMediaType")};function kM(){}kM=Backbone.View.extend({});
kM.prototype.initialize=function(a){var b=this,c=new iP;this.listenTo(c,"results:didFetch",function(a,c,d){b.trigger("results:didFetch",a,c,d)});var d=new bM(new qP);c.zk(d);this.UF=new GW({model:c,el:this.$(".layer"),i:a.i});c=new zW({model:d,el:this.$(".browseCategories"),i:a.i});this.UF.Rd.push(c);this.UF.on("folder:expand",function(a){b.trigger("folder:expand",a)});!a.el&&this.render();a.U8&&(c=$('\x3cspan class\x3d"badgeContainer"\x3e'),d=$("\x3cspan\x3e").addClass("newFeatureLabel").text(qd(a.i).An()),c.append(d),
this.$("a[data-query\x3dcharts]").append(c));a=IY({label:Yd(jc(a.i))});a=$('\x3cspan class\x3d"badgeContainer"\x3e').append($(a.toString()));this.$("a[data-crowntag\x3dtrue]").append(a)};function JY(a){var b=this;this.Ue=a.Ue||$(document);this.Me=a.Me||$("body");this.DF=function(){return b.hide()};this.element=null;this.ix=!1}f=JY.prototype;f.show=function(){this.element||(this.element=$("\x3cdiv\x3e"),this.element.css("height","100%").css("left","0").css("position","fixed").css("top","0").css("width","100%").css("z-index","1000").css("opacity","0"));this.element.on("click",this.DF);this.Me.append(this.element);this.Ue.on("keydown",this.DF);this.ix=!0};
f.hide=function(){this.ix&&(this.ix=!1,this.element.off("click",this.DF),this.element.remove(),this.trigger("close"),this.Ue.off("keydown",this.DF));return!1};f.remove=function(){this.hide();this.element&&this.element.remove()};f.on=Backbone.Events.on;f.off=Backbone.Events.off;f.trigger=Backbone.Events.trigger;var HM="contextTipRoyaltyFreeFolder";function KY(a){var b=this;this.Ue=a.Ue;this.Me=a.Me;this.Dy=a.Dy;this.$c=a.$c;this.YX=function(){return b.remove()};this.width=a.width;this.style=a.style;this.un=new JY({Ue:this.Ue,Me:this.Me});this.un.on("close",this.YX);this.element=null}
function LY(a){switch(a.key){case HM:return new KY({Ue:a.Ue,Me:a.Me,Dy:a.i.format("unlimitedUseFolderContextTipContentText"),$c:a.i.format("unlimitedUseFolderContextTipButtonText"),width:215,style:"contextTipOnboarding"});case "contextTipRoyaltyFreePaymentOption":return new KY({Ue:a.Ue,Me:a.Me,Dy:a.i.format("royaltyFreePaymentOptionContextTipContentText"),$c:a.i.format("royaltyFreePaymentOptionContextTipButtonText"),width:215,style:"contextTipOnboarding"});default:throw Error('Unknown ContextTipKey "'+
a.key+'" when creating ContextTip');}}f=KY.prototype;
f.Zw=function(a,b,c){c=void 0===c?!0:c;var d=this,e=$('\x3cspan class\x3d"contextTipContent"\x3e').text(this.Dy),g=$('\x3cbutton class\x3d"button buttonBlock contextTipButton"\x3e').text(this.$c),h=this.createElement();g.on("click",function(){return d.remove()});this.un.show();h.empty().append(e).append(g).appendTo(this.Me).css("width",this.width).css("left",a).css("top",c?b-h.height()/2:b).removeClass("contextTipOff").addClass("contextTipOn");return new P(function(a){return d.on("remove",a)})};
f.remove=function(){var a=this;this.un.remove();this.un.off("close",this.YX);if(this.element)this.element.removeClass("contextTipOn").addClass("contextTipOff").on("animationend",function(){return a.element.remove()});this.trigger("remove")};f.createElement=function(){this.element||(this.element=$('\x3cdiv class\x3d"contextTip"\x3e'),this.element.addClass(this.style));return this.element};f.on=Backbone.Events.on;f.off=Backbone.Events.off;f.trigger=Backbone.Events.trigger;function MY(a){this.X=a.X;this.i=a.i;this.Hk=a.Hk;this.VD=a.VD;this.root=a.root;this.PD=null;this.Bt={};this.GO=new Map}MY.prototype.start=function(){qw(this.X).bind(this).tap(this.aZ).then(this.NY);return this};function GM(a,b,c){-1!==a.Hk.indexOf(b)&&a.GO.set(b,c)}function NY(a,b){return-1!==a.Hk.indexOf(b)&&!1===a.Bt[b]?OY(a,b):P.resolve()}function PY(a){var b=HM;QY(a,b).then(function(){return NY(a,b)})}
function QY(a,b){function c(){return!0!==this.Bt[b]?(this.Bt[b]=!1,rw(this.X,b,!1)):P.resolve()}return a.Bt.hasOwnProperty(b)?c.call(a):qw(a.X).bind(a).tap(a.aZ).then(c)}MY.prototype.NY=function(){var a=this,b=RY(this);this.PD&&this.PD.remove();b&&OY(this,b).then(function(){return a.NY()})};function RY(a){for(var b=0;b!==a.Hk.length;b++)if(!1===a.Bt[a.Hk[b]])return a.Hk[b];return null}MY.prototype.aZ=function(a){this.Bt=a};
function OY(a,b){var c=a.Hk.indexOf(b);if(0<=c){a.PD=a.VD(b);var d=SY(a,b);if(d)return TY(a,b).then(function(){return a.PD.Zw(d.x,d.y)});a.Hk.splice(c,1)}return P.resolve()}function TY(a,b){a.Bt[b]=!0;return rw(a.X,b,!0)}function SY(a,b){return a.GO.has(b)&&(a=a.GO.get(b))?a():null};function NX(a){this.Ue=a.Ue||$(document);this.items=[];this.Me=a.Me||$("body");this.title=a.title;this.view=this.cK();this.un=new JY({Ue:this.Ue,Me:this.Me});this.un.on("close",this.remove.bind(this))}f=NX.prototype;f.on=Backbone.Events.on;f.off=Backbone.Events.off;f.trigger=Backbone.Events.trigger;f.cK=function(){var a=new UY;a.on("toggle",this.Jf.bind(this));return a};f.remove=function(){var a=this.view;this.un.hide();a.hide();setTimeout(function(){a.remove()},300)};
function OX(a,b){a.items=b;a.view.render({items:a.items,title:a.title})}f.Zw=function(a,b){this.un.hide();this.Me.append(this.view.getElement());this.un.show();this.view.Zw(a,b)};f.Jf=function(a){var b=this.items.filter(function(b){return b.title===a})[0];this.remove();b&&this.trigger("change",b.id,!b.KQ)};function UY(){}UY=Backbone.View.extend({className:"contextMenu"});f=UY.prototype;f.events=function(){return{"click .contextMenuItem":this.u5}};f.getElement=function(){return this.$el};f.hide=function(){var a=this.$el;a.removeClass("contextMenuOn").addClass("contextMenuOff");setTimeout(function(){a.css("left","-9999em").css("top","-9999em")}.bind(this),400)};f.u5=function(a){this.trigger("toggle",$(a.target).text())};
f.render=function(a){var b=this.$el,c=$('\x3cstrong class\x3d"contextMenuInfo"/\x3e').text(a.title),d=$('\x3cul class\x3d"contextMenuItems"/\x3e');a.items.forEach(function(a){var b=$('\x3cli class\x3d"contextMenuItem"/\x3e').text(a.title);a.KQ&&b.addClass("contextMenuItemTicked");d.append(b)});b.empty().append(c).append(d);return this};f.Zw=function(a,b){this.$el.css("left",a).css("top",b).removeClass("contextMenuOff").addClass("contextMenuOn")};function VY(){}VY=Backbone.View.extend({className:"dropdownPane"});VY.prototype.initialize=function(){this.once("show",this.render)};VY.prototype.show=function(){this.$el.hasClass("focus")||(this.trigger("show",this),this.$el.siblings().removeClass("focus"),this.$el.addClass("focus"))};function WY(){}WY=Ry.extend({className:"dropdownMenuPopoverContainer"});f=WY.prototype;f.initialize=function(a){Ry.prototype.initialize.call(this,_.defaults(a,{Ef:{top:-4}}));this.In=[];this.Jo=null;this.on("show",this.S8);this.on("remove",this.U7)};f.render=function(){Ry.prototype.render.call(this);this.$("h2, .buttonContainer").remove();var a=this.$(".content");this.In.forEach(function(b){b.$el.appendTo(a)});return this};
f.Pt=function(a){this.listenTo(a,"show",this.H8);this.listenTo(a,"show",this.Hq);this.listenTo(a,"resize",this.Hq.bind(this,a));this.In.push(a)};f.Hq=function(a){var b=window.innerHeight-108,c=a.$el.hasClass("focus");c&&a.$el.removeClass("focus");var d=a.$el.prop("offsetHeight");c&&a.$el.addClass("focus");this.$(".content").css("height",Math.min(d,b))};f.am=function(){Ry.prototype.am.call(this);this.Jo&&this.Hq(this.Jo);return this};f.H8=function(a){this.Jo=a};f.S8=function(){0<this.In.length&&this.In[0].show()};
f.U7=function(){this.Jo=null;this.In.forEach(function(a){a.remove()});this.In.length=0};function vU(){}vU=WY.extend({className:"dropdownMenuPopoverContainer brandPrimaryColorStyled"});f=vU.prototype;
f.initialize=function(a){WY.prototype.initialize.call(this,a);this.nm=a.nm;this.document=a.document;this.W=a.W;this.oa=a.oa;this.rc=this.document.hb();this.lB=null;this.CM=this.KM=!1;this.Mi=a.Mi;this.BK=a.BK;this.Kk=a.Kk;this.i=a.i;this.IT=this.AK=this.vu=null;var b=w(this.rc.u()),c=w(this.rc.getName()),d=w(this.rc.nb),e=XY,g=this.W.H.get(Sf),h=this.W.kN(),k=this.W.H.get(ag),l=this.W.H.get(Ag);a=a.ps;var m=this.i;m.qg||(m.qg=new ae(m.config));this.uU=new e({Cm:c,fp:b,DK:d,cL:g,eL:h,hL:k,iQ:l,ps:a,
qg:m.qg});c=YY;e=this.i;e.Tk||(e.Tk=new be(e.config));this.Sk=new c({Lk:b,Tk:e.Tk});this.vY=d.Gj();this.fE=new ZY({mK:d.l(),jK:d.o(),lK:d.Gj(),ym:vc(this.i)});d=$Y;c=this.i;c.hh||(c.hh=new ce(c.config));this.zg=new d({Lk:b,hh:c.hh});this.Pt(this.uU);this.Pt(this.Sk);this.Pt(this.fE);this.Pt(this.zg);this.listenTo(this.uU,"show",this.R9);this.xX()};
f.events=function(){var a=WY.prototype.events.call(this);a["click .documentSaveButton"]=this.L4;a["click .documentCopyButton"]=this.p4;a["click .documentResizePaneButton"]=this.v4;a["click .documentResizeButton"]=this.t4;a["click .customDimensionsPaneButton"]=this.r4;a["keydown .customDimensionsWidth, .customDimensionsHeight"]=this.x5;a["change .customDimensionsUnits"]=this.e4;a["click .customDimensionsResizeButton"]=this.s4;a["click .magicResizePaneButton"]=this.E4;a["change .magicResizePane input"]=
this.h4;a["click .magicResizeButton:enabled"]=this.D4;a["click .button.retry"]=this.xX;a["click .resizeUpgradeCta .buttonLearnMore"]=this.u4;a["click .createNewDesignButton"]=this.F4;return a};f.Ll=function(a,b){this.trigger("documentResizeRequested",a,b)};function aZ(a){switch(a){case "PIXELS":return"PIXELS";case "MILLIMETERS":return"MILLIMETERS";case "CENTIMETERS":return"CENTIMETERS";case "INCHES":return"INCHES";default:throw Error("Unknown units "+a);}}
function bZ(a){var b=a.$(".customDimensionsUnits").prop("value"),c="PIXELS"===b?0:3,d=+parseFloat(a.$(".customDimensionsWidth").val()).toFixed(c),c=+parseFloat(a.$(".customDimensionsHeight").val()).toFixed(c),e=a.rc.nb,g=e.l(),h=e.o(),k=e.Gj(),e=!1;if(d===g&&c===h&&b==k)a.cancel();else{var g=a.$(".customDimensionsUnits").prop("value"),h=a.$(".customDimensionsWidth").val(),k=a.$(".customDimensionsHeight").val(),l=Math.floor(1E3*cZ(M.w_,g))/1E3,m=Math.ceil(1E3*cZ(M.y_,g))/1E3;null!=(g=h<m||k<m?vc(a.i).format("customDimensionsPaneDimensionUnder",
m,g):h>l||k>l?vc(a.i).format("customDimensionsPaneDimensionOver",l,g):null)?a.fE.le(g):(a.fE.$f(),e=!0,g=new Qs({width:d,height:c,units:aZ(b)}),h=Ru(d,c,b),a.Ll(h,g),a.ok())}null!=U&&Tl(U,"change_design_dimension",null,null,"editor",{resize_type:"custom",new_units:b,new_width:d.toString(),new_height:c.toString(),success:e})}function dZ(a){a.lB||(a.lB=Jz(M.Vx),a.lB.finally(function(){a.lB=null}));return a.lB}
f.xX=function(){this.CZ({});yj(this.BK.N,"/documentcreationoption/expanded").get(0).then(La).then(iu).bind(this).tap(function(a){this.AK=a.wF;this.IT=_.flatten(a.wF.map(function(a){return a.options}))}).then(this.u3).catch(this.$U)};f.u3=function(){var a=[];this.AK.forEach(function(b){b.options.forEach(function(b){a.push(b.Cm)})});nu(this.Mi,new ov({nl:a})).bind(this).tap(function(a){this.vu=a.vu}).then(this.x7).then(this.CZ).catch(this.$U)};f.u4=function(){var a=this.Kk;a.j.wa(om());Oo(a,Ro)};
f.CZ=function(a){this.Sk.TP(a);this.Jo===this.Sk&&(this.Sk.render(),this.Hq(this.Sk));this.zg.TP(a);this.Jo===this.zg&&(this.zg.render(),this.Hq(this.zg),eZ(this))};f.$U=function(){this.Sk.UP();this.Jo===this.Sk&&(this.Sk.render(),this.Hq(this.Sk));this.zg.UP();this.Jo===this.zg&&(this.zg.render(),this.Hq(this.zg))};
f.R9=function(){if(!this.CM){var a=this;this.CM=!0;dZ(this).then(function(){var b=a.$(".documentCopyButton");b.prop("disabled",!1);b.removeClass("disabled");b.parent().removeAttr("title");a.CM=!1})}};function eZ(a){a.KM||(a.KM=!0,dZ(a).then(function(){var b=0<a.$(".magicResizePane input:checked").length;a.$(".magicResizeButton").prop("disabled",!b).toggleClass("disabled",!b);a.KM=!1}))}
f.L4=function(a){var b=this;a=$(a.currentTarget);a.addClass("active");a.one("animationend",function(){b.trigger("documentSaveRequested");b.ok()})};f.F4=function(){this.trigger("createNewDesign");this.ok()};f.p4=function(){this.trigger("documentCopyRequested");this.ok()};f.v4=function(){this.Sk.show()};
f.t4=function(a){var b=this;a=$(a.currentTarget);var c=a.prop("value");a.addClass("active");a.one("animationend",function(){if(c===b.document.hb().u())b.cancel();else{var a=_.find(b.vu,function(a){return a.u()===c}),e=_.find(b.IT,function(a){return a.Cm===c});w(e.fp);w(a);b.Ll(a,new Ps({id:e.fp,version:1}));b.ok()}});null!=U&&Tl(U,"change_design_dimension",null,null,"editor",{resize_type:"preset",resize_doctype_id:c})};f.r4=function(){this.fE.show()};f.x5=function(a){13===a.keyCode&&bZ(this)};
f.e4=function(){var a=this.$(".customDimensionsUnits").prop("value"),b=this.$(".customDimensionsWidth").prop("value"),c=this.$(".customDimensionsHeight").prop("value");a:{c=new Su({units:this.vY,width:b,height:c});b=Zg(c);switch(a){case "PIXELS":break a;case "CENTIMETERS":c=b.l()/96*2.54;b=b.o()/96*2.54;break;case "INCHES":c=b.l()/96;b=b.o()/96;break;case "MILLIMETERS":c=b.l()/96*25.4;b=b.o()/96*25.4;break;default:throw Error("Unknown units: "+c.Gj());}b=new Su({width:c,height:b,units:a})}c="PIXELS"===
a?0:3;this.$(".customDimensionsWidth").val(+b.l().toFixed(c));this.$(".customDimensionsHeight").val(+b.o().toFixed(c));this.vY=a};f.s4=function(){bZ(this)};f.E4=function(){this.zg.show();eZ(this)};f.h4=function(){eZ(this)};
f.D4=function(a){var b=[],c=this.$(".magicResizePane input:checked:enabled"),d=$(a.currentTarget);d.blur();d.prop("disabled",!0);var e=c.toArray().map(function(a){return vV(this.oa.fc(),"remix",Ut(this.oa))+"?resizeTo\x3d"+encodeURIComponent(a.value)},this);this.zg.$(".errorMessage").remove();var g=function(){var a=window.open(e.shift());a&&b.push(a);null==a?(b.forEach(function(a){a.close()}),b=[],d.prop("disabled",!1),this.kQ(),U&&em(U,"magic_resize")):0===e.length?(this.ok(),U&&em(U,"magic_resize")):
0<navigator.userAgent.indexOf("Safari")&&0<navigator.userAgent.indexOf("Version/11")?setTimeout(g,1100):g()}.bind(this);g()};f.kQ=function(){fZ.q9(this.nm)?(new fZ({nm:this.nm,i:Jd(this.i)})).show():(this.zg.kQ(),this.Hq(this.zg))};f.x7=function(){var a={};this.AK.forEach(function(b){a[b.vF]=b.options.map(function(a){return{id:a.Cm,displayName:a.displayName,displayDimensions:a.pK,category:b.vF}})});return a};function XY(){}
XY=VY.extend({className:"dropdownPane fileMenuPane",template:_.template('\x3cheader\x3e\x3ch3 class\x3d"fileMenuPaneTitle" data-doctype\x3d"\x3c%- data.doctypeId %\x3e"\x3e\x3c%- data.doctypeName %\x3e\x3c/h3\x3e\x3cdiv class\x3d"documentDimensions"\x3e\x3c%- data.documentDimensions %\x3e\x3c/div\x3e\x3c% if (data.enableDocumentResize) { %\x3e\x3cul class\x3d"menuActionsList"\x3e\x3cli\x3e\x3cbutton class\x3d"button documentResizePaneButton"\x3e\x3c%- data.changeDimensionsLabel %\x3e\x3c/button\x3e\x3c/li\x3e\x3c% if (data.enableMagicResize) { %\x3e\x3cli\x3e\x3cbutton class\x3d"button magicResizePaneButton"\x3e\x3c%- data.magicResizeLabel %\x3e\x3c/button\x3e\x3c/li\x3e\x3c% } %\x3e\x3c/ul\x3e\x3c% } else if (data.showUpgradeCta) { %\x3e\x3cdiv class\x3d"resizeUpgradeCta"\x3e\x3cspan\x3e\x3c%- data.resizeUpgradePrompt %\x3e\x3c/span\x3e\x3cbutton class\x3d"button buttonSmall buttonLearnMore"\x3e\x3c%- data.learnMoreButtonLabel %\x3e\x3c/button\x3e\x3c/div\x3e\x3c% } %\x3e\x3c/header\x3e\x3csection\x3e\x3cul class\x3d"menuActionsList"\x3e\x3c% if (data.showNewDesignMenuItem) { %\x3e\x3cli\x3e\x3cbutton class\x3d"button createNewDesignButton"\x3e\x3c%- data.newDesignMenuItemLabel %\x3e\x3c/button\x3e\x3c/li\x3e\x3c% } %\x3e\x3cli\x3e\x3cbutton class\x3d"button documentSaveButton" data-syncstatus\x3d"\x3c%- data.lastSavedLabel %\x3e"\x3e\x3c%- data.saveLabel %\x3e\x3c/button\x3e\x3c/li\x3e\x3cli title\x3d"\x3c%- data.waitingForSaveTitle %\x3e"\x3e\x3cbutton class\x3d"button documentCopyButton disabled" disabled\x3e\x3c%- data.makeACopyLabel %\x3e\x3c/button\x3e\x3c/li\x3e\x3c/ul\x3e\x3c/section\x3e',{variable:"data"})});
XY.prototype.initialize=function(a){VY.prototype.initialize.call(this);this.Cm=a.Cm;this.fp=a.fp;this.DK=a.DK;this.cL=a.cL;this.eL=a.eL;this.hL=a.hL;this.ps=a.ps;this.qg=a.qg;this.iQ=a.iQ};
XY.prototype.render=function(){var a=moment(this.ps).fromNow();this.$el.html(this.template({documentDimensions:this.DK.print(),enableDocumentResize:this.cL,enableMagicResize:this.eL,doctypeName:this.Cm,doctypeId:this.fp,magicResizeLabel:this.qg.jW(),changeDimensionsLabel:this.qg.format("editorFileMenuPaneChangeDimensions"),saveLabel:this.qg.save(),makeACopyLabel:this.qg.format("editorFileMenuPaneMakeACopy"),waitingForSaveTitle:this.qg.format("editorFileMenuPaneWaitingForSave"),showUpgradeCta:this.hL,
resizeUpgradePrompt:this.qg.i8(),learnMoreButtonLabel:this.qg.aN(),lastSavedLabel:this.qg.n3(a),showNewDesignMenuItem:this.iQ,newDesignMenuItemLabel:this.qg.R3()}));return this};function YY(){}
YY=VY.extend({className:"dropdownPane documentResizePane",template:_.template('\x3csection class\x3d"scrollParent"\x3e\x3cdiv class\x3d"scrollContent"\x3e\x3cul class\x3d"menuActionsList"\x3e\x3cli\x3e\x3cbutton class\x3d"button customDimensionsPaneButton"\x3e\x3c%- data.useCustomDimensions %\x3e\x3c/button\x3e\x3c/li\x3e\x3c/ul\x3e\x3c% if (data.fetchFailed) { %\x3e\x3cdiv class\x3d"notification error message"\x3e\x3c%- data.couldNotBeLoaded %\x3e\x3cbr\x3e\x3cbutton class\x3d"button retry"\x3e\x3c%- data.tryLoadingAgain %\x3e\x3c/button\x3e\x3c/div\x3e\x3c% } else if (Object.keys(data.documentTypes).length \x3d\x3d\x3d 0) { %\x3e\x3cp class\x3d"documentTypeLoading"\x3e\x3c%- data.fetchingDesignTypes %\x3e\x3c/p\x3e\x3c% } else { %\x3e\x3c% for (var sectionName in data.documentTypes) { %\x3e\x3ch4\x3e\x3c%- sectionName %\x3e\x3c/h4\x3e\x3cul class\x3d"menuActionsList"\x3e\x3c% data.documentTypes[sectionName].forEach(function (documentType) { %\x3e\x3cli\x3e\x3cbutton class\x3d"button documentResizeButton" value\x3d"\x3c%- documentType.id %\x3e"\x3e\x3c%- documentType.displayName %\x3e \x3cspan class\x3d"documentTypeDimensions menuOptionsListSubLabel"\x3e\x3c%- documentType.displayDimensions %\x3e\x3c/span\x3e\x3c/button\x3e\x3c/li\x3e\x3c% }); %\x3e\x3c/ul\x3e\x3c% } %\x3e\x3c% } %\x3e\x3c/div\x3e\x3c/section\x3e',{variable:"data"})});
YY.prototype.initialize=function(a){VY.prototype.initialize.call(this);this.Vy={};this.Lk=a.Lk;this.Rr=!1;this.Tk=a.Tk};YY.prototype.render=function(){this.$el.html(this.template({documentTypes:this.Vy,fetchFailed:this.Rr,useCustomDimensions:this.Tk.a$(),couldNotBeLoaded:this.Tk.SJ(),tryLoadingAgain:this.Tk.PQ(),fetchingDesignTypes:this.Tk.tL()}));if("custom"!==this.Lk)for(var a=this.$(".documentResizeButton"),b=0;b<a.length;b++)if(a[b].value===this.Lk){a.eq(b).addClass("selected");break}return this};
YY.prototype.TP=function(a){this.Rr=!1;this.Vy=a};YY.prototype.UP=function(){this.Rr=!0};function ZY(){}ZY=VY.extend({className:"dropdownPane customDimensionsPane"});f=ZY.prototype;f.initialize=function(a){VY.prototype.initialize.call(this);this.mK=a.mK;this.jK=a.jK;this.ym=a.ym;this.lK=a.lK;this.on("show",this.z2)};
f.render=function(){var a=this;this.$el.html(this.template({defaultWidth:this.mK,defaultHeight:this.jK,actionResize:this.ym.S_(),times:this.ym.times(),pixelsUnit:this.ym.p7(),dimOptions:["PIXELS","INCHES","CENTIMETERS","MILLIMETERS"].map(function(b){return{value:b,selected:b===a.lK,name:kv(b)}})}));return this};f.z2=function(){var a=this;this.$el.one("transitionend",function(){a.$(".customDimensionsWidth").focus()})};
f.le=function(a){var b=this.$(".customDimensions__error");b.text(a);b.addClass("customDimensions__error--visible");this.trigger("resize")};f.$f=function(){this.$(".customDimensions__error").removeClass("customDimensions__error--visible")};f.template=_.template('\x3cfieldset\x3e\x3cinput class\x3d"customDimensionsWidth textInput" type\x3d"number" value\x3d"\x3c%- defaultWidth %\x3e"\x3e \x3c%- times %\x3e \x3cinput class\x3d"customDimensionsHeight textInput" type\x3d"number" value\x3d"\x3c%- defaultHeight %\x3e"\x3e\x3cspan class\x3d"select"\x3e\x3cselect class\x3d"customDimensionsUnits"\x3e\x3c% for (var i \x3d 0; i \x3c dimOptions.length; ++i) { %\x3e\x3coption value\x3d"\x3c%- dimOptions[i].value %\x3e" \x3c% if (dimOptions[i].selected) { %\x3e selected \x3c% } %\x3e \x3e\x3c%- dimOptions[i].name %\x3e\x3c/option\x3e\x3c% } %\x3e\x3c/select\x3e\x3cspan\x3e\x3c/fieldset\x3e\x3cdiv class\x3d"customDimensions__error feedback feedback--warning"\x3e\x3c/div\x3e\x3cfieldset\x3e\x3cbutton class\x3d"button buttonBlock customDimensionsResizeButton"\x3e\x3c%- actionResize %\x3e\x3c/button\x3e\x3c/fieldset\x3e');function gZ(a,b,c){this.Qm=a;this.xo=b;this.rm=c}var hZ=[];function iZ(a,b){if("INCHES"==a)throw Error('Cannot define measurement unit conversion from "INCHES" to itself');if(0==b)throw Error("Cannot define measurement unit conversion with conversionFactor \x3d 0");var c=new gZ("INCHES",a,b);a=new gZ(a,"INCHES",1/b);b=[c,a];jZ(c,b,1);jZ(a,b,0);Array.prototype.push.apply(hZ,b)}
function cZ(a,b){if("PIXELS"==b)return a;for(var c=0;c<hZ.length;c++){var d=hZ[c];if("PIXELS"==d.Qm&&d.xo==b)return d.rm*a}throw Error('Unknown measurement unit conversion from "PIXELS" to "'+b+'"');}
function jZ(a,b,c){var d,e,g;for(e=0;e<hZ.length;e++){var h=hZ[e];if(h.Qm==a.xo){if(d=new gZ(a.Qm,h.xo,a.rm*h.rm),b.push(d),0!=c)for(g=0;g<hZ.length;g++)h=hZ[g],d.Qm==h.xo&&b.push(new gZ(d.xo,h.Qm,1/(h.rm*d.rm)))}else if(h.xo==a.Qm&&(d=new gZ(h.Qm,a.xo,h.rm*a.rm),b.push(d),0!=c))for(g=0;g<hZ.length;g++)h=hZ[g],d.xo==h.Qm&&b.push(new gZ(d.Qm,h.xo,d.rm*h.rm))}}iZ("MILLIMETERS",25.4);iZ("PIXELS",96);iZ("CENTIMETERS",2.54);function $Y(){}
$Y=VY.extend({className:"dropdownPane magicResizePane",template:_.template('\x3cheader\x3e\x3ch3\x3e\x3c%- data.copyAndResize %\x3e\x3c/h3\x3e\x3c/header\x3e\x3csection class\x3d"scrollParent"\x3e\x3cdiv class\x3d"scrollContent"\x3e\x3c% if (data.fetchFailed) { %\x3e\x3cdiv class\x3d"notification error message"\x3e\x3c%- data.couldNotBeLoaded %\x3e.\x3cbr\x3e\x3cbutton class\x3d"button retry"\x3e\x3c%- data.tryLoadingAgain %\x3e\x3c/button\x3e\x3c/div\x3e\x3c% } else if (Object.keys(data.documentTypes).length \x3d\x3d\x3d 0) { %\x3e\x3cp class\x3d"documentTypeLoading"\x3e\x3c%- data.fetchingDesignTypes %\x3e\x3c/p\x3e\x3c% } else { %\x3e\x3c% for (var sectionName in data.documentTypes) { %\x3e\x3ch4\x3e\x3c%- sectionName %\x3e\x3c/h4\x3e\x3cul class\x3d"menuOptionsList"\x3e\x3c% data.documentTypes[sectionName].forEach(function (documentType) { %\x3e\x3clabel\x3e\x3cinput type\x3d"checkbox" value\x3d"\x3c%- documentType.id %\x3e"\x3e \x3c%- documentType.displayName %\x3e \x3c% if (documentType.id \x3d\x3d data.currentDocumentTypeId) { %\x3e\x3cspan class\x3d"documentTypeCurrentDesign menuOptionsListSubLabel"\x3e\x3c%- data.currentDesignSize %\x3e\x3c/span\x3e\x3c% } else { %\x3e\x3cspan class\x3d"documentTypeDimensions menuOptionsListSubLabel"\x3e\x3c%- documentType.displayDimensions %\x3e\x3c/span\x3e\x3c% } %\x3e\x3c/label\x3e\x3c% }); %\x3e\x3c/ul\x3e\x3c% } %\x3e\x3c% } %\x3e\x3c/div\x3e\x3c/section\x3e\x3cfooter\x3e\x3cbutton class\x3d"button magicResizeButton disabled" disabled\x3e\x3cimg class\x3d"iconWand" src\x3d"https://static.canva.com/static/images/icon_wand.svg" alt\x3d"Magic wand" /\x3e\x3cimg class\x3d"iconWand black" src\x3d"https://static.canva.com/static/images/icon_wand_black.svg" alt\x3d"Magic wand" /\x3e \x3c%- data.abracadabraResize %\x3e\x3c/button\x3e\x3c/footer\x3e',{variable:"data"}),
u7:_.template('\x3cp class\x3d"errorMessage"\x3e\x3cstrong\x3e\x3c%- data.ohSnap %\x3e\x3c/strong\x3e \x3c%- data.multipleTabs %\x3e\x3c/p\x3e',{variable:"data"})});f=$Y.prototype;f.initialize=function(a){VY.prototype.initialize.call(this);this.Lk=a.Lk;this.Vy={};this.Rr=!1;this.hh=a.hh};
f.render=function(){this.$el.html(this.template({documentTypes:this.Vy,currentDocumentTypeId:this.Lk,fetchFailed:this.Rr,copyAndResize:this.hh.h1(),couldNotBeLoaded:this.hh.SJ(),tryLoadingAgain:this.hh.PQ(),fetchingDesignTypes:this.hh.tL(),currentDesignSize:this.hh.s1(),abracadabraResize:this.hh.O_()}));this.$('input:not([value\x3d"'+this.Lk+'"])').slice(0,3).prop("checked",!0);this.$('input[value\x3d"'+this.Lk+'"]').prop("disabled",!0).parent("label").addClass("menuOptionsListDisabled");return this};
f.TP=function(a){this.Rr=!1;this.Vy=a};f.UP=function(){this.Rr=!0};f.kQ=function(){this.$("footer").prepend(this.u7({ohSnap:this.hh.V3(),multipleTabs:this.hh.P3()}))};function kZ(a){soy.asserts.assertType(a.message instanceof soydata.SanitizedHtml||a.message instanceof soydata.UnsanitizedText||goog.isString(a.message),"message",a.message,"soydata.SanitizedHtml");var b=a.message;soy.asserts.assertType(goog.isString(a.Lo)||a.Lo instanceof goog.soy.data.SanitizedContent,"alertClass",a.Lo,"string|goog.soy.data.SanitizedContent");var c=a.Lo;soy.asserts.assertType(a.hn instanceof soydata.SanitizedHtml||a.hn instanceof soydata.UnsanitizedText||goog.isString(a.hn),"iconHtml",
a.hn,"soydata.SanitizedHtml");var d=a.hn;soy.asserts.assertType(null==a.Nc||goog.isBoolean(a.Nc)||1===a.Nc||0===a.Nc,"showDismiss",a.Nc,"boolean|null|undefined");var e=a.Nc;soy.asserts.assertType(null==a.title||a.title instanceof soydata.SanitizedHtml||a.title instanceof soydata.UnsanitizedText||goog.isString(a.title),"title",a.title,"?soydata.SanitizedHtml|string|undefined");var g=a.title;soy.asserts.assertType(null==a.v||a.v instanceof goog.soy.data.SanitizedContent||goog.isString(a.v),"classes",
a.v,"null|string|undefined");var h=a.v;soy.asserts.assertType(null==a.global||goog.isBoolean(a.global)||1===a.global||0===a.global,"global",a.global,"boolean|null|undefined");var k=a.global;soy.asserts.assertType(null==a.tb||goog.isBoolean(a.tb)||1===a.tb||0===a.tb,"withIcon",a.tb,"boolean|null|undefined");var l=a.tb;soy.asserts.assertType(null==a.small||goog.isBoolean(a.small)||1===a.small||0===a.small,"small",a.small,"boolean|null|undefined");a=a.small;l=null==l?!0:l;b=""+('\x3cdiv class\x3d"feedbackAlert '+
soy.$$escapeHtmlAttribute(c)+(k?" feedbackAlert--global":"")+(l?" feedbackAlert--withIcon":"")+(e?" feedbackAlert--dismissible":"")+(a?" feedbackAlert--small":"")+(h?" "+soy.$$escapeHtmlAttribute(h):"")+'"\x3e\x3cdiv class\x3d"feedbackAlert__message"\x3e\x3cdiv class\x3d"feedbackAlert__iconContainer"\x3e'+(l?soy.$$escapeHtml(d):"")+"\x3c/div\x3e"+(g?'\x3cstrong class\x3d"feedbackAlert__title"\x3e'+soy.$$escapeHtml(g)+"\x3c/strong\x3e ":"")+'\x3cdiv class\x3d"feedbackAlert__messageBody"\x3e'+soy.$$escapeHtml(b)+
"\x3c/div\x3e\x3c/div\x3e"+(e?'\x3cbutton type\x3d"button" class\x3d"feedbackAlert__closeButton"\x3e'+soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3csvg xmlns\x3d"http://www.w3.org/2000/svg" width\x3d"24" height\x3d"24" viewBox\x3d"0 0 24 24"\x3e\x3cpolygon points\x3d"19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12"/\x3e\x3c/svg\x3e')+"\x3c/button\x3e":"")+"\x3c/div\x3e");return soydata.VERY_UNSAFE.ordainSanitizedHtml(b)}
function lZ(a){soy.asserts.assertType(a.message instanceof soydata.SanitizedHtml||a.message instanceof soydata.UnsanitizedText||goog.isString(a.message),"message",a.message,"soydata.SanitizedHtml");soy.asserts.assertType(null==a.title||a.title instanceof soydata.SanitizedHtml||a.title instanceof soydata.UnsanitizedText||goog.isString(a.title),"title",a.title,"?soydata.SanitizedHtml|string|undefined");soy.asserts.assertType(null==a.v||a.v instanceof goog.soy.data.SanitizedContent||goog.isString(a.v),
"classes",a.v,"null|string|undefined");soy.asserts.assertType(null==a.Nc||goog.isBoolean(a.Nc)||1===a.Nc||0===a.Nc,"showDismiss",a.Nc,"boolean|null|undefined");soy.asserts.assertType(null==a.global||goog.isBoolean(a.global)||1===a.global||0===a.global,"global",a.global,"boolean|null|undefined");soy.asserts.assertType(null==a.tb||goog.isBoolean(a.tb)||1===a.tb||0===a.tb,"withIcon",a.tb,"boolean|null|undefined");soy.asserts.assertType(null==a.small||goog.isBoolean(a.small)||1===a.small||0===a.small,
"small",a.small,"boolean|null|undefined");return soydata.VERY_UNSAFE.ordainSanitizedHtml(kZ(soy.$$assignDefaults({Lo:"feedbackAlert--success",hn:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks(""+mZ())},a)))}
function nZ(a){soy.asserts.assertType(a.message instanceof soydata.SanitizedHtml||a.message instanceof soydata.UnsanitizedText||goog.isString(a.message),"message",a.message,"soydata.SanitizedHtml");soy.asserts.assertType(null==a.title||a.title instanceof soydata.SanitizedHtml||a.title instanceof soydata.UnsanitizedText||goog.isString(a.title),"title",a.title,"?soydata.SanitizedHtml|string|undefined");soy.asserts.assertType(null==a.v||a.v instanceof goog.soy.data.SanitizedContent||goog.isString(a.v),
"classes",a.v,"null|string|undefined");soy.asserts.assertType(null==a.Nc||goog.isBoolean(a.Nc)||1===a.Nc||0===a.Nc,"showDismiss",a.Nc,"boolean|null|undefined");soy.asserts.assertType(null==a.global||goog.isBoolean(a.global)||1===a.global||0===a.global,"global",a.global,"boolean|null|undefined");soy.asserts.assertType(null==a.tb||goog.isBoolean(a.tb)||1===a.tb||0===a.tb,"withIcon",a.tb,"boolean|null|undefined");soy.asserts.assertType(null==a.small||goog.isBoolean(a.small)||1===a.small||0===a.small,
"small",a.small,"boolean|null|undefined");return soydata.VERY_UNSAFE.ordainSanitizedHtml(kZ(soy.$$assignDefaults({Lo:"feedbackAlert--info",hn:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks(""+oZ())},a)))}
function pZ(a){soy.asserts.assertType(a.message instanceof soydata.SanitizedHtml||a.message instanceof soydata.UnsanitizedText||goog.isString(a.message),"message",a.message,"soydata.SanitizedHtml");soy.asserts.assertType(null==a.title||a.title instanceof soydata.SanitizedHtml||a.title instanceof soydata.UnsanitizedText||goog.isString(a.title),"title",a.title,"?soydata.SanitizedHtml|string|undefined");soy.asserts.assertType(null==a.v||a.v instanceof goog.soy.data.SanitizedContent||goog.isString(a.v),
"classes",a.v,"null|string|undefined");soy.asserts.assertType(null==a.Nc||goog.isBoolean(a.Nc)||1===a.Nc||0===a.Nc,"showDismiss",a.Nc,"boolean|null|undefined");soy.asserts.assertType(null==a.global||goog.isBoolean(a.global)||1===a.global||0===a.global,"global",a.global,"boolean|null|undefined");soy.asserts.assertType(null==a.tb||goog.isBoolean(a.tb)||1===a.tb||0===a.tb,"withIcon",a.tb,"boolean|null|undefined");soy.asserts.assertType(null==a.small||goog.isBoolean(a.small)||1===a.small||0===a.small,
"small",a.small,"boolean|null|undefined");return soydata.VERY_UNSAFE.ordainSanitizedHtml(kZ(soy.$$assignDefaults({Lo:"feedbackAlert--warning",hn:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks(""+qZ())},a)))}
function rZ(a){soy.asserts.assertType(a.message instanceof soydata.SanitizedHtml||a.message instanceof soydata.UnsanitizedText||goog.isString(a.message),"message",a.message,"soydata.SanitizedHtml");soy.asserts.assertType(null==a.title||a.title instanceof soydata.SanitizedHtml||a.title instanceof soydata.UnsanitizedText||goog.isString(a.title),"title",a.title,"?soydata.SanitizedHtml|string|undefined");soy.asserts.assertType(null==a.v||a.v instanceof goog.soy.data.SanitizedContent||goog.isString(a.v),
"classes",a.v,"null|string|undefined");soy.asserts.assertType(null==a.Nc||goog.isBoolean(a.Nc)||1===a.Nc||0===a.Nc,"showDismiss",a.Nc,"boolean|null|undefined");soy.asserts.assertType(null==a.global||goog.isBoolean(a.global)||1===a.global||0===a.global,"global",a.global,"boolean|null|undefined");soy.asserts.assertType(null==a.tb||goog.isBoolean(a.tb)||1===a.tb||0===a.tb,"withIcon",a.tb,"boolean|null|undefined");soy.asserts.assertType(null==a.small||goog.isBoolean(a.small)||1===a.small||0===a.small,
"small",a.small,"boolean|null|undefined");return soydata.VERY_UNSAFE.ordainSanitizedHtml(kZ(soy.$$assignDefaults({Lo:"feedbackAlert--danger",hn:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks(""+qZ())},a)))}
function oZ(){return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3csvg class\x3d"feedbackAlert__icon" xmlns\x3d"http://www.w3.org/2000/svg" viewBox\x3d"0 0 24 24"\x3e\x3cpath d\x3d"M12,2 C17.52,2 22,6.48 22,12 C22,17.52 17.52,22 12,22 C6.48,22 2,17.52 2,12 C2,6.48 6.48,2 12,2 Z M12,3.33333333 C7.21637967,3.33333333 3.33333333,7.21637967 3.33333333,12 C3.33333333,16.7836203 7.21637967,20.6666667 12,20.6666667 C16.7836203,20.6666667 20.6666667,16.7836203 20.6666667,12 C20.6666667,7.21637967 16.7836203,3.33333333 12,3.33333333 Z M13,17 L11,17 L11,11 L13,11 L13,17 Z M13,9 L11,9 L11,7 L13,7 L13,9 Z"/\x3e\x3c/svg\x3e')}
goog.DEBUG&&(oZ.RY="FeedbackTemplates.infoIcon");
function mZ(){return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3csvg class\x3d"feedbackAlert__icon" xmlns\x3d"http://www.w3.org/2000/svg" viewBox\x3d"0 0 24 24"\x3e\x3cpath d\x3d"M10,0 C15.52,0 20,4.48 20,10 C20,15.52 15.52,20 10,20 C4.48,20 0,15.52 0,10 C0,4.48 4.48,0 10,0 Z M10,1.33333333 C5.21637967,1.33333333 1.33333333,5.21637967 1.33333333,10 C1.33333333,14.7836203 5.21637967,18.6666667 10,18.6666667 C14.7836203,18.6666667 18.6666667,14.7836203 18.6666667,10 C18.6666667,5.21637967 14.7836203,1.33333333 10,1.33333333 Z M6,10 L5,11 L8,14 L15,7 L14,6 L8,12 L6,10 Z" transform\x3d"translate(2,2)"/\x3e\x3c/svg\x3e')}
goog.DEBUG&&(mZ.RY="FeedbackTemplates.successIcon");
function qZ(){return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3csvg class\x3d"feedbackAlert__icon" xmlns\x3d"http://www.w3.org/2000/svg" viewBox\x3d"0 0 24 24"\x3e\x3cpath d\x3d"M12,2 C17.52,2 22,6.48 22,12 C22,17.52 17.52,22 12,22 C6.48,22 2,17.52 2,12 C2,6.48 6.48,2 12,2 Z M12,3.33333333 C7.21637967,3.33333333 3.33333333,7.21637967 3.33333333,12 C3.33333333,16.7836203 7.21637967,20.6666667 12,20.6666667 C16.7836203,20.6666667 20.6666667,16.7836203 20.6666667,12 C20.6666667,7.21637967 16.7836203,3.33333333 12,3.33333333 Z M13,17 L11,17 L11,11 L13,11 L13,17 Z M13,9 L11,9 L11,7 L13,7 L13,9 Z" transform\x3d"rotate(180 12 12)"/\x3e\x3c/svg\x3e')}
goog.DEBUG&&(qZ.RY="FeedbackTemplates.warningIcon");function sZ(a,b){this.$el=a;this.xh=b}t(sZ,fc);function tZ(a){Ca(!(a.global^0),"$globalContainer is required for global alerts");var b=a.type.uM();a=kZ({Lo:a.type.ya,v:a.v,global:a.global,hn:b,message:a.message,Nc:a.Nc,small:a.small,title:a.title,tb:a.tb});return uZ($(a.toString()),void 0)}
function uZ(a,b){Ca(a.hasClass("feedbackAlert"),'$el must have "feedbackAlert" in its classList');Ca(!a.hasClass("feedbackAlert--global")||!!b,"$globalContainer must only be used with global alerts");return new sZ(a,b)}
sZ.prototype.Ae=function(){this.xh&&(Fa(!this.xh.hasClass("globalFeedbackAlertContainer"),"the global container already has a global alert"),this.xh.data("gcpt",this.xh.get(0).style["padding-top"]),this.xh.css("padding-top",parseFloat(this.xh.css("padding-top"))+this.$el.outerHeight()),this.xh.addClass("globalFeedbackAlertContainer"))};
sZ.prototype.remove=function(){if(this.xh){this.xh.removeClass("globalFeedbackAlertContainer");this.xh.css("padding-top","");var a=parseFloat(this.xh.data("gcpt"));a&&this.xh.css("padding-top",a);this.xh.removeData("gcpt")}fc.prototype.remove.call(this)};var vZ={ya:"feedbackAlert--info",uM:oZ},wZ={ya:"feedbackAlert--warning",uM:qZ},xZ={ya:"feedbackAlert--danger",uM:qZ};function yZ(a,b,c){var d=this;this.Bh=a.Bh;this.j=a.j;this.V2=b;c.on(zZ,function(a){return d.onMessage(a)});c.on(AZ,function(){return c.hide()})}
function BZ(a){var b=CZ(a.lb,a.L1),c=$,d;soy.asserts.assertType(goog.isString(a.Bh)||a.Bh instanceof goog.soy.data.SanitizedContent,"animatorUrl",a.Bh,"string|goog.soy.data.SanitizedContent");d=soydata.VERY_UNSAFE.ordainSanitizedHtml(DZ({content:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks('\x3ciframe src\x3d"'+soy.$$escapeHtmlAttribute(soy.$$filterNormalizeUri(a.Bh))+'" class\x3d"animatorFrame" scrolling\x3d"no" frameborder\x3d"0" marginheight\x3d"0" marginwidth\x3d"0" /\x3e')}));c=
c(d.toString());d=new EZ(c,$(document));c=new FZ(c,d);return{wb:new yZ(a,b,c),view:c}}function CZ(a,b){return P.resolve($.get(vV(a,"render",b))).then(function(a){return a.toString()})}
yZ.prototype.onMessage=function(a){if(a.origin===this.Bh&&"string"===typeof a.data.type)switch(a.data.type){case GZ:HZ(this,a);break;case IZ:a=La(a.data.event);a=new JZ({location:B("location",a),type:B("type",a)});"error"===a.location?this.j.track("animator_error",{section:"editor",subsection:"animator",type:a.type}):Tl(this.j,a.type,"editor","animator",a.location);break;default:throw Error("unknown message type: "+a.data.type);}};
function HZ(a,b){a.V2.then(function(a){return new KZ(a)}).catch(LZ).then(function(a){return b.source.postMessage({type:"ANIMATE_DESIGN",html:G("html",a.html)},b.origin)})}var GZ="ANIMATOR_LOADED",IZ="TRACKING";function KZ(a){this.html=a}function LZ(){return new KZ(null)}function JZ(a){this.location=a.location;this.type=a.type};function FZ(a,b){var c=this;R.call(this,a);this.Ir=b;this.onMessage=this.onMessage.bind(this);b.on(MZ,function(){return c.trigger(AZ)});window.addEventListener("message",this.onMessage)}t(FZ,R);FZ.prototype.show=function(){this.Ir.show()};FZ.prototype.hide=function(){var a=this;this.Ir.hide().then(function(){a.remove()})};FZ.prototype.onMessage=function(a){this.trigger(zZ,a)};FZ.prototype.remove=function(){R.prototype.remove.call(this);window.removeEventListener("message",this.onMessage)};
var AZ="CLOSE",zZ="MESSAGE";function NZ(a){a=a||{};return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"fileTypesDialog__icon"\x3e'+rX(a)+"\x3c/div\x3e")};function OZ(a){rp.call(this,{G:a.G,title:a.Lu.title(),content:PZ(a.Lu)})}t(OZ,rp);
function PZ(a){var b=$,c;c=a.oB();var d=a.q7(),e=a.sA(),g=a.l3(),h=a.j7(),k=soydata.VERY_UNSAFE.ordainSanitizedHtml(a.k7()),l=a.h7(),m=soydata.VERY_UNSAFE.ordainSanitizedHtml(a.i7());a=a.hM();soy.asserts.assertType(goog.isString(c)||c instanceof goog.soy.data.SanitizedContent,"png",c,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(d)||d instanceof goog.soy.data.SanitizedContent,"pngDescription",d,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(e)||
e instanceof goog.soy.data.SanitizedContent,"jpg",e,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(g)||g instanceof goog.soy.data.SanitizedContent,"jpgDescription",g,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(h)||h instanceof goog.soy.data.SanitizedContent,"pdfStandard",h,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(k instanceof soydata.SanitizedHtml||k instanceof soydata.UnsanitizedText||goog.isString(k),"pdfStandardDescription",
k,"soydata.SanitizedHtml");soy.asserts.assertType(goog.isString(l)||l instanceof goog.soy.data.SanitizedContent,"pdfPrint",l,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(m instanceof soydata.SanitizedHtml||m instanceof soydata.UnsanitizedText||goog.isString(m),"pdfPrintDescription",m,"soydata.SanitizedHtml");soy.asserts.assertType(goog.isString(a)||a instanceof goog.soy.data.SanitizedContent,"gotIt",a,"string|goog.soy.data.SanitizedContent");c=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3csection\x3e\x3csection class\x3d"fileTypesDialog__typeSection"\x3e'+
NZ({Se:"PNG",color:"#3F6BD1"})+'\x3cp class\x3d"fileTypesDialog__description"\x3e\x3cstrong\x3e'+soy.$$escapeHtml(c)+"\x3c/strong\x3e "+soy.$$escapeHtml(d)+'\x3c/p\x3e\x3c/section\x3e\x3csection class\x3d"fileTypesDialog__typeSection"\x3e'+NZ({Se:"JPG",color:"#399BE6"})+'\x3cp class\x3d"fileTypesDialog__description"\x3e\x3cstrong\x3e'+soy.$$escapeHtml(e)+"\x3c/strong\x3e "+soy.$$escapeHtml(g)+'\x3c/p\x3e\x3c/section\x3e\x3csection class\x3d"fileTypesDialog__typeSection"\x3e'+NZ({Se:"PDF",color:"#00C4CC"})+
'\x3cp class\x3d"fileTypesDialog__description"\x3e\x3cstrong\x3e'+soy.$$escapeHtml(h)+"\x3c/strong\x3e "+soy.$$escapeHtml(k)+'\x3c/p\x3e\x3c/section\x3e\x3csection class\x3d"fileTypesDialog__typeSection"\x3e'+NZ({Se:"PDF",color:"#26B45A"})+'\x3cp class\x3d"fileTypesDialog__description"\x3e\x3cstrong\x3e'+soy.$$escapeHtml(l)+"\x3c/strong\x3e "+soy.$$escapeHtml(m)+'\x3c/p\x3e\x3c/section\x3e\x3cfooter class\x3d"fileTypesDialog__footer"\x3e\x3cbutton class\x3d"button close fileTypesDialog__gotItButton"\x3e'+
soy.$$escapeHtml(a)+"\x3c/button\x3e\x3c/footer\x3e\x3c/section\x3e");return b(c.toString())}OZ.prototype.render=function(){rp.prototype.render.call(this);this.$(".dialog").addClass("fileTypesDialog");return this};function QZ(a){rp.call(this,{G:a.G,content:RZ(a.Ky),$e:!1})}t(QZ,rp);
function RZ(a){var b=$,c;c=a.title();var d=a.hg(),e=soydata.VERY_UNSAFE.ordainSanitizedHtml(a.q1()),g=soydata.VERY_UNSAFE.ordainSanitizedHtml(a.k0());a=a.hM();soy.asserts.assertType(goog.isString(c)||c instanceof goog.soy.data.SanitizedContent,"title",c,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(d)||d instanceof goog.soy.data.SanitizedContent,"subtitle",d,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(e instanceof soydata.SanitizedHtml||e instanceof
soydata.UnsanitizedText||goog.isString(e),"cropMarksDescription",e,"soydata.SanitizedHtml");soy.asserts.assertType(g instanceof soydata.SanitizedHtml||g instanceof soydata.UnsanitizedText||goog.isString(g),"bleedAreaDescription",g,"soydata.SanitizedHtml");soy.asserts.assertType(goog.isString(a)||a instanceof goog.soy.data.SanitizedContent,"gotIt",a,"string|goog.soy.data.SanitizedContent");c=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cimg class\x3d"cropAndBleedDialog__headerImage" src\x3d"https://static.canva.com/static/images/crop_and_bleed_dialog_header.png"\x3e\x3csection class\x3d"cropAndBleedDialog__content"\x3e\x3cheader class\x3d"cropAndBleedDialog__header"\x3e\x3ch2\x3e'+
soy.$$escapeHtml(c)+"\x3c/h2\x3e\x3cp\x3e"+soy.$$escapeHtml(d)+'\x3c/p\x3e\x3c/header\x3e\x3csection class\x3d"cropAndBleedDialog__section"\x3e\x3cdiv class\x3d"cropAndBleedDialog__icon"\x3e'+soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3csvg width\x3d"64" height\x3d"64" viewBox\x3d"0 0 64 64" xmlns\x3d"http://www.w3.org/2000/svg" xmlns:xlink\x3d"http://www.w3.org/1999/xlink"\x3e\x3ctitle\x3eIcon\x3c/title\x3e\x3cdefs\x3e\x3crect id\x3d"path-1" width\x3d"64" height\x3d"64" rx\x3d"4"/\x3e\x3cpath id\x3d"path-3" d\x3d"M32 32h32v32H32z"/\x3e\x3cmask id\x3d"mask-4" x\x3d"-8" y\x3d"-8" width\x3d"48" height\x3d"48"\x3e\x3cpath fill\x3d"#fff" d\x3d"M24 24h48v48H24z"/\x3e\x3cuse xlink:href\x3d"#path-3"/\x3e\x3c/mask\x3e\x3c/defs\x3e\x3cg id\x3d"Page-1" fill\x3d"none" fill-rule\x3d"evenodd"\x3e\x3cg id\x3d"On-boarding-Dialog---Bleed" transform\x3d"translate(-444 -506)"\x3e\x3cg id\x3d"Message" transform\x3d"translate(404 162)"\x3e\x3cg id\x3d"Group" transform\x3d"translate(40 344)"\x3e\x3cg id\x3d"Icon"\x3e\x3cmask id\x3d"mask-2" fill\x3d"#fff"\x3e\x3cuse xlink:href\x3d"#path-1"/\x3e\x3c/mask\x3e\x3cuse id\x3d"Rectangle-214" fill\x3d"#EBECED" xlink:href\x3d"#path-1"/\x3e\x3cg id\x3d"Rectangle-214" mask\x3d"url(#mask-2)"\x3e\x3cuse fill\x3d"#F5F5F5" xlink:href\x3d"#path-3"/\x3e\x3cuse stroke\x3d"#D9D9D9" mask\x3d"url(#mask-4)" stroke-width\x3d"16" xlink:href\x3d"#path-3"/\x3e\x3c/g\x3e\x3cpath id\x3d"Rectangle-214" fill\x3d"#00C4CC" mask\x3d"url(#mask-2)" d\x3d"M32 4h2v16h-2z"/\x3e\x3cpath id\x3d"Rectangle-214" fill\x3d"#00C4CC" mask\x3d"url(#mask-2)" d\x3d"M4 32h16v2H4z"/\x3e\x3c/g\x3e\x3c/g\x3e\x3c/g\x3e\x3c/g\x3e\x3c/g\x3e\x3c/svg\x3e')+
'\x3c/div\x3e\x3cp class\x3d"cropAndBleedDialog__description"\x3e'+soy.$$escapeHtml(e)+'\x3c/p\x3e\x3c/section\x3e\x3csection class\x3d"cropAndBleedDialog__section"\x3e\x3cdiv class\x3d"cropAndBleedDialog__icon"\x3e'+soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3csvg width\x3d"64" height\x3d"64" viewBox\x3d"0 0 64 64" xmlns\x3d"http://www.w3.org/2000/svg" xmlns:xlink\x3d"http://www.w3.org/1999/xlink"\x3e\x3cdefs\x3e\x3crect id\x3d"path-1" width\x3d"64" height\x3d"64" rx\x3d"4"/\x3e\x3c/defs\x3e\x3cg id\x3d"Page-1" fill\x3d"none" fill-rule\x3d"evenodd"\x3e\x3cg id\x3d"On-boarding-Dialog---Bleed" transform\x3d"translate(-444 -590)"\x3e\x3cg id\x3d"Message" transform\x3d"translate(404 162)"\x3e\x3cg id\x3d"Group" transform\x3d"translate(40 428)"\x3e\x3cg id\x3d"Icon"\x3e\x3cmask id\x3d"mask-2" fill\x3d"#fff"\x3e\x3cuse xlink:href\x3d"#path-1"/\x3e\x3c/mask\x3e\x3cuse id\x3d"Rectangle-214" fill\x3d"#EBECED" xlink:href\x3d"#path-1"/\x3e\x3cpath id\x3d"Rectangle-214" fill\x3d"#00C4CC" mask\x3d"url(#mask-2)" d\x3d"M24 24h40v40H24z"/\x3e\x3cpath id\x3d"Rectangle-214" fill\x3d"#F5F5F5" mask\x3d"url(#mask-2)" d\x3d"M32 32h32v32H32z"/\x3e\x3cpath id\x3d"Rectangle-214" fill\x3d"#D9D9D9" mask\x3d"url(#mask-2)" d\x3d"M32 4h2v16h-2z"/\x3e\x3cpath id\x3d"Rectangle-214" fill\x3d"#D9D9D9" mask\x3d"url(#mask-2)" d\x3d"M4 32h16v2H4z"/\x3e\x3c/g\x3e\x3c/g\x3e\x3c/g\x3e\x3c/g\x3e\x3c/g\x3e\x3c/svg\x3e')+
'\x3c/div\x3e\x3cp class\x3d"cropAndBleedDialog__description"\x3e'+soy.$$escapeHtml(g)+'\x3c/p\x3e\x3c/section\x3e\x3cfooter class\x3d"cropAndBleedDialog__footer"\x3e\x3cbutton class\x3d"button close cropAndBleedDialog__gotItButton"\x3e'+soy.$$escapeHtml(a)+"\x3c/button\x3e\x3c/footer\x3e\x3c/section\x3e");return b(c.toString())}QZ.prototype.render=function(){rp.prototype.render.call(this);this.$(".dialog").addClass("cropAndBleedDialog");return this};function SZ(a){this.j=a.j}function TZ(a,b){a.track("download_page_range_change",{pageRange:b})}function UZ(a,b){a.track("download_button_click",{filetype:b})}SZ.prototype.CC=function(a){this.track("close",{type:a})};SZ.prototype.track=function(a,b){this.j.track(a,_.extend(this.LL(),b))};SZ.prototype.LL=function(){return{section:"editor",subsection:"download_menu",version:"2016-09"}};function VZ(a){var b;b=b||{};soy.asserts.assertType(goog.isString(a.title)||a.title instanceof goog.soy.data.SanitizedContent,"title",a.title,"string|goog.soy.data.SanitizedContent");var c=a.title;soy.asserts.assertType(goog.isString(a.Ku)||a.Ku instanceof goog.soy.data.SanitizedContent,"fileTypeInfoLinkTitle",a.Ku,"string|goog.soy.data.SanitizedContent");var d=a.Ku;soy.asserts.assertType(goog.isString(a.St)||a.St instanceof goog.soy.data.SanitizedContent,"allPages",a.St,"string|goog.soy.data.SanitizedContent");
var e=a.St;soy.asserts.assertType(goog.isString(a.QG)||a.QG instanceof goog.soy.data.SanitizedContent,"pageRangePlaceholder",a.QG,"string|goog.soy.data.SanitizedContent");var g=a.QG;soy.asserts.assertType(goog.isString(a.pu)||a.pu instanceof goog.soy.data.SanitizedContent,"cropMarksAndBleed",a.pu,"string|goog.soy.data.SanitizedContent");var h=a.pu;soy.asserts.assertType(goog.isString(a.Cx)||a.Cx instanceof goog.soy.data.SanitizedContent,"transparentBackground",a.Cx,"string|goog.soy.data.SanitizedContent");
var k=a.Cx;soy.asserts.assertType(goog.isString(a.WF)||a.WF instanceof goog.soy.data.SanitizedContent,"learnMore",a.WF,"string|goog.soy.data.SanitizedContent");var l=a.WF;soy.asserts.assertType(goog.isString(a.download)||a.download instanceof goog.soy.data.SanitizedContent,"download",a.download,"string|goog.soy.data.SanitizedContent");var m=a.download;soy.asserts.assertType(goog.isNumber(a.jd),"pageCount",a.jd,"number");var n=a.jd;soy.asserts.assertType(goog.isBoolean(a.Ty)||1===a.Ty||0===a.Ty,"displayRemoveCanvasOption",
a.Ty,"boolean");var p=!!a.Ty;soy.asserts.assertType(goog.isBoolean(a.po)||1===a.po||0===a.po,"showUpgradeCta",a.po,"boolean");var q=!!a.po;soy.asserts.assertType(goog.isString(a.PF)||a.PF instanceof goog.soy.data.SanitizedContent,"invalidPageRange",a.PF,"string|goog.soy.data.SanitizedContent");var u=a.PF,v=goog.asserts.assertArray(a.ae,"expected parameter 'exportOptions' of type list\x3c[disabled: null, selected: bool, text: string, value: string]\x3e.");soy.asserts.assertType(goog.isString(a.ou)||
a.ou instanceof goog.soy.data.SanitizedContent,"cropAndBleedInfoLinkTitle",a.ou,"string|goog.soy.data.SanitizedContent");var z=a.ou;soy.asserts.assertType(goog.isString(a.ep)||a.ep instanceof goog.soy.data.SanitizedContent,"defaultExportOption",a.ep,"string|goog.soy.data.SanitizedContent");a=a.ep;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cheader class\x3d"exportPopOver__header"\x3e\x3ch2 class\x3d"exportPopOver__title"\x3e'+soy.$$escapeHtml(c)+'\x3c/h2\x3e\x3ca href\x3d"#" class\x3d"exportPopOver__infoLink" title\x3d"'+
soy.$$escapeHtmlAttribute(d)+'"\x3e'+qX()+'\x3c/a\x3e\x3c/header\x3e\x3csection class\x3d"exportPopOver__container"\x3e\x3csection class\x3d"exportPopOver__option"\x3e'+WZ({options:v,block:!0,v:"exportPopOver__fileTypeSelect"})+'\x3c/section\x3e\x3csection class\x3d"exportPopOver__settingsContainer exportPopOver__settingsContainer--expanded exportPopOver__settingsContainer--notransitions" data-export-type\x3d"'+soy.$$escapeHtmlAttribute(a)+'" data-design-pages\x3d"'+soy.$$escapeHtmlAttribute(n)+'" style\x3d"'+
(b.Vb?"/*"+b.Vb+"*/":"")+'height: 0"\x3e\x3csection class\x3d"exportPopOver__section exportPopOver__pageSettings"\x3e\x3clabel class\x3d"exportPopOver__option"\x3e\x3cinput type\x3d"radio" name\x3d"pageRangeOption" class\x3d"exportPopOver__allPagesOption" checked\x3e'+soy.$$escapeHtml(e)+'\x3c/label\x3e\x3cdiv class\x3d"exportPopOver__option exportPopOver__pageRangeOption"\x3e\x3cinput type\x3d"radio" name\x3d"pageRangeOption" class\x3d"exportPopOver__radio"\x3e\x3cinput type\x3d"text" class\x3d"textInput exportPopOver__input" placeholder\x3d"'+
soy.$$escapeHtmlAttribute(g)+'"\x3e\x3c/div\x3e\x3c/section\x3e\x3csection class\x3d"exportPopOver__section exportPopOver__option exportPopOver__printSettings"\x3e\x3clabel\x3e\x3cinput type\x3d"checkbox" name\x3d"cropsAndBleed" class\x3d"exportPopOver__cropMarksAndBleedInput"\x3e'+soy.$$escapeHtml(h)+'\x3c/label\x3e\x3ca href\x3d"#" class\x3d"exportPopOver__questionMarkIcon exportPopOver__cropAndBleedQuestionIcon" title\x3d"'+soy.$$escapeHtmlAttribute(z)+'"\x3e'+soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3csvg width\x3d"18" height\x3d"18" viewBox\x3d"0 0 18 18" xmlns\x3d"http://www.w3.org/2000/svg"\x3e\x3cg fill-rule\x3d"evenodd"\x3e\x3cpath d\x3d"M15.5 9a6.5 6.5 0 1 0-13 0 6.5 6.5 0 0 0 13 0zm-14 0a7.5 7.5 0 1 1 15 0 7.5 7.5 0 0 1-15 0z"/\x3e\x3cpath d\x3d"M9.75 12.75h-1.5v-1.5h1.5v1.5zm-1.5-2.25c0-.466.065-.948.178-1.224.113-.277.32-.549.622-.817.301-.268.502-.486.602-.654.1-.168.15-.346.15-.532 0-.563-.26-.844-.78-.844-.246 0-.443.075-.591.227-.149.151-.226.36-.233.627H6.75c.007-.636.212-1.134.617-1.494.404-.36.956-.539 1.655-.539.706 0 1.254.17 1.644.512.39.341.584.823.584 1.446 0 .283-.063.55-.19.801-.126.252-.348.53-.664.837l-.405.385c-.132.15-.241.301-.241.925v.344h-1.5z"/\x3e\x3c/g\x3e\x3c/svg\x3e')+
"\x3c/a\x3e\x3c/section\x3e"+(p||q?'\x3csection class\x3d"exportPopOver__section exportPopOver__option exportPopOver__pngSettings"\x3e\x3clabel class\x3d"exportPopOver__transparentBackgroundCheckbox '+(q?"disabled":"")+'"\x3e\x3cinput type\x3d"checkbox" name\x3d"removeCanvas" class\x3d"exportPopOver__transparentBackgroundCheckbox__input" '+(q?"disabled":"")+"\x3e"+soy.$$escapeHtml(k)+"\x3c/label\x3e"+(q?XZ({tagName:"a",v:"exportPopOver__questionMarkIcon exportPopOver__transparentBackgroundLearnMoreButton",
small:!0,href:"#",text:l}):"")+"\x3c/section\x3e":"")+'\x3c/section\x3e\x3cdiv class\x3d"exportPopOver__pageRangeError"\x3e'+soy.$$escapeHtml(u)+'\x3c/div\x3e\x3c/section\x3e\x3cfooter\x3e\x3cbutton class\x3d"button buttonBlock buttonSubmittable exportPopOver__downloadButton"\x3e'+soy.$$escapeHtml(m)+"\x3c/button\x3e\x3c/footer\x3e")};function YZ(){}YZ=Ry.extend();
YZ.prototype.events=function(){var a=Ry.prototype.events.call(this);a["input .exportPopOver__pageRangeOption .exportPopOver__input"]=this.s5;a["change input[name\x3dpageRangeOption]"]=this.j4;a["focus .exportPopOver__pageRangeOption .exportPopOver__input"]=this.h5;a["blur .exportPopOver__pageRangeOption .exportPopOver__input"]=this.Y3;a["change .exportPopOver__pageRangeOption .exportPopOver__input"]=this.i4;a["change .exportPopOver__fileTypeSelect \x3e select"]=this.f4;a["click .exportPopOver__downloadButton"]=
this.w4;a["click .exportPopOver__transparentBackgroundLearnMoreButton"]=this.O4;a["change .exportPopOver__transparentBackgroundCheckbox__input"]=this.l4;a["click .exportPopOver__cropAndBleedQuestionIcon"]=this.q4;a["change .exportPopOver__cropMarksAndBleedInput"]=this.d4;a["click .exportPopOver__header .exportPopOver__infoLink"]=this.z4;return a};YZ.KR=new Jf("gf",!1);YZ.r_=new Jf("gg",!1);f=YZ.prototype;
f.initialize=function(a){this.W=a.W;this.model=a.model;this.Vd=a.Vd;this.Dl=a.Dl;this.Tc=a.Tc;this.sa=a.sa;this.bc=a.bc;this.cb=a.cb;this.aa=a.aa;this.X=a.X;this.qd=a.qd;this.rb=a.rb;this.ac=a.ac;this.kd=a.kd;this.Ga=a.Ga;this.j=a.j;this.Hb=a.Hb;this.G=a.G;var b=this.i=a.i;b.Rb||(b.Rb=new Le(b.config));this.Rb=b.Rb;this.Ub=a.Ub;this.xj=a.xj;this.td=a.td;this.Bh=a.Bh;this.H=a.H;this.uc=a.uc;this.od=a.od;this.ZW=!0;this.bj=a.bj;this.Ja=a.Ja;this.ae=[{value:ZZ,text:this.Rb.sA()},{value:$Z,text:this.Rb.oB()},
{value:a_,text:this.Rb.format("exportPopOverStandardPdf")},{value:b_,text:this.Rb.format("exportPopOverPrintPdf")}];this.H.get(YZ.r_)&&this.H.get(YZ.KR)&&a.Bh&&this.ae.push({value:c_,text:this.Rb.format("exportPopOverAnimation")});var c,b=this.model.hb().iE;c=$Z;"IMAGE"===b?(b=this.model.hb().Mp,c="JPG"===b.Se?ZZ:$Z):"PDF"===b&&(b=this.model.hb().Is,c=96>=b.Oc?a_:b_);this.FX=this.ep=c;a=_.defaults(a,{Qe:"",Ef:{top:-4},content:$(VZ({title:this.Rb.Se(),Ku:this.Rb.Ku(),St:this.Rb.St(),QG:this.Rb.format("exportPopOverInRangePagesPlaceholder"),
pu:this.Rb.pu(),Cx:this.Rb.Cx(),WF:this.Rb.format("exportPopOverLearnMoreButton"),download:this.Rb.download(),jd:this.model.gc(),Ty:this.W.H.get(Zf),po:!this.W.H.get(Zf)&&this.W.H.get(ag),PF:this.Rb.format("exportPopOverInvalidPageRangeInput"),ae:d_(this),ou:this.Rb.ou(),ep:this.ep}).toString())});Ry.prototype.initialize.call(this,a)};
f.render=function(){function a(){iq(this.model)||(this.$el.removeClass("exportPopOver--disabled"),this.$(".exportPopOver__downloadButton").prop("disabled",!1),this.$(".exportPopOver__message").remove(),this.stopListening(this.model,"change",a))}Ry.prototype.render.call(this);this.$(".dialog \x3e h2").remove();this.$(".buttonContainer").remove();this.$(".dialog").addClass("exportPopOver");pl(function(){e_(this,this.$(".exportPopOver__settingsContainer"))}.bind(this));var b="";this.model.isEmpty()?
b=this.Rb.format("exportPopOverEmptyDesignError"):iq(this.model)?(b=this.Rb.format("exportPopOverDownloadsInProgressError"),this.listenTo(this.model,"change",a)):(f_(this),g_(this),h_(this));b&&(tZ({type:wZ,v:"exportPopOver__message",message:b,tb:!1}).$el.appendTo(this.$(".exportPopOver__header")),this.$el.addClass("exportPopOver--disabled"),this.$(".exportPopOver__downloadButton").prop("disabled",!0));return this};
function f_(a){a.$(".exportPopOver__warning").remove();a.$(".exportPopOver__downloadButton").prop("disabled",!1)}f.cancel=_.debounce(function(){Ry.prototype.cancel.call(this);this.xj.CC("pressed_esc")},10,!0);f.blur=function(a){Ry.prototype.blur.call(this,a);this.xj.CC("clicked_mask")};
function i_(a){w(a.Bh);var b=a.$(".exportPopOver__downloadButton"),c=BZ({lb:a.Hb.fc(),L1:Ut(a.Hb),j:a.j,Bh:a.Bh}).view;b.addClass("submitting");j_(a.td).finally(function(){c.$el.appendTo("body");c.show();this.ok();b.removeClass("submitting")}.bind(a))}
function k_(a){function b(){this.$el.removeClass("exportPopOver--withPageRangeError")}var c,d;c=a.$(".exportPopOver__pageRangeOption .exportPopOver__input");d=c.val().trim();if(""===d||YZ.bS.test(d))return b.call(a),c.removeClass("exportPopOver__input--withError"),!0;d=a.$(".exportPopOver__pageRangeError");a.$el.addClass("exportPopOver--withPageRangeError");c.addClass("exportPopOver__input--withError");d.css("top",c.position().top-c.outerHeight()-6+"px");c.one("blur",b.bind(a));return!1}
f.w4=function(a){a.preventDefault();if(!this.$(".exportPopOver__pageRangeOption .exportPopOver__radio").prop("checked")||k_(this)){this.$(".exportPopOver__cropMarksAndBleedInput").not(":visible").prop("checked",!1);this.$(".exportPopOver__transparentBackgroundCheckbox__input").not(":visible").prop("checked",!1);var b=l_(this);a={MV:b===b_};if(b===c_)i_(this),UZ(this.xj,b);else{var c;var d=this.$(".exportPopOver__pageRangeOption .exportPopOver__input").val();c=Yp(this.model).length;if(YZ.bS.test(d)){for(var e=
[],d=d.split(","),g=0;g<d.length;g++){var h=d[g].split("-"),k=parseInt(h[0],10);if(!isNaN(k)){var l=k=Math.max(1,Math.min(k,c));1<h.length&&(l=parseInt(h[1],10),l=isNaN(l)?c:Math.max(1,Math.min(l,c)));var h=k,m=l;m<h&&(h=l,m=k);for(k=0;e[k]<h;)k++;for(;h<=m;)e[k]!==h&&e.splice(k,0,h),k++,h++}}c=e}else c=_.range(1,c+1);e=!!this.$(".exportPopOver__cropMarksAndBleedInput").prop("checked");d=b!=ZZ?!!this.$(".exportPopOver__transparentBackgroundCheckbox \x3e input").prop("checked"):!1;k=this.model.hb();
g=k.Mp;l=k.Is;k=null;switch(b){case ZZ:b="JPG";l=g&&g.Oc||96;k=g&&g.Xp||k;break;case $Z:b="PNG";l=g&&g.Oc||96;break;case a_:b="PDF";l=Math.min(l&&l.Oc||96,96);break;case b_:b="PDF";l=l&&l.Oc||96;96>=l&&(l=300);break;default:throw Error("Unknown export option",b);}b={format:b,O:c,Dr:e,cu:e,Us:d,xx:k,ss:l};m_({Vd:this.Vd,Dl:this.Dl,i:this.i,sa:this.sa,bc:this.bc,cb:this.cb,aa:this.aa,X:this.X,qd:this.qd,ac:this.ac,rb:this.rb,kd:this.kd,Ga:this.Ga,j:this.j,document:this.model,Hb:this.Hb,G:this.G,Ub:this.Ub,
ae:b,td:this.td,H:this.H,W:this.W,Tt:a,uc:this.uc,od:this.od,Ja:this.Ja}).start();this.ok();UZ(this.xj,b.format)}}};function n_(a,b){b.val().trim().length&&TZ(a.xj,b.val().toString())}
f.f4=function(a){var b;b=$(a.currentTarget).val().toString();a=this.$(".exportPopOver__settingsContainer");a.attr("data-export-type",b);f_(this);g_(this);h_(this);if(l_(this)===c_){var c;this.bj.Ws?10<this.model.gc()&&(c=this.Rb.Oa("exportPopOverAnimationPageLimitWarningHtml")):c=this.Rb.Oa("exportPopOverAnimationRendererErrorHtml");c?(tZ({message:c,type:xZ,tb:!1,v:"exportPopOver__warning"}).$el.prependTo(this.$(".exportPopOver__settingsContainer")),this.$(".exportPopOver__downloadButton").prop("disabled",
!0)):this.bj.tI?tZ({message:this.Rb.Oa("exportPopOverAnimationFilterWarningHtml"),type:wZ,tb:!1,v:"exportPopOver__warning"}).$el.prependTo(this.$(".exportPopOver__settingsContainer")):tZ({message:this.Rb.Oa("exportPopOverAnimationBetaWarningHtml"),type:wZ,tb:!1,v:"exportPopOver__warning"}).$el.prependTo(this.$(".exportPopOver__settingsContainer"))}c=l_(this)===c_?this.Rb.format("exportPopOverPreviewAnimation"):this.Rb.download();this.$(".exportPopOver__downloadButton").text(c);e_(this,a);this.xj.track("download_file_type_change",
{from_filetype:this.FX,to_filetype:b});this.FX=b};
function e_(a,b){var c=0,d;b.removeClass("exportPopOver__settingsContainer--expanded");b.children(":visible").each(function(a,b){c+=$(b).outerHeight(!0)});d=parseInt(b.css("height"),10);a.ZW?(a.ZW=!1,b.css("height",c),b.addClass("exportPopOver__settingsContainer--expanded"),b.css("height"),b.removeClass("exportPopOver__settingsContainer--notransitions")):d===c?b.addClass("exportPopOver__settingsContainer--expanded"):(b.css("height",c),b.one("transitionend",function(){b.addClass("exportPopOver__settingsContainer--expanded")}))}
f.s5=function(){this.$(".exportPopOver__pageRangeOption .exportPopOver__radio").prop("checked",!0);k_(this)};f.h5=function(){k_(this)};f.Y3=function(a){a=$(a.currentTarget);0===a.val().trim().length&&(a.val(""),this.$(".exportPopOver__allPagesOption").prop("checked",!0))};f.i4=function(a){n_(this,$(a.currentTarget))};
f.j4=function(){var a=this.$(".exportPopOver__pageRangeOption .exportPopOver__radio"),b=this.$(".exportPopOver__pageRangeOption .exportPopOver__input");a.prop("checked")?(b.focus().select(),k_(this),n_(this,b)):(b.removeClass("exportPopOver__input--withError"),TZ(this.xj,"all"))};f.O4=function(){var a=this.Tc;a.j.wa(pm("export_pop_over","png_export_options","transparent_background"));Oo(a,o_)};f.l4=function(){this.xj.track("transparent_bg_click")};f.q4=function(){(new QZ({G:this.G,Ky:Lc(this.i)})).render().show()};
f.d4=function(){this.xj.track("crop_marks_click")};f.z4=function(){(new OZ({G:this.G,Lu:Jc(this.i)})).render().show()};function d_(a){var b;return a.ae.map(function(a){b=a.value===this.ep;return{value:a.value,text:b?this.Rb.format("exportPopOverRecommended",a.text):a.text,selected:b}}.bind(a))}function l_(a){return a.$(".exportPopOver__fileTypeSelect \x3e select").val()}
function g_(a){function b(){return this.model.ja().some(function(a){return a.Um()})}(function(){var a=l_(this);return a===ZZ||a==$Z}).call(a)&&b.call(a)&&tZ({message:soydata.VERY_UNSAFE.ordainSanitizedHtml(p_(a)),type:wZ,tb:!1,v:"exportPopOver__warning"}).$el.prependTo(a.$(".exportPopOver__settingsContainer"))}
function h_(a){function b(){switch(d){case ZZ:return this.Rb.sA();case $Z:return this.Rb.oB();default:throw Error("Unknown export value",d);}}function c(){return 1<this.model.gc()}var d=l_(a);(function(){return d===ZZ||d==$Z}).call(a)&&c.call(a)&&tZ({message:soydata.VERY_UNSAFE.ordainSanitizedHtml(Me(a.Rb,b.call(a))),type:wZ,tb:!1,v:"exportPopOver__warning"}).$el.prependTo(a.$(".exportPopOver__settingsContainer"))}
function p_(a){var b=["KABpChgmirA","KABpCl3wNm4"],c=a.model.hb().category;return c&&0<=b.indexOf(c)?a.Rb.format("exportPopOverSocialMediaLinksExportWarningHtml","https://support.canva.com/creating-your-design/page-setup/hyperlinks/"):a.Rb.format("exportPopOverLinksExportWarning")}YZ.bS=/^\s*\d+\s*(?:-\s*(?:\d+\s*)?)?(?:,\s*(?:\d+\s*(?:-\s*(?:\d+\s*)?)?)?)*$/;var ZZ="jpg",$Z="png",a_="standardPdf",b_="printPdf",c_="animation";function q_(){}q_=Ry.extend();q_.prototype.events=function(){var a=Ry.prototype.events.call(this);a["click .resubmitLayout"]=this.K4;return a};q_.prototype.initialize=function(a){this.l8=a.resubmit;var b="in layout review";this.options.forSale&&(b="for sale as a layout");b={title:b.charAt(0).toUpperCase()+b.slice(1),content:$(q_.HI({status:b})),Qe:""};Ry.prototype.initialize.call(this,_.extend({},b,a))};
q_.prototype.render=function(){Ry.prototype.render.call(this);this.$(".buttonContainer").remove();return this};q_.prototype.K4=function(){this.l8();this.remove()};q_.HI=_.template('\x3cp\x3eThis design is \x3c%- status %\x3e.\x3c/p\x3e\x3cbr\x3e\x3cdiv class\x3d"layoutThumbnail"\x3e\x3c/div\x3e\x3cdiv class\x3d"exportButtons"\x3e\x3cbutton class\x3d"button buttonBlock resubmitLayout"\x3eResubmit\x3c/button\x3e\x3c/div\x3e');function r_(){}r_=Backbone.View.extend({className:"shareViaEmailForm",tagName:"form"});r_.prototype.events=function(){return{"click button":this.send,submit:this.send}};r_.prototype.initialize=function(a){this.mode=a.mode;this.Xg=a.Xg;this.Hf=a.Hf};r_.prototype.render=function(){this.$el.html(r_.template({sendLabel:this.Hf.send(),placeholder:this.Hf.uj()}));return this};
r_.prototype.send=function(a){a.preventDefault();a=this.$("input").val().replace(/[ ,;]+/g,",").split(",").map(QH).filter(Boolean);0===a.length?alert("Enter some email addresses!"):(this.$("button").prop("disabled",!0),this.trigger("sendClicked",{a2:a,mode:this.mode,Xg:this.Xg}))};r_.template=_.template('\x3cdiv data-input-placeholder\x3d"\x3c%- placeholder %\x3e"\x3e\x3cinput class\x3d"textInput" placeholder\x3d"\x3c%- placeholder %\x3e" type\x3d"text"\x3e\x3c/div\x3e\x3cbutton class\x3d"button"\x3e\x3c%- sendLabel %\x3e\x3c/button\x3e');function s_(){}s_=Ry.extend({className:"descriptionPopOver"});s_.Go=254;f=s_.prototype;
f.initialize=function(a){this.i=a.i;var b;b=Bc(this.i).format("editorControlsTitleTooLongError",s_.Go+1);this.e_=tZ({type:xZ,message:b,tb:!1,v:"descriptionPopOver__error"}).$el;b={title:Bc(a.i).format("editorControlsPopoverHeadingDesignTitle"),Qe:Bc(a.i).format("editorControlsPopoverDoneButton"),content:$("\x3ctextarea\x3e").addClass("textInput").attr("maxlength",s_.Go).after($("\x3cdiv\x3e").addClass("descriptionPopOver__errorContainer"))};a=_.extend({},b,a);Ry.prototype.initialize.call(this,a);
this.on("hide",this.U4)};f.events=function(){var a=Ry.prototype.events.apply(this,arguments);a["keydown textarea"]=this.y5;a["keypress textarea"]=this.z5;a["paste textarea"]=this.U5;return a};f.render=function(){Ry.prototype.render.call(this);var a=this.model.pb();AT(a)?this.$("textarea").val(""):this.$("textarea").val(a.Zm());return this};f.ei=function(a){Ry.prototype.ei.call(this,a);this.$("textarea").autosize({append:""}).focus().select();return this};
function t_(a){a.$(".descriptionPopOver__errorContainer").append(a.e_)}function u_(a){a.$(".descriptionPopOver__errorContainer").empty()}f.U4=function(a){var b=this.$("textarea"),c=this.model.pb(),b=b.val().trim();2!==a&&0!==a||b===c.Zm()||(U&&(a=U,a.track("design_title_changed",{title:b,source:"typed",template:a.Li})),BT(c,b));u_(this)};f.y5=function(a){u_(this);var b=a.altKey||a.shiftKey;13!==a.which||b||(a.preventDefault(),this.ok())};
f.U5=function(){u_(this);this.$("textarea").val().length>=s_.Go&&t_(this)};f.z5=function(){this.$("textarea").val().length>=s_.Go&&this.$(".descriptionPopOver__errorContainer").is(":empty")&&t_(this)};function v_(){}v_=Backbone.View.extend({className:"shareView"});f=v_.prototype;f.events=function(){return{"click .shareButtonSocial":this.M4,"click .shareButtonEmail":this.y4}};f.initialize=function(a){this.location=a.location;this.Hb=a.Hb;this.ZK=new r_({mode:"default",Xg:Ut(this.Hb),Hf:a.Hf});this.Hf=a.Hf;this.FC=["Take a look at my new @Canva creation!","Check out my new @Canva design!","I just made this fantastic design with @Canva!","How great does my new @Canva design look?"]};
f.render=function(){Backbone.View.prototype.render.call(this);var a=v_.HI;this.$el.append(a({shareOnFacebookTitle:this.Hf.format("shareViewShareOnFacebook"),shareOnTwitterTitle:this.Hf.format("shareViewShareOnTwitter"),postLabel:this.Hf.post(),tweetLabel:this.Hf.format("shareViewTweet"),emailLabel:this.Hf.email()}));this.$(".shareEmail").append(this.ZK.render().el);this.listenTo(this.ZK,"sendClicked",this.x4);this.listenTo(this,"emailSendingError",this.G1);return this};f.bQ=function(){this.trigger("shareClicked")};
f.M4=function(a){a.preventDefault();this.bQ()};f.y4=function(a){a.preventDefault();this.$(".shareEmail").show();this.trigger("shareViewResize")};f.x4=function(a){this.trigger("emailSend",a)};f.G1=function(a){var b=this.ZK.$("button");b.prop("disabled",!1);b.attr("class","");this.$(".shareEmail h2").append('\x3cp class\x3d"error"\x3e'+a+"\x3c/p\x3e");this.trigger("shareViewResize")};v_.HI=_.template('\x3cdiv class\x3d"shareButtons"\x3e\x3cbutton class\x3d"button buttonFacebook shareButtonSocial" title\x3d"\x3c%- shareOnFacebookTitle %\x3e"\x3e\x3c%- postLabel %\x3e\x3c/button\x3e\x3cbutton class\x3d"button buttonTwitter shareButtonSocial" title\x3d"\x3c%- shareOnTwitterTitle %\x3e"\x3e\x3c%- tweetLabel %\x3e\x3c/button\x3e\x3cbutton class\x3d"button shareButtonEmail"\x3e\x3c%- emailLabel %\x3e\x3c/button\x3e\x3c/div\x3e\x3cdiv class\x3d"shareEmail"\x3e\x3ch2\x3e\x3c%- emailLabel %\x3e\x3c/h2\x3e\x3c/div\x3e');
v_.openWindow=function(a,b,c){window.open(a,"","scrollbars\x3dyes,resizable\x3dyes,toolbar\x3dno,location\x3dyes,width\x3d"+b+",height\x3d"+c+",left\x3d445,top\x3d240")};function wU(){}var wU=Backbone.View.extend({el:"#canvaDocument"}),xU="fit",az={"10%":"10%","25%":"25%","50%":"50%","75%":"75%","100%":"100%","125%":"125%","150%":"150%","175%":"175%","200%":"200%","300%":"300%","400%":"400%","500%":"500%",q$:"fill",r$:xU};wU.D1=function(){$("#addNewPage").remove();wU.W_=!0};f=wU.prototype;
f.events=function(){return{"click #addNewPage .addPage":this.u0,"click #addNewPage .makeNewDesign":this.K0,"click #addNewPage .copyDesign":this.y0,"click \x3e .inner \x3e .page":function(){return!1},"mousedown \x3e .inner \x3e .page":this.CN,mousemove:this.mousemove,mouseout:this.mouseout,scroll:this.t8}};f.remove=function(){this.undelegateEvents();this.stopListening();this.Ia.forEach(function(a){a.remove()})};
f.initialize=function(a){this.listenTo(this.model,{"page:add":this.P6,"page:move":this.R6,"page:remove":this.S6,resize:this.DA});this.listenTo(T,{"pageView:copyButton:click":this.fX,"pageView:deleteButton:click":this.fX,"pageView:toolbar:mouseout":this.V6});this.Ia=[];var b=this;this.model.Cb().forEach(function(c){b.Ia.push(new w_({model:c,Fs:Dc(a.i),NO:Fc(a.i)}))});this.i=a.i;this.G=a.G;this.kf=_.object(_.values(az),_.map(az,function(a){return parseInt(a,10)/100}));this.DI=xU;this.Sf=!1;this.Er=
this.Sg=0;this.Db=null;this.Qj=this.bA=this.xf=this.MO=0;this.cJ=!1;this.E3=gh(this);this.ip=function(){var a=b.model.O[0],a=Math.max(a.l(),a.o());return Math.max(1,Math.min(a/M.p_))}();this.render()};
f.render=function(){var a=this.$el.children(".inner"),b=this;this.Ia.forEach(function(c,d){c.render();a.append(c.$el);x_(c,y_(b,d));c.$el.addClass("on")});var c=this.Ia[this.Ia.length-1].$el,d=this.$("#addNewPage");wU.W_?(d.hide(),this.$el.removeClass("multiPage")):(d.css("top",y_(this,this.Ia.length)),d.insertAfter(c),this.$el.removeClass("multiPage"),this.model.hb().ys&&(this.$el.addClass("multiPage"),1<this.model.Cb().length&&this.model.Cb().length>=M.Ux&&(this.$("#addNewPage").addClass("off"),
z_(this))));var c=y_(this,0),d=A_(this),e=ZS();a.css("height",c+d+($(window).height()-e.ua()));this.DA(!0);return this};f.u0=function(a){a=$(a.currentTarget);if(!a.is(":animated")&&!a.is(".off")){a=Zp(this.model);var b=VN(a.serialize());b.pageIndex=jp(this.model,a);L.register(new XN(1,b))}B_(this);return!1};
f.K0=function(){var a={type:this.model.hb().u()},b="/design?create";null!=a.type&&(b+="\x26type\x3d"+encodeURIComponent(a.type));null!=a.width&&(b+="\x26width\x3d"+encodeURIComponent(String(a.width)));null!=a.height&&(b+="\x26height\x3d"+encodeURIComponent(String(a.height)));null!=a.N9&&(b+="\x26units\x3d"+encodeURIComponent(String(a.N9)));null!=a.category&&(b+="\x26category\x3d"+encodeURIComponent(String(a.category)));window.open(b,"");return!1};
f.y0=function(){T.trigger("documentView:copyDocument");return!1};
f.t8=function(){var a=this.$el.scrollTop()||0,b=y_(this,0),c=ZS(),d=Xp(this.model),e=this.Ia[d].$el.offset(),g=this.MO<a?"down":"up",h=-1;T.trigger("documentView:scroll",a);this.MO=1*a;C_(this);this.G.clearTimeout(this.bA);if(!this.$el.hasClass("modifying")){d=$(window).height();if(this.Sg>d/2)for(c=0;c<this.Ia.length-1;c++){h=b+c*(this.Sg+this.Er);if(h<a){if(e=h+this.Sg-a,0>=e){h=c+1;continue}}else e=a+d-h;h=e>a+d-(h+this.Sg)?c:c+1;break}else"up"==g&&e.top+this.Sg>c.ua()?h=Math.floor((a+$(window).height()-
(b-this.Er))/(this.Sg+this.Er))-1:"down"==g&&0>e.top&&(h=Math.ceil((a-b)/(this.Sg+this.Er)));0==a?h=0:a>=this.$el.children(".inner").height()-this.$el.prop("clientHeight")&&(h=this.model.Cb().length-1);0<=h&&(h=Math.min(this.model.Cb().length-1,h),h=Math.max(0,h),Pp(this.model,h))}};
f.mousemove=function(a){this.E3.read(function(){var b=(void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY)+this.$el.scrollTop();this.Ia.forEach(function(a){var d=a.pa();gh().write(function(){b>d.w()&&b<d.ua()?a.$el.addClass("pseudoHover"):a.$el.removeClass("pseudoHover")})})})};f.mouseout=function(a){-1<$(a.relatedTarget||a.toElement).parents().addBack().index(this.$el.children(".inner"))||this.Ia.forEach(function(a){a.$el.removeClass("pseudoHover")})};
f.CN=function(a){function b(a){var b=(void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX)-e;a=(void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY)-g;if(k||Math.abs(b)>M.Dc||Math.abs(a)>M.Dc){k||(k=!0,d.$el.addClass("dragging doNotAnimate"),Pp(p,jp(p,q)));for(var b=-1,c=0;c<m.length&&!(h+a<m[c]);c++)b++;0>b&&(b=0);bq(p,q,b);b=a=h+a;a<x?(b=(x-a)/(x-z),b=2>=b?x-(x-a)*(1-b/4):z):a>H&&(b=(a-H)/(r-H),b=2>=b?H+(a-H)*(1-b/4):r);x_(d,b)}return!1}function c(){l.off("mousemove|touchmove",
b).off("mouseup|touchend",c);if(k){d.$el.removeClass("doNotAnimate");var a=q.K(),e=y_(v,a);d.$el.animate({top:e},M.za.eX,"easeOutBack",function(){x_(d,e);d.$el.removeClass("dragging")});L.register(new XN(5,{pageIndex:a,oldPageIndex:u}))}}if(!(0===$(a.target).closest(".pageToolbar").length||0<$(a.target).closest("a").length)){var d=null;this.Ia.forEach(function(b){b.$el.get(0)==a.currentTarget&&(d=b)});var e=void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX,g=void 0!==a.clientY?a.clientY:
a.originalEvent.touches[0].clientY,h=oC(d),k=!1,l=new mp($(document));l.on("mousemove|touchmove",b).on("mouseup|touchend",c);for(var m=[],n=0;n<this.Ia.length;n++)m.push(y_(this,n)-this.Sg/2);var p=this.model,q=d.model,u=jp(p,q),v=this,z=y_(this,-1),r=y_(this,this.Ia.length),x=y_(this,0),H=y_(this,this.Ia.length-1);return!1}};
f.S6=function(a,b,c){ph();var d=this,e=this.Ia[c];this.G.clearTimeout(this.bA);this.xf&&Pp(a,Math.min(a.Cb().length-1,c));b={height:0,top:y_(this,c)+this.Qj*(this.Sg+this.Er)};this.xf&&c==a.Cb().length&&(b.top+=this.Sg);this.$el.addClass("modifying");e.$el.addClass("removing").animate(b,{duration:M.za.$j,Wk:"easeOutSine",queue:!1,complete:function(){e.remove();d.$el.removeClass("modifying");d.xf?wN&&(d.bA=d.G.setTimeout(function(){C_(d)},M.WR)):z_(d)}});this.Ia.splice(c,1);D_(this,c);this.$el.hasClass("holding")||
E_(this,c)};
f.P6=function(a,b,c,d){ph();this.model.Cb().length>=M.Ux&&(this.$("#addNewPage").addClass("off"),z_(this));var e=!0;!1===d&&(e=!1);var g=jp(this.model,b);a=this.Ia[0];this.Ia.splice(g,0,new w_({model:b,Fs:Dc(this.i),NO:Fc(this.i)}));var h=this.Ia[g];b=a.RL();var k=this;null!=this.Db&&h.HH(this.Db);h.di(this.ow());c=y_(this,g,this.model.Cb().length-1);F_(h,b,c+this.Qj*(this.Sg+this.Er));this.G.clearTimeout(this.bA);this.xf?Pp(this.model,g-1):e&&Pp(this.model,g);0==g?h.$el.insertBefore(a.$el):h.$el.insertAfter(this.Ia[g-
1].$el);k.$el.addClass("modifying");var l=y_(this,g);h.$el.addClass("newPage");h.$el.addClass("on");this.G.requestAnimationFrame(function(){var a=h.$el.height();h.$el.css("height",0);h.$el.animate({height:a,top:l},{duration:M.za.$j,Wk:"easeOutSine",queue:!1,complete:function(){h.$el.css("height","");h.$el.removeClass("newPage");x_(h,l);k.$el.removeClass("modifying");k.xf&&wN&&(k.bA=k.G.setTimeout(function(){C_(k)},M.WR))}}).css("overflow","");D_(this,g);e&&!this.$el.hasClass("holding")&&E_(this,g)}.bind(this))};
f.R6=function(a,b,c,d){function e(a,b){return function(){x_(a,b)}}ph();a=this.Ia[c];b=this.Ia[d];c<d?a.$el.insertAfter(b.$el):c>d&&a.$el.insertBefore(b.$el);this.Ia.splice(d,0,this.Ia.splice(c,1)[0]);c>d&&(a=c,c=d,d=a);for(;c<=d;c++)a=this.Ia[c],a.$el.hasClass("dragging")||(b=y_(this,c),a.$el.animate({top:b},M.za.eX,e(a,b)));E_(this,d)};
f.fX=function(){ph();this.xf=this.xf||this.model.Cb().length;this.$el.addClass("holding");this.model.Cb().length<=M.Ux&&(this.$("#addNewPage").removeClass("off"),z_(this))};f.V6=function(){C_(this)};function C_(a){a.xf&&!a.$el.hasClass("modifying")&&(a.xf=0,a.Qj=0,D_(a,0,!0),a.$el.removeClass("holding"))}
function z_(a){if(!Ez){var b=ZS(),c=a.Ia[0],d=G_(c),e=H_(c),g;d.l()<=b.l()?(g=b.F()+Math.round((b.l()-d.l())/2),a.$el.children(".inner").css("width","")):(g=50,a.$el.children(".inner").css("width",g+e.l()+g));var h=Math.abs(Wu(a.model.hb()))*W;a.Ia.forEach(function(b,c){c=y_(a,c);F_(b,g+h,c)});var e=H_(c),c=a.$("#addNewPage"),k=c.is(".off")?450:220,k=Math.max(e.l(),k),e=e.F()-h;k>d.l()&&(e=(b.l()+2*b.F()-k)/2);c.css("top",y_(a,a.Ia.length)).css("left",e).css("width",k)}}
function y_(a,b,c){var d=w_.uJ(a.model.hb(),a.ow(),a.Db)*W;void 0===c&&(c=a.model.Cb().length);a.xf&&(c=a.xf);var e=ZS(),g=Math.round(M.Jt*W);c=A_(a,c);var h=e.w();Ez||a.Sf?h=0:c<=e.o()&&(h+=(e.o()-c)/2);return h+(d+g)*b}function A_(a,b){var c=w_.uJ(a.model.hb(),a.ow(),a.Db)*W;void 0===b&&(b=a.model.Cb().length);a.xf&&(b=Math.max(a.xf,b));var d=W,e=a.$("#addNewPage");b=b*c+(b-1)*M.Jt*d;a.model.rc.ys&&!$("body").hasClass("blockDocument")&&(b+=M.Jt*d+e.outerHeight());return Math.round(b)}
function I_(a,b){var c=ZS(),d=A_(a);if(d>c.o()){var e=a.$el.prop("clientHeight"),d=y_(a,0)+d+(e-c.ua());a.Sg>c.o()&&(d+=c.l()/6)}else d=a.$el.prop("clientHeight");b?a.$el.children(".inner").animate({height:d},{duration:M.za.$j,Wk:"easeOutSine",queue:!1}):a.$el.children(".inner").css("height",d)}
function D_(a,b,c){var d=w_.uJ(a.model.hb(),a.ow(),a.Db);void 0===b&&(b=0);void 0===c&&(c=0<a.xf);I_(a,c);var e=0;a.xf&&b==a.model.Cb().length?(c=(a.Qj||a.xf)-b,a.Qj!=c-1&&(c=a.Qj+1,a.Qj=b),e+=(d+M.Jt*W)*c,a.Qj=c):a.Qj&&(c=a.Qj,e+=(d+M.Jt*W)*c);a.$("#addNewPage").animate({top:y_(a,a.Ia.length)+e},{duration:M.za.$j,Wk:"easeOutSine",queue:!1});var g=a.$el.scrollTop()||0,h=g+a.$el.prop("clientHeight");a.Ia.forEach(function(a,b){var c=y_(this,b)+e;b=c+d;!this.xf&&!this.Qj||b>g&&c<h?a.$el.addClass("transitioning").animate({top:c},
{duration:M.za.$j,Wk:"easeOutSine",queue:!1,complete:function(){x_(a,c)}}):x_(a,c)},a);a.G.setTimeout(function(){for(var b=0;b<a.Ia.length;b++)a.Ia[b].$el.removeClass("transitioning")},M.za.$j)}
function E_(a,b){b=Math.max(0,Math.min(a.Ia.length-1,b));var c=a.$el.scrollTop()||0;if(b==a.Ia.length-1)c=ZS(),c=y_(a,a.model.Cb().length)+a.$("#addNewPage").height()-c.ua();else{b=y_(a,b);var d=b+a.Sg,e=a.$el.prop("clientHeight"),e=c+e,g=M.eD;e<d?c+=d-e+g:c>d&&(c-=c-b+g)}a.cJ||c==a.$el.scrollTop()||(a.cJ=!0,a.$el.animate({scrollTop:c},M.za.$j,"easeOutSine",function(){a.cJ=!1}))}
f.DA=function(a){var b;b=b||this.model.Aa();var c=ZS(),d=H_(this.Ia[b.K()]).scale(1/W);b=d.l();d=d.o();this.kf.fill=Math.max(c.l()/b,this.kf["10%"]);this.kf[xU]=d*this.kf.fill>c.o()?Math.max(c.o()/d,this.kf["10%"]):this.kf.fill;c=this.Sf?xU:this.DI;b=this.model.Aa();var e=H_(this.Ia[b.K()]).scale(1/W),d=e.l(),e=e.o();a=a&&"PIXELS"!==this.model.Gj();if(Ez||0===d||0===e)c=az["100%"];qz(this,c,b,a)};function gz(a,b){a.Sf=b;a.DA()}
function aE(a,b){for(var c=0;c<a.Ia.length;c++)if(a.Ia[c].model==b)return a.Ia[c].pa();return null}
function qz(a,b,c,d){c=c||a.model.Aa();a.$el.addClass("zooming");c=a.Ia[c.K()];a.DI=a.Sf?a.DI:b;var e=W=a.kf[b];a.Er=Math.round(M.Jt*e);a.Sg=Math.round(G_(c).o());LP();T.trigger("documentView:zoom",b,e);z_(a);I_(a,!1);b=ZS();e=a.$el.children(".inner").width();c=eh(c);e>b.l()&&(e=Math.round(c.F()+c.l()/2),e=Math.round(e-b.F()-b.l()/2),c.l()<b.l()&&(e+=(b.l()-c.l())/2),a.$el.scrollLeft(e));!d&&A_(a)>b.o()&&(d=Math.round(c.w()+c.o()/2),a.MO=1*(a.$el.scrollTop()||0),a.$el.scrollTop(Math.round(d-b.ua()/
2)));a.model.ja().forEach(function(a){a.Ya()});aK(xc(a.i),zc(a.i));a.$el.removeClass("zooming")}function oz(a){return J_(a,function(a){return a[1]},function(a){return a[1]>W})}function pz(a){return J_(a,function(a){return-1*a[1]},function(a){return a[1]<W})}function J_(a,b,c){if(b=_.chain(a.kf).pairs().sortBy(b).find(c).value())return qz(a,b[0]),b[0]}function B_(a){a.$el.focus().blur();window.getSelection().removeAllRanges()}
function kz(a,b){a.$el.find(".inner").scrollTop(a.$el.find(".inner").scrollTop()+a.$el.find(".page").eq(b).position().top);Pp(a.model,b)}f.Aa=function(){var a=Xp(this.model);if(a>=this.Ia.length)throw Error("No page view exists for selected page index "+a+".");return 0<=a?this.Ia[a]:null};function oh(a){return a.Aa()||a.Ia[0]}f.di=function(a){this.$el.toggleClass("document--printMarkingsEnabled",a);this.Ia.forEach(function(b){b.di(a)})};f.ow=function(){return this.$el.hasClass("document--printMarkingsEnabled")};
function ch(a,b){var c=a.$el.offset(),d=c.left-a.$el.scrollLeft();a=c.top-a.$el.scrollTop();return b.clone().translate(-d,-a)}function XC(a,b){b=b.K();if(0>b||b>=a.Ia.length)throw Error("No page view exists for selected page index "+b+".");return a.Ia[b]}f.HH=function(a){this.Db=a;this.Ia.forEach(function(b){b.HH(a)})};function Fp(){}Fp=Ry.extend();Fp.prototype.initialize=function(a){this.j=a.j;this.mg=a.mg;this.De=a.De;this.anchor=a.anchor;this.nD=a.nD;this.tC=a.tC;this.fZ=0;a=_.extend({},{oo:!0,position:"topLeft",Ef:{left:10,top:-14}},a);Ry.prototype.initialize.call(this,a);0<this.tC?this.listenTo(this.De,"session:sync",this.bV):K_(this)};Fp.prototype.bV=function(a){2==a&&(a=0===$(".modalContent").length,this.fZ++,a&&this.fZ>=this.tC&&(K_(this),this.stopListening(this.De,"session:sync",this.bV)))};
function K_(a){a.ei(a.anchor);L_(a);a.j&&a.j.track("dialog_show",{type:a.mg,section:"editor",subsection:"header",location:"publish_pop_over"})}function L_(a){a.anchor.one("click",function(){a.j&&Yl(a.j,a.nD,"header",a.mg+"_dialog")})}Fp.prototype.Ap=function(){return M_};Fp.prototype.remove=function(){this.j&&Zl(this.j,this.mg,"header","publish_pop_over");rp.prototype.remove.call(this)};function N_(a,b,c){this.context=a;this.active=!!c;this.mc=b}N_.prototype.getContext=function(){return this.context};
function O_(a){switch(a.context){case "PUBLIC_STREAM":return a.mc.format("editorControlsPublicationPublic");case "TEAM_STREAM":return a.mc.format("editorControlsPublicationShowing");case "TEAM_TEMPLATE":return a.mc.format("editorControlsPublicationTemplated");case "MARKETPLACE_LAYOUT":case "MARKETPLACE_TEXT":return a.mc.format("editorControlsPublicationMarketplace");case "PUBLICLY_REMIXABLE":return a.mc.format("editorControlsPublicationPubliclyRemixable");default:throw Error("Unknown PublicationContext "+
a.context);}}
function P_(a){switch(a.context){case "PUBLIC_STREAM":return a.mc.format("editorControlsPublicationMakeActivePublic");case "TEAM_STREAM":return a.mc.format("editorControlsPublicationMakeActiveShowTeam");case "TEAM_TEMPLATE":return a.mc.format("editorControlsPublicationMakeActivePublishAsTemplate");case "MARKETPLACE_LAYOUT":return a.mc.format("editorControlsPublicationMakeActivePublishAsLayout");case "MARKETPLACE_TEXT":return a.mc.format("editorControlsPublicationMakeActivePublishAsGroup");case "PUBLICLY_REMIXABLE":return a.mc.format("editorControlsPublicationMakePubliclyRemixable");
default:throw Error("Unknown PublicationContext "+a.context);}}N_.prototype.toggle=function(a){return new N_(this.context,this.mc,void 0!==a?a:!this.active)};var Q_={PUBLIC_STREAM:2,TEAM_STREAM:0,TEAM_TEMPLATE:1},R_={PUBLIC_STREAM:"switchMakePublic",TEAM_STREAM:"switchShowTeam",TEAM_TEMPLATE:"switchPublishTemplate",MARKETPLACE_LAYOUT:"switchPublishLayout",MARKETPLACE_TEXT:"switchPublishText",PUBLICLY_REMIXABLE:"switchMakePubliclyRemixable"};function S_(){}S_=Ry.extend({className:"docPublisherPopOver"});S_.prototype.initialize=function(a){Ry.prototype.initialize.call(this,_.defaults(a,{Ef:{top:-4}}));this.mc=a.mc};
function T_(a,b){function c(a,c){return new N_(b[c].getContext(),d.mc,AV(a))}var d=a,e=b.map(function(a){return new zV({on:a.active})}),g=e.map(function(a,c){var e=$(d.s9({label:P_(b[c])}));e.addClass(R_[b[c].context]);a.render().$el.appendTo(e);return e}),h=a.$(".buttonContainer");g.forEach(function(a){a.insertBefore(h)});return new P(function(a,b){d.once("hide",function(d){return 2===d?a(e.map(c)):b(new U_)})})}S_.prototype.PE=_.template('\x3cp class\x3d"error"\x3e\x3c%- message %\x3e\x3c/p\x3e');
S_.prototype.s9=_.template('\x3cdiv class\x3d"switchContainer"\x3e\x3clabel\x3e\x3c%- label %\x3e\x3c/label\x3e\x3c/div\x3e');function V_(a){var b=this;this.j=a.j;this.document=a.document;this.Pa=a.Pa;this.oa=a.getSession();this.ic=a.ic;this.qd=a.qd;this.mc=a.mc;this.iL=vh(a.Ni);this.MX=this.iL.map(function(c){var d=a.Ni.kg.get("activePublicationContexts",[]);return new N_(c,b.mc,0<=d.indexOf(c))});this.K7=W_(this);this.P9=X_(this);this.YI=null;this.yi=a.Ni.KL();this.$t=a.$t;this.uh=a.uh}f=V_.prototype;f.on=Backbone.Events.on;f.once=Backbone.Events.once;f.trigger=Backbone.Events.trigger;f.listenTo=Backbone.Events.listenTo;
f.stopListening=Backbone.Events.stopListening;f.wJ=function(a){return 0<a.filter(function(a){return a.active}).length&&this.document.isEmpty()?P.reject(Error(this.mc.format("editorControlsPublishErrorNoContent"))):P.resolve(a)};function Y_(a){return[].concat(a.MX).map(Object.freeze)}
f.$Q=function(a){var b=this,c=Y_(this).slice().sort(function(a,b){return sh.indexOf(a.context)-sh.indexOf(b.context)}),d=a.slice().sort(function(a,b){return sh.indexOf(a.context)-sh.indexOf(b.context)});this.trigger("processingStateChange",!0);return Jz(1E3).then(function(){return Z_(b,d,c)}).tap(function(a){return $_(b,a)}).then(function(a){return a.map(function(a,b){return a?a:c[b]}).sort(function(a,c){a=b.iL.indexOf(a.getContext());c=b.iL.indexOf(c.getContext());return a-c})}).then(function(a){return b.MX=
a.slice()}).finally(function(){return b.trigger("processingStateChange",!1)})};function a0(a){var b=(new ZC).Nx(!0);return a.yi?tE(Bb,a.yi,b).then(function(a){return a.Ha().vg()}):null!==a.yi?P.resolve("PENDING_REVIEW"):P.resolve(null)}function W_(a){var b={};b.PUBLIC_STREAM=a.Os.bind(a);b.TEAM_STREAM=a.qJ.bind(a);b.TEAM_TEMPLATE=a.wC.bind(a);b.MARKETPLACE_LAYOUT=a.L7.bind(a);b.MARKETPLACE_TEXT=function(){return b0(a).then(a.M7.bind(a))};b.PUBLICLY_REMIXABLE=a.J7.bind(a);return b}
function X_(a){var b={};b.PUBLIC_STREAM=a.Gx.bind(a);b.TEAM_STREAM=a.rJ.bind(a);b.TEAM_TEMPLATE=a.HC.bind(a);b.MARKETPLACE_TEXT=function(){return P.resolve()};b.MARKETPLACE_LAYOUT=function(){return P.resolve()};b.PUBLICLY_REMIXABLE=a.O9.bind(a);return b}f.qJ=function(){return this.oa.Os("BRAND")};f.Os=function(){return this.oa.Os("GLOBAL").tap(function(){var a=this.j;a.track("design_public",{design:this.oa.fc(),template:a.Li})}.bind(this))};
f.J7=function(){var a=Yq(Vq(this.oa.fc()),new or({XW:"SET",cj:"REMIXER".toString()}));return Eq(this.Pa,a)};f.wC=function(){return this.oa.wC().tap(function(){var a=this.j;a.track("design_templatify",{design:this.oa.fc(),template:a.Li})}.bind(this))};f.rJ=function(){return this.oa.Gx("BRAND")};f.Gx=function(){return this.oa.Gx("GLOBAL").tap(function(){var a=this.j;a.track("design_private",{design:this.oa.fc(),template:a.Li})}.bind(this))};
f.O9=function(){var a=Yq(Vq(this.oa.fc()),new or({XW:"SET",cj:"NONE".toString()}));return Eq(this.Pa,a)};f.HC=function(){return this.oa.HC().tap(function(){var a=this.j;a.track("design_untemplatify",{design:this.oa.fc(),template:a.Li})}.bind(this))};
function c0(a,b,c,d,e,g){if(AT(a.document.pb()))return P.reject(new d0("You cannot publish an untitled design as a layout - please title your design."));var h=new e0({workflow:b,typeDescription:d,document:a.document,availableLocales:a.$t,userLocale:a.uh,showProgress:e,keywords:g});return new P(function(d,e){function g(b,e){"submitted"==e&&d(new N_(c,a.mc,!0))}b.on("change:state",g);h.on("remove",function(){b.off("change:state",g);e(Error("No action specified"))});h.show()})}
f.M7=function(){var a=new f0({oa:this.oa,document:this.document,ic:this.ic}),a=new g0(a.submit.bind(a),["text"]),b=this.document.fonts.slice();return c0(this,a,"MARKETPLACE_TEXT","text group",!1,b)};
function b0(a){var b=[];1<a.document.gc()&&b.push("Text groups cannot be more than one page.");var c=a.document.ja().filter(function(a){return a.ib()}).filter(function(a){return!mC(a)}),d=a.document.ja().filter(function(a){return!a.ib()}).filter(function(a){return!mC(a)});1===c.length&&0===d.length||b.push("All elements must be in the same group.");(c[0].o()>Vp(a.document)||c[0].l()>Wp(a.document))&&b.push("Text groups cannot be taller or wider than the page. This includes the boundaries of each element, and not just the visible parts.");
0<a.document.fonts.slice().filter(function(a){return void 0!==uA(a)}).length&&b.push("Text groups do cannot include uploaded custom fonts.");var e=uh("#000000");a.document.ja().filter(function(a){if(a.zd())return a.Za().filter(function(a){return a===cB||a instanceof on&&!a.equals(e)}).length}).length&&b.push("Only black color is allowed.");0<a.document.ja().filter(function(a){return!a.ib()}).filter(function(a){return!(a instanceof Rp)&&!(a instanceof RB)&&!(a instanceof hp)&&!(a instanceof TB)&&!(a instanceof
UB)}).length&&b.push("Only text elements are currently supported.");0<a.document.ja().filter(function(a){return a.ib()}).filter(function(a){return 0!==a.Qa()}).length&&b.push("Rotated groups are not currently supported.");return 0<b.length?(a="Sorry, your text group could not be published. "+b.join(" "),P.reject(new d0(a))):P.resolve()}f.L7=function(){var a=new h0({oa:this.oa,document:this.document,ic:this.ic}),a=new g0(a.submit.bind(a));return c0(this,a,"MARKETPLACE_LAYOUT","layout",!0)};
function i0(a){var b=new Gt({og:a.oa.fc(),version:a.oa.Td(),pw:"MEDIUM"});return Jq(a.Pa,b)}function Z_(a,b,c){var d=b.filter(function(a){return a.active}).map(function(a){return a.getContext()});return 0<d.indexOf("MARKETPLACE_LAYOUT")&&0<d.indexOf("MARKETPLACE_TEXT")?P.reject(new d0("Design cannot be both a layout and a text group.")):P.reduce(b,function(b,d,h){return j0(a,d,c[h]).then(function(a){return b.concat(a?d:null)})},[])}
function $_(a,b){!a.YI&&0<b.filter(function(a){return a&&a.active}).length&&(a.YI=i0(a).finally(function(){a.YI=null}))}function j0(a,b,c){return b.active===c.active?P.resolve(!1):(a=b.active?a.K7[b.getContext()]:a.P9[b.getContext()])?a().then(function(){return!0}):P.resolve(!1)}function d0(a){Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor);this.message=a}d0.prototype=Object.create(Error.prototype);d0.prototype.constructor=d0;
function U_(){Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor);this.message="Cancelled document publication"}U_.prototype=Object.create(Error.prototype);U_.prototype.constructor=U_;function h0(a){this.oa=a.oa;this.ic=a.ic;this.document=a.document}
h0.prototype.submit=function(a){var b=this.document.Vf();if(!b)throw Error("no locale");var c=TJ().wI(b);a.forEach(function(a){var e="PAID"===a.price?QJ:PJ,g="PAID"===a.price?"STANDARD":"FREE",h=(a.keywords||[]).map(function(a){return new KE(b||"",a)});SJ(c,WJ(VJ(a.media).xk(a.version),a.title).TZ(a.description).vI(h).wR(e).xR(g))});HJ(this.ic,this.oa.fc(),this.oa.Td(),c,function(a){if(200!=a)throw Error("success not indicated");GN()},this.document.hb().u())};function f0(a){this.oa=a.oa;this.ic=a.ic;this.document=a.document}f0.prototype.submit=function(a){Ca(0===a.length,"Cannot publish text groups containing new media (not yet implemented).");w(this.document.Vf(),"The document requires a locale.");Fa(this.document.il().some(function(a){return"text"===a.toLowerCase()}),'The document requires the "text" keyword.');a=new CJ({id:this.oa.fc(),version:this.oa.Td()});IJ(this.ic,new DJ({document:a,locale:this.document.Vf()}))};function g0(a,b){aT.call(this,[{name:"start",from:"none",to:"pricing"},{name:"price",from:"pricing",to:"pricingChildren"},{name:"price",from:"pricingChildren",to:"reviewingSubmission"},{name:"submit",from:"reviewingSubmission",to:"submitted"},{name:"submit",from:"submitted",to:"submitted"},{name:"success",from:"submitted",to:"completed"},{name:"error",from:"pricing",to:"failed"},{name:"error",from:"pricingChildren",to:"failed"},{name:"error",from:"reviewingSubmission",to:"failed"},{name:"error",from:"submitted",
to:"failed"},{name:"error",from:"failed",to:"failed"}]);this.document=I;this.n9=a;this.V_=b||[];this.CJ=[]}g0.prototype=new aT;g0.prototype.start=function(){this.gg.start()};function k0(a,b){b.title&&BT(a.document.pb(),b.title);b.keywords&&Up(a.document,_.union(b.keywords,a.V_));b.locale&&a.document.setLocale(b.locale);Jz(M.Vx).then(function(){a.gg.transition("price")},function(b){a.gg.transition("error");throw b;})}g0.prototype.yP=function(){this.gg.transition("review")};
function l0(a,b){function c(a,c){200===a&&c&&c.media&&0!==c.media.length?b(c.media):b&&b([])}a=gq(a.document).map(function(a){return a.id});0===a.length?b&&b([]):(a=QE((new PE).Ft(!0).Dt(!1),[Ng,Pg]).VZ().vR(a),pE(Bb,a,c))};function m0(a,b){return a.kg.get("editorActions",[]).map(function(a){return(a=n0[a]||null)?a(b):null})}
function o0(a,b){function c(){a.j.wa(X(new fm("share_button_user_input_focus"),"location","editor"))}function d(){function b(a){return new p0({LE:k,Pi:l,ff:e,OH:!1,Vi:H},a)}var c=a.H.get(new Jf("ie",!1)),d=Nc(a.i),e=Fd(a.i),g=Jx(Gx(a.Ga))+Ix(Gx(a.Ga))+m,h=a.W.H.get($f)-g;if(c&&!(0>=h)){var c=new q0({aa:a.aa,D:Gx(a.Ga).fa(),jE:Am,HA:r0(a.kd),X:a.X,ac:a.ac,Je:Gx(a.Ga).getSubscription(),er:Hx(a.Ga).ob(),So:Xc(a.i)}),k=new s0({Md:Zc(a.i)}),l=new t0,H={nK:3,gK:g,sl:a.W.H.get($f),cG:5},d=u0({Y:d,ff:e,aK:b,
j:a.j,Vi:H,tt:c});$("body").append(d.view.$el);d.wb.Ae();d.wb.show()}}a.getSession().save();var e=v0(a.W.Ee(),a.document,a.Xe.getKeys()),g=a.H.get(new Jf("iq",!1)),h=w0({i:Nc(a.i)}),k,l=null;g?k=x0({Md:Zc(a.i),Y:Nc(a.i),zj:nc(a.i),ta:Gx(a.Ga).fa().u(),X:a.X,pq:c}):(l=y0({Df:Ne(Nc(a.i)),X:a.X,D:Gx(a.Ga).fa(),jq:!0,qC:!0,zj:nc(a.i)}),l.view.on("focus",c));b=z0({zl:wV(a.getSession().fc()),G:a.G,W:a.W,Ws:e.Ws,Mm:l&&l.view,Bu:k&&k.view,iu:h.view,i:a.i,jc:b});var m=0;b.once("remove",function(){0<m&&d()});
return A0({tw:Bh(a.config).pQ,CA:B0,lb:a.getSession().fc(),Wb:a.getSession().Td(),bz:a.document.isEmpty(),Ga:a.Ga,bj:e,e3:a.W.H.get(og),sl:a.W.H.get($f),j:a.j,Pa:a.Pa,Ee:a.W.Ee(),X:a.X,qd:a.qd,ac:a.ac,aa:a.aa,cb:a.cb,bc:a.bc,rb:a.rb,Tr:l,eu:function(b,c){var d=a.getSession().fc(),e=a.document.Cb()[0].l(),g=a.document.Cb()[0].o(),h=soydata.VERY_UNSAFE.ordainSanitizedTrustedResourceUri(a.config.kg.get("embedScriptUrl",""));b=soydata.VERY_UNSAFE.ordainSanitizedHtml(tf(od(a.i),a.document.pb()?_.escape(HO(a.document.pb())):
_.escape(od(a.i).format("newLightboxUntitled")),xV(a.getSession().fc(),null,"link","embeds"),location.protocol+"//"+location.host+("/"+encodeURIComponent(c))+"?"+["utm_campaign\x3d"+encodeURIComponent("designshare"),"utm_medium\x3d"+encodeURIComponent("embeds"),"utm_source\x3d"+encodeURIComponent("link")].join("\x26"),_.escape(b)));var k;k=k||{};soy.asserts.assertType(h instanceof soydata.SanitizedTrustedResourceUri||h instanceof soydata.UnsanitizedText||goog.isString(h),"embedScriptUrl",h,"soydata.SanitizedTrustedResourceUri");
soy.asserts.assertType(goog.isNumber(g),"thumbnailHeight",g,"number");soy.asserts.assertType(goog.isNumber(e),"thumbnailWidth",e,"number");soy.asserts.assertType(goog.isString(d)||d instanceof goog.soy.data.SanitizedContent,"designId",d,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(b instanceof soydata.SanitizedHtml||b instanceof soydata.UnsanitizedText||goog.isString(b),"byLineHtml",b,"soydata.SanitizedHtml");return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"canva-embed" data-height-ratio\x3d"'+
soy.$$escapeHtmlAttribute(Math.round(g/e*1E4)/1E4)+'" data-design-id\x3d"'+soy.$$escapeHtmlAttribute(d)+'" style\x3d"'+(k.Vb?"/*"+k.Vb+"*/":"")+"padding:"+soy.$$escapeHtmlAttribute(soy.$$filterCssValue(Math.round(g/e*1E4)/1E4*100))+'% 5px 5px 5px;background:rgba(0,0,0,0.03);border-radius:8px;"\x3e\x3c/div\x3e\x3cscript async src\x3d"'+soy.$$escapeHtmlAttribute(soy.$$filterTrustedResourceUri(h))+'"'+(k.Vb?' nonce\x3d"'+k.Vb+'"':"")+"\x3e\x3c/script\x3e"+soy.$$escapeHtml(b)).toString()},jo:a.jo,Ao:Ut(a.getSession()),
QZ:a.getSession().context.Uu().ml(),Lr:a.getSession().context.Uu().MU(),i:a.i,G:a.G,hu:h.wb,sa:a.sa,td:C0({document:a.document,Hb:a.getSession()}),view:b,H:a.H,Fn:function(){m++},Xk:k&&k.wb})}function v0(a,b,c){if(!a)return{Ws:!1,tI:!1};var d,e;try{e=b.serialize();d=Gr(e);var g=D0(d,c),h=g.some(function(a){return a.level===E0}),k=g.some(function(a){return a.level===F0});return{Ws:!h,tI:k}}catch(l){return{Ws:!1,tI:!1}}}
var n0={UPGRADE:function(a){var b=new G0({mc:Bc(a.i)});b.on("click",function(){var b=H0(a.kd),d=Gx(a.Ga).fa(),e=I0({aa:yb,X:Cb,j:a.j,D:d,dk:b,Op:J0,cb:a.cb,jx:!1,vr:!1,Ci:!!a.Ci,$o:!!a.$o,i:a.i,H:a.H,Ga:a.Ga,W:a.W});e.on("signup",function(){window.location=e.YG});e.show()});return b},SHARE:function(a){var b=Bc(a.i),c=new Backbone.View({tagName:"button",className:"button editorActionShare",events:{click:function(){a.j.wa(X(new fm("share_button_click"),"location","editor"));o0(a).show()}}});c.$el.text(b.Ul());
return c},EXPORT:function(a){var b,c;b=Bc(a.i);c=new Backbone.View({tagName:"button",className:"button editorActionExport",events:{click:function(b){var c={model:a.document,W:a.W,Vd:-1!==["DESIGN_TUTORIAL","FREE_NEW_USER"].indexOf(a.config.kh()),Dl:function(){var b=o0(a,K0);L0(b);b.show()},j:a.j,Tc:a.Kk,sa:a.sa,Hb:a.getSession(),aa:a.aa,qd:a.qd,bc:a.bc,cb:a.cb,X:a.X,rb:a.rb,ac:a.ac,Ga:a.Ga,kd:a.kd,i:a.i,G:a.G,Ub:a.Ub,xj:new SZ({j:a.j}),td:C0({document:a.document,Hb:a.getSession()}),bj:v0(a.H.get(YZ.KR),
a.document,a.Xe.getKeys()),Bh:a.config.kg.get("animatorUrl",null),H:a.H,uc:a.uc,od:a.od,Ja:a.Ja};(new YZ(c)).ei($(b.target));a.j.track("download_button_click",{section:"editor",location:"menu_bar"})}}});b=b.download();c.$el.text(b);return c},PRINT:function(a){var b=M0({lr:function(a){return(new co(a)).render()},j:a.j,aa:a.aa,ta:Gx(a.Ga).fa().id,Pa:a.Pa,$d:a.document.hb(),Mi:a.Mi,Wg:function(){return Jz(M.Vx)},Qu:Dm(),Ur:a.W.Ur(),ah:function(){return a.document.gc()},Sm:function(){return new N0(J.$el)},
vc:function(){return new O0({id:a.getSession().fc(),version:a.getSession().Td()})},LU:function(){return HO(a.document.pb())},Xu:function(){var a=function(){var a=[];I.ja().forEach(function(b){var c=b.R()?b.R().K():-1;switch(b.constructor){case VB:case hp:b.Ua.forEach(function(b){b instanceof QB&&!b.isEmpty()&&b.Kb()&&a.push({Hs:c,oJ:b})});break;case RB:b.Kb()&&a.push({Hs:c,oJ:b})}});return a}();return function(a){return new P(function(b){aL(vb,a,!1,b)})}(function(a){a=a.map(function(a){return a.Kb()});
return _.uniq(a,!1,function(a){return a.u()+":"+a.getVersion()})}(a.map(function(a){return a.oJ}).filter(function(a){a=a.Kb();a=vb.Gc(a.u(),a.getVersion());return!a||!a[SC]||!a[QC]}))).then(function(){return a.map(function(a){var b=a.oJ,c;c=b.Kb();c=vb.Gc(c.u(),c.getVersion());return{gG:{UR:c[SC],Wx:c[QC]},Da:b.Uf?b.Uf():b.Tm(),Hs:a.Hs}})})},Fp:function(){return P0()},$z:function(){J.$el.removeClass("document--canPrintOnePage").removeClass("document--canPrintTwoPages")},lA:function(b,c){return Q0(a.document,
b,c)},Ve:Gx(a.Ga).fa().Ph(),i:a.i,UA:function(){J.DA()},Ja:a.Ja,Ll:function(b){var c=new Map([["realEstateFlyer","TACQ-ujqN6g"],["posterUS","TACQ-oYd_9A"],["businessCard","TACQ-vRWTmU"],["a4","TACQ-j4WGew"],["poster","TACQ-jGq9fY"]]),g=b.id;if(null==g)throw Error("The doctype to resize must have an id");c=c.get(g);if("T"!==g[0]&&null==c)throw Error("Unexpected doctype with deprecated id format: "+g);uV({doctype:b,Rk:new Ps({id:c||g,version:1}),Ab:a.document,hd:L})},E8:Bc(a.i).print(),jk:function(a){J.HH(a)},
di:function(a){J.di(a)},ax:function(a){var b=J;Fa(1===a||2===a,'pageCount can be either 1 or 2 but found "{}"',a);1===a?b.$el.removeClass("document--canPrintTwoPages").addClass("document--canPrintOnePage"):2===a&&b.$el.removeClass("document--canPrintOnePage").addClass("document--canPrintTwoPages")},cb:a.cb,bm:!!a.W.H.get(tg),Yd:Hx(a.Ga)}),c=new Backbone.View;c.setElement(b.view.$el);a.document.on("change",function(){b.wb.$N();b.wb.TN();b.wb.NN()});a.document.on("resize",function(){var c=a.document.hb();
R0(b.wb,c)});return c}};n0.PUBLISH_TO_STREAM=function(a){function b(){return Y_(l).filter(function(a){return a.active}).sort(function(a,b){a=Q_[a.getContext()]||0;b=Q_[b.getContext()]||0;return a===b?0:a>b?-1:1})[0]}function c(a){null!==a&&(a===BE?m.$el.addClass("publishToStreamSwitchForSale"):(m.$el.addClass("publishToStreamSwitchInReview"),GN()))}function d(b){var c=Bc(a.i);b instanceof Error||(b=Error(c.format("editorControlsErrorFlippingSwitch")));(new Py({title:c.format("editorControlsPublishErrorTitle"),content:$("\x3cp\x3e"+
b.message+"\x3c/p\x3e")})).show().$el.addClass("docPublisherError")}function e(b){var c=Bc(a.i),e=Y_(l).map(function(a,d){return new N_(a.getContext(),c,b&&0===d?b:a.active)}),h=new S_({Qe:c.format("editorControlsPublicationSaveChanges"),mc:c}),k=h.remove.bind(h);return T_(h.ei(m.$el),e).then(l.wJ.bind(l)).then(l.$Q.bind(l)).finally(g).tap(k).catch(U_,k).catch(d)}function g(){var a=b()||Y_(l)[0];if(a){n=!0;try{var c=m,d=O_(a);c.Wj=d;c.$(".switchLabelOn").text(d);m.toggle(a.active)}finally{n=!1}}}
function h(a){var b=Y_(l).map(function(b){return b.toggle(a)});return l.wJ(b).then(l.$Q.bind(l)).finally(g).catch(d)}var k=vh(a.config),l=new V_({j:a.j,getSession:a.getSession,document:a.document,Pa:a.Pa,ic:a.ic,qd:a.qd,mc:Bc(a.i),$t:a.$t,Ni:a.config,uh:Hx(a.Ga).Vf()}),m=function(){var a=Y_(l),c=a[0],d=b()||c;(a=d?new zV({on:d.active,Wj:O_(d),Al:P_(c),Zt:1===a.length||!d.active}):null)&&a.$el.addClass("publishToStreamSwitch");return a}(),n=!1;if(!m)return null;0<=k.indexOf("MARKETPLACE_LAYOUT")&&
a0(l).then(c);m.on("toggle",function(a){var b=Y_(l),c=1<b.length?e:h;m.Zt=1===b.length||!a;if(!n)return c(a)});m.on("click",function(){ub&&ub.save();m.Zt||e()});l.on("processingStateChange",function(a){m.$el.toggleClass("switchProcessing",a)});a.jo.on(S0,function(){var a=Y_(l).map(function(a){return"PUBLIC_STREAM"===a.getContext()?a.toggle(!0):a});return l.wJ(a).then(l.$Q.bind(l)).finally(g).catch(d)});return m};function G0(){}G0=Backbone.View.extend({tagName:"button",className:"button buttonUpgrade"});G0.prototype.initialize=function(a){this.mc=a.mc};G0.prototype.events=function(){return{click:this.trigger.bind(this,"click")}};G0.prototype.render=function(){this.$el.html(this.template({upgrade:this.mc.IC()}));return this};G0.prototype.template=_.template('\x3cdiv class\x3d"buttonUpgradeSparkle"\x3e\x26starf;\x3c% _.times(5, function() { %\x3e\x3cspan\x3e\x3c/span\x3e\x3c% }); %\x3e\x3c/div\x3e\x3c%- upgrade %\x3e');function EO(){}EO=Backbone.View.extend({el:"#editorControls"});
EO.prototype.initialize=function(a){this.listenTo(this.model,"change:title",this.LQ);this.listenTo(this.model,"resize",this.LQ);this.listenTo(this.model,"change",this.K1);this.listenTo(T,"documentView:scroll",this.N1);this.listenTo(T,"documentView:copyDocument",this.lT);this.listenTo(T,"session:sync",this.NP);this.listenTo(T,"documentSaveRequested",this.pW);this.W=a.W;this.sg=a.sg;this.Ni=a.Ni;this.oa=a.oa;this.wu=2;this.IK=!1;this.ps=Date.now();this.iI=a.iI;this.WI=a.WI;this.VJ=a.VJ;this.i=a.i;this.Kk=
a.Kk;this.j=a.j;this.LM=this.wD=!1;this.render();T0(this)};EO.prototype.events=function(){return{"click #documentFileMenuButton":this.z0,"click #documentTitle .content":this.F0,"mousedown #documentTitle .content":function(a){a.stopPropagation();a.preventDefault();return!1},"click #documentFileMenuUndoButton":this.E0,"click #documentFileMenuRedoButton":this.C0,"click #documentFileMenuResizeButton":this.D0,"click #editorHelpMenuButton":this.A0,"click #editorLogo":this.B0}};
function U0(){var a=Tb;a.LM=!0;sV(a,a.wu)}function LN(){var a=Tb;a.$el.addClass("blockEditorControls");a.wD=!0}EO.BT=function(){$(".helpMenuButton").remove();EO.S2=!0};EO.F1=function(){$("#yourDesigns").remove();EO.g$=!0};EO.M8=function(a){$("#documentTitle").addClass("nonInteractive");$("#documentTitle .content").text(a);EO.XY=a};EO.qM=function(){return void 0!==EO.XY};f=EO.prototype;f.remove=function(){this.undelegateEvents();this.stopListening();return this};
f.render=function(){this.LQ();EO.S2&&this.$(".helpMenuButton").remove();EO.qM()&&(this.$("#documentTitle").addClass("nonInteractive"),this.$("#documentTitle .content").text(EO.XY));EO.g$&&this.$("#yourDesigns").remove();this.WI.forEach(function(a,b){var c=a&&$("\x3cli\x3e\x3c/li\x3e");a&&(a.render().$el.addClass("prerollAnimation prerollDelay"+(b+3)).appendTo(c),$("#documentMenu").append(c))});return this};f.z0=function(a){this.j.track("editor_menu_file_clicked");V0(this,$(a.target))};
function V0(a,b){var c=a.VJ();c.ei(b);a.listenTo(c,"documentSaveRequested",a.pW);a.listenTo(c,"documentResizeRequested",a.Ll);a.listenTo(c,"documentCopyRequested",a.lT);a.listenTo(c,"createNewDesign",a.R4);return c}f.F0=function(a){EO.qM()||(new s_({model:this.model,i:this.i})).ei($(a.currentTarget))};f.E0=function(){$("#documentBlocker").hasClass("on")||sK()};f.C0=function(){$("#documentBlocker").hasClass("on")||rK()};
f.D0=function(){this.j.track("editor_menu_magic_resize_click",{magicResizeIsEnabled:this.W.kN()});if(this.W.kN())V0(this,this.$("#documentFileMenuResizeButton")).zg.show();else{var a=this.Kk;a.j.wa(om());Oo(a,Ro)}};f.A0=function(){this.j.track("editor_menu_help_clicked")};f.B0=function(){-1!=th.indexOf(this.Ni.kh())&&U&&em(U,"minichallenge_leave");this.$el.off("mouseout","#documentMenu li")};function VU(a){a.$("#primaryNavigation").removeClass("undoDisabled")}
function WU(a){a.$("#primaryNavigation").removeClass("redoDisabled")}function ZU(a){0<L.hd.length?VU(a):(a.$("#primaryNavigation").addClass("undoDisabled"),a.$("#documentFileMenuUndoButton").blur());0<L.uw.length?WU(a):(a.$("#primaryNavigation").addClass("redoDisabled"),a.$("#documentFileMenuRedoButton").blur())}f.K1=function(){ZU(this)};f.N1=function(a){var b=this.$("#documentMenu");a?b.addClass("dark"):b.removeClass("dark")};
f.LQ=function(){var a=this.model.pb();EO.qM()||(this.$("#documentTitle .content").text(HO(a)),this.iI&&this.iI(HO(a,{Y2:!0})))};f.NP=function(a){var b=this;2===a&&(this.ps=Date.now());this.wu=a;this.IK||(sV(this,a),window.setTimeout(function(){b.wu!==a&&sV(b,b.wu);b.IK=!1},600),this.IK=!0)};
function sV(a,b){var c=Bc(a.i),d=$("#documentSyncStatus");a.LM?(d.addClass("offline"),d.text(c.format("editorControlsOffline"))):(d.removeClass("offline"),a.wD?0===b&&null!=a.oa.im&&d.text($d(c)):0===b&&null!=a.oa.im?d.text($d(c)):1===b?d.text(c.format("editorControlsSaving")):2===b?d.text(c.format("editorControlsAllChangesSaved")):d.text(""))}f.pW=function(){this.oa.save();this.wD||null==this.oa.im||this.oa.Ti()||(this.NP(1),this.NP(2))};
f.R4=function(){this.j.track("exp_editor_menu_new_design_create_click");window.open("/create-a-design","_blank")};f.Ll=function(a,b){uV({doctype:a,Rk:b,Ab:this.model,hd:L})};f.lT=function(){var a=this.oa.fc(),b=Ut(this.oa),c=HO(this.model.pb()),c=lc(this.i).format("documentCopyDesignTitle",c);c.length>M.Go&&(c=c.substring(0,M.Go));window.open(vV(a,"remix",b)+"?title\x3d"+encodeURIComponent(c),"")};
function T0(a){function b(){V0(this,this.$("#documentFileMenuButton")).zg.show();this.sg.sa.removeItem(Mo)}Ko(a.sg)&&ol.setTimeout(b.bind(a),1500)};function yU(){}yU=Backbone.View.extend({tagName:"div",id:"overlays",template:_.template('\x3cdiv class\x3d"mask"\x3e\x3c/div\x3e\x3cdiv class\x3d"vertical align"\x3e\x3c/div\x3e\x3cdiv class\x3d"vertical align"\x3e\x3c/div\x3e\x3cdiv class\x3d"vertical align"\x3e\x3c/div\x3e\x3cdiv class\x3d"horizontal align"\x3e\x3c/div\x3e\x3cdiv class\x3d"horizontal align"\x3e\x3c/div\x3e\x3cdiv class\x3d"horizontal align"\x3e\x3c/div\x3e\x3cdiv class\x3d"rotation align"\x3e\x3c/div\x3e\x3cdiv class\x3d"rotationGuide"\x3e\x3c/div\x3e')});
f=yU.prototype;f.initialize=function(a){this.Qk=a.Qk;this.i=a.i;this.listenTo(this.model,{"page:change:selected":this.render});this.JA=this.JA.bind(this);this.pE=this.pE.bind(this);this.NE=this.NE.bind(this);this.Qk.$el.on("mousedown",this.JA);this.Qk.$el.on("touchstart",this.pE);this.Qk.$el.on("touchend",this.NE);this.$el.html(this.template());this.render();this.$el.prependTo(this.Qk.$el.children(".inner"))};f.jM=function(a){(a=$(a.target).parents(".element").last().data("toolbar"))&&DD(a)};
f.events=function(){this.jM=_.debounce(this.jM,100);return{'keydown [contenteditable\x3d"true"]':this.jM}};f.remove=function(){Backbone.View.prototype.remove.call(this);this.Qk.$el.off("mousedown",this.JA);this.Qk.$el.off("touchstart",this.pE);this.Qk.$el.off("touchend",this.NE)};f.render=function(){this.model.ja().forEach(function(a){a.ge&&a.Xa()});return this};f.pE=function(){this.KV=!0};f.NE=function(){this.KV=!1};
f.JA=function(a,b){function c(a){n||a.shiftKey||ph();n=!0;var b=e(a)-q;a=g(a)-u;0>b&&x.css("left",v+b);0>a&&x.css("top",z+a);x.css("display","").css("width",Math.abs(b)).css("height",Math.abs(a));$(D).each(function(a,b){hV.call(b)});return!1}function d(a){H.off("mousemove|touchmove",c).off("mouseup|touchend",d);$("#marquee").remove();a.shiftKey&&r.forEach(dV);n&&(a=I.Ta(),0===a.length?ph():1==a.length?(ph(),Kg(a[0])):aK(xc(h.i),zc(h.i)))}function e(a){a=void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX;
return a-=p.left}function g(a){a=void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY;return a-=p.top}var h=this;if(h.KV||a.which==M.yh||a.ctrlKey)return!0;var k=$(a.target).is("#content, #canvaDocument, #canvaDocument \x3e .inner, .bg, .elements"),l=$(a.target).is(".elements .background.image.element, .elements .background.image.element img"),m=$(a.target).closest(".elements .element").data("canvaElement"),m=m&&m.yg();if(!(k||l||m||b))return!0;if($(".toolbar__item--submenuExpanded, .colorPalette.on.toolbar--overlay").length)return T.trigger("hideContextualControlsRequested"),
!0;var n=!1,p=$("#canvaDocument").offset(),q=e(a),u=g(a);b=document.getElementById("canvaDocument");var v=q+b.scrollLeft,z=u+b.scrollTop,r=I.Ta();$(a.target).is("input")||$("*:focus").blur();a.shiftKey||ph();var x=$('\x3cdiv id\x3d"marquee"\x3e\x3c/div\x3e');x.css("display","none").css("left",v).css("top",z).appendTo(this.$el);var H=new mp($(document));H.on("mousemove|touchmove",c).on("mouseup|touchend",d);var D=$("#content .element");B_(h.Qk);a.preventDefault()};function W0(a){soy.asserts.assertType(goog.isString(a.dm)||a.dm instanceof goog.soy.data.SanitizedContent,"actionCopy",a.dm,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(a.em)||a.em instanceof goog.soy.data.SanitizedContent,"actionDelete",a.em,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(a.fm)||a.fm instanceof goog.soy.data.SanitizedContent,"actionMoveDown",a.fm,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(a.gm)||
a.gm instanceof goog.soy.data.SanitizedContent,"actionMoveUp",a.gm,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isBoolean(a.mn)||1===a.mn||0===a.mn,"isFirst",a.mn,"boolean");soy.asserts.assertType(goog.isBoolean(a.nn)||1===a.nn||0===a.nn,"isLast",a.nn,"boolean");soy.asserts.assertType(goog.isBoolean(a.qn)||1===a.qn||0===a.qn,"isPageNumMax",a.qn,"boolean");soy.asserts.assertType(goog.isNumber(a.cB),"pageNumber",a.cB,"number");soy.asserts.assertType(goog.isBoolean(a.zo)||1===
a.zo||0===a.zo,"toolbarDisabled",a.zo,"boolean");soy.asserts.assertType(goog.isBoolean(a.cC)||1===a.cC||0===a.cC,"showEmptyState",a.cC,"boolean");var b=!!a.cC;return soydata.VERY_UNSAFE.ordainSanitizedHtml(soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"crops"\x3e\x3cdiv class\x3d"tlcrop"\x3e\x3c/div\x3e\x3cdiv class\x3d"trcrop"\x3e\x3c/div\x3e\x3cdiv class\x3d"brcrop"\x3e\x3c/div\x3e\x3cdiv class\x3d"blcrop"\x3e\x3c/div\x3e\x3c/div\x3e')+X0({v:"page__bleedAreaLine"})+'\x3cdiv class\x3d"page__clipRegion"\x3e\x3cdiv class\x3d"page__content"\x3e\x3cdiv class\x3d"page__elements elements"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"page__overlays"\x3e\x3cdiv class\x3d"page__furniture"\x3e\x3c/div\x3e'+
X0({v:"page__safeAreaLine"})+(b?soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"page__emptyState page__emptyState--hidden"\x3e\x3cdiv class\x3d"page__emptyStateScale"\x3e\x3cdiv class\x3d"page__emptyStateImage"\x3e\x3c/div\x3e\x3cdiv class\x3d"page__emptyStateHeading"\x3eDrag and drop a \x3cdiv class\x3d"page__emptyState--highlight"\x3elayout\x3c/div\x3e here\x3c/div\x3e\x3cdiv class\x3d"page__emptyStateTagline"\x3eYou can change the photos, colors and text of any layout.\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e'):
"")+'\x3c/div\x3e\x3cdiv class\x3d"page__editBlocker"\x3e\x3c/div\x3e'+Y0(a))}
function Y0(a){soy.asserts.assertType(goog.isString(a.dm)||a.dm instanceof goog.soy.data.SanitizedContent,"actionCopy",a.dm,"string|goog.soy.data.SanitizedContent");var b=a.dm;soy.asserts.assertType(goog.isString(a.em)||a.em instanceof goog.soy.data.SanitizedContent,"actionDelete",a.em,"string|goog.soy.data.SanitizedContent");var c=a.em;soy.asserts.assertType(goog.isString(a.fm)||a.fm instanceof goog.soy.data.SanitizedContent,"actionMoveDown",a.fm,"string|goog.soy.data.SanitizedContent");var d=a.fm;
soy.asserts.assertType(goog.isString(a.gm)||a.gm instanceof goog.soy.data.SanitizedContent,"actionMoveUp",a.gm,"string|goog.soy.data.SanitizedContent");var e=a.gm;soy.asserts.assertType(goog.isBoolean(a.mn)||1===a.mn||0===a.mn,"isFirst",a.mn,"boolean");var g=!!a.mn;soy.asserts.assertType(goog.isBoolean(a.nn)||1===a.nn||0===a.nn,"isLast",a.nn,"boolean");var h=!!a.nn;soy.asserts.assertType(goog.isBoolean(a.qn)||1===a.qn||0===a.qn,"isPageNumMax",a.qn,"boolean");var k=!!a.qn;soy.asserts.assertType(goog.isNumber(a.cB),
"pageNumber",a.cB,"number");var l=a.cB;soy.asserts.assertType(goog.isBoolean(a.zo)||1===a.zo||0===a.zo,"toolbarDisabled",a.zo,"boolean");return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cmenu class\x3d"pageToolbar '+soy.$$escapeHtmlAttribute(a.zo?"disabled":"")+'"\x3e\x3cli class\x3d"pageToolbarUp '+soy.$$escapeHtmlAttribute(g?"disabled":"enabled")+'"\x3e\x3ca href\x3d"#" title\x3d"'+soy.$$escapeHtmlAttribute(e)+'"\x3e'+soy.$$escapeHtml(e)+'\x3c/a\x3e\x3c/li\x3e\x3cli class\x3d"pageToolbarDown '+
soy.$$escapeHtmlAttribute(h?"disabled":"enabled")+'"\x3e\x3ca href\x3d"#" title\x3d"'+soy.$$escapeHtmlAttribute(d)+'"\x3e'+soy.$$escapeHtml(d)+'\x3c/a\x3e\x3c/li\x3e\x3cli class\x3d"pageToolbarCopy '+soy.$$escapeHtmlAttribute(k?"disabled":"enabled")+'"\x3e\x3ca href\x3d"#" title\x3d"'+soy.$$escapeHtmlAttribute(b)+'"\x3e'+soy.$$escapeHtml(b)+'\x3c/a\x3e\x3c/li\x3e\x3cli class\x3d"pageToolbarDelete '+soy.$$escapeHtmlAttribute(g&&h?"disabled":"enabled")+'"\x3e\x3ca href\x3d"#" title\x3d"'+soy.$$escapeHtmlAttribute(c)+
'"\x3e'+soy.$$escapeHtml(c)+'\x3c/a\x3e\x3c/li\x3e\x3cli class\x3d"pageNumber"\x3e'+soy.$$escapeHtml(l)+"\x3c/li\x3e\x3c/menu\x3e")}
function X0(a){soy.asserts.assertType(goog.isString(a.v)||a.v instanceof goog.soy.data.SanitizedContent,"classes",a.v,"string|goog.soy.data.SanitizedContent");var b=a.v;soy.asserts.assertType(null==a.highlighted||goog.isBoolean(a.highlighted)||1===a.highlighted||0===a.highlighted,"highlighted",a.highlighted,"boolean|null|undefined");return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"page__printLine'+(a.highlighted?" page__printLine--highlight":"")+" "+soy.$$escapeHtmlAttribute(b)+'"\x3e\x3cdiv class\x3d"page__printLineInner"\x3e\x3c/div\x3e\x3c/div\x3e')}
;function w_(){}w_=Backbone.View.extend({tagName:"section",className:"page"});w_.E1=function(){$(".pageToolbar").addClass("disabled").hide();$(".pageToolbarCopy").removeClass("enabled").addClass("disabled");w_.U6=!0};f=w_.prototype;f.events=function(){return{"mousedown .page__elements":this.CN,"mouseout .pageToolbar":this.F3,"click .pageToolbarCopy.enabled":this.U0,"click .pageToolbarDelete.enabled":this.V0,"click .pageToolbarDown.enabled":this.W0,"click .pageToolbarUp.enabled":this.X0,click:this.M0}};
f.initialize=function(a){this.OO=null;this.Bq="";this.Fs=a.Fs;this.NO=a.NO;this.listenTo(T,"documentView:zoom",this.JK);this.listenTo(this.model,{change:this.f1,"change:background":this.AS,"change:selected":this.tY,"change:preview":this.A7,"element:add":this.W1,"element:move":this.Y1,"element:remove":this.Z1,resize:this.j8,willchange:this.g1,updateemptystate:this.fG});this.listenTo(this.model.Ab,{"page:add":this.HK,"page:move":this.HK,"page:remove":this.HK});this.render()};
f.render=function(){var a=this.model.Ab,b=this.model.K();this.$el.html(W0({dm:this.Fs.dm(),em:this.Fs.em(),fm:this.Fs.fm(),gm:this.Fs.gm(),cB:b+1,mn:!!a&&0==b,nn:!!a&&b==a.Cb().length-1,qn:!!a&&a.Cb().length>=M.Ux,zo:!!w_.U6,cC:!(!Ib||!Ib.H.get(Cg))}).toString());this.JK();this.tY(0,Xp(a)===b);this.AS();return this};function jC(a){var b=parseFloat(a.$el.css("left"));a=a.$el.find(".page__content").position().left;return b+a}
function oC(a){var b=parseFloat(a.$el.css("top"));a=a.$el.find(".page__content").position().top;return b+a}f.RL=function(){return parseFloat(this.$el.css("left"))};function x_(a,b){a.$el.css("top",b)}function F_(a,b,c){a.$el.css("left",b);x_(a,c)}
f.CN=function(a){function b(a){var b=(void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX)-g;a=(void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY)-h;!k&&(Math.abs(b)>M.Dc||Math.abs(a)>M.Dc)&&(k=!0)}function c(){l.off("mousemove|touchmove",b).off("mouseup|touchend",c);if(!(k||0<e.Ta().length)){var a=$p(e),d=TO(e);0!==d.length?Kg(d.pop()):0<a.length&&xK(a)}}function d(){var b=$(a.target).closest(".element.grid").data("canvaElement");return b&&b.yg()}if(a.target===a.currentTarget||
0!==$(a.target).closest(".element.background.image").length||d()){var e=this.model;if(!(0<e.Ta().length)){var g=void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX,h=void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY,k=!1,l=new mp($(document));l.on("mousemove|touchmove",b).on("mouseup|touchend",c)}}};f.M0=function(a){if(!(0<$(a.target).parents(".pageToolbar").length)){a=this.model.Ab;var b=jp(a,this.model);Pp(a,b)}};
f.X0=function(){var a=this.model.Ab;if(a){var b=this.model.K();1>b||(bq(a,this.model,b-1),L.register(new XN(5,{pageIndex:b-1,oldPageIndex:b})),B_(J))}};f.W0=function(){var a=this.model.Ab;if(a){var b=this.model.K();b>=a.Cb().length-1||(bq(a,this.model,b+1),L.register(new XN(5,{pageIndex:b+1,oldPageIndex:b})),B_(J))}};
f.U0=function(){T.trigger("pageView:copyButton:click");var a=this.model.K(),b=this.model.clone();bq(this.model.Ab,b,a+1);b=VN(this.model.serialize());b.pageIndex=a+1;L.register(new XN(1,b));B_(J)};f.V0=function(){T.trigger("pageView:deleteButton:click");var a=this.model.K(),b=VN(this.model.serialize());b.pageIndex=a;this.model.remove();L.register(new XN(2,b));B_(J)};f.F3=function(a){0==$(a.relatedTarget||a.toElement).closest(".pageToolbar").length&&T.trigger("pageView:toolbar:mouseout")};
f.g1=function(){this.Ls&&this.Ls.remove();this.Ls=this.$el.clone();this.Ls.addClass("doNotAnimate").insertAfter(this.$el)};f.f1=function(){var a=this;window.setTimeout(function(){a.$el.addClass("on").css("opacity","");a.Ls.remove()},800);this.Ls&&0<this.Ls.parents().length&&this.$el.css("opacity",1).removeClass("on").insertAfter(this.Ls)};f.AS=function(){this.model.xg()?this.$el.addClass("dark"):this.$el.removeClass("dark")};f.tY=function(a,b){this.$el.toggleClass("selected",b)};
f.W1=function(a,b,c,d){function e(){ph();g.removeClass("dropping");Kg(b);g.hasClass("text")&&hK(g,!0)}var g=b.C(),h=Z0(this,b),h=h&&h.C();this.fG();c&&(g.one("animationend",e),b.setPosition((a.l()-b.l())/2,(a.o()-b.o())/2),g.addClass("dropping"));d&&g.addClass("appearing");b instanceof WB?g.appendTo(this.$el.find(".page__furniture")):h&&h.closest(".page").length?g.insertBefore(h):g.appendTo(this.$el.find(".page__elements"));b.ge=this.$el;b.Ya()};
function Z0(a,b){b=a.model.elements.indexOf(b);return a.model.ja().slice(b+1).filter(function(a){return!(a instanceof WB)&&!mC(a)})[0]}f.Z1=function(a,b,c,d){var e=b.C();this.fG();b.oh();d?(e.addClass("disappearing"),P.delay(M.za.YK).then(function(){e.remove()})):e.remove()};f.Y1=function(a,b){mC(b)||(a=b.C(),(b=Z0(this,b))?a.insertBefore(b.C()):a.appendTo(this.$el.find(".page__elements")))};
f.HK=function(){this.$(".pageNumber").text((this.model.K()+1).toString());this.$("li").removeClass("disabled").addClass("enabled");var a=this.model.Ab,b=this.model.K(),c=a&&0==b,a=a&&b==a.Cb().length-1;c&&this.$(".pageToolbarUp").removeClass("enabled").addClass("disabled");a&&this.$(".pageToolbarDown").removeClass("enabled").addClass("disabled");c&&a&&this.$(".pageToolbarDelete").removeClass("enabled").addClass("disabled");J.model.Cb().length>=M.Ux&&this.$(".pageToolbarCopy").removeClass("enabled").addClass("disabled")};
f.fG=function(){if(Ib&&Ib.H.get(Cg)){var a=this.model.isEmpty(),b=W*(this.model.l()/700)*1.2;a&&150<this.model.l()*W?(this.$el.find(".page__emptyState").removeClass("page__emptyState--hidden"),this.$el.find(".page__emptyStateScale").css("transform","scale("+b+")")):this.$el.find(".page__emptyState").addClass("page__emptyState--hidden")}};
f.JK=function(){$0(this);this.fG();var a=this.model.o()*W,b=this.$(".pageToolbar");this.$el.find(".page__content").css("width",this.model.l()*W).css("height",a);if(a>M.M_){b.addClass("vertical");var c=a/2+Pb+M.L_;c>a?b.css("margin-top",+Pb-(c-a)):b.css("margin-top","")}else b.removeClass("vertical").css("margin-top","");b.data("leftOffset")||(a=this.model.hb(),a=Wu(a)+Zu(a)-this.model.l(),b.data("leftOffset",a));a=b.data("leftOffset");0<a&&b.css("margin-left",a*W)};
f.pa=function(){var a=this.$(".pageToolbar"),a=a.is(":visible")?Math.round(a.outerWidth(!0)):0;return Nm(eh(this),a,0)};function G_(a){var b=a.$(".pageToolbar"),b=b.is(":visible")?Math.round(b.outerWidth(!0)):0;return Nm(H_(a),b,0)}function eh(a){return new V(jC(a),oC(a),parseInt(a.$el.find(".page__content").css("width"),10),parseInt(a.$el.find(".page__content").css("height"),10))}
function H_(a){if(!a.model||!a.model.hb())return new V(0,0,0,0);var b=a.model.hb(),c=Zg(b.nb),d=Zu(b)-c.l(),b=Yu(b)-c.o(),d=parseInt(a.$el.find(".page__content").css("width"),10)+Math.round(d*W),b=parseInt(a.$el.find(".page__content").css("height"),10)+Math.round(b*W);if(isNaN(d)||!isFinite(d)||0>=d)d=c.l();if(isNaN(b)||!isFinite(b)||0>=b)b=c.o();return new V(jC(a),oC(a),d,b)}
w_.uJ=function(a,b,c){return b?(b=Zg(a.nb).o(),c=w(c,"Cannot draw print markings without a PaperSize"),c=w_.PS(b,c),a=Yu(a)-b,b+Math.max(a,2*c.pr)):Yu(a)};w_.prototype.j8=function(){this.JK();this.model.ja().forEach(function(a){a.Ya()})};
w_.prototype.A7=function(){var a=this,b=this.Bq;(this.Bq=this.model.Bq)?this.$el.find(".page__content").css("background-image","url("+this.Bq+")").css("background-size","cover"):b?window.setTimeout(function(){a.$el.find(".page__content").css("background-image","none").css("background-size","")},300):this.$el.find(".page__content").css("background-image","none").css("background-size","")};
w_.prototype.di=function(a){this.$el.toggleClass("page--printMarkingsEnabled",a);a&&w(this.OO,"Cannot enable print markings without print markings sizes");$0(this)};w_.prototype.ow=function(){return this.$el.hasClass("page--printMarkingsEnabled")};w_.PS=function(a,b){a/=b.Jj;return{pr:a*w_.JI,r8:a*w_.JI}};
function $0(a){if(a.ow()){var b=w(a.OO,"Cannot draw print markings without print markings sizes"),c=b.r8*W,b=b.pr*W;a.$el.find(".page__safeAreaLine").css("top",c+"px").css("right",c+"px").css("bottom",c+"px").css("left",c+"px");a.$el.find(".page__clipRegion").css("padding",b+"px");a.$el.find(".page__overlays").css("top",b+"px").css("right",b+"px").css("bottom",b+"px").css("left",b+"px")}else a.$el.find(".page__safeAreaLine").css("padding",""),a.$el.find(".page__clipRegion").css("padding",""),a.$el.find(".page__furniture").css("padding",
"")}function YM(a,b){a.$el.find(".page__elements").append(b)}function $U(a,b){a.$el.find(".page__elements").prepend(b)}function nV(a,b){a.$el.find(".page__content").append(b)}w_.prototype.HH=function(a){this.OO=w_.PS(this.model.o(),a);$0(this)};w_.JI=3175;function a1(a){soy.asserts.assertType(goog.isString(a.title)||a.title instanceof goog.soy.data.SanitizedContent,"title",a.title,"string|goog.soy.data.SanitizedContent");var b=a.title;soy.asserts.assertType(goog.isString(a.hg)||a.hg instanceof goog.soy.data.SanitizedContent,"subtitle",a.hg,"string|goog.soy.data.SanitizedContent");var c=a.hg;soy.asserts.assertType(goog.isString(a.tx)||a.tx instanceof goog.soy.data.SanitizedContent,"step1Label",a.tx,"string|goog.soy.data.SanitizedContent");var d=a.tx;
soy.asserts.assertType(a.kC instanceof soydata.SanitizedHtml||a.kC instanceof soydata.UnsanitizedText||goog.isString(a.kC),"step1Html",a.kC,"soydata.SanitizedHtml");var e=a.kC;soy.asserts.assertType(goog.isString(a.ux)||a.ux instanceof goog.soy.data.SanitizedContent,"step2Label",a.ux,"string|goog.soy.data.SanitizedContent");var g=a.ux;soy.asserts.assertType(a.qt instanceof soydata.SanitizedHtml||a.qt instanceof soydata.UnsanitizedText||goog.isString(a.qt),"step2Html",a.qt,"soydata.SanitizedHtml");
a=a.qt;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cheader class\x3d"popupBlockedHeader"\x3e\x3ch1 class\x3d"popupBlockedTitle"\x3e'+soy.$$escapeHtml(b)+'\x3c/h1\x3e\x3ch2 class\x3d"popupBlockedSubTitle"\x3e'+soy.$$escapeHtml(c)+'\x3c/h2\x3e\x3c/header\x3e\x3col class\x3d"popupBlockedSteps"\x3e\x3cli class\x3d"popupBlockedStep"\x3e\x3ch3 class\x3d"popupBlockedStepLabel"\x3e'+soy.$$escapeHtml(d)+'\x3c/h3\x3e\x3cp class\x3d"popupBlockedStepDirections"\x3e'+soy.$$escapeHtml(e)+'\x3c/p\x3e\x3c/li\x3e\x3cli class\x3d"popupBlockedStep"\x3e\x3ch3 class\x3d"popupBlockedStepLabel"\x3e'+
soy.$$escapeHtml(g)+'\x3c/h3\x3e\x3cp class\x3d"popupBlockedStepDirections"\x3e'+soy.$$escapeHtml(a)+"\x3c/p\x3e\x3c/li\x3e\x3c/ol\x3e")};function fZ(){}fZ=rp.extend({className:"popupBlocked"});fZ.G_={Chrome:!0,IE:!0};fZ.q9=function(a){return a in fZ.G_};fZ.prototype.initialize=function(a){rp.prototype.initialize.call(this,{G:ol,$e:!1,oo:!1});this.nm=a.nm;this.i=a.i};fZ.prototype.events=function(){return{"click .popupBlockedFileMenuLink":this.ok}};
fZ.prototype.render=function(){rp.prototype.render.call(this);var a,b;switch(this.nm){case "Chrome":a=this.i.Oa("popupBlockedDialogChromeStep1Html");b="popupBlockedChrome";break;case "IE":a=this.i.Oa("popupBlockedDialogIeStep1Html");b="popupBlockedIE";break;default:throw Error('Unsupported browser "'+this.nm+'"');}this.$(".content").html(a1({title:this.i.title(),hg:this.i.hg(),tx:this.i.tx(),kC:a,ux:this.i.ux(),qt:this.i.qt()}).toString());this.$el.addClass(b);return this};
fZ.prototype.show=function(){rp.prototype.show.call(this);var a=this.$el.parent().prevAll(".modalContent:not(.modalContentPreviousSibling)");a.addClass("modalContentPreviousSibling");this.once("remove",function(){a.removeClass("modalContentPreviousSibling")});return this};function e0(){}
e0=Backbone.View.extend({id:"submitLayoutDialog",template:_.template('\x3cdiv class\x3d"dialog preparing"\x3e\x3cdiv class\x3d"flowProgress"\x3e\x3c/div\x3e\x3ch2 class\x3d"dialogTitle"\x3eSubmit your \x3c%\x3d typeDescription %\x3e\x3c/h2\x3e\x3cdiv class\x3d"content"\x3e\x3c/div\x3e\x3c/div\x3e'),A3:_.template('\x3cfieldset class\x3d"appears layoutMetadata"\x3e\x3clabel\x3eTitle of your \x3c%\x3d typeDescription %\x3e\x3c/label\x3e\x3cinput class\x3d"layoutMetadataTitle textInput" name\x3d"layoutTitle" value\x3d"\x3c%\x3d title %\x3e"\x3e\x3clabel\x3eKeywords (comma separated)\x3c/label\x3e\x3ctextarea class\x3d"layoutMetadataKeywords textInput" name\x3d"layoutKeywords" rows\x3d"3" placeholder\x3d"Help your \x3c%\x3d typeDescription %\x3e to be found when searching"\x3e\x3c%\x3d keywords %\x3e\x3c/textarea\x3e\x3clabel\x3eLocale\x3c/label\x3e\x3cdiv class\x3d"submitLayoutClear"\x3e\x3c/div\x3e\x3cspan class\x3d"select"\x3e\x3cselect class\x3d"layoutMetadataLocale"\x3e\x3c% locales.forEach(function(locale) { %\x3e\x3coption data-locale\x3d"\x3c%- locale.key %\x3e" \x3c%- locale.key \x3d\x3d\x3d documentLocale ? "selected" : "" %\x3e\x3e\x3c%- locale.description %\x3e\x3c/option\x3e\x3c% }); %\x3e\x3c/select\x3e\x3c/span\x3e\x3c/fieldset\x3e'),r0:_.template('\x3cfieldset class\x3d"appears elementMetadata"\x3e\x3cdiv class\x3d"thumb"\x3e\x3c%\x3d thumb %\x3e\x3c/div\x3e\x3cdiv class\x3d"labels"\x3e\x3clabel for\x3d"elementTitle\x3c%\x3d index %\x3e"\x3eTitle\x3c/label\x3e\x3clabel for\x3d"elementDescription\x3c%\x3d index %\x3e"\x3eDescription\x3c/label\x3e\x3clabel for\x3d"elementKeywords\x3c%\x3d index %\x3e"\x3eKeywords\x3c/label\x3e\x3c/div\x3e\x3cdiv class\x3d"inputs"\x3e\x3cinput type\x3d"hidden" class\x3d"elementMetadataMedia" name\x3d"elementMedia\x3c%\x3d index %\x3e" value\x3d"\x3c%\x3d media %\x3e" /\x3e\x3cinput type\x3d"hidden" class\x3d"elementMetadataVersion" name\x3d"elementVersion\x3c%\x3d index %\x3e" value\x3d"\x3c%\x3d version %\x3e" /\x3e\x3cinput class\x3d"elementMetadataTitle" name\x3d"elementTitle\x3c%\x3d index %\x3e" /\x3e\x3cinput class\x3d"elementMetadataDescription" name\x3d"elementDescription\x3c%\x3d index %\x3e" /\x3e\x3cinput class\x3d"elementMetadataKeywords" name\x3d"elementKeywords\x3c%\x3d index %\x3e" /\x3e\x3c/div\x3e\x3cspan class\x3d"select"\x3e\x3cselect class\x3d"elementMetadataPrice" name\x3d"elementPrice\x3c%\x3d index %\x3e" id\x3d"elementPriceSelect"\x3e\x3coption value\x3d"FREE"\x3eFREE\x3c/option\x3e\x3coption value\x3d"PAID"\x3ePAID\x3c/option\x3e\x3c/select\x3e\x3c/span\x3e\x3c/fieldset\x3e')});
f=e0.prototype;f.events=function(){return{"click .button.ok":this.ok,"click .button.reviewElements":this.yP,"click .button.submitChildrenMetadata":this.l9,"click .button.submitMetadata":this.m9,"click .close":this.cancel}};f.remove=function(){var a=this;this.$(".dialog").addClass("disappearing");this.Ed.hide();this.trigger("hide");window.setTimeout(function(){a.trigger("remove",a);Backbone.View.prototype.remove.call(a)},300)};
f.initialize=function(a){function b(){c.wh.cancel();c.off("hide",b)}var c=this;this.Ed=new Fy({style:Gy,G:ol});this.listenTo(this.Ed,"maskClick",this.cancel);this.document=a.document;this.wh=a.workflow;this.Ex=a.typeDescription;this.OY=a.showProgress;this.ye=a.keywords;this.on("hide",b);this.eW=new b1({i9:Object.freeze([{v:["pricing"],label:this.Ex},{v:["pricingChildren"],label:"Media"},{v:["complete"],label:"Complete"}])});this.listenTo(this.wh,"change:state",this.r6);var d=a.availableLocales||{};
this.locales=Object.keys(d).sort().map(function(a){return{key:a,description:d[a]}});this.uh=a.userLocale};f.render=function(){this.$el.html(this.template({typeDescription:this.Ex}));return this};function c1(a,b,c){b=$('\x3cform class\x3d"metadataForm"\x3e'+b+"\x3c/form\x3e");a.$(".content").empty().append(b);d1(a);e1(a,c)}
function f1(a){var b=a.document.pb(),c=a.ye&&0<a.ye.length?a.ye:a.document.il(),d=a.document.Vf();0===c.length&&(c=zT(b));d||(d=a.uh?a.uh:a.locales[0].key);b=a.A3({title:b.Zm(),typeDescription:a.Ex,keywords:c.join(", "),locales:a.locales,documentLocale:d});window.setTimeout(function(){a.$(".dialog").removeClass("preparing")},300);c1(a,b,"submitMetadata")}
function g1(a){function b(a,b){var c=a.Ha(),l=c.nc()[QC],m=new V(0,0,l.l(),l.o());nh(m,e);m="width:"+m.l()+"px;height:"+m.o()+"px;margin-top:"+m.w()+"px;margin-left:"+m.F()+"px;";m=$('\x3cimg class\x3d"thumbImage" style\x3d"'+m+'"\x3e');m.attr("src",l.ma());return d.r0({media:a.u(),version:c.getVersion(),index:b,thumb:m.clone().wrap("\x3cdiv\x3e\x3c/div\x3e").parent().html()})}function c(){window.setTimeout(function(){d.$(".thumbImage").addClass("appeared")},1E3)}var d=a,e=new V(0,0,118,118);l0(a.wh,
function(a){a&&0!==a.length?(d.$(".dialog").css("width","45em"),c1(d,a.map(b).join(""),"submitChildrenMetadata"),2<a.length&&(d.$(".metadataForm").css("height","24em").addClass("scrolling"),d.$(".content").prepend('\x3cp class\x3d"elementCount"\x3ePlease provide information for these '+a.length+" elements. Scroll down.\x3c/p\x3e")),c()):(a=d.wh,a.CJ=[],a.gg.transition("price"))})}function d1(a){window.setTimeout(function(){a.$(".appears").addClass("appeared")},300)}
function h1(a){a.$(".dialog").css("width","30em");a.$(".dialogTitle").text(a.Ex+" submitted!");a.$(".content").html('\x3cdiv class\x3d"reviewNotice"\x3e\x3cp\x3e\x3cstrong\x3eYour '+a.Ex+" has been submitted!\x3c/strong\x3e\x3cbr\x3e\x3c/p\x3e\x3c/div\x3e");window.setTimeout(function(){var b=$('\x3cdiv class\x3d"appears button ok awesome"\x3eAwesome!\x3c/div\x3e');a.$(".content").append(b);d1(a)},300)}
function e1(a,b){var c=$('\x3cdiv class\x3d"appears button forward '+b+'"\x3eNext \x26rarr;\x3c/div\x3e');window.setTimeout(function(){a.$(".content").append(c);d1(a)},300)}
f.r6=function(a,b){switch(b){case "pricing":f1(this);break;case "pricingChildren":g1(this);break;case "reviewingSubmission":a=this.wh;a.gg.transition("submit");try{a.n9(a.CJ),a.gg.transition("success")}catch(c){throw a.gg.transition("error"),c;}break;case "submitted":this.$(".dialog").css("width","30em");this.$(".content").html('\x3cdiv class\x3d"reviewNotice"\x3e\x3cp\x3e\x3cstrong\x3eYour '+this.Ex+" is being packaged up for our reviewers.\x3c/strong\x3e\x3cbr\x3e\x3c/p\x3e\x3c/div\x3e");break;
case "completed":h1(this);break;case "failed":this.$(".dialog").css("width","30em"),a=this.$(".content"),a.html('\x3cdiv class\x3d"reviewNotice"\x3e\x3cp\x3eSomething went wrong submitting your design.\x3cbr\x3e\x3cbr\x3ePlease try again later.\x3c/p\x3e\x3c/div\x3e'),a.find(".reviewNotice").css("text-align","center")}this.eW.render(b)};f.show=function(){this.render();this.Ed.show(this.el);this.OY&&this.eW.show(this.$el.find(".flowProgress"));this.wh.start()};f.cancel=function(){this.remove()};
f.ok=function(){this.remove()};f.m9=function(){var a=this;i1(this.$(".layoutMetadata"),function(b){k0(a.wh,b)})};f.yP=function(){this.wh.yP()};f.l9=function(){var a=[],b=this,c=this.$(".elementMetadata"),d=_.after(c.length,function(){var c=b.wh;c.CJ=a;c.gg.transition("price")});c.each(function(){var b=$(this);j1(b,function(b){a.push(b);d()})})};
function j1(a,b){var c=""+a.find(".elementMetadataMedia").val(),d=parseFloat(""+a.find(".elementMetadataVersion").val()),e=""+a.find(".elementMetadataTitle").val(),g=""+a.find(".elementMetadataDescription").val(),h=k1(""+a.find(".elementMetadataKeywords").val());a=a.find(".elementMetadataPrice").val();b({media:c,version:d,title:e,description:g,keywords:h,price:a})}
function i1(a,b){var c=a.find(".layoutMetadataTitle").val(),d=k1(""+a.find(".layoutMetadataKeywords").val());a=a.find(".layoutMetadataLocale :selected").data("locale");b({title:c,keywords:d,locale:a})}function k1(a){return a?a.split(/[,;]+/g).filter(Boolean).map(function(a){return a.trim()}):[]};function l1(a,b){b=b||{};soy.asserts.assertType(goog.isNumber(a.progress),"progress",a.progress,"number");var c=a.progress;soy.asserts.assertType(null==a.rB||a.rB instanceof goog.soy.data.SanitizedContent||goog.isString(a.rB),"progressSpeed",a.rB,"null|string|undefined");var d=a.rB;soy.asserts.assertType(null==a.v||a.v instanceof goog.soy.data.SanitizedContent||goog.isString(a.v),"classes",a.v,"null|string|undefined");a=a.v;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"loadingBar'+
(a?" "+soy.$$escapeHtmlAttribute(a):"")+'"\x3e\x3cspan class\x3d"loadingBar__value" data-progress\x3d"'+soy.$$escapeHtmlAttribute(c)+'"'+(d?' data-progress-speed\x3d"'+soy.$$escapeHtmlAttribute(d)+'"':"")+' style\x3d"'+(b.Vb?"/*"+b.Vb+"*/":"")+"transform: translateX("+soy.$$escapeHtmlAttribute(soy.$$filterCssValue(100*c))+'%)"\x3e\x3c/span\x3e\x3c/div\x3e')};function m1(a){this.$el=a;this.value=a.find(".loadingBar__value")}t(m1,fc);function n1(a){var b=new m1(a);pl(function(){b.qw()});return b}m1.prototype.remove=function(){o1(this);fc.prototype.remove.call(this)};m1.prototype.CY=function(a){a=Math.max(Math.min(a,1),0);o1(this);this.value.css("transition","none");this.ar(a);this.qw()};m1.prototype.ar=function(a){this.value.attr("data-progress",a).css("transform","translateX("+100*a+"%)")};
m1.prototype.qw=function(){var a=this;pl(function(){a.value.css("transition","");var b=parseFloat(a.value.attr("data-progress")),c=.33*(.99-Math.min(.99,parseFloat(a.value.attr("data-progress"))));a.ar(b+c);p1(a)})};function q1(a){a=a.value.attr("data-progress-speed")||r1;switch(a){case s1:return 5E3;case r1:return 3E3;case t1:return 1E3;default:throw Error("Expected LoadingBarView.ProgressSpeed, found "+a);}}
function p1(a){var b=window.setTimeout(function(){return a.qw()},1.1*q1(a));a.value.attr("data-timeout-id",b)}function o1(a){a=parseInt(a.value.attr("data-timeout-id"),10);window.clearTimeout(a)}var s1="SLOW",r1="NORMAL",t1="FAST";function u1(a){var b;soy.asserts.assertType(a.content instanceof soydata.SanitizedHtml||a.content instanceof soydata.UnsanitizedText||goog.isString(a.content),"content",a.content,"soydata.SanitizedHtml");var c=a.content;soy.asserts.assertType(goog.isString(a.heading)||a.heading instanceof goog.soy.data.SanitizedContent,"heading",a.heading,"string|goog.soy.data.SanitizedContent");var d=a.heading;soy.asserts.assertType(null==a.caption||a.caption instanceof goog.soy.data.SanitizedContent||goog.isString(a.caption),
"caption",a.caption,"null|string|undefined");var e=a.caption;soy.asserts.assertType(null==a.v||a.v instanceof goog.soy.data.SanitizedContent||goog.isString(a.v),"classes",a.v,"null|string|undefined");return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3csection class\x3d"settingsGroup '+soy.$$escapeHtmlAttribute(null==(b=a.v)?"":b)+'"\x3e\x3ch2 class\x3d"settingsGroup__heading"\x3e'+soy.$$escapeHtml(d)+"\x3c/h2\x3e"+(e?'\x3cdiv class\x3d"settingsGroup__caption"\x3e'+soy.$$escapeHtml(e)+"\x3c/div\x3e":
"")+'\x3cdiv class\x3d"settingsGroup__content"\x3e'+soy.$$escapeHtml(c)+"\x3c/div\x3e\x3c/section\x3e")}
function v1(a){soy.asserts.assertType(a.content instanceof soydata.SanitizedHtml||a.content instanceof soydata.UnsanitizedText||goog.isString(a.content),"content",a.content,"soydata.SanitizedHtml");var b=a.content;soy.asserts.assertType(null==a.attributes||a.attributes instanceof soydata.SanitizedHtmlAttribute||a.attributes instanceof soydata.UnsanitizedText||goog.isString(a.attributes),"attributes",a.attributes,"?soydata.SanitizedHtmlAttribute|string|undefined");var c=a.attributes;soy.asserts.assertType(null==
a.caption||a.caption instanceof goog.soy.data.SanitizedContent||a.caption instanceof soydata.SanitizedHtml||a.caption instanceof soydata.UnsanitizedText||goog.isString(a.caption),"caption",a.caption,"?soydata.SanitizedHtml|string|undefined");var d=a.caption;soy.asserts.assertType(null==a.v||a.v instanceof goog.soy.data.SanitizedContent||goog.isString(a.v),"classes",a.v,"null|string|undefined");var e=a.v;soy.asserts.assertType(null==a.Ra||goog.isBoolean(a.Ra)||1===a.Ra||0===a.Ra,"column",a.Ra,"boolean|null|undefined");
var g=a.Ra;soy.asserts.assertType(null==a.error||a.error instanceof goog.soy.data.SanitizedContent||a.error instanceof soydata.SanitizedHtml||a.error instanceof soydata.UnsanitizedText||goog.isString(a.error),"error",a.error,"?soydata.SanitizedHtml|string|undefined");var h=a.error;soy.asserts.assertType(null==a.label||a.label instanceof goog.soy.data.SanitizedContent||goog.isString(a.label),"label",a.label,"null|string|undefined");var k=a.label;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3csection class\x3d"settingContainer'+
(g?" settingContainer--column":"")+(e?" "+soy.$$escapeHtmlAttribute(e):"")+(h?" settingContainer--error":"")+'"'+(c?" "+soy.$$filterHtmlAttributes(c):"")+'\x3e\x3cdiv class\x3d"settingContainer__settingInfo"\x3e'+(k?'\x3ch3 class\x3d"settingContainer__settingLabel"\x3e'+soy.$$escapeHtml(k)+"\x3c/h3\x3e":"")+(d?'\x3cdiv class\x3d"settingContainer__settingCaption"\x3e'+soy.$$escapeHtml(d)+"\x3c/div\x3e":"")+'\x3cdiv class\x3d"settingContainer__errorContainer"\x3e'+(h?w1(a):"")+'\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"settingContainer__settings"\x3e'+
soy.$$escapeHtml(b)+"\x3c/div\x3e\x3c/section\x3e")}function w1(a){soy.asserts.assertType(a.error instanceof goog.soy.data.SanitizedContent||a.error instanceof soydata.SanitizedHtml||a.error instanceof soydata.UnsanitizedText||goog.isString(a.error),"error",a.error,"!soydata.SanitizedHtml|string");return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cspan class\x3d"settingContainer__error"\x3e'+soy.$$escapeHtml(a.error)+"\x3c/span\x3e")}
function x1(a){soy.asserts.assertType(a.input instanceof soydata.SanitizedHtml||a.input instanceof soydata.UnsanitizedText||goog.isString(a.input),"input",a.input,"soydata.SanitizedHtml");var b=a.input;soy.asserts.assertType(null==a.error||a.error instanceof goog.soy.data.SanitizedContent||a.error instanceof soydata.SanitizedHtml||a.error instanceof soydata.UnsanitizedText||goog.isString(a.error),"error",a.error,"?soydata.SanitizedHtml|string|undefined");var c=a.error;soy.asserts.assertType(null==
a.v||a.v instanceof goog.soy.data.SanitizedContent||goog.isString(a.v),"classes",a.v,"null|string|undefined");var d=a.v;soy.asserts.assertType(null==a.Zz||a.Zz instanceof soydata.SanitizedHtml||a.Zz instanceof soydata.UnsanitizedText||goog.isString(a.Zz),"help",a.Zz,"?soydata.SanitizedHtml|string|undefined");var e=a.Zz;soy.asserts.assertType(null==a.info||a.info instanceof goog.soy.data.SanitizedContent||a.info instanceof soydata.SanitizedHtml||a.info instanceof soydata.UnsanitizedText||goog.isString(a.info),
"info",a.info,"?soydata.SanitizedHtml|string|undefined");var g=a.info;soy.asserts.assertType(null==a.label||a.label instanceof goog.soy.data.SanitizedContent||goog.isString(a.label),"label",a.label,"null|string|undefined");var h=a.label;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"settingContainer__input '+soy.$$escapeHtmlAttribute(null==d?"":d)+'"\x3e'+(h||e?'\x3cdiv class\x3d"settingContainer__inputAbove"\x3e'+(h?'\x3clabel class\x3d"settingContainer__inputLabel"\x3e'+soy.$$escapeHtml(h)+
"\x3c/label\x3e":"")+(e?'\x3cspan class\x3d"settingContainer__inputHelp"\x3e'+soy.$$escapeHtml(e)+"\x3c/span\x3e":"")+"\x3c/div\x3e":"")+soy.$$escapeHtml(b)+'\x3cdiv class\x3d"settingContainer__inputBelow"\x3e\x3cdiv class\x3d"settingContainer__inputErrorContainer"\x3e'+(c?y1(a):"")+"\x3c/div\x3e"+(g?'\x3cspan class\x3d"settingContainer__inputInfo"\x3e'+soy.$$escapeHtml(g)+"\x3c/span\x3e":"")+"\x3c/div\x3e\x3c/div\x3e")}
function y1(a){soy.asserts.assertType(a.error instanceof goog.soy.data.SanitizedContent||a.error instanceof soydata.SanitizedHtml||a.error instanceof soydata.UnsanitizedText||goog.isString(a.error),"error",a.error,"!soydata.SanitizedHtml|string");return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cspan class\x3d"settingContainer__inputError"\x3e'+soy.$$escapeHtml(a.error)+"\x3c/span\x3e")}
function z1(a){var b;soy.asserts.assertType(a.content instanceof soydata.SanitizedHtml||a.content instanceof soydata.UnsanitizedText||goog.isString(a.content),"content",a.content,"soydata.SanitizedHtml");var c=a.content;soy.asserts.assertType(null==a.visible||goog.isBoolean(a.visible)||1===a.visible||0===a.visible,"visible",a.visible,"boolean|null|undefined");var d=a.visible;soy.asserts.assertType(null==a.v||a.v instanceof goog.soy.data.SanitizedContent||goog.isString(a.v),"classes",a.v,"null|string|undefined");
return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"settingContainer__hiddenInputs'+(d?" settingContainer__hiddenInputs--visible":"")+" "+soy.$$escapeHtmlAttribute(null==(b=a.v)?"":b)+'"\x3e'+soy.$$escapeHtml(c)+"\x3c/div\x3e")}
function A1(a){soy.asserts.assertType(a.buttons instanceof soydata.SanitizedHtml||a.buttons instanceof soydata.UnsanitizedText||goog.isString(a.buttons),"buttons",a.buttons,"soydata.SanitizedHtml");var b=a.buttons;soy.asserts.assertType(null==a.v||a.v instanceof goog.soy.data.SanitizedContent||goog.isString(a.v),"classes",a.v,"null|string|undefined");var c=a.v;soy.asserts.assertType(null==a.Ra||goog.isBoolean(a.Ra)||1===a.Ra||0===a.Ra,"column",a.Ra,"boolean|null|undefined");var d=a.Ra;soy.asserts.assertType(null==
a.error||a.error instanceof goog.soy.data.SanitizedContent||a.error instanceof soydata.SanitizedHtml||a.error instanceof soydata.UnsanitizedText||goog.isString(a.error),"error",a.error,"?soydata.SanitizedHtml|string|undefined");var e=a.error;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"settingsFormActions '+(d?" settingsFormActions--column":"")+" "+soy.$$escapeHtmlAttribute(null==c?"":c)+'"\x3e\x3cdiv class\x3d"settingsFormActions__errorContainer"\x3e'+(e?B1(a):"")+'\x3c/div\x3e\x3cdiv class\x3d"settingsFormActions__buttons"\x3e'+
soy.$$escapeHtml(b)+"\x3c/div\x3e\x3c/div\x3e")}function B1(a){soy.asserts.assertType(a.error instanceof goog.soy.data.SanitizedContent||a.error instanceof soydata.SanitizedHtml||a.error instanceof soydata.UnsanitizedText||goog.isString(a.error),"error",a.error,"!soydata.SanitizedHtml|string");return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cspan class\x3d"settingsFormActions__error"\x3e'+soy.$$escapeHtml(a.error)+"\x3c/span\x3e")};function C1(a){fc.apply(this,arguments)}t(C1,fc);function D1(a){Ca(a.hasClass("settingContainer__input"),"the given element {} is not an input container",a.get(0));return new C1(a)}C1.prototype.kk=function(a){this.$el.addClass("settingContainer__input--error");var b=this.$el.find(".settingContainer__inputError");0<b.length?(b.removeClass("settingContainer__inputError--hidden"),b.html(a.toString())):(b=this.$el.find(".settingContainer__inputErrorContainer"),a=y1({error:a}).toString(),b.html(a))};
C1.prototype.$f=function(){this.$el.removeClass("settingContainer__input--error");var a=this.$el.find(".settingContainer__inputErrorContainer").find(".settingContainer__inputError");0<a.length&&(a.addClass("settingContainer__inputError--hidden"),Gf(a[0]).then(function(){a.hasClass("settingContainer__inputError--hidden")&&a.remove()}))};function E1(a){fc.apply(this,arguments)}t(E1,fc);E1.prototype.kk=function(a){a=B1({error:a}).toString();return this.$el.find(".settingsFormActions__errorContainer").html(a)};
E1.prototype.$f=function(){this.$el.find(".settingsFormActions__errorContainer").find(".settingsFormActions__error").addClass("settingsFormActions__error--hidden")};function F1(a,b){a=a.$el.find(".settingsFormActions__buttons");a.empty();a.append(b)};function G1(){return new Map([["AD","Andorra"],["AE","United Arab Emirates"],["AF","Afghanistan"],["AG","Antigua and Barbuda"],["AI","Anguilla"],["AL","Albania"],["AM","Armenia"],["AO","Angola"],["AQ","Antarctica"],["AR","Argentina"],["AS","American Samoa"],["AT","Austria"],["AU","Australia"],["AW","Aruba"],["AX","Åland Islands"],["AZ","Azerbaijan"],["BA","Bosnia and Herzegovina"],["BB","Barbados"],["BD","Bangladesh"],["BE","Belgium"],["BF","Burkina Faso"],["BG","Bulgaria"],["BH","Bahrain"],["BI",
"Burundi"],["BJ","Benin"],["BL","Saint Barthélemy"],["BM","Bermuda"],["BN","Brunei Darussalam"],["BO","Bolivia"],["BQ","Bonaire, Sint Eustatius and Saba"],["BR","Brazil"],["BS","Bahamas"],["BT","Bhutan"],["BV","Bouvet Island"],["BW","Botswana"],["BY","Belarus"],["BZ","Belize"],["CA","Canada"],["CC","Cocos (Keeling) Islands"],["CD","Congo, the Democratic Republic of the"],["CF","Central African Republic"],["CG","Congo"],["CH","Switzerland"],["CI","Côte d'Ivoire"],["CK","Cook Islands"],["CL","Chile"],
["CM","Cameroon"],["CN","China"],["CO","Colombia"],["CR","Costa Rica"],["CU","Cuba"],["CV","Cape Verde"],["CW","Curaçao"],["CX","Christmas Island"],["CY","Cyprus"],["CZ","Czech Republic"],["DE","Germany"],["DJ","Djibouti"],["DK","Denmark"],["DM","Dominica"],["DO","Dominican Republic"],["DZ","Algeria"],["EC","Ecuador"],["EE","Estonia"],["EG","Egypt"],["EH","Western Sahara"],["ER","Eritrea"],["ES","Spain"],["ET","Ethiopia"],["FI","Finland"],["FJ","Fiji"],["FK","Falkland Islands (Malvinas)"],["FM","Micronesia, Federated States of"],
["FO","Faroe Islands"],["FR","France"],["GA","Gabon"],["GB","United Kingdom"],["GD","Grenada"],["GE","Georgia"],["GF","French Guiana"],["GG","Guernsey"],["GH","Ghana"],["GI","Gibraltar"],["GL","Greenland"],["GM","Gambia"],["GN","Guinea"],["GP","Guadeloupe"],["GQ","Equatorial Guinea"],["GR","Greece"],["GS","South Georgia and the South Sandwich Islands"],["GT","Guatemala"],["GU","Guam"],["GW","Guinea-Bissau"],["GY","Guyana"],["HK","Hong Kong"],["HM","Heard Island and McDonald Islands"],["HN","Honduras"],
["HR","Croatia"],["HT","Haiti"],["HU","Hungary"],["ID","Indonesia"],["IE","Ireland"],["IL","Israel"],["IM","Isle of Man"],["IN","India"],["IO","British Indian Ocean Territory"],["IQ","Iraq"],["IR","Iran"],["IS","Iceland"],["IT","Italy"],["JE","Jersey"],["JM","Jamaica"],["JO","Jordan"],["JP","Japan"],["KE","Kenya"],["KG","Kyrgyzstan"],["KH","Cambodia"],["KI","Kiribati"],["KM","Comoros"],["KN","Saint Kitts and Nevis"],["KP","North Korea"],["KR","South Korea"],["KW","Kuwait"],["KY","Cayman Islands"],
["KZ","Kazakhstan"],["LA","Laos"],["LB","Lebanon"],["LC","Saint Lucia"],["LI","Liechtenstein"],["LK","Sri Lanka"],["LR","Liberia"],["LS","Lesotho"],["LT","Lithuania"],["LU","Luxembourg"],["LV","Latvia"],["LY","Libya"],["MA","Morocco"],["MC","Monaco"],["MD","Moldova"],["ME","Montenegro"],["MF","Saint Martin"],["MG","Madagascar"],["MH","Marshall Islands"],["MK","Macedonia"],["ML","Mali"],["MM","Myanmar"],["MN","Mongolia"],["MO","Macao"],["MP","Northern Mariana Islands"],["MQ","Martinique"],["MR","Mauritania"],
["MS","Montserrat"],["MT","Malta"],["MU","Mauritius"],["MV","Maldives"],["MW","Malawi"],["MX","Mexico"],["MY","Malaysia"],["MZ","Mozambique"],["NA","Namibia"],["NC","New Caledonia"],["NE","Niger"],["NF","Norfolk Island"],["NG","Nigeria"],["NI","Nicaragua"],["NL","Netherlands"],["NO","Norway"],["NP","Nepal"],["NR","Nauru"],["NU","Niue"],["NZ","New Zealand"],["OM","Oman"],["PA","Panama"],["PE","Peru"],["PF","French Polynesia"],["PG","Papua New Guinea"],["PH","Philippines"],["PK","Pakistan"],["PL","Poland"],
["PM","Saint Pierre and Miquelon"],["PN","Pitcairn"],["PR","Puerto Rico"],["PS","Palestinian Territory"],["PT","Portugal"],["PW","Palau"],["PY","Paraguay"],["QA","Qatar"],["RE","Réunion"],["RO","Romania"],["RS","Serbia"],["RU","Russia"],["RW","Rwanda"],["SA","Saudi Arabia"],["SB","Solomon Islands"],["SC","Seychelles"],["SD","Sudan"],["SE","Sweden"],["SG","Singapore"],["SH","Saint Helena, Ascension and Tristan da Cunha"],["SI","Slovenia"],["SJ","Svalbard and Jan Mayen"],["SK","Slovakia"],["SL","Sierra Leone"],
["SM","San Marino"],["SN","Senegal"],["SO","Somalia"],["SR","Suriname"],["SS","South Sudan"],["ST","Sao Tome and Principe"],["SV","El Salvador"],["SX","Sint Maarten"],["SY","Syria"],["SZ","Swaziland"],["TC","Turks and Caicos Islands"],["TD","Chad"],["TF","French Southern Territories"],["TG","Togo"],["TH","Thailand"],["TJ","Tajikistan"],["TK","Tokelau"],["TL","Timor-Leste"],["TM","Turkmenistan"],["TN","Tunisia"],["TO","Tonga"],["TR","Turkey"],["TT","Trinidad and Tobago"],["TV","Tuvalu"],["TW","Taiwan"],
["TZ","Tanzania"],["UA","Ukraine"],["UG","Uganda"],["UM","United States Minor Outlying Islands"],["US","United States"],["UY","Uruguay"],["UZ","Uzbekistan"],["VA","Holy See (Vatican City State)"],["VC","Saint Vincent and the Grenadines"],["VE","Venezuela"],["VG","Virgin Islands, British"],["VI","Virgin Islands, U.S."],["VN","Viet Nam"],["VU","Vanuatu"],["WF","Wallis and Futuna"],["WS","Samoa"],["YE","Yemen"],["YT","Mayotte"],["ZA","South Africa"],["ZM","Zambia"],["ZW","Zimbabwe"]])};function H1(a){switch(a){case "US":return new Map(I1);case "AU":return new Map(aaa);case "MX":return new Map(baa);case "CA":return new Map(caa);case "BR":return new Map(daa);default:return new Map}}
var I1=new Map([["US-AK","Alaska"],["US-AL","Alabama"],["US-AR","Arkansas"],["US-AS","American Samoa"],["US-AZ","Arizona"],["US-CA","California"],["US-CO","Colorado"],["US-CT","Connecticut"],["US-DC","District of Columbia"],["US-DE","Delaware"],["US-FL","Florida"],["US-GA","Georgia"],["US-GU","Guam"],["US-HI","Hawaii"],["US-IA","Iowa"],["US-ID","Idaho"],["US-IL","Illinois"],["US-IN","Indiana"],["US-KS","Kansas"],["US-KY","Kentucky"],["US-LA","Louisiana"],["US-MA","Massachusetts"],["US-MD","Maryland"],
["US-ME","Maine"],["US-MI","Michigan"],["US-MN","Minnesota"],["US-MO","Missouri"],["US-MP","Northern Mariana Islands"],["US-MS","Mississippi"],["US-MT","Montana"],["US-NC","North Carolina"],["US-ND","North Dakota"],["US-NE","Nebraska"],["US-NH","New Hampshire"],["US-NJ","New Jersey"],["US-NM","New Mexico"],["US-NV","Nevada"],["US-NY","New York"],["US-OH","Ohio"],["US-OK","Oklahoma"],["US-OR","Oregon"],["US-PA","Pennsylvania"],["US-PR","Puerto Rico"],["US-RI","Rhode Island"],["US-SC","South Carolina"],
["US-SD","South Dakota"],["US-TN","Tennessee"],["US-TX","Texas"],["US-UM","United States Minor Outlying Islands"],["US-UT","Utah"],["US-VA","Virginia"],["US-VI","Virgin Islands, U.S."],["US-VT","Vermont"],["US-WA","Washington"],["US-WI","Wisconsin"],["US-WV","West Virginia"],["US-WY","Wyoming"]]),aaa=new Map([["AU-NSW","New South Wales"],["AU-QLD","Queensland"],["AU-SA","South Australia"],["AU-TAS","Tasmania"],["AU-VIC","Victoria"],["AU-WA","Western Australia"],["AU-ACT","Australian Capital Territory"],
["AU-NT","Northern Territory"]]),baa=new Map([["MX-CMX","Ciudad de México"],["MX-AGU","Aguascalientes"],["MX-BCN","Baja California"],["MX-BCS","Baja California Sur"],["MX-CAM","Campeche"],["MX-COA","Coahuila"],["MX-COL","Colima"],["MX-CHP","Chiapas"],["MX-CHH","Chihuahua"],["MX-DUR","Durango"],["MX-GUA","Guanajuato"],["MX-GRO","Guerrero"],["MX-HID","Hidalgo"],["MX-JAL","Jalisco"],["MX-MEX","Estado de México"],["MX-MIC","Michoacán"],["MX-MOR","Morelos"],["MX-NAY","Nayarit"],["MX-NLE","Nuevo León"],
["MX-OAX","Oaxaca"],["MX-PUE","Puebla"],["MX-QUE","Querétaro"],["MX-ROO","Quintana Roo"],["MX-SLP","San Luis Potosí"],["MX-SIN","Sinaloa"],["MX-SON","Sonora"],["MX-TAB","Tabasco"],["MX-TAM","Tamaulipas"],["MX-TLA","Tlaxcala"],["MX-VER","Veracruz"],["MX-YUC","Yucatán"],["MX-ZAC","Zacatecas"]]),caa=new Map([["CA-AB","Alberta"],["CA-BC","British Columbia"],["CA-MB","Manitoba"],["CA-NB","New Brunswick"],["CA-NL","Newfoundland and Labrador"],["CA-NB","New Brunswick"],["CA-NT","Northwest Territories"],
["CA-NS","Nova Scotia"],["CA-NU","Nunavut"],["CA-ON","Ontario"],["CA-PE","Prince Edward Island"],["CA-QC","Quebec"],["CA-SK","Saskatchewan"],["CA-YT","Yukon"]]),daa=new Map([["BR-AC","Acre"],["BR-AL","Alagoas"],["BR-AP","Amapá"],["BR-AM","Amazonas"],["BR-BA","Bahia"],["BR-CE","Ceará"],["BR-DF","Distrito Federal"],["BR-ES","Espírito Santo"],["BR-GO","Goiás"],["BR-MA","Maranhão"],["BR-MT","Mato Grosso"],["BR-MS","Mato Grosso do Sul"],["BR-MG","Minas Gerais"],["BR-PR","Paraná"],["BR-PB","Paraíba"],["BR-PA",
"Pará"],["BR-PE","Pernambuco"],["BR-PI","Piauí"],["BR-RN","Rio Grande do Norte"],["BR-RS","Rio Grande do Sul"],["BR-RJ","Rio de Janeiro"],["BR-RO","Rondônia"],["BR-RR","Roraima"],["BR-SC","Santa Catarina"],["BR-SE","Sergipe"],["BR-SP","São Paulo"],["BR-TO","Tocantins"]]);function J1(a,b){a=[].concat(na(a.entries())).sort(function(a,b){return a[1].localeCompare(b[1])}).map(function(a){return{selected:a[0]===b.LP,text:a[1],value:a[0]}});return null!=b.Df?[].concat([{selected:!b.LP,text:b.Df,value:b.xO}],na(a)):a}function K1(a){var b=G1();a.Hh&&(b=Array.from(b.entries()).filter(function(b){b=ma(b).next().value;return a.Hh.has(b)}),b=new Map(b));return J1(b,{Df:a.Df,xO:"ZZ",LP:a.D8})}
function L1(a){var b=H1(a.yb);Ca(!a.zH||b.has(a.zH),'"{}" is not a valid subdivision code of the country "{}".',a.zH,a.yb);return J1(b,{Df:a.Df,xO:a.xO,LP:a.zH})};var M1=new Jf("jv",!1),N1=["BR","CA","US"];function O1(a){this.nj=a.nj;this.D=a.D;this.sd=a.sd||void 0;this.Re=a.Re;this.cf=a.cf;this.view=a.view;this.listenTo(this.view,"input",this.Dn);this.listenTo(this.view,"requestSubmit",function(){this.trigger("requestSubmit")});this.H=a.H?a.H:Lf();this.Va=a.Va}function FU(a){var b=new P1({jy:!1!==a.jy,Va:a.Va,H:a.H,j:a.j});return{wb:new O1({nj:a.nj,D:a.D,sd:a.sd,Re:a.Re,cf:a.cf,H:a.H,Va:a.Va,view:b}),view:b}}f=O1.prototype;f.listenTo=Backbone.Events.listenTo;
f.off=Backbone.Events.off;f.on=Backbone.Events.on;f.once=Backbone.Events.once;f.stopListening=Backbone.Events.stopListening;f.trigger=Backbone.Events.trigger;f.refresh=function(){this.view.render();this.view.Nw(this.Re);this.sd&&this.view.ik(this.sd);return this};f.remove=function(){this.stopListening();this.view.remove()};f.ik=function(a){this.sd=a;this.view.ik(a);return this};f.Nw=function(a){this.Re=a;this.view.Nw(a);return this};
f.ZL=P.method(function(a){function b(a){return a.Ih}return!this.sd||this.view.yu||a?(a=this.view.kF(),Q1(a),this.T9(a).then(b).tap(this.ik.bind(this))):this.sd});f.QU=P.method(function(a){if(this.sd&&!this.view.yu&&!a&&!this.view.zu)return this.sd;a=this.view.kF();if(this.view.zu&&!this.view.yu)return R1(this,a),this.S9(a);Q1(a);R1(this,a);return this.VQ(a).tap(this.ik.bind(this))});f.Dn=function(){this.sd&&!this.view.kF()&&this.ik(this.sd);this.trigger("input",this.view.yu)};
f.T9=P.method(function(a){var b=this;return this.cf.createToken({zm:a.zm,nL:a.Gu,oL:a.Hu,jh:a.jh}).then(function(a){var d=b.nj,e=b.D;return wj(d.N,"/billing/brands/"+encodeURIComponent(e)+"/account",{brand:e,stripeToken:a}).catch(xj).get(0).get("account").then(Ch).catch(d.ks,d.Ij)})});
f.VQ=P.method(function(a){var b=this;return this.cf.createToken({zm:a.zm,nL:a.Gu,oL:a.Hu,jh:a.jh,Q$:a.dc,R$:a.Ye,S$:a.jf}).then(function(c){var d=b.nj;return wj(d.N,"/billing/creditcards",Sh(new Rh({D:b.D,BQ:c,Mg:a.dc?new Nh({qh:a.Ye,yb:a.dc,gw:a.jf}):void 0,uP:!0}))).catch(xj).get(0).then(d.ZU).get("creditCard").then(Jh).catch(d.ks,d.Ij)})});f.S9=P.method(function(a){return this.nj.VQ(new Th({Ii:a.id,Mg:new Nh({qh:a.Ye,yb:a.dc,gw:a.jf})}))});
function Q1(a){if(!a)throw new uT;if(!(a.zm&&3<=a.zm.length&&4>=a.zm.length))throw new kT;if(!function(){var b=a.Gu&&parseInt(a.Gu,10);return b&&1<=b&&12>=b}())throw new lT;if(!a.Hu||!parseInt(a.Hu,10))throw new mT;if(!function(){var b=a.jh&&a.jh.replace(/[\s-]+/g,"");return b&&13<=b.length&&19>=b.length}())throw new nT;}
function R1(a,b){if(a.H.get(M1)&&(!b.dc||"ZZ"==b.dc))throw new rT;var c;if(c=a.H.get(M1))c=Zd(a.Va),c=!(-1<N1.indexOf(b.dc)?b.Ye&&b.Ye!=c:1);if(c)throw new sT;if(a.H.get(M1)&&-1<N1.indexOf(b.dc)&&!b.jf)throw new tT;};function eaa(a){soy.asserts.assertType(goog.isString(a.Fk)||a.Fk instanceof goog.soy.data.SanitizedContent,"cardNumberPlaceholder",a.Fk,"string|goog.soy.data.SanitizedContent");var b=a.Fk;soy.asserts.assertType(goog.isString(a.Nk)||a.Nk instanceof goog.soy.data.SanitizedContent,"cvcPlaceholder",a.Nk,"string|goog.soy.data.SanitizedContent");var c=a.Nk;soy.asserts.assertType(goog.isString(a.xl)||a.xl instanceof goog.soy.data.SanitizedContent,"monthPlaceholder",a.xl,"string|goog.soy.data.SanitizedContent");
var d=a.xl;soy.asserts.assertType(goog.isString(a.cm)||a.cm instanceof goog.soy.data.SanitizedContent,"yearPlaceholder",a.cm,"string|goog.soy.data.SanitizedContent");a=a.cm;return soydata.VERY_UNSAFE.ordainSanitizedHtml(S1({id:"ccNumber",name:"ccNumber",type:"text",placeholder:b,attributes:soydata.VERY_UNSAFE.$$ordainSanitizedAttributesForInternalBlocks('pattern\x3d"[0-9]{4}([ -]+[0-9]{1,4}){3,5} ?" maxlength\x3d"23" autocomplete\x3d"cc-number" required')})+"\x3cspan class\x3d'creditCardExpiry'\x3e"+
S1({id:"expMonth",name:"expMonth",type:"text",placeholder:d,attributes:soydata.VERY_UNSAFE.$$ordainSanitizedAttributesForInternalBlocks('pattern\x3d"[01]?[0-9]" maxlength\x3d"2" autocomplete\x3d"cc-exp-month" required')})+S1({id:"expYear",name:"expYear",type:"text",placeholder:a,attributes:soydata.VERY_UNSAFE.$$ordainSanitizedAttributesForInternalBlocks('pattern\x3d"[0-3][0-9]" maxlength\x3d"2" autocomplete\x3d"cc-exp-year" required')})+"\x3c/span\x3e"+S1({id:"cvc",name:"cvc",type:"text",placeholder:c,
attributes:soydata.VERY_UNSAFE.$$ordainSanitizedAttributesForInternalBlocks('pattern\x3d"[0-9]{3,4}" maxlength\x3d"4" autocomplete\x3d"cc-csc" required')}))}
function faa(a){soy.asserts.assertType(goog.isString(a.Eo)||a.Eo instanceof goog.soy.data.SanitizedContent,"zipCodePlaceholder",a.Eo,"string|goog.soy.data.SanitizedContent");var b=a.Eo,c=goog.asserts.assertArray(a.QD,"expected parameter 'countryOptions' of type list\x3c[disabled: bool|null, selected: bool|null, text: string, value: null|string]\x3e.");a=goog.asserts.assertArray(a.rt,"expected parameter 'subdivisionOptions' of type list\x3c[disabled: bool|null, selected: bool|null, text: string, value: null|string]\x3e.");
return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"creditCardAddressLine1"\x3e'+WZ({id:"country",options:c,disabled:1>=c.length})+'\x3c/div\x3e\x3cdiv class\x3d"creditCardAddressLine2 hidden"\x3e'+(a?WZ({id:"region",options:a}):"")+S1({id:"zipcode",name:"zipcode",type:"text",placeholder:b})+"\x3c/div\x3e")};var gaa=new Jf("jv",!1);function P1(a){Backbone.View.call(this,{className:"creditCardEditor"});this.zu=this.yu=!1;this.Va=a.Va;this.jy=a.jy;this.H=a.H?a.H:Lf();this.j=a.j}t(P1,Backbone.View);f=P1.prototype;f.events=function(){return{"input #ccNumber":this.Z3,"keydown #expMonth":this.G5,"input #expMonth":this.F5,input:this.Dn,"keydown input":this.VN,"focus input:not([readonly])":this.pq,"blur input":this.As,"change #country":this.Q4,"change #region":this.Z5,"change #zipcode":this.E6}};
f.kF=function(){var a={id:this.$("#creditCardId").val()?this.$("#creditCardId").val().trim():"",zm:this.$("#cvc").val().trim(),Gu:this.$("#expMonth").val().trim(),Hu:this.$("#expYear").val().trim(),jh:this.$("#ccNumber").val().trim(),dc:this.$("#country").val()?this.$("#country").val().trim():void 0,Ye:this.$("#region").val()?this.$("#region").val().trim():void 0,jf:this.$("#zipcode").val()?this.$("#zipcode").val().trim():void 0};return a.zm.length||a.Gu.length||a.Hu.length||a.jh.length||a.dc.length||
a.Ye.length||a.jf.length?a:null};f.ik=function(a){this.$el.addClass("prefilled");this.$("#creditCardId").val(a.id);this.$("#ccNumber").val("").attr("placeholder","••••••••••••"+a.yv);this.$("#expMonth").val("").attr("placeholder","••");this.$("#expYear").val("").attr("placeholder","••");this.$("#cvc").val("").attr("placeholder","•••");a.Mg&&(this.$("#country").val(a.Mg.yb).change(),this.$("#region").val(a.Mg.qh),this.$("#zipcode").val(a.Mg.gw));this.zu=this.yu=!1;this.$("#ccNumber").removeAttr("autofocus")};
f.Nw=function(a){this.$("input").prop("readonly",!a);this.$("select").attr("disabled",!a)};
f.render=function(){var a;a={qj:this.Va.qj(),au:this.Va.au(),Fk:this.Va.Fk(),xl:this.Va.xl(),cm:this.Va.cm(),Nk:this.Va.Nk(),Eo:this.Va.Eo(),QD:K1({Df:this.Va.format("creditCardCountryPlaceholder")}),rt:L1({Df:Zd(this.Va),yb:"ZZ"}),bC:this.H.get(gaa)};soy.asserts.assertType(goog.isString(a.qj)||a.qj instanceof goog.soy.data.SanitizedContent,"creditCardLabel",a.qj,"string|goog.soy.data.SanitizedContent");var b=a.qj;soy.asserts.assertType(goog.isString(a.au)||a.au instanceof goog.soy.data.SanitizedContent,
"billingAddressLabel",a.au,"string|goog.soy.data.SanitizedContent");var c=a.au;soy.asserts.assertType(goog.isString(a.Fk)||a.Fk instanceof goog.soy.data.SanitizedContent,"cardNumberPlaceholder",a.Fk,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(a.Nk)||a.Nk instanceof goog.soy.data.SanitizedContent,"cvcPlaceholder",a.Nk,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(a.xl)||a.xl instanceof goog.soy.data.SanitizedContent,"monthPlaceholder",
a.xl,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(a.cm)||a.cm instanceof goog.soy.data.SanitizedContent,"yearPlaceholder",a.cm,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(a.Eo)||a.Eo instanceof goog.soy.data.SanitizedContent,"zipCodePlaceholder",a.Eo,"string|goog.soy.data.SanitizedContent");goog.asserts.assertArray(a.QD,"expected parameter 'countryOptions' of type list\x3c[disabled: bool|null, selected: bool|null, text: string, value: null|string]\x3e.");
goog.asserts.assertArray(a.rt,"expected parameter 'subdivisionOptions' of type list\x3c[disabled: bool|null, selected: bool|null, text: string, value: null|string]\x3e.");soy.asserts.assertType(goog.isBoolean(a.bC)||1===a.bC||0===a.bC,"showBillingAddressFields",a.bC,"boolean");var d=!!a.bC;soy.asserts.assertType(null==a.dE||a.dE instanceof goog.soy.data.SanitizedContent||goog.isString(a.dE),"creditCardId",a.dE,"null|string|undefined");var e=a.dE;a=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3ch3 class\x3d"creditCardLabel"\x3e'+
soy.$$escapeHtml(b)+'\x3c/h3\x3e\x3cdiv class\x3d"creditCardEditView creditCardInput"\x3e\x3cinput type\x3d"hidden" id\x3d"creditCardId" value\x3d"'+soy.$$escapeHtmlAttribute(e)+'"/\x3e'+eaa(a)+"\x3c/div\x3e"+(d?'\x3ch3 class\x3d"billingAddressLabel"\x3e'+soy.$$escapeHtml(c)+'\x3c/h3\x3e\x3cdiv class\x3d"creditCardAddress"\x3e'+faa(a)+"\x3c/div\x3e":""));this.$el.html(a.toString());haa(this);return this};
function haa(a){var b=0===a.$("input").filter(function(){return this.readOnly}).length,c=a.$("#ccNumber");a.jy&&b?c.prop("autofocus",!0):c.removeAttr("autofocus")}f.Dn=function(a){var b;b=$(a.target);var c=b.data("oldValue"),d=b.val();c!==d?(b.data("oldValue",d),b=!0):b=!1;b&&"country"!==a.target.id&&"region"!==a.target.id&&"zipcode"!==a.target.id&&(this.$el.removeClass("prefilled"),this.yu=!0,this.trigger("input"))};f.VN=function(a){13===a.keyCode&&(this.trigger("requestSubmit"),a.preventDefault())};
f.pq=function(a){this.$el.addClass("focused");"zipcode"!=a.target.id&&(this.$("#ccNumber").attr("placeholder",this.Va.Fk()),this.$("#expMonth").attr("placeholder",this.Va.xl()),this.$("#expYear").attr("placeholder",this.Va.cm()),this.$("#cvc").attr("placeholder",this.Va.Nk()))};f.As=function(){this.$el.removeClass("focused")};
f.Z3=function(a){if("IE"!=UAParser().browser.name){a=a.target;var b=a.selectionEnd,c=a.value.length;a.value=a.value.replace(/[^\d]/g,"").replace(/(.{4})/g,"$1 ").trim();var d=c!==a.value.length,c=" "===a.value.charAt(c-1);a.selectionEnd=b+(" "===a.value.charAt(b-1)&&c&&d?1:0)}};
f.Q4=function(a){a=L1({Df:Zd(this.Va),yb:a.target.value});1===a.length?(this.$el.find(".creditCardAddressLine2").hide(),this.$el.find("#country").removeClass("countrySharpBottomCorners"),this.$el.find("#country").addClass("countryRoundBottomCorners"),this.$el.find(".creditCardAddressLine2 select").removeAttr("value")):(this.$el.find(".creditCardAddressLine2").show(),this.$el.find("#country").removeClass("countryRoundBottomCorners"),this.$el.find("#country").addClass("countrySharpBottomCorners"),a=
$(WZ({options:a,id:"region"}).toString()),this.$el.find(".creditCardAddressLine2 select").replaceWith(a.children()[0]));this.$el.find(".creditCardAddressLine2 input").removeAttr("value");this.zu=!0;this.j.wa(X(new fm("changed_credit_card_country"),"location","credit_card_dialog"))};f.Z5=function(){this.zu=!0};f.E6=function(){this.zu=!0};
f.G5=function(a){var b=this.$("#expMonth"),c=b.val(),d=this.$("#expYear"),e=String.fromCharCode(a.which);""===c&&e.match(/[2-9]/)?(a.preventDefault(),b.val("0"+e),d.focus()):-1<[191,32,9].indexOf(a.which)&&(a.preventDefault(),1===c.length&&b.val("0"+c),d.focus())};f.F5=function(){2===this.$("#expMonth").val().length&&this.$("#expYear").focus()};function WZ(a){soy.asserts.assertType(null==a.block||goog.isBoolean(a.block)||1===a.block||0===a.block,"block",a.block,"boolean|null|undefined");var b=a.block;soy.asserts.assertType(null==a.v||a.v instanceof goog.soy.data.SanitizedContent||goog.isString(a.v),"classes",a.v,"null|string|undefined");var c=a.v;soy.asserts.assertType(null==a.disabled||goog.isBoolean(a.disabled)||1===a.disabled||0===a.disabled,"disabled",a.disabled,"boolean|null|undefined");var d=a.disabled;soy.asserts.assertType(null==
a.id||a.id instanceof goog.soy.data.SanitizedContent||goog.isString(a.id),"id",a.id,"null|string|undefined");var e=a.id;soy.asserts.assertType(null==a.name||a.name instanceof goog.soy.data.SanitizedContent||goog.isString(a.name),"name",a.name,"null|string|undefined");var g=a.name;a=goog.asserts.assertArray(a.options,"expected parameter 'options' of type list\x3c[disabled: bool|null, selected: bool|null, text: string, value: null|string]\x3e.");d='\x3cspan class\x3d"select'+(b?" selectBlock":"")+(c?
" "+soy.$$escapeHtmlAttribute(c):"")+'"\x3e\x3cselect '+(d?" disabled":"")+(e?' id\x3d"'+soy.$$escapeHtmlAttribute(e)+'"':"")+(g?' name\x3d"'+soy.$$escapeHtmlAttribute(g)+'"':"")+"\x3e";b=a.length;for(c=0;c<b;c++){var h=a[c];soy.asserts.assertType(null==h.disabled||goog.isBoolean(h.disabled)||1===h.disabled||0===h.disabled,"disabled",h.disabled,"boolean|null|undefined");e=h.disabled;soy.asserts.assertType(null==h.selected||goog.isBoolean(h.selected)||1===h.selected||0===h.selected,"selected",h.selected,
"boolean|null|undefined");g=h.selected;soy.asserts.assertType(goog.isString(h.text)||h.text instanceof goog.soy.data.SanitizedContent,"text",h.text,"string|goog.soy.data.SanitizedContent");var k=h.text;soy.asserts.assertType(null==h.value||h.value instanceof goog.soy.data.SanitizedContent||goog.isString(h.value),"value",h.value,"null|string|undefined");h=h.value;e=soydata.VERY_UNSAFE.ordainSanitizedHtml("\x3coption "+(e?" disabled":"")+(g?" selected":"")+(h||""==h?' value\x3d"'+soy.$$escapeHtmlAttribute(h)+
'"':"")+"\x3e"+soy.$$escapeHtml(k)+"\x3c/option\x3e");d+=e}return soydata.VERY_UNSAFE.ordainSanitizedHtml(d+"\x3c/select\x3e\x3c/span\x3e")};function T1(a){soy.asserts.assertType(goog.isString(a.title)||a.title instanceof goog.soy.data.SanitizedContent,"title",a.title,"string|goog.soy.data.SanitizedContent");return soydata.VERY_UNSAFE.ordainSanitizedHtml(soy.$$escapeHtml(a.title))}
function iaa(a){var b;b=b||{};soy.asserts.assertType(goog.isString(a.Io)||a.Io instanceof goog.soy.data.SanitizedContent,"actionCloseHint",a.Io,"string|goog.soy.data.SanitizedContent");var c=a.Io;soy.asserts.assertType(goog.isString(a.Kg)||a.Kg instanceof goog.soy.data.SanitizedContent,"actionClose",a.Kg,"string|goog.soy.data.SanitizedContent");a=a.Kg;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"dialog fluidDialog preparing"\x3e\x3ch2 class\x3d"center"\x3e\x3c/h2\x3e\x3cdiv class\x3d"content"\x3e\x3c/div\x3e\x3cdiv class\x3d"dialog__footer" style\x3d"'+
(b.Vb?"/*"+b.Vb+"*/":"")+'display: none;"\x3e\x3cdiv class\x3d"dialog__footer__content"\x3e\x3c/div\x3e\x3c/div\x3e\x3ca class\x3d"close" href\x3d"#" title\x3d"'+soy.$$escapeHtmlAttribute(c)+'"\x3e'+soy.$$escapeHtml(a)+"\x3c/a\x3e\x3c/div\x3e")};function U1(a){var b=this;Backbone.View.call(this,{id:a.id,className:a.className,events:{"click .close":function(){b.trigger("cancel")}}});this.Ed=a.Ed;this.G=a.G;this.eK=this.ng=null;this.PX=0;this.Ed.on("maskClick",function(){b.trigger("cancel")})}t(U1,Backbone.View);f=U1.prototype;f.I4=function(){this.trigger("ok")};f.LN=function(){this.trigger("retry")};
function jaa(a,b){var c=b.ml?b.ml():b;if(c===a.ng)return P.resolve(!1);a.ng&&a.stopListening(a.ng);a.ng=c;a.eK=b;a.listenTo(a.ng,"contentResize",a.ju);a.listenTo(a.ng,"done",a.I4);a.listenTo(a.ng,"retry",a.LN);return a.eK.refresh().return(!0)}f.render=function(a){this.$el.html(iaa(a).toString());return this};
function V1(a,b){return new P(function(c){var d=a.$(".dialog");d.hasClass("preparing")&&(a.Ed.show(a.el),a.G.requestAnimationFrame(function(){d.removeClass("preparing")}));a.$el.queue("pageQueue",function(e){jaa(a,b).then(function(b){kaa(a);var h=d.find(".content"),k=null;h.is(":empty")?h.append(a.ng.$el):b&&(k=$('\x3cdiv class\x3d"content new"\x3e').append(a.ng.$el));a.ju(k).then(c);a.G.setTimeout(function(){a.PX--;e()},1E3)})});1==++a.PX&&a.$el.dequeue("pageQueue")})}
function kaa(a){var b=a.ng.Zo(a.eK.an());a.$(".dialog \x3e h2").html(b)}function W1(a,b){a.$(".dialog__footer__content").html(b)}f.aA=function(){this.$(".dialog__footer").addClass("dialog__footer--hide").removeClass("dialog__footer--appear");this.ju()};f.ex=function(){this.$(".dialog__footer").show().removeClass("dialog__footer--hide").addClass("dialog__footer--appear");this.ju()};
f.ju=function(a){var b=this.$(".dialog__footer"),c=!1;b.hasClass("dialog__footer--appear")?b.hasClass("dialog__footer--pinned")&&(c=!0,b.removeClass("dialog__footer--pinned")):b.addClass("dialog__footer--pinned");a=laa(this,a).then(function(){b.hasClass("dialog__footer--appear")&&b.addClass("dialog__footer--pinned")});b.hasClass("dialog__footer--appear")?c&&b.addClass("dialog__footer--pinned"):b.removeClass("dialog__footer--pinned");return a};
function laa(a,b){return new P(function(c){var d=a.$(".dialog");if(!(0<d.find(".content.replacing").length)||b){var e=d.outerHeight();d.css({transition:"none",height:"auto"});var g;g=b?maa(a,b):d.outerHeight();var h=Gf(d[0]);d.css({height:e});Ff(d);d.css({transition:"",height:g});c(h)}})}
function maa(a,b){var c=a.$(".dialog"),d=c.find(".content");a=d.outerHeight();var e=$('\x3cdiv class\x3d"content new"\x3e');b.insertBefore(d);d.addClass("onTop beingReplaced");var c=c.outerHeight(),g=b.outerHeight(!0);b.addClass("onTop");e.insertAfter(d).css("height",a);Ff(e);Gf(e[0]).then(function(){d.remove();e.remove();b.removeClass("onTop")});e.css("height",g);pl(function(){b.removeClass("new");e.removeClass("new")});return c}
f.remove=function(){var a=this;return new P(function(b){a.Ed.hide();a.$el.children(".dialog").addClass("disappearing");a.G.setTimeout(function(){Backbone.View.prototype.remove.call(a);b()},rp.MR)})};function X1(a){Backbone.View.apply(this,arguments)}t(X1,Backbone.View);X1.prototype.Zo=function(){return""};Object.defineProperties(X1,{extend:{configurable:!0,enumerable:!0,get:function(){return Backbone.View.extend.bind(X1)}}});function Y1(a){this.j=a.j;this.uL=a.uL}Y1.prototype.CC=function(a){this.track("close",{action:a})};Y1.prototype.track=function(a,b){this.j.track("publish_flow_"+a,_.extend(this.LL(),b))};Y1.prototype.LL=function(){return{fileFormat:this.uL}};function Z1(a){soy.asserts.assertType(goog.isBoolean(a.Wd)||1===a.Wd||0===a.Wd,"showOneTimeUse",a.Wd,"boolean");var b=!!a.Wd;soy.asserts.assertType(null==a.gd||a.gd instanceof goog.soy.data.SanitizedContent||goog.isString(a.gd),"oneTimeUse",a.gd,"null|string|undefined");var c=a.gd;soy.asserts.assertType(null==a.Ic||a.Ic instanceof goog.soy.data.SanitizedContent||goog.isString(a.Ic),"oneTimeUseDescription",a.Ic,"null|string|undefined");var d=a.Ic;soy.asserts.assertType(goog.isBoolean(a.Xd)||1===a.Xd||
0===a.Xd,"showRoyaltyFree",a.Xd,"boolean");var e=!!a.Xd;soy.asserts.assertType(null==a.Bc||a.Bc instanceof goog.soy.data.SanitizedContent||goog.isString(a.Bc),"royaltyFree",a.Bc,"null|string|undefined");var g=a.Bc;soy.asserts.assertType(null==a.Kc||a.Kc instanceof goog.soy.data.SanitizedContent||goog.isString(a.Kc),"royaltyFreeDescription",a.Kc,"null|string|undefined");var h=a.Kc;soy.asserts.assertType(goog.isBoolean(a.Hg)||1===a.Hg||0===a.Hg,"showExtended",a.Hg,"boolean");var k=!!a.Hg;soy.asserts.assertType(null==
a.vd||a.vd instanceof goog.soy.data.SanitizedContent||goog.isString(a.vd),"extended",a.vd,"null|string|undefined");var l=a.vd;soy.asserts.assertType(null==a.Ld||a.Ld instanceof goog.soy.data.SanitizedContent||goog.isString(a.Ld),"extendedDescription",a.Ld,"null|string|undefined");var m=a.Ld;soy.asserts.assertType(goog.isString(a.Od)||a.Od instanceof goog.soy.data.SanitizedContent,"noLicenseOptionDescription",a.Od,"string|goog.soy.data.SanitizedContent");a=a.Od;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"licensesDescription"\x3e\x3cdiv class\x3d"licensesDescription__options"\x3e'+
(b||e||k?(b?'\x3cdiv class\x3d"licensesDescription__option licensesDescription__option--oneTime"\x3e\x3ch3\x3e'+soy.$$escapeHtml(c)+"\x3c/h3\x3e\x3cp\x3e"+soy.$$escapeHtml(d)+"\x3c/p\x3e\x3c/div\x3e":"")+(e?'\x3cdiv class\x3d"licensesDescription__option licensesDescription__option--royaltyFree"\x3e\x3ch3\x3e'+soy.$$escapeHtml(g)+"\x3c/h3\x3e\x3cp\x3e"+soy.$$escapeHtml(h)+"\x3c/p\x3e\x3c/div\x3e":"")+(k?'\x3cdiv class\x3d"licensesDescription__option licensesDescription__option--extended"\x3e\x3ch3\x3e'+
soy.$$escapeHtml(l)+"\x3c/h3\x3e\x3cp\x3e"+soy.$$escapeHtml(m)+"\x3c/p\x3e\x3c/div\x3e":""):'\x3cdiv class\x3d"licensesDescription__noOption"\x3e'+soy.$$escapeHtml(a)+"\x3c/div\x3e")+"\x3c/div\x3e\x3c/div\x3e")};function $1(a){this.$el=a}t($1,fc);$1.prototype.show=function(){if(this.gh())return P.resolve();var a=Gf(this.$el[0]);this.$el.addClass("paymentRestrictedOverlay--visible");return a};$1.prototype.hide=function(){if(this.gh()){var a=Gf(this.$el[0]);this.$el.removeClass("paymentRestrictedOverlay--visible");return a}return P.resolve()};$1.prototype.gh=function(){return this.$el.hasClass("paymentRestrictedOverlay--visible")};function GU(a){var b=this;X1.call(this,{className:"payment",events:{"change input[name\x3dpurchaseCreditPack]":function(a){a="yes"==$(a.target).val();var d=b.$(".creditPackOptions option:selected").val();b.trigger("creditPackChange",a,d)},"change .price select":function(a){a=$(a.target);var d=a.closest(".license").index();b.trigger("priceChange",d,a.val())},"click .licensesMore":function(){return b.KN()},"click .creditPackOptions select":function(a){return a2(b,a)},"change .creditPackOptions select":function(a){return a2(b,
a)},"submit .publishPagePaymentForm":function(a){a.preventDefault();b.trigger("submitPayment")},"click .draft":function(){b.trigger("clickDraft")},"click .paymentRestrictedOverlay__cancelButton":function(){b.trigger("done")},"click .paymentRestrictedOverlay__downloadDraftButton":function(){b.trigger("clickOverlayDraftButton")}}});this.pd=a.pd;this.Ji=a.Ji;this.CQ=this.Mn=null}t(GU,X1);f=GU.prototype;f.ZL=function(){return this.pd.QU()};
f.render=function(a){var b=this.el,c;c=c||{};soy.asserts.assertType(goog.isString(a.tm)||a.tm instanceof goog.soy.data.SanitizedContent,"creditAvailable",a.tm,"string|goog.soy.data.SanitizedContent");var d=a.tm;soy.asserts.assertType(a.BC instanceof soydata.SanitizedHtml||a.BC instanceof soydata.UnsanitizedText||goog.isString(a.BC),"totalCost",a.BC,"soydata.SanitizedHtml");var e=a.BC;soy.asserts.assertType(a.xq instanceof soydata.SanitizedHtml||a.xq instanceof soydata.UnsanitizedText||goog.isString(a.xq),
"payOption",a.xq,"soydata.SanitizedHtml");var g=a.xq;soy.asserts.assertType(goog.isString(a.xd)||a.xd instanceof goog.soy.data.SanitizedContent,"free",a.xd,"string|goog.soy.data.SanitizedContent");var h=a.xd;soy.asserts.assertType(goog.isString(a.Qs)||a.Qs instanceof goog.soy.data.SanitizedContent,"purchased",a.Qs,"string|goog.soy.data.SanitizedContent");var k=a.Qs;soy.asserts.assertType(goog.isString(a.zv)||a.zv instanceof goog.soy.data.SanitizedContent,"layoutTitle",a.zv,"string|goog.soy.data.SanitizedContent");
var l=a.zv;soy.asserts.assertType(goog.isString(a.RH)||a.RH instanceof goog.soy.data.SanitizedContent,"specialOffer",a.RH,"string|goog.soy.data.SanitizedContent");var m=a.RH;soy.asserts.assertType(a.kA instanceof soydata.SanitizedHtml||a.kA instanceof soydata.UnsanitizedText||goog.isString(a.kA),"introHtml",a.kA,"soydata.SanitizedHtml");var n=a.kA;soy.asserts.assertType(goog.isString(a.Gf)||a.Gf instanceof goog.soy.data.SanitizedContent,"purchaseButton",a.Gf,"string|goog.soy.data.SanitizedContent");
var p=a.Gf;soy.asserts.assertType(goog.isString(a.$n)||a.$n instanceof goog.soy.data.SanitizedContent,"restrictedOverlayHeading",a.$n,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(a.Dg)||a.Dg instanceof goog.soy.data.SanitizedContent,"restrictedOverlayMessage",a.Dg,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(a.Zn)||a.Zn instanceof goog.soy.data.SanitizedContent,"restrictedOverlayDraftButton",a.Zn,"string|goog.soy.data.SanitizedContent");
soy.asserts.assertType(goog.isString(a.Yn)||a.Yn instanceof goog.soy.data.SanitizedContent,"restrictedOverlayCancelButton",a.Yn,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isBoolean(a.af)||1===a.af||0===a.af,"showDraft",a.af,"boolean");var q=goog.asserts.assertArray(a.Yh,"expected parameter 'purchaseLicenses' of type list\x3c[contributedBy: string, expirationLabel: null|string, hasPaidLicense: bool, isFree: bool, isLayout: bool, paidLicenseTypeLabel: string, purchaseOptions: list\x3c[disabled: null, selected: bool, text: string, value: string]\x3e, thumbnailClass: string, thumbnailUrl: string, title: string]\x3e."),
u=goog.asserts.assertArray(a.Jy,"expected parameter 'creditPacks' of type list\x3c[disabled: null, selected: null, text: string, value: string]\x3e.");soy.asserts.assertType(goog.isString(a.$n)||a.$n instanceof goog.soy.data.SanitizedContent,"restrictedOverlayHeading",a.$n,"string|goog.soy.data.SanitizedContent");var v=a.$n;soy.asserts.assertType(goog.isString(a.Dg)||a.Dg instanceof goog.soy.data.SanitizedContent,"restrictedOverlayMessage",a.Dg,"string|goog.soy.data.SanitizedContent");var z=a.Dg;
soy.asserts.assertType(goog.isString(a.Zn)||a.Zn instanceof goog.soy.data.SanitizedContent,"restrictedOverlayDraftButton",a.Zn,"string|goog.soy.data.SanitizedContent");var r=a.Zn;soy.asserts.assertType(goog.isString(a.Yn)||a.Yn instanceof goog.soy.data.SanitizedContent,"restrictedOverlayCancelButton",a.Yn,"string|goog.soy.data.SanitizedContent");var x=a.Yn;soy.asserts.assertType(goog.isBoolean(a.af)||1===a.af||0===a.af,"showDraft",a.af,"boolean");a=!!a.af;n=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"paymentRestrictedOverlay"\x3e\x3csection class\x3d"paymentRestrictedOverlay__inner"\x3e\x3cspan class\x3d"paymentRestrictedOverlay__icon"\x3e'+
qX()+"\x3c/span\x3e\x3ch2\x3e"+soy.$$escapeHtml(v)+"\x3c/h2\x3e\x3cp\x3e"+soy.$$escapeHtml(z)+'\x3c/p\x3e\x3cdiv class\x3d"paymentRestrictedOverlay__buttons"\x3e'+(a?XZ({v:"paymentRestrictedOverlay__downloadDraftButton",text:r}):"")+XZ({v:soydata.$$markUnsanitizedTextForInternalBlocks((a?"buttonSecondary ":"")+"paymentRestrictedOverlay__cancelButton"),text:x})+"\x3c/div\x3e\x3c/section\x3e\x3c/div\x3e")+'\x3csection class\x3d"info"\x3e\x3cp class\x3d"intro"\x3e'+soy.$$escapeHtml(n)+'\x3c/p\x3e\x3c/section\x3e\x3csection class\x3d"itemList"\x3e\x3ctable id\x3d"itemList"\x3e';
v=q.length;for(z=0;z<v;z++)r=q[z],n+='\x3ctr class\x3d"license"\x3e\x3ctd class\x3d"thumbnail"\x3e\x3cdiv class\x3d"inner '+soy.$$escapeHtmlAttribute(r.y9)+'" style\x3d"'+(c.Vb?"/*"+c.Vb+"*//*"+c.Vb+"*/":"")+"background-image: url('"+soy.$$escapeHtmlAttribute(soy.$$filterNormalizeMediaUri(r.ig))+'\');"\x3e\x3c/div\x3e\x3c/td\x3e\x3ctd class\x3d"info"\x3e'+(r.RF?'\x3cdiv class\x3d"title"\x3e'+soy.$$escapeHtml(l)+"\x3c/span\x3e\x3c/div\x3e":'\x3cdiv class\x3d"title"\x3e'+soy.$$escapeHtml(r.title)+'\x3c/div\x3e\x3cdiv class\x3d"by"\x3e'+
soy.$$escapeHtml(r.zr)+"\x3c/div\x3e")+'\x3c/td\x3e\x3ctd class\x3d"price"\x3e'+(r.pv?soy.$$escapeHtml(h):r.dn?'\x3cdiv class\x3d"state"\x3e'+soy.$$escapeHtml(k)+'\x3c/div\x3e\x3cdiv class\x3d"type"\x3e'+soy.$$escapeHtml(r.RG)+(r.gz?" - "+soy.$$escapeHtml(r.gz):"")+"\x3c/div\x3e":1==r.Ps.length?soy.$$escapeHtml(r.Ps[0].text):1<r.Ps.length?'\x3cdiv class\x3d"select"\x3e'+WZ({options:r.Ps})+"\x3c/div\x3e":"")+"\x3c/tr\x3e";n+='\x3c/table\x3e\x3c/section\x3e\x3csection class\x3d"total"\x3e\x3cp class\x3d"creditRemaining"\x3e'+
soy.$$escapeHtml(d)+'\x3c/p\x3e\x3cp class\x3d"amount"\x3e\x3cspan class\x3d"totalCost"\x3e'+soy.$$escapeHtml(e)+'\x3c/span\x3e\x3c/p\x3e\x3c/section\x3e\x3csection class\x3d"creditPacks"\x3e\x3cform\x3e\x3cdiv class\x3d"prepay"\x3e\x3clabel\x3e\x3cinput type\x3d"radio" name\x3d"purchaseCreditPack" value\x3d"yes"\x3e '+soy.$$escapeHtml(m)+':\x3c/label\x3e\x3cdiv class\x3d"creditPackOptions"\x3e'+WZ({options:u})+'\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"prepay"\x3e\x3clabel\x3e\x3cinput type\x3d"radio" name\x3d"purchaseCreditPack" value\x3d"no" checked\x3d"checked"\x3e \x3cspan class\x3d"payOption"\x3e'+
soy.$$escapeHtml(g)+'\x3c/span\x3e\x3c/label\x3e\x3c/div\x3e\x3c/form\x3e\x3c/section\x3e\x3csection class\x3d"simpleTotal"\x3e\x3cdiv class\x3d"simpleTotalPayOption"\x3e'+soy.$$escapeHtml(g)+'\x3c/div\x3e\x3c/section\x3e\x3cform class\x3d"publishPagePaymentForm"\x3e\x3cdiv class\x3d"creditCardContainer"\x3e\x3c/div\x3e\x3cdiv class\x3d"savedTeamCard"\x3e\x3c/div\x3e\x3cdiv class\x3d"actions"\x3e'+XZ({v:"paymentPageSubmitButton buttonSubmittable",type:"submit",text:p})+"\x3c/div\x3e\x3c/div\x3e";
c=soydata.VERY_UNSAFE.ordainSanitizedHtml(n);b.innerHTML=c;this.pd.refresh();this.$(".creditCardContainer").html(this.Ji.$el);this.Mn=this.$(".publishPagePaymentForm");this.CQ=this.Mn.find("button[type\x3dsubmit]");return this};f.remove=function(){this.pd.remove()};function a2(a,b){a.trigger("creditPackSelect",$(b.target).val())}f.KN=function(){this.trigger("licensesMore")};function b2(a){a.$(".creditPacks").hide();a.trigger("contentResize")}
function naa(a){a.$(".creditPacks").show();a.trigger("contentResize")}function c2(a){a.$(".simpleTotal").hide();a.trigger("contentResize")}function oaa(a){a.$(".simpleTotal").show();a.trigger("contentResize")}function d2(a){a.$(".creditCardContainer").hide();a.$(".publishPagePaymentForm").attr("novalidate","");a.trigger("contentResize")}function paa(a){a.$(".creditCardContainer").show();a.$(".publishPagePaymentForm").removeAttr("novalidate");a.trigger("contentResize")}
function qaa(a){a=a.$(".paymentRestrictedOverlay");return(new $1(a)).show()}f.hQ=function(a){var b=this.$(".licensesMore");a.ei(b)};function raa(a,b){a.$(".totalCost").html(b)}function saa(a,b){a.$(".payOption").text(b);a.$(".simpleTotalPayOption").text(b)}function taa(a,b){a.$(".creditPackOptions option").each(function(a,d){a=$(d);d=a.val();a.toggle(0<=b.indexOf(d))})}function uaa(a,b){a.$(".creditPackOptions select").val(b)}
function e2(a){a.$("input[name\x3dpurchaseCreditPack][value\x3dyes]").prop("checked",!0)}function f2(a,b){$('\x3cp class\x3d"errorMessage"\x3e').html(b).insertBefore(a.Mn);a.trigger("contentResize")}function g2(a,b){a.$(".savedTeamCard").text(b).show();a.trigger("contentResize")}function h2(a){a.$(".savedTeamCard").hide();a.trigger("contentResize")}function vaa(a){a.Mn.prev(".errorMessage").remove();a.trigger("contentResize")}f.Zo=function(a){return T1(a).toString()};
function i2(a){var b=a.PZ;soy.asserts.assertType(goog.isBoolean(b.Wd)||1===b.Wd||0===b.Wd,"showOneTimeUse",b.Wd,"boolean");soy.asserts.assertType(goog.isString(b.gd)||b.gd instanceof goog.soy.data.SanitizedContent,"oneTimeUse",b.gd,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(b.Ic)||b.Ic instanceof goog.soy.data.SanitizedContent,"oneTimeUseDescription",b.Ic,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isBoolean(b.Xd)||1===b.Xd||0===b.Xd,"showRoyaltyFree",
b.Xd,"boolean");soy.asserts.assertType(goog.isString(b.Bc)||b.Bc instanceof goog.soy.data.SanitizedContent,"royaltyFree",b.Bc,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(b.Kc)||b.Kc instanceof goog.soy.data.SanitizedContent,"royaltyFreeDescription",b.Kc,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isBoolean(b.Hg)||1===b.Hg||0===b.Hg,"showExtended",b.Hg,"boolean");soy.asserts.assertType(goog.isString(b.vd)||b.vd instanceof goog.soy.data.SanitizedContent,
"extended",b.vd,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(b.Ld)||b.Ld instanceof goog.soy.data.SanitizedContent,"extendedDescription",b.Ld,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(b.Od)||b.Od instanceof goog.soy.data.SanitizedContent,"noLicenseOptionDescription",b.Od,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(b.Aj instanceof soydata.SanitizedHtml||b.Aj instanceof soydata.UnsanitizedText||goog.isString(b.Aj),
"fullInformationHtml",b.Aj,"soydata.SanitizedHtml");var c=b.Aj,b=soydata.VERY_UNSAFE.ordainSanitizedHtml(Z1(b)+'\x3cp class\x3d"licensesDetails__fullInformation outro"\x3e'+soy.$$escapeHtml(c)+"\x3c/p\x3e"),b=$(b.toString());Ry.call(this,{className:"licensesPopOver",content:b,Qe:a.PZ.confirm,position:Ep})}t(i2,Ry);var waa=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3ca href\x3d"https://about.canva.com/license-agreements/" target\x3d"_blank"\x3eabout.canva.com/license-agreements\x3c/a\x3e');function HU(a){this.view=a.view;this.j=a.j;this.la=a.la;this.ta=a.ta;this.IS=null;this.aa=a.aa;this.X=a.X;this.rb=a.rb;this.Ub=a.Ub;this.Jy=[];this.xa=Rc(a.i);this.Va=ad(a.i);this.Ka=Tc(a.i);this.af=a.af;this.Gf=a.Gf;this.Dg=a.Dg;this.Qb=a.Qb;this.lb=a.lb||null;this.Ve=a.Ve;this.MB=null;this.ea=a.ea||null;this.Up=!1}f=HU.prototype;
f.init=function(){var a=this;this.view.on("creditPackChange",function(b,c){a.MB=b?c:null});this.view.on("creditPackSelect",function(b){a.MB=b;e2(a.view)});this.view.on("priceChange",function(b,c){a.Qb.Yh[b].OB=c;j2(a)});this.view.on("licensesMore",function(){var b={confirm:af(a.xa),Wd:a.Qb.pn("ONE_USE"),gd:a.Ka.gd(),Ic:a.Ka.Ic(),Xd:a.Qb.pn("ROYALTY_FREE"),Bc:a.Ka.Bc(),Kc:a.Ka.Kc(),Hg:a.Qb.pn("EXTENDED"),vd:a.Ka.vd(),Ld:a.Ka.Ld(),Od:a.Ka.Od(),Aj:bf(a.Ka,waa)};a.view.hQ(new i2({PZ:b}))});this.view.on("submitPayment",
function(){return xaa(a)});this.view.on("clickDraft",function(){a.trigger("clickDraft")});this.view.on("clickOverlayDraftButton",function(){a.j.wa(X(X(X(new fm("publish_restricted_download_draft"),"section","editor"),"subsection","publish_dialog"),"location","payment_page"));a.trigger("clickDraft")});null!=this.Ub&&GM(this.Ub,"contextTipRoyaltyFreePaymentOption",function(){var b;a.Qb.pn("ROYALTY_FREE")?(b=a.view.$el.find(".license .select").first(),1!==b.length?b=null:(b=b.get(0).getBoundingClientRect(),
b={x:Number(b.right)+10,y:Number(b.top)})):b=null;return b});return this};f.ml=function(){return this.view};f.remove=function(){this.view.remove()};f.refresh=function(){var a=this,b=ow(this.X,this.la),c=P.resolve([{da:10,Br:11,name:"PACK_10"},{da:20,Br:22,name:"PACK_20"},{da:50,Br:55,name:"PACK_50"},{da:100,Br:110,name:"PACK_100"}]);return P.all([c,b]).then(function(b){var c=ma(b);b=c.next().value;c=c.next().value;a.IS=c.JU()[a.ta]||null;a.Jy=b;a.view.render(a.bn());j2(a)})};
f.bn=function(){var a=this,b=null!=this.ea&&this.ea.Iv||0,c=PT(this.Qb),d=Math.max(c-b,0),e=this.af?Ze(this.xa)+this.xa.Oa("paymentPageLicensingIntroDraft"):Ze(this.xa);return{tm:this.xa.tm(b),BC:soydata.VERY_UNSAFE.ordainSanitizedHtml(this.xa.total(c)),xq:soydata.VERY_UNSAFE.ordainSanitizedHtml(this.xa.xq(d)),xd:this.xa.xd(),Qs:this.xa.Qs(),zv:this.xa.zv(),RH:this.xa.format("paymentPageSpecialOfferLabel"),kA:soydata.VERY_UNSAFE.ordainSanitizedHtml(e),Gf:this.Gf||this.xa.Gf(),Yh:this.Qb.Yh.map(function(b){return yaa(a,
b)}),Jy:this.Jy.map(function(b){return{text:a.xa.format("paymentPageCreditPackOffer",b.da,b.Br,parseInt(100*(b.Br/b.da-1),10)),value:b.name}}),$n:this.xa.$n(),Dg:this.Dg||this.xa.Dg(),Zn:this.xa.Zn(),Yn:this.xa.Yn(),af:this.af}};function yaa(a,b){return{dn:b.dn(),RF:b.RF(),pv:b.pv(),ig:b.$m(),y9:b.RM()?"cover":"contain",title:b.pb(),zr:a.xa.zr(b.Pg),RG:k2(a,FT(b)),gz:zaa(a,HT(b)),Ps:ET(b).map(function(b){var d=a.xa.rl(b.da),e=k2(a,b.Rj);return{selected:b.yf,text:e+" - "+d,value:b.Rj}})}}
function zaa(a,b){if(Infinity===b)return null;var c=moment.duration(b);b=Math.floor(c.asHours());c=c.minutes();return b?a.xa.format("paymentPageLicenseRemainingHours",b):$e(a.xa,c)}function k2(a,b){switch(b){case "ONE_USE":return a.Ka.gd();case "ROYALTY_FREE":return a.Ka.Bc();case "EXTENDED":return a.Ka.vd();default:return null}}
function l2(a){var b=null!=a.ea&&a.ea.$O;return b&&0<b.length&&!b.some(function(b){return b===a.IS})?(a.j.wa(X(X(X(new fm("publish_download_restricted"),"section","editor"),"subsection","publish_dialog"),"location","payment_page")),qaa(a.view).then(function(){return!0})):P.resolve(!1)}
function j2(a){var b=null!=a.ea&&a.ea.Iv||0,c=PT(a.Qb),b=Math.max(c-b,0),d=Aaa(a,b);raa(a.view,a.xa.total(c));saa(a.view,a.xa.xq(b));taa(a.view,d.map(function(a){return a.name}));m2(a)?(naa(a.view),c2(a.view),paa(a.view),0<d.length?(d.some(function(b){return b.name===a.MB})||uaa(a.view,d[0].name),null!=a.MB?e2(a.view):a.view.$("input[name\x3dpurchaseCreditPack][value\x3dno]").prop("checked",!0)):(b2(a.view),oaa(a.view)),n2(a)?(a.view.pd.Nw(!0),a.Ve?h2(a.view):g2(a.view,a.xa.BP())):(c=a.ea.Ih,null!=
c&&a.view.pd.ik(c),a.Ve?(a.view.pd.Nw(!1),h2(a.view)):(d2(a.view),c=a.xa.format("paymentPageSavedTeamCard",c.yv),g2(a.view,c)))):(b2(a.view),c2(a.view),d2(a.view),h2(a.view))}function Aaa(a,b){return a.Jy.filter(function(a){return a.Br>=b})}function o2(a){return a.Up||0<PT(a.Qb)?P.reject():p2(a,!0)}
function xaa(a){a.Up||(vaa(a.view),a.view.CQ.addClass("submitting"),a.nN().then(function(){return p2(a,!1)}).catch(qT,function(){return a.Sz()}).catch(uj,function(b){return a.Ij(b)}).catch(function(){return a.Sz()}).finally(function(){a.view.CQ.removeClass("submitting")}))}function p2(a,b){a.Up=!0;return Baa(a).then(function(){return b?q2(a):a.$E()}).then(function(b){a.trigger("paymentComplete",b);return b}).finally(function(){a.Up=!1})}
f.nN=function(){this.j.wa(X(X(X(new fm("submitted_credit_card"),"section","editor"),"subsection","publish_dialog"),"location","payment_page"));return m2(this)&&n2(this)?this.view.ZL():P.resolve()};function Baa(a){return RT(a.Qb,a.ta,a.lb,a.MB).reduce(function(b,c){return b.then(function(){return a.aa.XD(c)}).then(function(b){return a.WG(b.xe)})},P.resolve())}f.WG=function(a){return Ej(this.aa,new mi({xe:a,action:"PAY_SYNCHRONOUS",Un:!1}))};
f.$E=function(){var a=this,b=new kE({types:["ONE_USE"],status:["ACTIVATED"],D:this.ta,document:this.lb,media:OT(this.Qb).map(function(a){return a.Dz()})});return this.rb.$E(b).then(function(b){return q2(a,b.xc.map(function(a){return a.hz}),b.Ml)}).catch(function(){return q2(a)})};
function q2(a,b,c){b=void 0===b?[]:b;c=void 0===c?0:c;var d=[].concat(na(new Set(OT(a.Qb).map(function(a){return a.OB}))));return{ot:Math.min.apply(Math,[].concat(na([].concat([QT(a.Qb)],na(b.map(function(a){return(a||Infinity)-c})))))),We:d}}function n2(a){if(!a.ea)return!0;a=a.ea.Ih;if(!a)return!0;var b=new Date,c=b.getUTCMonth()+1,b=b.getUTCFullYear();return a.Fu<b||a.Fu==b&&a.SE<c}function m2(a){return!a.ea||PT(a.Qb)>(a.ea.Iv||0)}f.Sz=function(){f2(this.view,Ye(this.xa).toString())};
f.Ij=function(a){f2(this.view,vT(this.Va,a))};f.an=function(){return{title:this.xa.format("paymentPagePurchaseTitle")}};f.on=Backbone.Events.on;f.once=Backbone.Events.once;f.off=Backbone.Events.off;f.trigger=Backbone.Events.trigger;function r2(a){this.view=a.view;this.Ba=a.Ba;this.WE="EXPORTING";this.G=a.G;this.iC=0;this.wQ=-1}f=r2.prototype;f.ml=function(){return this.view};f.remove=function(){this.view.remove();this.G.clearTimeout(this.wQ)};f.refresh=function(){this.view.render();this.G.clearTimeout(this.wQ);this.iC=0;var a=this.view,b=a.$(".progressValue");b.css("transition","none");a.ar(0);b.width();b.css("transition","");this.qw();return P.resolve()};
f.an=function(){switch(this.WE){case "EXPORTING":return{title:this.Ba.format("publishViewTitlePreparingDesign")};case "SAVING":return{title:this.Ba.format("publishViewSavingTitle")};default:throw Error("unexpected exporting state: "+this.WE);}};f.qw=function(){var a=this;this.iC+=33*(99-this.iC)/99;this.view.CY(this.iC);this.wQ=this.G.setTimeout(function(){return a.qw()},1.1*3E3)};function s2(){X1.call(this,{className:"exporting"})}t(s2,X1);
s2.prototype.render=function(){this.el.innerHTML=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"progress"\x3e\x3cspan class\x3d"progressValue"\x3e\x3cspan class\x3d"text"\x3e\x3c/span\x3e\x3c/span\x3e\x3c/div\x3e');return this};s2.prototype.CY=function(a){var b=this;this.$(".progressValue").delay().queue(function(c){b.ar(a);c()})};s2.prototype.ar=function(a){this.$(".progressValue").width(a+"%").children(".text").text(a+"%")};s2.prototype.Zo=function(a){return T1(a).toString()};function t2(a){this.quotes=[a.format("quoteAlbertEinstein"),a.format("quoteRobertGreene"),a.format("quoteHenriMatisse"),a.format("quoteSteveJobs"),a.format("quoteAndyWarhol"),a.format("quoteEleanorRoosevelt"),a.format("quoteAbrahamLincoln"),a.format("quoteThomasWatsonJr"),a.format("quotePaulRand"),a.format("quoteNelsonMandela"),a.format("quotePabloPicasso"),a.format("quoteMiltonGlaser"),a.format("quoteMaryLouCook"),a.format("quoteDrEdwinLand"),a.format("quoteAlexanderIsley"),a.format("quoteJoeMansueto"),
a.format("quoteCharlesEames"),a.format("quoteMihnDTran"),a.format("quoteAntoineDeSaintExupery")]}t2.prototype.next=function(){var a=soydata.VERY_UNSAFE.ordainSanitizedHtml(this.quotes[Math.floor(Math.random()*this.quotes.length)]);soy.asserts.assertType(a instanceof soydata.SanitizedHtml||a instanceof soydata.UnsanitizedText||goog.isString(a),"quote",a,"soydata.SanitizedHtml");return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cp class\x3d"designQuote"\x3e'+soy.$$escapeHtml(a)+"\x3c/p\x3e").toString()};function XZ(a){var b;soy.asserts.assertType(null==a.attributes||a.attributes instanceof soydata.SanitizedHtmlAttribute||a.attributes instanceof soydata.UnsanitizedText||goog.isString(a.attributes),"attributes",a.attributes,"?soydata.SanitizedHtmlAttribute|string|undefined");var c=a.attributes;soy.asserts.assertType(null==a.block||goog.isBoolean(a.block)||1===a.block||0===a.block,"block",a.block,"boolean|null|undefined");var d=a.block;soy.asserts.assertType(null==a.type||a.type instanceof goog.soy.data.SanitizedContent||
goog.isString(a.type),"type",a.type,"null|string|undefined");var e=a.type;soy.asserts.assertType(null==a.v||a.v instanceof goog.soy.data.SanitizedContent||goog.isString(a.v),"classes",a.v,"null|string|undefined");var g=a.v;soy.asserts.assertType(null==a.disabled||goog.isBoolean(a.disabled)||1===a.disabled||0===a.disabled,"disabled",a.disabled,"boolean|null|undefined");var h=a.disabled;soy.asserts.assertType(null==a.href||a.href instanceof goog.soy.data.SanitizedContent||goog.isString(a.href),"href",
a.href,"null|string|undefined");var k=a.href;soy.asserts.assertType(null==a.id||a.id instanceof goog.soy.data.SanitizedContent||goog.isString(a.id),"id",a.id,"null|string|undefined");var l=a.id;soy.asserts.assertType(null==a.small||goog.isBoolean(a.small)||1===a.small||0===a.small,"small",a.small,"boolean|null|undefined");var m=a.small;soy.asserts.assertType(null==a.tagName||a.tagName instanceof goog.soy.data.SanitizedContent||goog.isString(a.tagName),"tagName",a.tagName,"null|string|undefined");
var n=a.tagName;soy.asserts.assertType(goog.isString(a.text)||a.text instanceof goog.soy.data.SanitizedContent,"text",a.text,"string|goog.soy.data.SanitizedContent");a=a.text;var p=null==(b=n)?"button":b,c=""+("\x3c"+soy.$$filterHtmlElementName(p)+" "+(c?" "+soy.$$filterHtmlAttributes(c):"")+' type\x3d"'+soy.$$escapeHtmlAttribute(null==(b=e)?"button":b)+'" class\x3d"button'+(d?" buttonBlock":"")+(g?" "+soy.$$escapeHtmlAttribute(g):"")+(h&&"a"==n?" disabled":"")+(m?" buttonSmall":"")+'"'+(k?' href\x3d"'+
soy.$$escapeHtmlAttribute(soy.$$filterNormalizeUri(k))+'"':"")+(l?' id\x3d"'+soy.$$escapeHtmlAttribute(l)+'"':"")+(h&&"a"!=n?" disabled":"")+"\x3e"+soy.$$escapeHtml(a)+"\x3c/"+soy.$$filterHtmlElementName(p)+"\x3e");return soydata.VERY_UNSAFE.ordainSanitizedHtml(c)};function S1(a){a=a||{};soy.asserts.assertType(null==a.attributes||a.attributes instanceof soydata.SanitizedHtmlAttribute||a.attributes instanceof soydata.UnsanitizedText||goog.isString(a.attributes),"attributes",a.attributes,"?soydata.SanitizedHtmlAttribute|string|undefined");soy.asserts.assertType(null==a.block||goog.isBoolean(a.block)||1===a.block||0===a.block,"block",a.block,"boolean|null|undefined");soy.asserts.assertType(null==a.v||a.v instanceof goog.soy.data.SanitizedContent||goog.isString(a.v),
"classes",a.v,"null|string|undefined");soy.asserts.assertType(null==a.disabled||goog.isBoolean(a.disabled)||1===a.disabled||0===a.disabled,"disabled",a.disabled,"boolean|null|undefined");soy.asserts.assertType(null==a.id||a.id instanceof goog.soy.data.SanitizedContent||goog.isString(a.id),"id",a.id,"null|string|undefined");soy.asserts.assertType(null==a.name||a.name instanceof goog.soy.data.SanitizedContent||goog.isString(a.name),"name",a.name,"null|string|undefined");soy.asserts.assertType(null==
a.placeholder||a.placeholder instanceof goog.soy.data.SanitizedContent||goog.isString(a.placeholder),"placeholder",a.placeholder,"null|string|undefined");soy.asserts.assertType(null==a.tagName||a.tagName instanceof goog.soy.data.SanitizedContent||goog.isString(a.tagName),"tagName",a.tagName,"null|string|undefined");var b=a.tagName;soy.asserts.assertType(null==a.type||a.type instanceof goog.soy.data.SanitizedContent||goog.isString(a.type),"type",a.type,"null|string|undefined");soy.asserts.assertType(null==
a.small||goog.isBoolean(a.small)||1===a.small||0===a.small,"small",a.small,"boolean|null|undefined");soy.asserts.assertType(null==a.value||a.value instanceof goog.soy.data.SanitizedContent||goog.isString(a.value),"value",a.value,"null|string|undefined");var c=a.value,b=null==b?"input":b;a=""+("textarea"==b?"\x3ctextarea "+u2(a)+"\x3e"+(c?soy.$$escapeHtmlRcdata(c):"")+"\x3c/textarea\x3e":"\x3c"+soy.$$filterHtmlElementName(b)+" "+u2(a)+"\x3e");return soydata.VERY_UNSAFE.ordainSanitizedHtml(a)}
function u2(a){a=a||{};soy.asserts.assertType(null==a.attributes||a.attributes instanceof soydata.SanitizedHtmlAttribute||a.attributes instanceof soydata.UnsanitizedText||goog.isString(a.attributes),"attributes",a.attributes,"?soydata.SanitizedHtmlAttribute|string|undefined");var b=a.attributes;soy.asserts.assertType(null==a.block||goog.isBoolean(a.block)||1===a.block||0===a.block,"block",a.block,"boolean|null|undefined");var c=a.block;soy.asserts.assertType(null==a.v||a.v instanceof goog.soy.data.SanitizedContent||
goog.isString(a.v),"classes",a.v,"null|string|undefined");var d=a.v;soy.asserts.assertType(null==a.disabled||goog.isBoolean(a.disabled)||1===a.disabled||0===a.disabled,"disabled",a.disabled,"boolean|null|undefined");var e=a.disabled;soy.asserts.assertType(null==a.id||a.id instanceof goog.soy.data.SanitizedContent||goog.isString(a.id),"id",a.id,"null|string|undefined");var g=a.id;soy.asserts.assertType(null==a.name||a.name instanceof goog.soy.data.SanitizedContent||goog.isString(a.name),"name",a.name,
"null|string|undefined");var h=a.name;soy.asserts.assertType(null==a.placeholder||a.placeholder instanceof goog.soy.data.SanitizedContent||goog.isString(a.placeholder),"placeholder",a.placeholder,"null|string|undefined");var k=a.placeholder;soy.asserts.assertType(null==a.tagName||a.tagName instanceof goog.soy.data.SanitizedContent||goog.isString(a.tagName),"tagName",a.tagName,"null|string|undefined");var l=a.tagName;soy.asserts.assertType(null==a.type||a.type instanceof goog.soy.data.SanitizedContent||
goog.isString(a.type),"type",a.type,"null|string|undefined");var m=a.type;soy.asserts.assertType(null==a.small||goog.isBoolean(a.small)||1===a.small||0===a.small,"small",a.small,"boolean|null|undefined");var n=a.small;soy.asserts.assertType(null==a.value||a.value instanceof goog.soy.data.SanitizedContent||goog.isString(a.value),"value",a.value,"null|string|undefined");a=a.value;return soydata.VERY_UNSAFE.ordainSanitizedHtmlAttribute((b?" "+soy.$$filterHtmlAttributes(b):"")+' class\x3d"textInput'+
(c?" textInputBlock":"")+(d?" "+soy.$$escapeHtmlAttribute(d):"")+(n?" textInputSmall":"")+'"'+(e?" disabled":"")+(g?' id\x3d"'+soy.$$escapeHtmlAttribute(g)+'"':"")+(h?' name\x3d"'+soy.$$escapeHtmlAttribute(h)+'"':"")+(k?' placeholder\x3d"'+soy.$$escapeHtmlAttribute(k)+'"':"")+("textarea"!=l?' type\x3d"'+soy.$$escapeHtmlAttribute(null==m?"text":m)+'"'+(a?' value\x3d"'+soy.$$escapeHtmlAttribute(a)+'"':""):""))};function v2(a){this.X=a.X;this.view=a.view;this.yn=null;this.D=a.D;this.eG=a.eG||4;this.jq=!!a.jq;this.LC=[];this.rn=[];this.uA=0;this.mB=this.Yp=null;this.qC=!!a.qC;this.listenTo(this.view,{requestAutocomplete:this.TW,select:this.g6})}function y0(a){var b=a.zj,b=new w2({el:$(Caa({inputPlaceholder:a.Df}))[0],zj:b});return new v2({X:a.X,D:a.D,eG:a.eG,jq:a.jq,qC:a.qC,view:b})}f=v2.prototype;f.remove=function(){this.stopListening();this.view.remove()};
f.uF=function(){var a=this;Fa(this.jq,"getUsers() only valid in multi user mode");return this.LC.filter(function(a){return""!==a}).map(function(b){return Daa(a,b)})};function Eaa(a){var b=vx(ux((new tx).oi(a.D.u()))).lg(100);a.X.Sr(b).then(function(c){a.yn=c.$u();if(c.Bb())return a.X.Sr(b.pi(c.Bb()))}).then(function(b){b&&a.yn.push.apply(a.yn,[].concat(na(b.$u())));b=a.mB;a.mB=null;a.TW(b.iZ,b.pos)}).catch(function(b){!a.qC&&a.view.le();throw b;})}
f.TW=function(a,b){this.trigger("input");if(this.mB)this.mB={iZ:a,pos:b};else if(null===this.yn)this.mB={iZ:a,pos:b},Eaa(this);else{var c=Faa(this,a,b);""===c?x2(this.view):(this.Yp=this.yn.filter(function(a){return y2(c,a.va().Yf())||y2(c,a.va().ob())||y2(c,a.tf())}).slice(0,this.eG),this.jq&&0==this.Yp.length?x2(this.view):Gaa(this.view,this.Yp))}};
function Faa(a,b,c){if(!a.jq)return b;c=b.lastIndexOf(",",c-1);c=0>=c?0:c+1;var d=b.indexOf(",",c),d=-1==d?b.length:d;a.rn=[b.slice(0,c),b.slice(c,d),b.slice(d)];a.uA=a.rn[0].split(",").length-1;a.LC[a.uA]=a.rn[1];b=a.LC.length-a.uA-1;c=a.rn[2].split(",");d=c.length-1;0<d&&!c[c.length-1].trim()&&d--;a.LC.splice(a.uA+1,b-d);return a.rn[1]}function Daa(a,b){if(b instanceof rx||!a.yn)return b;a=a.yn.filter(function(a){return a.tf()===b.trim()});return a.length?a[0]:b}
function y2(a,b){return!!b&&-1!==b.toLowerCase().replace(/ |@/g,"").indexOf(a.toLowerCase().replace(/ |@/g,""))}f.g6=function(a){if(this.jq){this.LC[this.uA]=this.Yp[a];var b=this.view,c=this.rn[0]+(this.rn[0]?" ":"");a=this.Yp[a];a=a.tf()||a.va().ob()||a.va().Yf();c=c+a+(this.rn[2]?"":", ")+this.rn[2];b.$("input").val(c)}else this.trigger("select",this.Yp[a]),this.view.$("input").val("")};f.listenTo=Backbone.Events.listenTo;f.stopListening=Backbone.Events.stopListening;f.trigger=Backbone.Events.trigger;
f.off=Backbone.Events.off;f.on=Backbone.Events.on;function w2(a){var b=this;Backbone.View.call(this,{el:a.el,events:{"input input":function(a){return z2(b,a)},"focus input":function(a){b.trigger("focus");return z2(b,a)},"blur input":function(){return b.As()}}});this.zj=a.zj;this.Dd=this.Yp=null}t(w2,Backbone.View);function z2(a,b){var c=$(b.target);b=c[0].selectionEnd;c=c.val();a.trigger("requestAutocomplete",c,b)}w2.prototype.As=function(){this.Dd&&!this.Dd.view.$("li").hasClass("hovering")&&x2(this)};
function Gaa(a,b){function c(a){a=$(Haa({lead:a.va().ob(),desc:a.tf(),avatarURL:a.va().sp()&&a.va().sp().sizes.get("50").ma()}));return new mQ(a,!0,!1)}var d=A2.bind(a,{message:a.zj.format("findUserInputNoResults",Fm())});a.Yp=b;a.Dd&&x2(a);a.Dd=qQ({elements:b.length?b.map(c):[new mQ($(d()),!1,!1)],Gr:b.length?0:void 0});a.$el.append(a.Dd.view.$el);a.listenTo(a.Dd,{select:function(b){a.trigger("select",b);x2(a)},cancel:function(){x2(a)}})}
w2.prototype.le=function(){this.Dd=qQ({elements:[new mQ($(A2({message:this.zj.error()})),!1,!1)]});this.$el.append(this.Dd.view.$el)};function x2(a){a.Dd&&(a.stopListening(a.Dd),a.Dd.view.remove(),a.Dd=null)}w2.prototype.fg=function(a){this.$("input").prop("disabled",!a)};
var Caa=_.template('\n  \x3cspan class\x3d"findUserInput"\x3e\x3cinput type\x3d"text" class\x3d"textInput" placeholder\x3d"\x3c%- inputPlaceholder %\x3e" /\x3e\x3c/span\x3e\n'),Haa=_.template('\n  \x3cimg class\x3d"avatar" src\x3d"\x3c%- avatarURL %\x3e" /\x3e\n  \x3cdiv class\x3d"findUser__right"\x3e\n    \x3cspan class\x3d"lead"\x3e\x3c%- lead %\x3e\x3c/span\x3e\n    \x3cspan class\x3d"desc"\x3e\x3c%- desc %\x3e\x3c/span\x3e\n  \x3c/div\x3e\n'),A2=_.template('\n  \x3cspan class\x3d"desc"\x3e\x3c%\x3d message %\x3e\x3c/span\x3e\n');function B2(a){var b=this;R.call(this,a);this.$el.on("click",".tagListInput__tagRemoveButton",function(a){a=new C2($(a.target).closest(".tagListInput__tag"));b.trigger(D2,a)});this.$el.on("keydown",".tagListInput__input",function(a){return b.Bl(a)});this.$el.on("keyup",".tagListInput__input",function(){return b.trigger(E2)});this.$el.on("click",function(){return b.trigger(F2)});this.$el.on("blur",".tagListInput__input",function(){return b.trigger(G2)});this.Dd=null}t(B2,R);f=B2.prototype;
f.Bl=function(a){Iaa.has(a.which)?(this.trigger(H2),a.preventDefault()):Jaa.has(a.which)?null==this.Dd&&(this.trigger(H2),a.preventDefault()):8===a.which&&this.trigger(I2)};function J2(a,b){a.$el.find(".tagListInput__input").attr("placeholder",b)}f.Zm=function(){return String(this.$el.find(".tagListInput__input").val())};
f.jD=function(a){K2(this);var b=this.$el.find(".tagListInput__input"),c=$,d;soy.asserts.assertType(goog.isString(a.text)||a.text instanceof goog.soy.data.SanitizedContent,"text",a.text,"string|goog.soy.data.SanitizedContent");d=a.text;soy.asserts.assertType(goog.isBoolean(a.valid)||1===a.valid||0===a.valid,"valid",a.valid,"boolean");var e=!!a.valid;soy.asserts.assertType(null==a.Vj||goog.isNumber(a.Vj),"modelId",a.Vj,"null|number|undefined");a=a.Vj;d=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"tagListInput__tag'+
(e?"":" tagListInput__tag--invalid")+'"'+(null!=a?' data-model-id\x3d"'+soy.$$escapeHtmlAttribute(a)+'"':"")+'\x3e\x3cdiv class\x3d"tagListInput__tagText"\x3e'+soy.$$escapeHtml(d)+'\x3c/div\x3e\x3cdiv class\x3d"tagListInput__tagRemoveButton"\x3e\x3cdiv class\x3d"tagListInput__tagRemoveIcon"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e');c=c(d.toString());(new C2(c)).$el.insertBefore(b)};f.Hp=function(){return this.$el.find(".tagListInput__tag").toArray().map(function(a){return new C2($(a))})};
f.focus=function(){this.$el.find(".tagListInput__input").focus()};function K2(a){a.Dd&&(a.Dd.view.remove(),a.Dd=null)}function Kaa(a,b){K2(a);a.Dd=qQ({elements:b,Gr:0});a.$el.append(a.Dd.view.$el);a.Dd.on({select:function(c){a.trigger(L2,b[c].element.data("model-id"))},cancel:function(){K2(a)}})}function C2(a){fc.apply(this,arguments)}t(C2,fc);C2.prototype.isValid=function(){return!this.$el.hasClass("tagListInput__tag--invalid")};C2.prototype.oc=function(){return String(this.$el.find(".tagListInput__tagText").text())};
C2.prototype.av=function(){var a=parseInt(this.$el.data("model-id"),10);return isNaN(a)?void 0:a};var D2="REMOVE_TAG",H2="SUBMIT",I2="BACKSPACE",F2="FOCUS",G2="BLUR",E2="KEY_UP",L2="SELECT_MENULIST_ELEMENT",Jaa=new Set([13]),Iaa=new Set([32,188,59,186]);function M2(a,b){var c=this;this.view=b;this.pI=a.pI;this.iR=a.iR;this.eO=null;this.rN=a.rN;this.gq=null;this.uW=!1;this.sN=a.sN;this.qN=a.qN;this.bL=a.bL;this.GN=a.GN;this.uK=a.uK;this.view.on(H2,function(){return N2(c)});this.view.on(I2,function(){if(0===c.view.Zm().length){var a=c.view.Hp();0<a.length&&O2(c,a[a.length-1])}});this.view.on(D2,function(a){return O2(c,a)});this.view.on(F2,function(){c.view.focus();a.pq&&a.pq()});this.view.on(G2,function(){var a=c.view;null!=a.Dd&&a.Dd.view.$("li").hasClass("hovering")||
K2(c.view)});this.view.on(E2,function(){c.eO&&c.eO();P2(c)});this.view.on(L2,function(a){return Laa(c,a)})}function N2(a){var b=a.view.Zm();return 0===b.length?P.resolve():a.pI.validate(b,null).then(function(c){a.jD({text:b,valid:c.valid})})}M2.prototype.jD=function(a){this.view.jD(a);J2(this.view,this.GN);this.view.$el.find(".tagListInput__input").val("")};function O2(a,b){b.remove();a.view.focus();0===a.view.Hp().length&&J2(a.view,a.bL)}function Maa(a,b){a.eO=b}
function Naa(a){return a.view.Hp().filter(function(a){return a.isValid()}).map(function(b){var c=b.av();return null!=c&&0<=c&&c<a.gq.length?a.gq[c]:b.oc()})}function Oaa(a){return a.view.Hp().filter(function(a){return!a.isValid()}).map(function(a){return a.oc()})}function Paa(a){a.rN.then(function(b){a.gq=b;a.uW=!1;P2(a)})}
function P2(a){if(a.gq||a.uW){var b=a.view.Zm();if(0!==b.length&&a.gq){var c=a.gq.map(function(a,b){return{data:a,Vj:b}}).filter(function(c){return a.sN(b,c.data)}).slice(0,4).map(function(b){return a.qN(b.data,b.Vj)});c.length?Kaa(a.view,c):K2(a.view)}else K2(a.view)}else Paa(a)}function Laa(a,b){Fa(b<a.gq.length,"Invalid tag list model ID");var c=a.gq[b],d=a.iR(c);a.pI.validate(d,null).then(function(d){d=d.valid;var g=a.uK(c);a.jD({text:g,valid:d,Vj:b})})};function Q2(a){this.view=a.view;this.Ba=Pc(a.i);this.Ka=Tc(a.i);this.DQ=a.DQ}f=Q2.prototype;f.init=function(){var a=this;this.view.on("remove",function(){a.trigger("complete")});this.view.on("clickConfirm",function(){a.view.$(".paymentOnboarding__button").addClass("disabled");a.view.remove()});return this};f.pn=function(a){return 0<=this.DQ.indexOf(a)};
f.show=function(){var a=this.bn(),b=this.view,c=$,d;soy.asserts.assertType(goog.isString(a.before)||a.before instanceof goog.soy.data.SanitizedContent,"before",a.before,"string|goog.soy.data.SanitizedContent");d=a.before;soy.asserts.assertType(goog.isString(a.after)||a.after instanceof goog.soy.data.SanitizedContent,"after",a.after,"string|goog.soy.data.SanitizedContent");var e=a.after;soy.asserts.assertType(goog.isString(a.title)||a.title instanceof goog.soy.data.SanitizedContent,"title",a.title,
"string|goog.soy.data.SanitizedContent");var g=a.title;soy.asserts.assertType(goog.isString(a.CF)||a.CF instanceof goog.soy.data.SanitizedContent,"headline",a.CF,"string|goog.soy.data.SanitizedContent");var h=a.CF;soy.asserts.assertType(goog.isBoolean(a.Wd)||1===a.Wd||0===a.Wd,"showOneTimeUse",a.Wd,"boolean");var k=!!a.Wd;soy.asserts.assertType(goog.isString(a.gd)||a.gd instanceof goog.soy.data.SanitizedContent,"oneTimeUse",a.gd,"string|goog.soy.data.SanitizedContent");var l=a.gd;soy.asserts.assertType(goog.isString(a.Ic)||
a.Ic instanceof goog.soy.data.SanitizedContent,"oneTimeUseDescription",a.Ic,"string|goog.soy.data.SanitizedContent");var m=a.Ic;soy.asserts.assertType(goog.isBoolean(a.Xd)||1===a.Xd||0===a.Xd,"showRoyaltyFree",a.Xd,"boolean");var n=!!a.Xd;soy.asserts.assertType(goog.isString(a.Bc)||a.Bc instanceof goog.soy.data.SanitizedContent,"royaltyFree",a.Bc,"string|goog.soy.data.SanitizedContent");var p=a.Bc;soy.asserts.assertType(goog.isString(a.Kc)||a.Kc instanceof goog.soy.data.SanitizedContent,"royaltyFreeDescription",
a.Kc,"string|goog.soy.data.SanitizedContent");var q=a.Kc;soy.asserts.assertType(goog.isString(a.Od)||a.Od instanceof goog.soy.data.SanitizedContent,"noLicenseOptionDescription",a.Od,"string|goog.soy.data.SanitizedContent");var u=a.Od;soy.asserts.assertType(goog.isString(a.$c)||a.$c instanceof goog.soy.data.SanitizedContent,"buttonText",a.$c,"string|goog.soy.data.SanitizedContent");a=a.$c;d=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"paymentOnboarding__header"\x3e\x3cdiv class\x3d"paymentOnboarding__headerState" data-title\x3d"'+
soy.$$escapeHtmlAttribute(d)+'"\x3e\x3c/div\x3e\x3cdiv class\x3d"paymentOnboarding__headerState" data-title\x3d"'+soy.$$escapeHtmlAttribute(e)+'"\x3e\x3c/div\x3e\x3c/div\x3e\x3ch2 class\x3d"center"\x3e'+soy.$$escapeHtml(g)+'\x3c/h2\x3e\x3cp class\x3d"paymentOnboarding__headline"\x3e'+soy.$$escapeHtml(h)+"\x3c/p\x3e"+Z1({Wd:k,gd:l,Ic:m,Xd:n,Bc:p,Kc:q,Hg:!1,vd:null,Ld:null,Od:u})+'\x3cdiv class\x3d"paymentOnboarding__footer"\x3e'+XZ({v:"paymentOnboarding__button",text:a})+"\x3c/div\x3e");b.content=
c(d.toString());this.view.show()};f.remove=function(){this.view.remove()};f.bn=function(){return{before:this.Ba.format("publishViewOnboardingBefore"),after:this.Ba.format("publishViewOnboardingAfter"),title:this.Ba.format("publishViewOnboardingTitle"),CF:this.Ba.format("publishViewOnboardingHeadline"),Wd:this.pn("ONE_USE"),gd:this.Ka.gd(),Ic:this.Ka.Ic(),Xd:this.pn("ROYALTY_FREE"),Bc:this.Ka.Bc(),Kc:this.Ka.Kc(),Od:this.Ka.Od(),$c:this.Ba.format("publishViewOnboardingConfirm")}};f.on=Backbone.Events.on;
f.once=Backbone.Events.once;f.off=Backbone.Events.off;f.trigger=Backbone.Events.trigger;function R2(a){rp.call(this,{className:"paymentOnboarding",G:a.G,$e:!1,ur:!0,He:!0})}t(R2,rp);R2.prototype.events=function(){var a=this;return _.extend(rp.prototype.events.call(this),{"click .paymentOnboarding__button":function(){a.trigger("clickConfirm")}})};R2.prototype.Ap=function(){return $W};
R2.prototype.render=function(){rp.prototype.render.call(this);this.$(".dialog .content").html(this.content);this.delegateEvents();return this};function S2(a){this.view=a.view;this.mp=null;this.Ba=a.Ba;this.rw=null}f=S2.prototype;f.init=function(){var a=this;this.view.on("done",function(){a.trigger("done")});this.view.on("retry",function(){a.view.$(".button").prop("disabled",!0);a.trigger("retry")});return this};f.ml=function(){return this.view};f.remove=function(){this.view.remove()};f.refresh=function(){w(this.rw);this.view.render(this.bn());this.view.delegateEvents();null!=this.mp&&this.view.BY(this.mp);return P.resolve()};
f.bn=function(){return{message:soydata.VERY_UNSAFE.ordainSanitizedHtml(this.rw.message),Lt:this.Ba.Lt(),Mt:this.Ba.Mt(),mi:this.rw.mi||!1,Ct:this.rw.Ct||!1}};f.an=function(){return{title:this.rw.title}};f.BY=function(a){this.mp=a};
function Qaa(a,b){switch(b){case "EMPTY_DOC":return{message:a.Ba.format("publishViewErrorEmptyDesign"),title:a.Ba.format("publishViewErrorEmptyDesignTitle"),mi:!0};case "SAVING":return{message:a.Ba.format("publishViewErrorSavingDesign"),title:a.Ba.format("publishViewErrorSavingDesignTitle"),Ct:!0};case "VERSION_CONFLICT":return{message:a.Ba.format("publishViewErrorVersionConflict"),title:a.Ba.format("publishViewErrorVersionConflictTitle"),mi:!0};case "UPLOADING":return{message:a.Ba.format("publishViewErrorUploading"),
title:a.Ba.format("publishViewErrorUploadingTitle"),mi:!0};case "EXPORTING":case "BACKGROUND_PAYMENT":return{message:a.Ba.format("publishViewErrorPageHtml","http://status.canva.com"),title:a.Ba.format("publishViewTitleErrorPage"),mi:!0};case "BACKGROUND":return{message:a.Ba.format("publishViewErrorBackgroundTaskHtml","http://status.canva.com"),title:a.Ba.format("publishViewErrorBackgroundTaskTitle"),mi:!0};case "LICENSE_NO_OPTIONS":return{message:a.Ba.format("publishViewErrorLicenseNoOptionsHtml",
"http://status.canva.com"),title:a.Ba.format("publishViewErrorLicenseNoOptionsTitle"),mi:!0};case "URL_MINTING":return{message:a.Ba.format("publishViewErrorUrlMinting","http://status.canva.com"),title:a.Ba.format("publishViewErrorUrlMintingTitle"),mi:!0};default:throw Error("unexpected publish error type: "+b);}}f.on=Backbone.Events.on;f.off=Backbone.Events.off;f.trigger=Backbone.Events.trigger;
function T2(){var a=this;X1.call(this,{className:"error",events:{"click .done":function(){a.trigger("done")},"click .retry":function(){return a.LN()}}})}t(T2,X1);T2.prototype.LN=function(){this.trigger("retry")};T2.prototype.BY=function(a){$('\x3cp class\x3d"errorMessage"\x3e'+a+"\x3c/p\x3e").insertBefore(this.$(".buttonContainer"))};
T2.prototype.render=function(a){var b=this.el,c;soy.asserts.assertType(a.message instanceof soydata.SanitizedHtml||a.message instanceof soydata.UnsanitizedText||goog.isString(a.message),"message",a.message,"soydata.SanitizedHtml");c=a.message;soy.asserts.assertType(goog.isBoolean(a.mi)||1===a.mi||0===a.mi,"useOK",a.mi,"boolean");var d=!!a.mi;soy.asserts.assertType(goog.isBoolean(a.Ct)||1===a.Ct||0===a.Ct,"useRetry",a.Ct,"boolean");var e=!!a.Ct;soy.asserts.assertType(goog.isString(a.Lt)||a.Lt instanceof
goog.soy.data.SanitizedContent,"actionOK",a.Lt,"string|goog.soy.data.SanitizedContent");var g=a.Lt;soy.asserts.assertType(goog.isString(a.Mt)||a.Mt instanceof goog.soy.data.SanitizedContent,"actionRetry",a.Mt,"string|goog.soy.data.SanitizedContent");a=a.Mt;c=soydata.VERY_UNSAFE.ordainSanitizedHtml("\x3cp\x3e"+soy.$$escapeHtml(c)+'\x3c/p\x3e\x3cp class\x3d"buttonContainer"\x3e'+(d?'\x3cbutton class\x3d"button done"\x3e'+soy.$$escapeHtml(g)+"\x3c/button\x3e":"")+(e?'\x3cbutton class\x3d"button retry"\x3e'+
soy.$$escapeHtml(a)+"\x3c/button\x3e":"")+"\x3c/p\x3e");b.innerHTML=c;return this};T2.prototype.Zo=function(a){return T1(a).toString()};function Raa(a){soy.asserts.assertType(goog.isString(a.message)||a.message instanceof goog.soy.data.SanitizedContent,"message",a.message,"string|goog.soy.data.SanitizedContent");var b=a.message;soy.asserts.assertType(goog.isString(a.Kg)||a.Kg instanceof goog.soy.data.SanitizedContent,"actionClose",a.Kg,"string|goog.soy.data.SanitizedContent");a=a.Kg;return soydata.VERY_UNSAFE.ordainSanitizedHtml("\x3cp\x3e"+soy.$$escapeHtml(b)+'\x3c/p\x3e\x3cp class\x3d"useExportButton"\x3e\x3ca class\x3d"button" tabindex\x3d"0"\x3e'+
soy.$$escapeHtml(a)+"\x3c/a\x3e\x3c/p\x3e")};function U2(a){this.j=a}U2.prototype.Qi=function(){return this.j.Qi()};U2.prototype.wa=function(a){return this.j.wa(a)};function V2(a,b){a.j.track("post_publish_dialog_shown",{type:b})}function W2(a,b,c,d){b={type:b};location&&(b.section=c);d&&Object.assign(b,d);a.j.track("post_publish_dialog_clicked",b)}function X2(a,b,c,d){a.j.track("mobile_dialogue_submit",{type:b,location:"publish_flow_complete",value:c,status:d?"success":"fail"})};function Y2(a){soy.asserts.assertType(a.qb instanceof soydata.SanitizedHtml||a.qb instanceof soydata.UnsanitizedText||goog.isString(a.qb),"headingHtml",a.qb,"soydata.SanitizedHtml");var b=a.qb;soy.asserts.assertType(goog.isString(a.Yj)||a.Yj instanceof goog.soy.data.SanitizedContent,"overviewSubheading",a.Yj,"string|goog.soy.data.SanitizedContent");var c=a.Yj;soy.asserts.assertType(goog.isString(a.Hc)||a.Hc instanceof goog.soy.data.SanitizedContent,"iphoneLabel",a.Hc,"string|goog.soy.data.SanitizedContent");
var d=a.Hc;soy.asserts.assertType(goog.isString(a.Ec)||a.Ec instanceof goog.soy.data.SanitizedContent,"androidLabel",a.Ec,"string|goog.soy.data.SanitizedContent");a=a.Ec;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"experimentsPhoneDialog__heading"\x3e'+soy.$$escapeHtml(b)+'\x3c/div\x3e\x3cdiv class\x3d"experimentsPhoneDialog__content"\x3e'+soy.$$escapeHtml(c)+'\x3c/div\x3e\x3cdiv class\x3d"experimentsPhoneDialog__options"\x3e\x3cdiv class\x3d"experimentsPhoneDialog__optionsIphone"\x3e'+
soy.$$escapeHtml(d)+'\x3c/div\x3e\x3cdiv class\x3d"experimentsPhoneDialog__optionsAndroid"\x3e'+soy.$$escapeHtml(a)+"\x3c/div\x3e\x3c/div\x3e")}
function Saa(a){soy.asserts.assertType(a.qb instanceof soydata.SanitizedHtml||a.qb instanceof soydata.UnsanitizedText||goog.isString(a.qb),"headingHtml",a.qb,"soydata.SanitizedHtml");var b=a.qb;soy.asserts.assertType(goog.isString(a.ov)||a.ov instanceof goog.soy.data.SanitizedContent,"iphoneSubheading",a.ov,"string|goog.soy.data.SanitizedContent");var c=a.ov;soy.asserts.assertType(goog.isString(a.Jw)||a.Jw instanceof goog.soy.data.SanitizedContent,"sendButtonLabel",a.Jw,"string|goog.soy.data.SanitizedContent");
var d=a.Jw;soy.asserts.assertType(goog.isString(a.$i)||a.$i instanceof goog.soy.data.SanitizedContent,"phoneInputPlaceholder",a.$i,"string|goog.soy.data.SanitizedContent");a=a.$i;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"experimentsPhoneDialog__back"\x3e\x3c/div\x3e\x3cdiv class\x3d"experimentsPhoneDialog__heading"\x3e'+soy.$$escapeHtml(b)+'\x3c/div\x3e\x3cdiv class\x3d"experimentsPhoneDialog__grid"\x3e\x3cdiv class\x3d"experimentsPhoneDialog__coverIphone"\x3e\x3c/div\x3e\x3cdiv class\x3d"experimentsPhoneDialog__aside"\x3e\x3cdiv class\x3d"experimentsPhoneDialog__subheading"\x3e'+
soy.$$escapeHtml(c)+'\x3c/div\x3e\x3cdiv class\x3d"experimentsPhoneDialog__input"\x3e\x3cinput class\x3d"experimentsPhoneDialog__inputField experimentsPhoneDialog__inputField--iphone" type\x3d"text" placeholder\x3d"'+soy.$$escapeHtmlAttribute(a)+'"\x3e\x3cdiv class\x3d"experimentsPhoneDialog__inputButton experimentsPhoneDialog__inputButton--iphone"\x3e'+soy.$$escapeHtml(d)+'\x3c/div\x3e\x3cdiv class\x3d"experimentsPhoneDialog__inputError experimentsPhoneDialog__inputError--iphone"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e')}
function Taa(a){soy.asserts.assertType(a.qb instanceof soydata.SanitizedHtml||a.qb instanceof soydata.UnsanitizedText||goog.isString(a.qb),"headingHtml",a.qb,"soydata.SanitizedHtml");var b=a.qb;soy.asserts.assertType(goog.isString(a.Ut)||a.Ut instanceof goog.soy.data.SanitizedContent,"androidSubheading",a.Ut,"string|goog.soy.data.SanitizedContent");var c=a.Ut;soy.asserts.assertType(goog.isString(a.vw)||a.vw instanceof goog.soy.data.SanitizedContent,"registerButtonLabel",a.vw,"string|goog.soy.data.SanitizedContent");
var d=a.vw;soy.asserts.assertType(goog.isString(a.$i)||a.$i instanceof goog.soy.data.SanitizedContent,"phoneInputPlaceholder",a.$i,"string|goog.soy.data.SanitizedContent");a=a.$i;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"experimentsPhoneDialog__back"\x3e\x3c/div\x3e\x3cdiv class\x3d"experimentsPhoneDialog__heading"\x3e'+soy.$$escapeHtml(b)+'\x3c/div\x3e\x3cdiv class\x3d"experimentsPhoneDialog__grid"\x3e\x3cdiv class\x3d"experimentsPhoneDialog__coverAndroid"\x3e\x3c/div\x3e\x3cdiv class\x3d"experimentsPhoneDialog__aside"\x3e\x3cdiv class\x3d"experimentsPhoneDialog__subheading"\x3e'+
soy.$$escapeHtml(c)+'\x3c/div\x3e\x3cdiv class\x3d"experimentsPhoneDialog__input"\x3e\x3cinput class\x3d"experimentsPhoneDialog__inputField experimentsPhoneDialog__inputField--android" type\x3d"text" placeholder\x3d"'+soy.$$escapeHtmlAttribute(a)+'"\x3e\x3cdiv class\x3d"experimentsPhoneDialog__inputButton experimentsPhoneDialog__inputButton--android"\x3e'+soy.$$escapeHtml(d)+'\x3c/div\x3e\x3cdiv class\x3d"experimentsPhoneDialog__inputError experimentsPhoneDialog__inputError--android"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e')}
;function Z2(a){var b=this;R.call(this,a);a.on("click",".experimentsPhoneDialog__back",function(){return b.trigger($2)});a.on("click",".experimentsPhoneDialog__optionsIphone",function(){return b.trigger(a3)});a.on("click",".experimentsPhoneDialog__optionsAndroid",function(){return b.trigger(b3)});a.on("click",".experimentsPhoneDialog__inputButton--android",function(){return b.trigger(c3)});a.on("click",".experimentsPhoneDialog__inputButton--iphone",function(){return b.trigger(d3)})}t(Z2,R);f=Z2.prototype;
f.fo=function(a){return this.$el.find(".experimentsPhoneDialog__container").html(a)};function e3(a){a=a.$el.find(".experimentsPhoneDialog__inputField");if(0===a.size())throw Error("Input field could not be found");return a}function f3(a){a=a.$el.find(".experimentsPhoneDialog__inputButton");if(0===a.size())throw Error("Input button could not be found");return a}f.it=function(a){this.$el.find(".experimentsPhoneDialog__inputError").text(a)};f.lF=function(){return e3(this).val().toString()};
f.WP=function(){this.Gq();e3(this).addClass("experimentsPhoneDialog__inputField--loading");f3(this).addClass("experimentsPhoneDialog__inputButton--loading")};f.Pw=function(a){this.Gq();e3(this).addClass("experimentsPhoneDialog__inputField--error");f3(this).addClass("experimentsPhoneDialog__inputButton--error");this.it(a)};f.FH=function(){this.Gq();e3(this).addClass("experimentsPhoneDialog__inputField--success");f3(this).addClass("experimentsPhoneDialog__inputButton--success");this.it("Success!")};
f.Gq=function(){this.it("");e3(this).removeClass("experimentsPhoneDialog__inputField--error").removeClass("experimentsPhoneDialog__inputField--loading").removeClass("experimentsPhoneDialog__inputField--success");f3(this).removeClass("experimentsPhoneDialog__inputButton--error").removeClass("experimentsPhoneDialog__inputButton--loading").removeClass("experimentsPhoneDialog__inputButton--success")};var $2="BACK",c3="SEND_ANDROID",d3="SEND_IPHONE",b3="GOTO_ANDROID",a3="GOTO_IPHONE";function g3(a,b){var c=this;this.view=b;this.j=a.j;this.uc=a.uc;this.i=a.i;this.view.on($2,function(){var a={qb:soydata.VERY_UNSAFE.ordainSanitizedHtml(c.i.qb()),Yj:c.i.Yj(),Hc:c.i.Hc(),Ec:c.i.Ec()};c.view.fo(Y2(a).toString())});this.view.on(d3,function(){return Uaa(c)});this.view.on(c3,function(){var a;a=c.view.lF();/^(?=.*[0-9])[- +()0-9]+$/g.test(a)?(c.j.wa(h3(a,!0)),c.view.FH(),a=void 0):(c.j.wa(h3(a,!1)),a=c.view.Pw(c.i.OF()));return a});this.view.on(a3,function(){var a={qb:soydata.VERY_UNSAFE.ordainSanitizedHtml(c.i.qb()),
ov:c.i.ov(),Jw:c.i.Jw(),$i:c.i.$i()};c.view.fo(Saa(a).toString());W2(c.j,"app_download","os_select",{os:"ios"})});this.view.on(b3,function(){var a={qb:soydata.VERY_UNSAFE.ordainSanitizedHtml(c.i.qb()),Ut:c.i.Ut(),vw:c.i.vw(),$i:c.i.$i()};c.view.fo(Taa(a).toString());W2(c.j,"app_download","os_select",{os:"android"})})}g3.prototype.Ae=function(){this.j.wa(X(new fm("mobile_dialogue_loaded"),"location","publish_flow_complete"))};g3.prototype.destroy=function(){this.view.remove()};
function Uaa(a){var b=a.view.lF();if(!/^(?=.*[0-9])[- +()0-9]+$/g.test(b))return a.view.Pw(a.i.OF());a.view.WP();a.uc.send(b,{feature:"TextMeTheApp",channel:"webapp",campaign:"publish_dialog",stage:"control"}).then(function(){a.view.FH();a.j.wa(i3(b,!0))}).catch(function(){a.view.Pw(a.i.tQ());a.j.wa(i3(b,!1))})}function h3(a,b){b=b?"success":"fail";return X(X(X(X(new fm("mobile_dialogue_submit"),"type","android"),"location","publish_flow_complete"),"value",a),"status",b)}
function i3(a,b){b=b?"success":"fail";return X(X(X(X(new fm("mobile_dialogue_submit"),"type","ios"),"location","publish_flow_complete"),"value",a),"status",b)};function j3(a){soy.asserts.assertType(goog.isString(a.Hc)||a.Hc instanceof goog.soy.data.SanitizedContent,"iphoneLabel",a.Hc,"string|goog.soy.data.SanitizedContent");var b=a.Hc;soy.asserts.assertType(goog.isString(a.Ec)||a.Ec instanceof goog.soy.data.SanitizedContent,"androidLabel",a.Ec,"string|goog.soy.data.SanitizedContent");var c=a.Ec;soy.asserts.assertType(goog.isString(a.md)||a.md instanceof goog.soy.data.SanitizedContent,"submitButtonLabel",a.md,"string|goog.soy.data.SanitizedContent");var d=
a.md;soy.asserts.assertType(goog.isString(a.Fg)||a.Fg instanceof goog.soy.data.SanitizedContent,"selectDeviceText",a.Fg,"string|goog.soy.data.SanitizedContent");var e=a.Fg;soy.asserts.assertType(goog.isString(a.Uh)||a.Uh instanceof goog.soy.data.SanitizedContent,"phoneInputCTAText",a.Uh,"string|goog.soy.data.SanitizedContent");a=a.Uh;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"experimentsMobileAppsDialog__step"\x3e'+soy.$$escapeHtml(e)+'\x3c/div\x3e\x3cdiv class\x3d"experimentsMobileAppsDialog__choiceForm" action\x3d""\x3e\x3cdiv class\x3d"experimentsMobileAppsDialog__radioInputContainer"\x3e\x3cinput type\x3d"radio" id\x3d"experimentsMobileAppsDialog__choice--iphone" class\x3d"experimentsMobileAppsDialog__choice" name\x3d"mobileType" value\x3d"iphone" checked\x3e\x3clabel class\x3d"experimentsMobileAppsDialog__choiceLabel" for\x3d"experimentsMobileAppsDialog__choice--iphone"\x3e'+
soy.$$escapeHtml(b)+'\x3c/label\x3e\x3c/div\x3e\x3cdiv class\x3d"experimentsMobileAppsDialog__radioInputContainer"\x3e\x3cinput type\x3d"radio" id\x3d"experimentsMobileAppsDialog__choice--android" class\x3d"experimentsMobileAppsDialog__choice" name\x3d"mobileType" value\x3d"android"\x3e\x3clabel class\x3d"experimentsMobileAppsDialog__choiceLabel" for\x3d"experimentsMobileAppsDialog__choice--android"\x3e'+soy.$$escapeHtml(c)+'\x3c/label\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"experimentsMobileAppsDialog__step experimentsMobileAppsDialog__step--phoneInputCTA"\x3e'+
soy.$$escapeHtml(a)+'\x3c/div\x3e\x3cdiv class\x3d"experimentsMobileAppsDialog__phoneNumberInputContainer"\x3e\x3cinput type\x3d"text" class\x3d"experimentsMobileAppsDialog__phoneNumberInputField"/\x3e\x3cdiv class\x3d"experimentsMobileAppsDialog__phoneNumberInputSubmit"\x3e'+soy.$$escapeHtml(d)+'\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"experimentsMobileAppsDialog__result"\x3e\x3c/div\x3e')};function k3(a){var b=this;R.call(this,a);this.Fo=a.find(".experimentsMobileAppsDialog__phoneNumberInputField");this.WC=a.find(".experimentsMobileAppsDialog__phoneNumberInputSubmit");a.find(".experimentsMobileAppsDialog__step--phoneInputCTA");this.Fo.intlTelInput({utilsScript:"https://static.canva.com/static/lib/intlTelInput/utils-12.1.0.min.js"});a.on("click",".experimentsMobileAppsDialog__phoneNumberInputSubmit",function(){return b.trigger(l3)});a.on("input",".experimentsMobileAppsDialog__phoneNumberInputField",function(){return b.trigger(m3)})}
t(k3,R);f=k3.prototype;f.it=function(a){this.$el.find(".experimentsMobileAppsDialog__result").text(a)};f.lF=function(){return String(this.Fo.intlTelInput("getNumber"))};f.AY=function(a){this.Fo.intlTelInput("setCountry",a)};f.WP=function(){this.Gq();this.Fo.addClass("experimentsMobileAppsDialog__phoneNumberInputField--loading");this.WC.addClass("experimentsMobileAppsDialog__phoneNumberInputSubmit--loading")};
f.Pw=function(a){this.Gq();this.Fo.addClass("experimentsMobileAppsDialog__phoneNumberInputField--error");this.WC.addClass("experimentsMobileAppsDialog__phoneNumberInputSubmit--error");this.it(a)};f.FH=function(a){this.Gq();this.Fo.addClass("experimentsMobileAppsDialog__phoneNumberInputField--success");this.WC.addClass("experimentsMobileAppsDialog__phoneNumberInputSubmit--success");this.it(a)};
f.Gq=function(){this.it("");this.Fo.removeClass("experimentsMobileAppsDialog__phoneNumberInputField--error").removeClass("experimentsMobileAppsDialog__phoneNumberInputField--loading").removeClass("experimentsMobileAppsDialog__phoneNumberInputField--success");this.WC.removeClass("experimentsMobileAppsDialog__phoneNumberInputSubmit--error").removeClass("experimentsMobileAppsDialog__phoneNumberInputSubmit--loading").removeClass("experimentsMobileAppsDialog__phoneNumberInputSubmit--success")};
var l3="SUBMIT",m3="PHONE_NUMBER_CHANGED";function n3(a,b){var c=this;this.view=b;this.j=a.j;this.uc=a.uc;this.Bm=a.Bm;this.i=a.i;this.view.on(l3,function(){return c.Cl()});this.view.on(m3,function(){return c.view.Gq()})}n3.prototype.Ae=function(){V2(this.j,"app_download");var a=this.j.Qi();a&&this.view.AY(a)};n3.prototype.destroy=function(){this.view.remove()};
n3.prototype.Cl=function(){if(this.view.Fo.intlTelInput("isValidNumber")){W2(this.j,"app_download","phone_number_submit");var a=this.view.$el.find(".experimentsMobileAppsDialog__choice:checked").val().toString();switch(a){case "iphone":o3(this,"iphone");break;case "android":o3(this,"android");break;default:throw Error("UNKNOWN_DEVICE_TYPE: "+a);}}else this.view.Pw(this.i.OF())};
function o3(a,b){var c=a.view.lF();a.view.WP();a.uc.send(c,{feature:"TextMeTheApp",channel:"webapp",campaign:"publish_dialog",stage:a.Bm}).then(function(){a.view.FH(a.i.success());X2(a.j,b,c,!0)}).catch(function(){a.view.Pw(a.i.tQ());X2(a.j,b,c,!1)})};function p3(a){var b=this;R.call(this,a);this.$el.on("click",".experimentsPrintPublishDialog__printButton",function(){return b.trigger(q3)})}t(p3,R);var q3="PRINT_CLICK";function r3(a,b){var c=this;this.view=b;this.aO=a.aO;this.j=a.j;this.view.on(q3,function(){W2(c.j,"print_upsell");c.aO()})}
function Vaa(a){var b=a.Kl.format("publishDialogPrintDialogPrintButtonLabel"),c=a.Kl.format("publishDialogPrintDialogSubtitle"),d=soydata.VERY_UNSAFE.ordainSanitizedHtml(a.Kl.format("publishDialogPrintDialogTitleHtml")),e=$;soy.asserts.assertType(d instanceof soydata.SanitizedHtml||d instanceof soydata.UnsanitizedText||goog.isString(d),"titleHtml",d,"soydata.SanitizedHtml");soy.asserts.assertType(goog.isString(c)||c instanceof goog.soy.data.SanitizedContent,"subtitle",c,"string|goog.soy.data.SanitizedContent");
soy.asserts.assertType(goog.isString(b)||b instanceof goog.soy.data.SanitizedContent,"printButtonLabel",b,"string|goog.soy.data.SanitizedContent");b=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"experimentsPrintPublishDialog"\x3e\x3cdiv class\x3d"experimentsPrintPublishDialog__container"\x3e\x3cdiv class\x3d"experimentsPrintPublishDialog__printIcon"\x3e\x3c/div\x3e\x3cdiv class\x3d"experimentsPrintPublishDialog__title"\x3e'+soy.$$escapeHtml(d)+'\x3c/div\x3e\x3cdiv class\x3d"experimentsPrintPublishDialog__subTitle"\x3e'+
soy.$$escapeHtml(c)+'\x3c/div\x3e\x3cdiv class\x3d"experimentsPrintPublishDialog__printButtonContainer"\x3e\x3cbutton class\x3d"experimentsPrintPublishDialog__printButton"\x3e'+soy.$$escapeHtml(b)+"\x3c/button\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e");e=e(b.toString());e=new p3(e);return{wb:new r3(a,e),view:e}}r3.prototype.Ae=function(){V2(this.j,"print_upsell")};r3.prototype.destroy=function(){this.view.remove()};function s3(a,b){R.call(this,a);this.IQ=b}t(s3,R);function t3(a,b,c){var d=this;this.view=b;this.vC=c;this.j=a.j;this.tt=a.tt;u3(this.vC,function(b){return v3(d.tt,b).then(function(){b.forEach(function(a){return d.j.wa(zm(a,"export_dialog"))});W2(d.j,"team_member_invite","team_invite_submit");a.UN()})})}
function Waa(a){var b=a.Kl.format("publishDialogTeamInviteDialogTitle"),c=a.Kl.format("publishDialogTeamInviteDialogSubheading"),d={md:a.ff.md(),uj:a.ff.uj(),yV:w3(a.Vi),br:a.ff.br(),Ko:a.ff.Ko()},e=$;soy.asserts.assertType(goog.isString(b)||b instanceof goog.soy.data.SanitizedContent,"title",b,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(c)||c instanceof goog.soy.data.SanitizedContent,"subheading",c,"string|goog.soy.data.SanitizedContent");d=goog.asserts.assertObject(d,
"expected parameter 'teamInviteFormModel' of type [addAnotherButtonClasses: null|string, addAnotherButtonLabel: string, classes: null|string, emailInputPlaceholder: string, inputModel: list\x3c[modelId: float|int]\x3e, listItemClasses: null|string, submitButtonClasses: null|string, submitButtonLabel: string, upgradeMessage: string].");b=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"teamInviteDialog"\x3e\x3cdiv class\x3d"teamInviteDialog__header"\x3e\x3cdiv class\x3d"teamInviteDialog__title"\x3e'+
soy.$$escapeHtml(b)+'\x3c/div\x3e\x3cdiv class\x3d"teamInviteDialog__subheading"\x3e'+soy.$$escapeHtml(c)+'\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"teamInviteDialog__wrapper"\x3e\x3cdiv class\x3d"teamInviteDialog__pane teamInviteDialog__imageWrapper"\x3e\x3cimg class\x3d"teamInviteDialog__image" src\x3d"https://static.canva.com/static/images/experiments/publish_dialog_invite/team.png"\x3e\x3c/div\x3e\x3cdiv class\x3d"teamInviteDialog__pane teamInviteDialog__inviteForm"\x3e'+x3(soy.$$assignDefaults({oC:"teamInviteDialog__submitButton"},
d))+"\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e");e=e(b.toString());b=new y3(e.find(".teamInviteForm"));e=new s3(e,b);b=a.aK(e.IQ);a=new t3(a,e,b);return{view:e,wb:a}}t3.prototype.Ae=function(){this.vC.Ae();V2(this.j,"team_member_invite")};t3.prototype.destroy=function(){this.view.remove()};function q0(a){this.HA=a.HA;this.aa=a.aa;this.er=a.er;this.jE=a.jE;this.X=a.X;this.ac=a.ac;this.So=a.So;this.Je=a.Je;this.D=a.D}function v3(a,b){return 0===b.length?P.resolve():a.ZQ().then(function(){return Xaa(a)}).then(function(){return Yaa(a,b)})}function Yaa(a,b){b=b.map(function(b){return Object.freeze(Hf(lx,{email:b,role:a.jE}))});b=nx(ox((new mx).oi(a.D.u()),"brand_page_Invite_Accept_Invitation"),b);return a.X.wY(b)}
q0.prototype.ZQ=function(){var a=this;if(!this.D.Ph())return P.resolve();var b=gx(ex((new dx).Do(this.D.u()),Zaa(this)));return sw(this.X,b).then(function(b){var d;try{d=b.up().tp().wg}catch(e){d=null}b=uw({brandColor:d,brandname:b.ML(),contributor:b.DV(),displayName:b.ob(),id:b.u(),layoutContributor:b.JV(),personal:b.Ph(),thirdParty:b.NV()});a.D=b;Lx(a.ac);Mx(a.ac)})};
function Xaa(a){return null==a.Je||"FREE"!==a.Je.ck.Zl?P.resolve():Dj(a.aa,new mj({D:a.D.u(),ck:a.HA.id,Le:a.HA.Le,RQ:!1})).then(function(b){return a.Je=b.getSubscription()})}function Zaa(a){var b=a.D.ob();a.D.Ph()&&(b=a.So.format("brandTeamMembersDefaultTeamDisplayName",b||a.er));return b||""};function p0(a,b){var c=this;this.view=b;this.LE=a.LE;this.Pi=a.Pi;this.ff=a.ff;this.OH=void 0===a.OH||a.OH;this.Vi=a.Vi;this.Cl=a.Cl;this.view.on(z3,function(a){return c.QN(a)});this.view.on(A3,function(a){var b=B3(c.view),g;for(g=0;g<b.length;g++){var h=b[g];if(a.av()===h.av())break}g+1<b.length&&b[g+1].focus()});this.view.on(C3,function(a){return c.PN(a)});this.view.on(D3,function(){return $aa(c)});this.view.on(E3,function(){B3(c.view).length<c.Vi.cG&&(aba(c.view,{mr:!0,pl:c.ff.uj(),Vj:F3++}),G3(c))})}
f=p0.prototype;f.destroy=function(){this.view.remove()};f.Ae=function(){G3(this)};function u3(a,b){a.Cl=b}function G3(a){var b=B3(a.view).length,c=b+a.Vi.gK>=a.Vi.sl;b>=a.Vi.cG||c?(H3(a.view,!1),c&&a.OH&&I3(a.view,!0)):(I3(a.view,!1),H3(a.view,!0))}f.QN=function(a){J3(a).$f()};f.PN=function(a){var b=B3(this.view);b[b.length-1].av()===a.av()&&K3(this.view,!0)};f.xt=function(a){this.view.xt(a);L3(this.view,a);B3(this.view).forEach(function(b){return b.xt(a)})};
function $aa(a){a.xt(!0);var b=B3(a.view).filter(function(a){return 0<a.oc().length});M3(bba(a,b)).then(function(c){c?(c=b.map(function(a){return a.oc()}),w(a.Cl)(c).catch(function(b){return a.view.le(b)}).finally(function(){return a.xt(!1)})):a.xt(!1)})}function bba(a,b){return b.map(function(b){return{xp:function(){return J3(b)},yp:function(){return b.oc()},gr:[a.LE]}})}
f.reset=function(){var a=this;H3(this.view,!0);L3(this.view,!1);K3(this.view,!1);I3(this.view,!1);B3(this.view).forEach(function(b,c){c<N3(a.Vi)?b.nk(""):b.remove()})};function w3(a){a=N3(a);return cba(a)}function N3(a){Fa(a.nK<=a.cG);return Math.min(a.nK,Math.max(a.sl-a.gK,0))}function cba(a){return Array(Math.max(a,0)).fill(null).map(function(){return{Vj:F3++}})}var F3=1;function y3(a){var b=this;R.call(this,a);this.$el.on("click",".teamInviteForm__submitButton",function(){b.trigger(D3)});this.$el.on("input",".teamInviteForm__textInput",function(a){return b.QN(a)});this.$el.on("keyup",".teamInviteForm__textInput",function(a){13===a.keyCode&&(a=$(a.target).closest(".teamInviteForm__emailListItem"),b.trigger(A3,new O3(a)))});this.$el.on("focus",".teamInviteForm__textInput",function(a){return b.PN(a)});this.$el.on("click",".teamInviteForm__addAnother",function(){return b.trigger(E3)})}
t(y3,R);function aba(a,b){var c=dba(b);a.$el.find(".teamInviteForm__emailList").append(c.$el);b.mr&&pl(function(){c.$el.addClass("teamInviteForm__emailListItem--visible");c.focus()})}function B3(a){return a.$el.find(".teamInviteForm__emailListItem").toArray().map(function(a){return new O3($(a))})}f=y3.prototype;f.le=function(a){this.$el.find(".teamInviteForm__error").addClass("teamInviteForm__error--visible").text(a)};f.$f=function(){this.$el.find(".teamInviteForm__error").removeClass("teamInviteForm__error--visible")};
f.xt=function(a){this.$el.find(".teamInviteForm__submitButton").toggleClass("teamInviteForm__submitButton--submitting",a)};function L3(a,b){a.$el.find(".teamInviteForm__addAnother").toggleClass("teamInviteForm__addAnother--disabled",b)}function I3(a,b){a.$el.find(".teamInviteForm__upgradeMessage").toggleClass("teamInviteForm__upgradeMessage--visible",b)}function H3(a,b){a.$el.find(".teamInviteForm__addAnother").toggleClass("teamInviteForm__addAnother--hidden",!b)}
function K3(a,b){a.$el.find(".teamInviteForm__addAnother").toggleClass("teamInviteForm__addAnother--highlighted",b)}f.QN=function(a){a=$(a.target).closest(".teamInviteForm__emailListItem");this.trigger(z3,new O3(a))};f.PN=function(a){a=$(a.target).closest(".teamInviteForm__emailListItem");this.trigger(C3,new O3(a))};var z3="FIELD_INPUT",A3="FIELD_ENTER",C3="FIELD_FOCUS",D3="SUBMIT_CLICK",E3="ADD_ANOTHER";function O3(a){fc.apply(this,arguments)}t(O3,fc);
function dba(a){a=$(P3(a).toString());return new O3(a)}f=O3.prototype;f.oc=function(){return String(this.$el.find(".teamInviteForm__textInput").val())};f.nk=function(a){this.$el.find(".teamInviteForm__textInput").val(a)};function J3(a){return D1($(a.$el.find(".teamInviteForm__inputContainer")))}f.av=function(){return Number(this.$el.data("model-id"))};f.xt=function(a){this.$el.find(".teamInviteForm__textInput").toggleClass("teamInviteForm__textInput--submitting",a)};f.focus=function(){this.$el.find(".teamInviteForm__textInput").focus()};function x3(a){soy.asserts.assertType(goog.isString(a.uj)||a.uj instanceof goog.soy.data.SanitizedContent,"emailInputPlaceholder",a.uj,"string|goog.soy.data.SanitizedContent");var b=a.uj;soy.asserts.assertType(goog.isString(a.md)||a.md instanceof goog.soy.data.SanitizedContent,"submitButtonLabel",a.md,"string|goog.soy.data.SanitizedContent");var c=a.md;soy.asserts.assertType(goog.isString(a.Ko)||a.Ko instanceof goog.soy.data.SanitizedContent,"addAnotherButtonLabel",a.Ko,"string|goog.soy.data.SanitizedContent");
var d=a.Ko,e=goog.asserts.assertArray(a.yV,"expected parameter 'inputModel' of type list\x3c[modelId: float|int]\x3e.");soy.asserts.assertType(goog.isString(a.br)||a.br instanceof goog.soy.data.SanitizedContent,"upgradeMessage",a.br,"string|goog.soy.data.SanitizedContent");var g=a.br;soy.asserts.assertType(null==a.v||a.v instanceof goog.soy.data.SanitizedContent||goog.isString(a.v),"classes",a.v,"null|string|undefined");var h=a.v;soy.asserts.assertType(null==a.ZF||a.ZF instanceof goog.soy.data.SanitizedContent||
goog.isString(a.ZF),"listItemClasses",a.ZF,"null|string|undefined");var k=a.ZF;soy.asserts.assertType(null==a.oC||a.oC instanceof goog.soy.data.SanitizedContent||goog.isString(a.oC),"submitButtonClasses",a.oC,"null|string|undefined");var l=a.oC;soy.asserts.assertType(null==a.hD||a.hD instanceof goog.soy.data.SanitizedContent||goog.isString(a.hD),"addAnotherButtonClasses",a.hD,"null|string|undefined");a=a.hD;for(var h='\x3cdiv class\x3d"teamInviteForm'+(h?" "+soy.$$escapeHtmlAttribute(h):"")+'"\x3e\x3cul class\x3d"teamInviteForm__emailList"\x3e',
m=e.length,n=0;n<m;n++)h+=P3(soy.$$assignDefaults({v:k,pl:b},e[n]));h+='\x3c/ul\x3e\x3cdiv class\x3d"teamInviteForm__infoContainer"\x3e\x3cbutton class\x3d"teamInviteForm__addAnother'+(a?" "+soy.$$escapeHtmlAttribute(a):"")+'"\x3e+ '+soy.$$escapeHtml(d)+'\x3c/button\x3e\x3cdiv class\x3d"teamInviteForm__upgradeMessage"\x3e'+soy.$$escapeHtml(g)+'\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"teamInviteForm__error"\x3e\x3c/div\x3e\x3cbutton type\x3d"submit" class\x3d"teamInviteForm__submitButton '+(l?soy.$$escapeHtmlAttribute(l)+
" ":"")+'"\x3e'+soy.$$escapeHtml(c)+"\x3c/button\x3e\x3c/div\x3e";return soydata.VERY_UNSAFE.ordainSanitizedHtml(h)}
function P3(a){soy.asserts.assertType(goog.isString(a.pl)||a.pl instanceof goog.soy.data.SanitizedContent,"inputPlaceholder",a.pl,"string|goog.soy.data.SanitizedContent");var b=a.pl;soy.asserts.assertType(goog.isNumber(a.Vj),"modelId",a.Vj,"number");var c=a.Vj;soy.asserts.assertType(null==a.v||a.v instanceof goog.soy.data.SanitizedContent||goog.isString(a.v),"classes",a.v,"null|string|undefined");var d=a.v;soy.asserts.assertType(null==a.mr||goog.isBoolean(a.mr)||1===a.mr||0===a.mr,"animated",a.mr,
"boolean|null|undefined");return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cli class\x3d"teamInviteForm__emailListItem'+(a.mr?" teamInviteForm__emailListItem--animated":"")+(d?" "+soy.$$escapeHtmlAttribute(d):"")+'" data-model-id\x3d"'+soy.$$escapeHtmlAttribute(c)+'"\x3e'+x1({v:"teamInviteForm__inputContainer",input:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks(""+S1({placeholder:b,v:"teamInviteForm__textInput"}))})+"\x3c/li\x3e")};function Q3(a,b){this.view=b;this.JD=a.JD;this.BJ=a.BJ}f=Q3.prototype;f.ml=function(){return this.view};f.remove=function(){this.BJ.destroy();this.view.remove()};f.an=function(){return{title:""}};f.refresh=function(){this.view.render();return P.resolve()};f.VP=function(){};f.YP=function(){};function R3(a){X1.call(this,{className:"",events:{}});this.HD=a.HD}t(R3,X1);R3.prototype.render=function(){$(this.el).append(this.HD.$el);return this};R3.prototype.remove=function(){this.HD.remove();X1.prototype.remove.call(this)};function S3(a){this.H=a.H;this.od=a.od;this.i=a.i;this.j=a.j;this.uc=a.uc}S3.prototype.HM=function(){return this.uc&&"X"!==this.H.get(T3)?this.od.getItem(U3).then(function(a){return!a}):P.resolve(!1)};
S3.prototype.render=function(){var a=this.H.get(T3),b;if("A"===a){b=new U2(this.j);var c=w(this.uc),a=this.i;a.KK||(a.KK=new Df(a.config));b={j:b,uc:c,i:a.KK};a={qb:soydata.VERY_UNSAFE.ordainSanitizedHtml(b.i.qb()),Yj:b.i.Yj(),Hc:b.i.Hc(),Ec:b.i.Ec()};c=$;soy.asserts.assertType(a.qb instanceof soydata.SanitizedHtml||a.qb instanceof soydata.UnsanitizedText||goog.isString(a.qb),"headingHtml",a.qb,"soydata.SanitizedHtml");soy.asserts.assertType(goog.isString(a.Yj)||a.Yj instanceof goog.soy.data.SanitizedContent,
"overviewSubheading",a.Yj,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(a.Hc)||a.Hc instanceof goog.soy.data.SanitizedContent,"iphoneLabel",a.Hc,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(a.Ec)||a.Ec instanceof goog.soy.data.SanitizedContent,"androidLabel",a.Ec,"string|goog.soy.data.SanitizedContent");a=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"experimentsPhoneDialog"\x3e\x3cdiv class\x3d"experimentsPhoneDialog__closeButton"\x3e\x3c/div\x3e\x3cdiv class\x3d"experimentsPhoneDialog__container"\x3e'+
Y2(a)+'\x3c/div\x3e\x3cdiv class\x3d"experimentsPhoneDialog__iphonePage"\x3e\x3c/div\x3e\x3cdiv class\x3d"experimentsPhoneDialog__androidPage"\x3e\x3c/div\x3e\x3c/div\x3e');c=c(a.toString());c=new Z2(c);b={wb:new g3(b,c),view:c}}else{b=new U2(this.j);var c=w(this.uc),d=this.i;d.MK||(d.MK=new Ef(d.config));d=d.MK;a:switch(a){case "B":a="visual";break a;case "C":a="textual";break a;default:throw Error("UNKNOWN_VARIANT: "+a);}b={j:b,uc:c,i:d,Bm:a};c=b.i;a=b.Bm;a={heading:c.heading(),gi:c.gi(),Bm:a,Hc:c.Hc(),
Ec:c.Ec(),md:c.md(),Fg:c.Fg(),Uh:c.format("downloadMobileAppDialogPhoneInputCTA"),MS:[c.format("downloadMobileAppDialogBullet1"),c.format("downloadMobileAppDialogBullet2"),c.format("downloadMobileAppDialogBullet3")]};c=$;soy.asserts.assertType(goog.isString(a.Bm)||a.Bm instanceof goog.soy.data.SanitizedContent,"dialogLayout",a.Bm,"string|goog.soy.data.SanitizedContent");d=a.Bm;soy.asserts.assertType(goog.isString(a.heading)||a.heading instanceof goog.soy.data.SanitizedContent,"heading",a.heading,
"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(a.gi)||a.gi instanceof goog.soy.data.SanitizedContent,"subheading",a.gi,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(a.Fg)||a.Fg instanceof goog.soy.data.SanitizedContent,"selectDeviceText",a.Fg,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(a.Uh)||a.Uh instanceof goog.soy.data.SanitizedContent,"phoneInputCTAText",a.Uh,"string|goog.soy.data.SanitizedContent");
goog.asserts.assertArray(a.MS,"expected parameter 'bulletPoints' of type list\x3cstring\x3e.");soy.asserts.assertType(goog.isString(a.Hc)||a.Hc instanceof goog.soy.data.SanitizedContent,"iphoneLabel",a.Hc,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(a.Ec)||a.Ec instanceof goog.soy.data.SanitizedContent,"androidLabel",a.Ec,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(a.md)||a.md instanceof goog.soy.data.SanitizedContent,"submitButtonLabel",
a.md,"string|goog.soy.data.SanitizedContent");var e='\x3cdiv class\x3d"experimentsMobileAppsDialog"\x3e\x3cdiv class\x3d"experimentsMobileAppsDialog__container experimentsMobileAppsDialog__container--'+soy.$$escapeHtmlAttribute(d)+'"\x3e';switch(goog.isObject(d)?d.toString():d){case "visual":d=e;soy.asserts.assertType(goog.isString(a.heading)||a.heading instanceof goog.soy.data.SanitizedContent,"heading",a.heading,"string|goog.soy.data.SanitizedContent");e=a.heading;soy.asserts.assertType(goog.isString(a.gi)||
a.gi instanceof goog.soy.data.SanitizedContent,"subheading",a.gi,"string|goog.soy.data.SanitizedContent");var g=a.gi;soy.asserts.assertType(goog.isString(a.Hc)||a.Hc instanceof goog.soy.data.SanitizedContent,"iphoneLabel",a.Hc,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(a.Ec)||a.Ec instanceof goog.soy.data.SanitizedContent,"androidLabel",a.Ec,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(a.Fg)||a.Fg instanceof goog.soy.data.SanitizedContent,
"selectDeviceText",a.Fg,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(a.Uh)||a.Uh instanceof goog.soy.data.SanitizedContent,"phoneInputCTAText",a.Uh,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(a.md)||a.md instanceof goog.soy.data.SanitizedContent,"submitButtonLabel",a.md,"string|goog.soy.data.SanitizedContent");a=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"experimentsMobileAppsDialog__contentWrapper experimentsMobileAppsDialog__contentWrapper--visual"\x3e\x3cdiv class\x3d"experimentsMobileAppsDialog__column experimentsMobileAppsDialog__column--withImage"\x3e\x3cimg src\x3d"https://static.canva.com/static/images/experiments/mobile_app_download/iphone.png" class\x3d"experimentsMobileAppsDialog__heroImage" /\x3e\x3c/div\x3e\x3cdiv class\x3d"experimentsMobileAppsDialog__column"\x3e\x3cdiv class\x3d"experimentsMobileAppsDialog__heading experimentsMobileAppsDialog__heading--visual"\x3e'+
soy.$$escapeHtml(e)+'\x3c/div\x3e\x3cdiv class\x3d"experimentsMobileAppsDialog__subheading experimentsMobileAppsDialog__subheading--viusual"\x3e'+soy.$$escapeHtml(g)+"\x3c/div\x3e"+j3(a)+"\x3c/div\x3e\x3c/div\x3e");e=d+a;break;case "textual":d=e;soy.asserts.assertType(goog.isString(a.heading)||a.heading instanceof goog.soy.data.SanitizedContent,"heading",a.heading,"string|goog.soy.data.SanitizedContent");g=a.heading;soy.asserts.assertType(goog.isString(a.gi)||a.gi instanceof goog.soy.data.SanitizedContent,
"subheading",a.gi,"string|goog.soy.data.SanitizedContent");var h=a.gi;soy.asserts.assertType(goog.isString(a.Hc)||a.Hc instanceof goog.soy.data.SanitizedContent,"iphoneLabel",a.Hc,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(a.Ec)||a.Ec instanceof goog.soy.data.SanitizedContent,"androidLabel",a.Ec,"string|goog.soy.data.SanitizedContent");e=goog.asserts.assertArray(a.MS,"expected parameter 'bulletPoints' of type list\x3cstring\x3e.");soy.asserts.assertType(goog.isString(a.Fg)||
a.Fg instanceof goog.soy.data.SanitizedContent,"selectDeviceText",a.Fg,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(a.Uh)||a.Uh instanceof goog.soy.data.SanitizedContent,"phoneInputCTAText",a.Uh,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(a.md)||a.md instanceof goog.soy.data.SanitizedContent,"submitButtonLabel",a.md,"string|goog.soy.data.SanitizedContent");a='\x3cdiv class\x3d"experimentsMobileAppsDialog__heading experimentsMobileAppsDialog__heading--textual"\x3e'+
soy.$$escapeHtml(g)+'\x3c/div\x3e\x3cdiv class\x3d"experimentsMobileAppsDialog__subheading experimentsMobileAppsDialog__subheading--textual"\x3e'+soy.$$escapeHtml(h)+'\x3c/div\x3e\x3cdiv class\x3d"experimentsMobileAppsDialog__contentWrapper experimentsMobileAppsDialog__contentWrapper--textual"\x3e\x3cdiv class\x3d"experimentsMobileAppsDialog__column experimentsMobileAppsDialog__column"\x3e'+j3(a)+'\x3c/div\x3e\x3cdiv class\x3d"experimentsMobileAppsDialog__column"\x3e\x3cul class\x3d"experimentsMobileAppsDialog__bulletPoints"\x3e';
g=e.length;for(h=0;h<g;h++)a+='\x3cli class\x3d"experimentsMobileAppsDialog__bulletPoint"\x3e\x3cimg src\x3d"https://static.canva.com/static/images/experiments/success.svg" class\x3d"experimentsMobileAppsDialog__bulletPointImage" /\x3e\x3cspan\x3e'+soy.$$escapeHtml(e[h])+"\x3c/span\x3e\x3c/li\x3e";a=soydata.VERY_UNSAFE.ordainSanitizedHtml(a+"\x3c/ul\x3e\x3c/div\x3e\x3c/div\x3e");e=d+a}a=soydata.VERY_UNSAFE.ordainSanitizedHtml(e+"\x3c/div\x3e\x3c/div\x3e");c=c(a.toString());c=new k3(c);b={wb:new n3(b,c),view:c}}return b};
S3.prototype.cO=function(){this.od.setItem(U3,!0)};S3.prototype.PL=function(){var a=this.H.get(T3);return"A"===a?"dialog--phone dialog--phoneA":"dialog--phone2 dialog--phoneVariant"+a};var T3=new Jf("jm","C");var U3="seenMobileExpDialog";function eba(a){this.AT=a}function fba(a){var b=[],c=a.od;c&&(b=[new S3({j:a.j,H:a.H,i:a.i,uc:a.uc,od:c}),new V3({i:a.i,j:a.j,document:a.document,H:a.H,Ja:a.Ja,od:c}),new W3({aa:a.aa,H:a.H,i:a.i,kd:a.kd,X:a.X,Ga:a.Ga,ac:a.ac,j:a.j,W:a.W,od:c})]);return new eba(b)}function gba(a,b){return hba(a).then(function(a){a&&a.cO();var d;if(a){var e=a.render(b);d=e.wb;a={HD:e.view,BJ:d,JD:a.PL()};e=new R3(a);a=new Q3(a,e);d.Ae();d=a}else d=null;return d})}
function hba(a){return P.all(a.AT.map(function(a){return a.HM()})).then(function(b){b=b.map(function(b,d){return{e2:b,zb:a.AT[d]}}).filter(function(a){return a.e2}).map(function(a){return a.zb});return 0===b.length?null:b[0]})};function V3(a){this.H=a.H;this.document=a.document;this.j=a.j;this.od=a.od;this.Ja=a.Ja;this.i=a.i}V3.prototype.HM=function(){var a=this;return this.H.get(iba)&&0<$(".editorActionPrint").length?this.od.getItem("spped").then(function(a){return a&&P.reject(new X3)}).then(function(){return jba(a,a.document)}).then(function(a){return!a&&P.reject(new X3)}).then(function(){return!0}).catch(X3,function(){return!1}):P.resolve(!1)};
function jba(a,b){var c=w(b.hb().u());return kba(a).then(function(a){return a?null!=Y3(a.id,c):!1})}function kba(a){return Z3(a.Ja).then(function(a){return 0<a.vB.length?a.vB[0]:null}).catch(function(){return null})}V3.prototype.render=function(a){return Vaa({Kl:Hd(this.i),aO:function(){P0().gh()||$(".editorActionPrint").click();a.ET()},j:new U2(this.j)})};V3.prototype.cO=function(){this.od.setItem("spped",!0)};V3.prototype.PL=function(){return"dialog--printPublish"};var iba=new Jf("jl",!0);
function X3(){}t(X3,Error);function W3(a){this.od=a.od;this.H=a.H;this.i=a.i;this.kd=a.kd;this.Ga=a.Ga;this.aa=a.aa;this.ac=a.ac;this.X=a.X;this.j=a.j;this.W=a.W}W3.prototype.HM=function(){return!this.H.get(lba)||$3(this)>=this.W.H.get($f)?P.resolve(!1):this.od.getItem("seenInviteExpDialog").then(function(a){return!a})};
W3.prototype.render=function(a){var b=Zc(this.i),c=new t0,d=new s0({Md:b}),e=Fd(this.i),b=Hd(this.i),g=new q0({HA:r0(this.kd),Je:Gx(this.Ga).getSubscription(),aa:this.aa,D:Gx(this.Ga).fa(),er:Hx(this.Ga).ob(),jE:Am,X:this.X,ac:this.ac,So:Xc(this.i)}),h={nK:3,cG:3,sl:this.W.H.get($f),gK:$3(this)};return Waa({ff:e,Kl:b,j:new U2(this.j),Vi:h,tt:g,UN:function(){return a.ET()},aK:function(a){return new p0({LE:d,Pi:c,ff:e,Vi:h},a)}})};function $3(a){a=Gx(a.Ga);return Ix(a)+Jx(a)}
W3.prototype.cO=function(){this.od.setItem("seenInviteExpDialog",!0)};W3.prototype.PL=function(){return"dialog--teamInvite"};var lba=new Jf("jk",!0);function mba(){window.hasOwnProperty("grecaptchaPromise")||(window.grecaptchaPromise=new P(function(a,b){window.grecaptchaOnload=a;a=document.createElement("script");a.onerror=b;a.src="https://www.google.com/recaptcha/api.js?onload\x3dgrecaptchaOnload\x26render\x3dexplicit";document.head.appendChild(a)}));return window.grecaptchaPromise};function a4(a,b){R.call(this,a);this.OC=null;this.pQ=b}t(a4,R);a4.prototype.Ae=function(){var a=this;this.OC=window.grecaptcha.render(this.$el[0],{callback:function(){return a.trigger(b4)},"expired-callback":function(){return a.trigger(c4)},sitekey:this.pQ})};a4.prototype.reset=function(){Fa(null!=this.OC,"reCAPTCHA widgetId has not been set, has #onAttach been called?");window.grecaptcha.reset(this.OC)};
function nba(a){Fa(null!=a.OC,"reCAPTCHA widgetId has not been set, has #onAttach been called?");a=window.grecaptcha.getResponse(a.OC);Fa(a.length,"No response token from reCAPTCHA widget, has it been completed (or has it expired)?");return a}var b4="COMPLETE",c4="EXPIRED";
function B0(a){return mba().then(function(){w(window.grecaptcha,"reCAPTCHA API is not available, make sure it has been loaded by calling RecaptchaLoader.load()");var b=$('\x3cdiv class\x3d"grecaptchaWidget"\x3e\x3c/div\x3e');return new a4(b,a)})};function d4(a,b){var c=this;R.call(this,a);this.className=b.className;this.options=b.options;a.on("click",function(){return c.Af()})}t(d4,R);function e4(a){Ca(a.options.some(function(a){return a.selected}),"options must have a selected element");var b=a.options.filter(function(a){return a.selected})[0],b=$(oba({text:b.$B||b.text,disabled:a.disabled}).toString());return new d4(b,a)}
d4.prototype.Af=function(){var a=this,b=new f4({className:this.className,options:this.options});b.on(g4,function(b){return a.dO(b)});b.ei(this.$el)};d4.prototype.dO=function(a){this.options.filter(function(a){return a.selected})[0].selected=!1;var b=this.options.filter(function(b){return b.value===a})[0];b.selected=!0;this.$el.text(b.$B||b.text);this.trigger(h4,a)};var h4="SELECT";function oba(a){soy.asserts.assertType(goog.isString(a.text)||a.text instanceof goog.soy.data.SanitizedContent,"text",a.text,"string|goog.soy.data.SanitizedContent");var b=a.text;soy.asserts.assertType(null==a.disabled||goog.isBoolean(a.disabled)||1===a.disabled||0===a.disabled,"disabled",a.disabled,"boolean|null|undefined");return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cbutton type\x3d"button" class\x3d"selectView" '+(a.disabled?'disabled\x3d"disabled"':"")+"\x3e"+soy.$$escapeHtml(b)+"\x3c/button\x3e")}
;function f4(a){Ry.call(this,a)}t(f4,Ry);f=f4.prototype;f.initialize=function(a){this.options=a.options;Ry.prototype.initialize.call(this,{content:this.mP(),bx:!1,$v:!0,oo:!1})};f.events=function(){return{"click .selectView__option":this.dO}};f.Ap=function(){return $W};
f.mP=function(){var a=$,b;b='\x3cdiv class\x3d"selectView__menu"\x3e';for(var c=goog.asserts.assertArray(this.options,"expected parameter 'options' of type list\x3c[disabled: bool|null, selected: bool, text: string, value: string]\x3e."),d=c.length,e=0;e<d;e++){var g=c[e];b+='\x3cdiv class\x3d"selectView__option'+(g.selected?" selected":"")+(g.disabled?" selectView__option--disabled":"")+'" data-value\x3d"'+soy.$$escapeHtmlAttribute(g.value)+'"\x3e'+soy.$$escapeHtml(g.text)+"\x3c/div\x3e"}b=soydata.VERY_UNSAFE.ordainSanitizedHtml(b+
"\x3c/div\x3e");return a(b.toString())};f.dO=function(a){a=$(a.target);a.hasClass("selectView__option--disabled")||(this.trigger(g4,a.data("value")),this.remove())};var g4="SELECT";function i4(a){var b=this;this.lb=a.lb;this.Wb=a.Wb;this.bz=a.bz;this.eu=a.eu;this.Yd=a.Yd;this.D=a.D;this.j=a.j;this.jo=a.jo;this.i=a.i;this.Pa=a.Pa;this.X=a.X;this.bc=a.bc;this.qd=a.qd;this.ac=a.ac;this.Tr=a.Tr;this.mQ=a.mQ;this.sl=a.sl;this.Ao=a.Ao;this.Lr=a.Lr;this.ZB=a.ZB;this.$I=a.$I;this.kr=a.kr;this.Ee=a.Ee;this.tP=a.tP;this.bj=a.bj;this.kO=null;this.fK={};this.fW=a.kr?"EDITOR":"VIEWER";this.EB={};this.Qo=new Map;this.FC=a.FC;this.view=a.view;this.tw=a.tw;this.CA=a.CA;this.Sn=null;this.iN=
a.iN;this.H=a.H;this.hu=a.hu;this.sa=a.sa;this.QY=!1;this.kp=null;this.Vw=a.Vw;this.Fn=a.Fn;this.Xk=a.Xk;this.W=new Mf(this.H);this.Vw.on(j4,function(){var a=b.view;a.Ed.show(a.$el);a.delegateEvents()});this.Vw.on(k4,function(){return b.view.ok()});this.listenTo(this.view,{roleChange:this.e6,linkRoleChange:this.WN,linkCopy:this.D5,tabChanged:this.u6,embedCopy:this.G9,submit:this.Cl,social:this.k6,makePublic:this.E5,nativeShare:this.Q5,nativeSharePlatform:this.RW,oauthResp:this.T5,viewWebsite:this.D6});
this.Tr&&this.listenTo(this.Tr,{input:function(){return l4(b.view)}});this.Xk&&Maa(this.Xk,function(){return l4(b.view)})}
function A0(a){var b=xV(a.lb,a.Ao,"sharebutton","link"),c;a.QZ?(c=a.lb,c=vV(c,"share")+"?role\x3dVIEWER\x26token\x3d"+encodeURIComponent(a.QZ)+"\x26"+yV(c,"sharebutton","link")):c=null;var d;a.Lr?(d=a.lb,d=vV(d,"share")+"?role\x3dEDITOR\x26token\x3d"+encodeURIComponent(a.Lr)+"\x26"+yV(d,"sharebutton","link")):d=null;var e=wV(a.lb,a.Ao)+"?website",g=Nc(a.i),g=[g.format("shareDesignDialogTweet1"),g.format("shareDesignDialogTweet2"),g.format("shareDesignDialogTweet3"),g.format("shareDesignDialogTweet4")],
h=Hx(a.Ga),k=Gx(a.Ga),l=Ix(k)+Jx(k),l=a.e3&&null===k.getSubscription()&&l<a.sl,m=new t2(Vc(a.i)),m=pba({lb:a.lb,Wb:a.Wb,la:h.u(),D:k.fa(),j:a.j,aa:a.aa,X:a.X,cb:a.cb,bc:a.bc,rb:a.rb,i:a.i,G:a.G,td:a.td,Rs:m,AN:new m4,H:a.H});return new i4({lb:a.lb,Wb:a.Wb,bz:a.bz,Yd:h,D:k.fa(),j:a.j,Pa:a.Pa,X:a.X,bc:a.bc,qd:a.qd,ac:a.ac,Tr:a.Tr,eu:a.eu,jo:a.jo,mQ:l,sl:a.sl,Ao:a.Ao,Lr:a.Lr,ZB:b,$I:c,kr:d,tP:e,Ee:a.Ee,bj:a.bj,FC:g,i:a.i,G:a.G,hu:a.hu,sa:a.sa,Vw:m,view:a.view,tw:a.tw,CA:a.CA,iN:qba,H:a.H,Fn:a.Fn,Xk:a.Xk})}
f=i4.prototype;
f.show=function(){this.view.show();var a=this.view,b=this.$I,c=!this.kr;a.$(".shareDialog__hiddenViewLink").val(b);a.$(".shareDialog__linkRole select").prop("disabled",c);n4(this.view,this.kr||this.ZB);this.H.get(rba)&&!this.Yd.FV()?(o4(this.view,!1),a=this.view,b=a.Y.Oa("shareDesignDialogUnverifiedEmailWarning","/account"),a.le(sba,wZ,b)):this.bz&&(o4(this.view,!1),a=this.view,o4(a,!1),b=a.Y.format("shareDesignDialogEmptyDesignWarning"),a.le(tba,wZ,b));if(this.Ee){var c=this.bj.Ws?this.bj.tI?Nc(this.i).format("shareDesignDialogRenderWebsiteWarning"):
Nc(this.i).format("shareDesignDialogRenderWebsiteBeta"):Nc(this.i).format("shareDesignDialogRenderWebsiteWarningUnrenderable"),a=this.view,d=this.tP,b=this.bj.Ws,e=a.Y.format("shareDesignDialogRenderWebsiteInstruction"),g=a.kq.An();soy.asserts.assertType(goog.isString(g)||g instanceof goog.soy.data.SanitizedContent,"newLabel",g,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(e)||e instanceof goog.soy.data.SanitizedContent,"instruction",e,"string|goog.soy.data.SanitizedContent");
soy.asserts.assertType(goog.isString(d)||d instanceof goog.soy.data.SanitizedContent,"url",d,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(c)||c instanceof goog.soy.data.SanitizedContent,"warning",c,"string|goog.soy.data.SanitizedContent");c=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cspan class\x3d"newFeatureLabel shareDialog__websiteAnnouncementNewLabel"\x3e'+soy.$$escapeHtml(g)+'\x3c/span\x3e\x3cdiv class\x3d"shareDialog__websiteAnnouncementInstruction"\x3e'+soy.$$escapeHtml(e)+
'\x3c/div\x3e\x3ca class\x3d"shareDialog__websiteAnnouncementLink" target\x3d"_blank" href\x3d"'+soy.$$escapeHtmlAttribute(soy.$$filterNormalizeUri(d))+'"\x3e'+soy.$$escapeHtml(d)+'\x3c/a\x3e\x3cdiv class\x3d"shareDialog__websiteAnnouncementWarning"\x3e'+soy.$$escapeHtml(c)+"\x3c/div\x3e").toString();tZ({type:b?vZ:wZ,tb:!1,small:!0,message:soydata.VERY_UNSAFE.ordainSanitizedHtml(c)}).$el.appendTo(a.$(".shareDialog__websiteAnnouncement"))}uba(this);vba(this)};
function vba(a){Bq(a.Pa,a.lb).then(function(b){var c=wba(b);a.kO=c.Ej().va();a.eu&&xba(a,b);if(c.Ej().fa()===a.D.u())return yba(a).then(function(c){if(1!=c)return zba(a,b).then(function(c){return Aba(a,c,b.Tf().Kz())})})}).catch(function(b){var c=a.view,d=c.Y.format("shareDesignDialogLoadError");c.le(Bba,xZ,d);throw b;})}function uba(a){Xx(a.bc,new Cy({Kw:a.Yd.u()})).then(function(b){a.kp=b.kp})}
function Cba(a,b){function c(a){return{displayName:a.ob()||a.Yf(),username:a.Yf()}}return b===a.Yd.u()?P.resolve(c(a.Yd.AC())):a.X.va(b).then(function(a){return c(a)})}function xba(a,b){var c=b.Tf().Kz().some(function(a){if("DEFAULT"===a.eb())return"NONE"!==a.Si()});b=a.kO;w(b,"ownerId not found");Cba(a,b).then(function(b){b=a.eu(b.displayName,b.username);p4(a.view,c,b)})}
function wba(a){var b=null;a.Tf().Kz().some(function(a){if("OWNER"===a.Si())return b=a,!0});w(b,"document acl must specify an owner");return b}function yba(a){var b=wx((new tx).oi(a.D.u()));return a.X.Sr(b).then(function(a){return a.getCount()})}
function zba(a,b){b=b.Tf().Kz().reduce(function(b,d){"USER"!==d.eb()||d.Ej().fa()!==a.D.u()||null!=d.Nd()&&"MANUAL"!==d.Nd().eb()||b.push(d.Ej().va());return b},[]);return 0<b.length?(b=vx(ux(xx((new tx).oi(a.D.u()),b.slice(0,100)).lg(100))),a.X.Sr(b).then(function(a){return a.$u()})):P.resolve([])}
function Aba(a,b,c){var d,e={},g=[],h={};b.forEach(function(a){return e[a.va().u()]=a});c.forEach(function(b){b.Nd()&&"FOLDER"===b.Nd().eb()?"NONE"!==b.Si()&&(h[b.Nd().u()]=!0):"BRAND"===b.eb()&&b.Ej().fa()==a.D.u()?(d={D:a.D,tD:b},a.fK[a.D.u()]=b.Si()):"USER"===b.eb()&&e.hasOwnProperty(b.Ej().va())&&(g.push({FA:e[b.Ej().va()],tD:b,disabled:!Dba(a,b)}),a.fK[b.Ej().va()]=b.Si())});d||(d={D:a.D,tD:jr({role:"NONE"})});Eba(a.view,d,g,Object.keys(h).length)}
function Dba(a,b){return b.Ej().va()!=a.Yd.u()&&"OWNER"!=b.Si()}f.e6=function(a,b){this.EB[a]=b};f.WN=function(a){"VIEWER"===a?n4(this.view,this.ZB):"EDITOR"===a&&this.kr&&n4(this.view,this.kr);this.fW=a};f.D5=function(){var a=X(X(X(new fm("design_shared"),"location","sharebutton"),"medium","link"),"access_level",q4(this.fW));Xl(this.j,a)};function q4(a){return"OWNER"===a||"EDITOR"===a?"edit":"REMIXER"===a||"VIEWER"===a?"view":"none"}
f.k6=function(a){a===r4?(a=this.FC[Math.floor(Math.random()*this.FC.length)],a="https://twitter.com/intent/tweet?url\x3d"+encodeURIComponent(xV(this.lb,this.Ao,"sharebutton","twitter"))+"\x26text\x3d"+encodeURIComponent(a),this.view.openWindow(a,420,550),this.view.ok(),Xl(this.j,s4("TWITTER"))):a===t4&&(a="https://www.facebook.com/sharer/sharer.php?u\x3d"+encodeURIComponent(xV(this.lb,this.Ao,"sharebutton","facebook")),this.view.openWindow(a,420,550),this.view.ok(),Xl(this.j,s4("FACEBOOK")));u4(this)};
f.E5=function(){var a=this;this.Pa.Os(this.lb).then(function(){p4(a.view,!0,null);a.jo.trigger(S0)}).catch(function(){var b=a.view;b.$(".shareDialog__embedError").text(b.Y.format("shareDesignDialogEmbedError"))})};f.Q5=function(a){var b=[];this.Qo.forEach(function(a,d){return a.enabled&&b.push(d)});this.j.wa(Fba(!!a,b));this.Vw.show(a,b);this.view.hide()};
function L0(a){if(!a.QY){a.QY=!0;var b=["FACEBOOK","TWITTER"].map(function(b){return a.sa&&Lo(a.sa,"CANVA_SD_NS_"+b)?a.RW(b,!0).finally(function(){return P.resolve()}):P.resolve()});P.all([].concat([a.iN()],na(b))).then(function(){a.view.$(".shareDialog__nativeSocialButton").prop("disabled",!1);a.view.AZ=window.twttr.txt});Gba(a.Vw)}}
f.RW=function(a,b){var c=this;return this.Qo.has(a)?(this.Qo.get(a).enabled=!this.Qo.get(a).enabled,v4(this,a),P.resolve()):Aw(this.X,new Iw({user:this.Yd.u(),platform:a})).then(function(d){d.summary.valid&&-1<d.summary.ev.indexOf("PUBLISH")?(c.Qo.set(a,{enabled:!0,username:d.summary.username}),v4(c,a)):b||(d=-1<d.summary.tu.indexOf("PUBLISH"),w4(c,a,d))}).catch(function(){return w4(c,a,!1)})};
function w4(a,b,c){var d=Hba(a.view,b);Iba(a.hu,function(){var d=dw("platform",b),g=["GET_BASIC_PROFILE","PUBLISH"].map(fw.bind(null,"permission")),d="/oauth/authorize/"+encodeURIComponent(d)+("?permissions\x3d"+encodeURIComponent(g.join(",")))+(c?"\x26reRequest\x3dtrue":"");a.view.openWindow(d,600,550);a.j.wa(Jba(b))});Kba(a.hu,d)}
f.T5=function(a){a.gR?(this.Qo.delete(a.platform),this.j.wa(Lba(a.platform))):(this.Qo.set(a.platform,{enabled:!0,username:a.username}),this.j.wa(Mba(a.platform)));v4(this,a.platform)};f.D6=function(){this.j.track("design_website_viewed")};
function Nba(a){null!==a.Sn?(a.Sn.reset(),P.resolve()):a.tw?a.CA(a.tw).then(function(b){x4(a.view).toggleClass("shareDialog__captchaContainer--hidden",!1);Oba(a.view);a.Sn=b;a.Sn.on(b4,function(){o4(a.view,!0);a.view.$f(y4)});a.Sn.on(c4,function(){o4(a.view,!1)});a.Sn.$el.appendTo(x4(a.view));a.Sn.Ae()}).catch(function(b){o4(a.view,!1);z4(a.view);throw b;}):(z4(a.view),P.reject(Error("reCAPTCHA requested but no siteKey provided")))}
function v4(a,b){var c=a.Qo.get(b),d=!(!c||!c.enabled),c=c?c.username:null;if("TWITTER"===b){c&&(c="@"+c);var e=a.view;(e.IY=d)?e.Dn():e.$(".shareDialog__characterCount").empty()}d?a.sa&&So(a.sa,"CANVA_SD_NS_"+b):a.sa&&a.sa.removeItem("CANVA_SD_NS_"+b);a=a.view;a.$(".shareDialog__"+b.toLowerCase()).toggleClass("shareDialog__nativeSocialButton--selected",d);e=0===a.$(".shareDialog__nativeSocialButton--selected").length;a.$(".shareDialog__shareButton").prop("disabled",e);b=a.$(".shareDialog__"+b.toLowerCase()+
" .shareDialog__tooltip");d?(w(c,"enabled platform must provide a tooltip"),b.text(c),a.Dn()):b.text(b.data("tooltip"))}f.Cl=function(a){var b=this;null!=this.Xk?N2(this.Xk).then(function(){var c=Oaa(b.Xk);0<c.length?(A4(b.view),B4(b.view,c)):C4(b,Naa(b.Xk),a)}):C4(this,this.Tr.uF(),a)};
function C4(a,b,c){var d=[],e=[],g=[];b.forEach(function(b){if(b instanceof rx){var k=b.va().u();k!=a.kO&&k!=a.Yd.u()&&d.push(pr(k,a.D.u(),c));b.tf()&&e.push(b.tf())}else g.push.apply(g,[].concat(na(b.split(",").map(function(a){return a.trim()}).filter(function(a){return""!==a}))))});Pba(a,g)&&Qba(a,g)?(Object.keys(a.EB).forEach(function(b){b===a.D.u()?d.push(pr(null,b,a.EB[b])):d.push(pr(b,a.D.u(),a.EB[b]));b=X(X(X(X(new fm("access_level_change"),"location","sharebutton"),"medium","share_dialog"),
"from_access_level",q4(a.fK[b])),"to_access_level",q4(a.EB[b]));Xl(a.j,b)}),P.all([Rba(a,d),Sba(a,e,g,c)]).then(function(b){b=ma(b);b.next();if(b.next().value.some(function(a){return!!a.dP}))o4(a.view,!1),A4(a.view),Nba(a);else if(0<g.length&&a.mQ){b=Tba(a.view,g,a.sl);var c=X(X(new fm("team_invites_shown"),"location","sharebutton"),"medium","share_dialog");a.j.wa(c);Uba({D:a.D,j:a.j,X:a.X,ac:a.ac,er:a.Yd.ob(),qG:g.length,Y:Nc(a.i),Fn:function(){return a.Fn()}},b)}else a.view.ok()}).catch(function(b){A4(a.view);
o4(a.view,!1);throw b;})):A4(a.view)}function Pba(a,b){a.view.$f(D4);b=b.filter(function(a){return!RH(a)});return b.length?(A4(a.view),B4(a.view,b),!1):!0}function Qba(a,b){a.view.$f(E4);return null!=a.kp&&b.length>a.kp?(b=a.view,a=a.kp,a=0===a?b.Y.Oa("shareDesignDialogEmailQuotaReached",b.$H):b.Y.Oa("shareDesignDialogEmailQuotaLimited",a,b.$H),b.le(E4,xZ,a),!1):!0}function Rba(a,b){if(0===b.length)return P.resolve();b=Xq(Vq(a.lb),b);return Eq(a.Pa,b).catch(function(b){F4(a.view);throw b;})}
f.u6=function(a){Ul(this.j,a,"share_dialog");"socialTab"===a&&(Xl(this.j,new fm("social_share_flow_start")),L0(this))};f.G9=function(){Tl(this.j,"embed_copy",null,null,"share_dialog")};
function Sba(a,b,c,d){var e=[],g=a.Sn&&nba(a.Sn);0<b.length&&e.push(Ux(a.bc,new Ay({kH:g,lb:a.lb,ta:a.D.u(),mode:"VIEWER"===d?"viewer":"editor",Mr:b,MC:"sharebutton"})));0<c.length&&e.push(Ux(a.bc,new Ay({kH:g,lb:a.lb,mode:"VIEWER"===d?"default":"editor",Xg:"VIEWER"===d?a.Ao:a.Lr,Mr:c,MC:"shareButton"})));var h=q4(d);b.forEach(function(){return G4(a,h,!0)});c.forEach(function(){return G4(a,h,!1)});return P.all(e).then(function(b){b.length&&u4(a);return b}).catch(function(b){g?z4(a.view):F4(a.view);
throw b;})}function G4(a,b,c){b=X(X(X(X(new fm("design_shared"),"location","sharebutton"),"medium","share_dialog"),"access_level",b),"on_team",c);Xl(a.j,b)}function u4(a){Jq(a.Pa,new Gt({og:a.lb,version:-1,pw:"MEDIUM"}))}f.listenTo=Backbone.Events.listenTo;f.off=Backbone.Events.off;f.on=Backbone.Events.on;f.stopListening=Backbone.Events.stopListening;f.trigger=Backbone.Events.trigger;var rba=new Jf("fm",!1);function Vba(a){soy.asserts.assertType(goog.isString(a.XG)||a.XG instanceof goog.soy.data.SanitizedContent,"peopleTabLabel",a.XG,"string|goog.soy.data.SanitizedContent");var b=a.XG;soy.asserts.assertType(goog.isString(a.PH)||a.PH instanceof goog.soy.data.SanitizedContent,"socialTabLabel",a.PH,"string|goog.soy.data.SanitizedContent");var c=a.PH;soy.asserts.assertType(goog.isString(a.XF)||a.XF instanceof goog.soy.data.SanitizedContent,"linkTabLabel",a.XF,"string|goog.soy.data.SanitizedContent");var d=
a.XF;soy.asserts.assertType(goog.isString(a.ME)||a.ME instanceof goog.soy.data.SanitizedContent,"embedTabLabel",a.ME,"string|goog.soy.data.SanitizedContent");var e=a.ME;soy.asserts.assertType(a.vj instanceof soydata.SanitizedHtml||a.vj instanceof soydata.UnsanitizedText||goog.isString(a.vj),"embedDescription",a.vj,"soydata.SanitizedHtml");soy.asserts.assertType(goog.isString(a.Fm)||a.Fm instanceof goog.soy.data.SanitizedContent,"embedLabelHTML",a.Fm,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(a.Gm)||
a.Gm instanceof goog.soy.data.SanitizedContent,"embedLabeloEmbed",a.Gm,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isBoolean(a.Em)||1===a.Em||0===a.Em,"embedEnabled",a.Em,"boolean");var g=!!a.Em;soy.asserts.assertType(null==a.Ug||a.Ug instanceof goog.soy.data.SanitizedContent||goog.isString(a.Ug),"embedCode",a.Ug,"null|string|undefined");soy.asserts.assertType(goog.isString(a.Im)||a.Im instanceof goog.soy.data.SanitizedContent,"embedPublic",a.Im,"string|goog.soy.data.SanitizedContent");
soy.asserts.assertType(goog.isString(a.Hm)||a.Hm instanceof goog.soy.data.SanitizedContent,"embedMakePublic",a.Hm,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(a.ln)||a.ln instanceof goog.soy.data.SanitizedContent,"inviteLabel",a.ln,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(a.kn)||a.kn instanceof goog.soy.data.SanitizedContent,"inviteButton",a.kn,"string|goog.soy.data.SanitizedContent");goog.asserts.assertObject(a.kx,"expected parameter 'socialButtons' of type map\x3cstring,string\x3e.");
soy.asserts.assertType(goog.isBoolean(a.Wl)||1===a.Wl||0===a.Wl,"socialTabEnabled",a.Wl,"boolean");var h=!!a.Wl;soy.asserts.assertType(goog.isString(a.ko)||a.ko instanceof goog.soy.data.SanitizedContent,"shareLabel",a.ko,"string|goog.soy.data.SanitizedContent");goog.asserts.assertObject(a.Rv,"expected parameter 'nativeSocialButtons' of type map\x3cstring,string\x3e.");soy.asserts.assertType(goog.isString(a.zn)||a.zn instanceof goog.soy.data.SanitizedContent,"messagePlaceholder",a.zn,"string|goog.soy.data.SanitizedContent");
soy.asserts.assertType(goog.isString(a.io)||a.io instanceof goog.soy.data.SanitizedContent,"shareButton",a.io,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(a.tn)||a.tn instanceof goog.soy.data.SanitizedContent,"linkLabel",a.tn,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(a.Qg)||a.Qg instanceof goog.soy.data.SanitizedContent,"copyButton",a.Qg,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isBoolean(a.Ee)||1===a.Ee||
0===a.Ee,"renderAccessModeEnabled",a.Ee,"boolean");var k=!!a.Ee;soy.asserts.assertType(goog.isString(a.An)||a.An instanceof goog.soy.data.SanitizedContent,"newLabel",a.An,"string|goog.soy.data.SanitizedContent");var l=a.An;soy.asserts.assertType(null==a.jc||a.jc instanceof goog.soy.data.SanitizedContent||goog.isString(a.jc),"initialTab",a.jc,"null|string|undefined");var m=a.jc,n=goog.asserts.assertObject(a.u9,"expected parameter 'tabs' of type [EMBED: string, LINK: string, PEOPLE: string, SOCIAL: string].");
return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"shareDialog__tabWrapper"\x3e\x3cdiv class\x3d"shareDialog__tab'+(m&&m!=n.RI?"":" shareDialog__tab--on")+'" data-id\x3d"'+soy.$$escapeHtmlAttribute(n.RI)+'"\x3e'+soy.$$escapeHtml(b)+"\x3c/div\x3e"+(h?'\x3cdiv class\x3d"shareDialog__tab'+(m==n.TI?" shareDialog__tab--on":"")+'" data-id\x3d"'+soy.$$escapeHtmlAttribute(n.TI)+'"\x3e'+soy.$$escapeHtml(c)+'\x3cspan class\x3d"newFeatureLabel"\x3e'+soy.$$escapeHtml(l)+"\x3c/span\x3e\x3c/div\x3e":
"")+'\x3cdiv class\x3d"shareDialog__tab'+(m==n.LINK?" shareDialog__tab--on":"")+'" data-id\x3d"'+soy.$$escapeHtmlAttribute(n.LINK)+'"\x3e'+soy.$$escapeHtml(d)+(k?'\x3cspan class\x3d"newFeatureLabel"\x3e'+soy.$$escapeHtml(l)+"\x3c/span\x3e":"")+"\x3c/div\x3e"+(g?'\x3cdiv class\x3d"shareDialog__tab'+(m==n.EMBED?" shareDialog__tab--on":"")+'" data-id\x3d"'+soy.$$escapeHtmlAttribute(n.EMBED)+'"\x3e'+soy.$$escapeHtml(e)+"\x3c/div\x3e":"")+'\x3c/div\x3e\x3cdiv class\x3d"shareDialog__tabContainer"\x3e'+
Wba(soy.$$assignDefaults({Ke:n.RI},a))+(h?Xba(soy.$$assignDefaults({Ke:n.TI},a)):"")+Yba(soy.$$assignDefaults({Ke:n.LINK},a))+(g?Zba(soy.$$assignDefaults({Ke:n.EMBED},a)):"")+"\x3c/div\x3e")}
function Wba(a){soy.asserts.assertType(goog.isString(a.ln)||a.ln instanceof goog.soy.data.SanitizedContent,"inviteLabel",a.ln,"string|goog.soy.data.SanitizedContent");var b=a.ln;soy.asserts.assertType(goog.isString(a.kn)||a.kn instanceof goog.soy.data.SanitizedContent,"inviteButton",a.kn,"string|goog.soy.data.SanitizedContent");var c=a.kn;soy.asserts.assertType(goog.isBoolean(a.Wl)||1===a.Wl||0===a.Wl,"socialTabEnabled",a.Wl,"boolean");var d=!!a.Wl,e=goog.asserts.assertObject(a.kx,"expected parameter 'socialButtons' of type map\x3cstring,string\x3e.");
soy.asserts.assertType(null==a.jc||a.jc instanceof goog.soy.data.SanitizedContent||goog.isString(a.jc),"initialTab",a.jc,"null|string|undefined");var g=a.jc;soy.asserts.assertType(goog.isString(a.Ke)||a.Ke instanceof goog.soy.data.SanitizedContent,"tabId",a.Ke,"string|goog.soy.data.SanitizedContent");a=a.Ke;b='\x3cdiv class\x3d"shareDialog__tabContent'+(g&&g!=a?"":" shareDialog__tabContent--on")+'" data-id\x3d"'+soy.$$escapeHtmlAttribute(a)+'"\x3e\x3cdiv class\x3d"shareDialog__acl"\x3e\x3c/div\x3e\x3cdiv\x3e'+
soy.$$escapeHtml(b)+'\x3c/div\x3e\x3cdiv class\x3d"shareDialog__members"\x3e\x3cdiv class\x3d"shareDialog__inviteRole"\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"shareDialog__folders"\x3e\x3c/div\x3e\x3cdiv class\x3d"shareDialog__error"\x3e\x3c/div\x3e\x3cdiv class\x3d"shareDialog__captchaContainer shareDialog__captchaContainer--hidden"\x3e\x3c/div\x3e\x3cdiv class\x3d"shareDialog__buttons"\x3e'+XZ({v:"shareDialog__inviteButton buttonSubmittable",text:c});if(!d){b+='\x3cspan class\x3d"shareDialog__socialButtons"\x3e';
d=soy.$$getMapKeys(e);c=d.length;for(g=0;g<c;g++)a=d[g],b+=XZ({v:a,text:e[a]});b+="\x3c/span\x3e"}return soydata.VERY_UNSAFE.ordainSanitizedHtml(b+"\x3c/div\x3e\x3c/div\x3e")}
function H4(a){var b;a=a||{};soy.asserts.assertType(null==a.email||a.email instanceof goog.soy.data.SanitizedContent||goog.isString(a.email),"email",a.email,"null|string|undefined");var c=a.email;soy.asserts.assertType(null==a.name||a.name instanceof goog.soy.data.SanitizedContent||goog.isString(a.name),"name",a.name,"null|string|undefined");return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"shareDialog__aclMember"\x3e\x3cdiv class\x3d"shareDialog__aclMemberAvatar"\x3e\x3c/div\x3e\x3cdiv class\x3d"shareDialog__aclMemberNameEmail"\x3e\x3cspan class\x3d"shareDialog__aclMemberName"\x3e'+
soy.$$escapeHtml(null==(b=a.name)?"":b)+'\x3c/span\x3e\x3cspan class\x3d"shareDialog__aclMemberEmail"\x3e'+soy.$$escapeHtml(null==(b=c)?"":b)+'\x3c/span\x3e\x3c/div\x3e\x3cdiv class\x3d"shareDialog__aclMemberRole"\x3e\x3c/div\x3e\x3c/div\x3e')}
function Yba(a){soy.asserts.assertType(goog.isString(a.tn)||a.tn instanceof goog.soy.data.SanitizedContent,"linkLabel",a.tn,"string|goog.soy.data.SanitizedContent");var b=a.tn;soy.asserts.assertType(goog.isString(a.Qg)||a.Qg instanceof goog.soy.data.SanitizedContent,"copyButton",a.Qg,"string|goog.soy.data.SanitizedContent");var c=a.Qg;soy.asserts.assertType(null==a.jc||a.jc instanceof goog.soy.data.SanitizedContent||goog.isString(a.jc),"initialTab",a.jc,"null|string|undefined");var d=a.jc;soy.asserts.assertType(goog.isString(a.Ke)||
a.Ke instanceof goog.soy.data.SanitizedContent,"tabId",a.Ke,"string|goog.soy.data.SanitizedContent");a=a.Ke;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"shareDialog__tabContent'+(d==a?" shareDialog__tabContent--on":"")+'" data-id\x3d"'+soy.$$escapeHtmlAttribute(a)+'"\x3e\x3cdiv\x3e'+soy.$$escapeHtml(b)+'\x3c/div\x3e\x3cdiv class\x3d"shareDialog__linkInputContainer"\x3e'+S1({v:"shareDialog__link",id:"shareDialog__shareLink",attributes:soydata.VERY_UNSAFE.$$ordainSanitizedAttributesForInternalBlocks("readonly")})+
S1({v:"shareDialog__hiddenViewLink",type:"hidden",attributes:soydata.VERY_UNSAFE.$$ordainSanitizedAttributesForInternalBlocks('readonly tabindex\x3d"-1"')})+'\x3cdiv class\x3d"shareDialog__linkRole"\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"shareDialog__buttons"\x3e'+XZ({v:"shareDialog__copyButton shareDialog__linkCopy",text:c,attributes:soydata.VERY_UNSAFE.$$ordainSanitizedAttributesForInternalBlocks('data-clipboard-target\x3d"shareDialog__shareLink" data-event\x3d"linkCopy"')})+'\x3c/div\x3e\x3cdiv class\x3d"shareDialog__websiteAnnouncement"\x3e\x3c/div\x3e\x3c/div\x3e')}
function Zba(a){soy.asserts.assertType(a.vj instanceof soydata.SanitizedHtml||a.vj instanceof soydata.UnsanitizedText||goog.isString(a.vj),"embedDescription",a.vj,"soydata.SanitizedHtml");var b=a.vj;soy.asserts.assertType(goog.isString(a.Qg)||a.Qg instanceof goog.soy.data.SanitizedContent,"copyButton",a.Qg,"string|goog.soy.data.SanitizedContent");var c=a.Qg;soy.asserts.assertType(null==a.Ug||a.Ug instanceof goog.soy.data.SanitizedContent||goog.isString(a.Ug),"embedCode",a.Ug,"null|string|undefined");
var d=a.Ug;soy.asserts.assertType(goog.isString(a.zl)||a.zl instanceof goog.soy.data.SanitizedContent,"oEmbedCode",a.zl,"string|goog.soy.data.SanitizedContent");var e=a.zl;soy.asserts.assertType(goog.isString(a.Im)||a.Im instanceof goog.soy.data.SanitizedContent,"embedPublic",a.Im,"string|goog.soy.data.SanitizedContent");var g=a.Im;soy.asserts.assertType(goog.isString(a.Hm)||a.Hm instanceof goog.soy.data.SanitizedContent,"embedMakePublic",a.Hm,"string|goog.soy.data.SanitizedContent");var h=a.Hm;soy.asserts.assertType(goog.isString(a.Fm)||
a.Fm instanceof goog.soy.data.SanitizedContent,"embedLabelHTML",a.Fm,"string|goog.soy.data.SanitizedContent");var k=a.Fm;soy.asserts.assertType(goog.isString(a.Gm)||a.Gm instanceof goog.soy.data.SanitizedContent,"embedLabeloEmbed",a.Gm,"string|goog.soy.data.SanitizedContent");var l=a.Gm;soy.asserts.assertType(null==a.jc||a.jc instanceof goog.soy.data.SanitizedContent||goog.isString(a.jc),"initialTab",a.jc,"null|string|undefined");var m=a.jc;soy.asserts.assertType(goog.isString(a.Ke)||a.Ke instanceof
goog.soy.data.SanitizedContent,"tabId",a.Ke,"string|goog.soy.data.SanitizedContent");a=a.Ke;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"shareDialog__tabContent'+(m==a?" shareDialog__tabContent--on":"")+'" data-id\x3d"'+soy.$$escapeHtmlAttribute(a)+'"\x3e\x3cdiv class\x3d"shareDialog__embeddable"\x3e'+soy.$$escapeHtml(b)+'\x3cdiv class\x3d"shareDialog__embedOverlayContainer"\x3e\x3cp\x3e'+soy.$$escapeHtml(k)+'\x3c/p\x3e\x3cdiv class\x3d"shareDialog__comboRow"\x3e\x3cinput type\x3d"text" id\x3d"shareDialog__shareEmbed" class\x3d"shareDialog__shareEmbed" value\x3d"'+
soy.$$escapeHtmlAttribute(null==d?"":d)+'"\x3e'+XZ({v:"shareDialog__copyButton shareDialog__copyButton--embed",text:c,attributes:soydata.VERY_UNSAFE.$$ordainSanitizedAttributesForInternalBlocks('data-clipboard-target\x3d"shareDialog__shareEmbed"')})+"\x3c/div\x3e\x3cp\x3e"+soy.$$escapeHtml(l)+'\x3c/p\x3e\x3cdiv class\x3d"shareDialog__comboRow"\x3e\x3cinput type\x3d"text" id\x3d"shareDialog__shareOEmbed" class\x3d"shareDialog__shareOEmbed" value\x3d"'+soy.$$escapeHtmlAttribute(e)+'"\x3e'+XZ({v:"shareDialog__copyButton shareDialog__copyButton--embed",
text:c,attributes:soydata.VERY_UNSAFE.$$ordainSanitizedAttributesForInternalBlocks('data-clipboard-target\x3d"shareDialog__shareOEmbed"')})+'\x3c/div\x3e\x3cdiv class\x3d"shareDialog__embedOverlay"\x3e\x3cp\x3e'+soy.$$escapeHtml(g)+"\x3c/p\x3e"+XZ({v:"shareDialog__publicButton",text:h})+'\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"shareDialog__embedError"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e')}
function Xba(a){soy.asserts.assertType(goog.isString(a.ko)||a.ko instanceof goog.soy.data.SanitizedContent,"shareLabel",a.ko,"string|goog.soy.data.SanitizedContent");var b=a.ko,c=goog.asserts.assertObject(a.Rv,"expected parameter 'nativeSocialButtons' of type map\x3cstring,string\x3e.");soy.asserts.assertType(goog.isString(a.zn)||a.zn instanceof goog.soy.data.SanitizedContent,"messagePlaceholder",a.zn,"string|goog.soy.data.SanitizedContent");var d=a.zn;soy.asserts.assertType(goog.isString(a.io)||
a.io instanceof goog.soy.data.SanitizedContent,"shareButton",a.io,"string|goog.soy.data.SanitizedContent");var e=a.io;soy.asserts.assertType(null==a.jc||a.jc instanceof goog.soy.data.SanitizedContent||goog.isString(a.jc),"initialTab",a.jc,"null|string|undefined");var g=a.jc;soy.asserts.assertType(goog.isString(a.Ke)||a.Ke instanceof goog.soy.data.SanitizedContent,"tabId",a.Ke,"string|goog.soy.data.SanitizedContent");a=a.Ke;b='\x3cdiv class\x3d"shareDialog__tabContent'+(g==a?" shareDialog__tabContent--on":
"")+'" data-id\x3d"'+soy.$$escapeHtmlAttribute(a)+'"\x3e\x3cdiv\x3e\x3cdiv class\x3d"shareDialog__social"\x3e\x3cspan class\x3d"shareDialog__shareLabel"\x3e'+soy.$$escapeHtml(b)+"\x3c/span\x3e";g=soy.$$getMapKeys(c);a=g.length;for(var h=0;h<a;h++)var k=g[h],b=b+('\x3cbutton class\x3d"shareDialog__nativeSocialButton '+soy.$$escapeHtmlAttribute(k)+'" disabled\x3e\x3cspan class\x3d"shareDialog__tooltip" data-tooltip\x3d"'+soy.$$escapeHtmlAttribute(c[k])+'"\x3e'+soy.$$escapeHtml(c[k])+"\x3c/span\x3e\x3c/button\x3e");
b+='\x3c/div\x3e\x3ctextarea class\x3d"shareDialog__shareMessage" placeholder\x3d"'+soy.$$escapeHtmlAttribute(d)+'"\x3e\x3c/textarea\x3e\x3cdiv class\x3d"shareDialog__socialFooter"\x3e\x3cdiv class\x3d"shareDialog__buttons"\x3e'+XZ({v:"shareDialog__shareButton",text:e,disabled:!0})+'\x3c/div\x3e\x3cspan class\x3d"shareDialog__characterCount"\x3e\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e';return soydata.VERY_UNSAFE.ordainSanitizedHtml(b)};function I4(a){rp.call(this,{className:"shareDialog",G:a.G,title:a.Y.title()});this.$H="https://support.canva.com/troubleshooting/sharing-your-design/";this.Mm=a.Mm;this.Bu=a.Bu;this.Em=a.Em;this.Ug=a.Ug;this.zl=a.zl;this.sQ=a.sQ;this.Ee=a.Ee;this.Y=a.Y;this.iu=a.iu;this.kq=a.kq;this.tW=!1;this.BV="EDITOR";this.IY=!1;this.kx={};this.kx[r4]=this.Y.format("shareDesignDialogTwitterLabel");this.kx[t4]=this.Y.format("shareDesignDialogFacebookLabel");this.Rv={};this.Rv.shareDialog__twitter=this.Y.format("shareDesignDialogTwitterTooltip");
this.Rv.shareDialog__facebook=this.Y.format("shareDesignDialogFacebookTooltip");this.AZ=null;this.p8=[{value:"EDITOR",text:Te(this.Y),$B:Ue(this.Y),selected:!0},{value:"VIEWER",text:Ve(this.Y),$B:We(this.Y),selected:!1}];this.t3=[{value:"EDITOR",text:Te(this.Y),$B:Ue(this.Y),selected:!0},{value:"VIEWER",text:Ve(this.Y),$B:We(this.Y),selected:!1}];this.jc=a.jc;this.WW=this.P2.bind(this)}t(I4,rp);
function z0(a){return new I4({G:a.G,Mm:a.Mm,Bu:a.Bu,iu:a.iu,Em:a.W.H.get(hg),Ug:a.Ug,zl:a.zl,sQ:a.W.H.get(ng),Ee:a.W.Ee(),Y:Nc(a.i),kq:qd(a.i),jc:a.jc})}f=I4.prototype;
f.events=function(){var a=this;return _.extend(rp.prototype.events.call(this),{"click .shareDialog__tab":this.v6,"click .shareDialog__inviteButton":this.t5,"click .shareDialog__link":function(a){return $(a.target).select()},"click .shareDialog__publicButton":function(){return a.trigger("makePublic")},"click .shareDialog__copyButton--embed":function(){return a.trigger("embedCopy")},"copy #shareDialog__shareEmbed":function(){return a.trigger("embedCopy")},"cut #shareDialog__shareEmbed":function(){return a.trigger("embedCopy")},
"click #shareDialog__shareEmbed":function(a){return $(a.target).select()},"click .shareDialog__shareButton":function(){return a.trigger("nativeShare",a.$(".shareDialog__shareMessage").val())},"click .buttonTwitter":function(){return a.trigger("social",r4)},"click .buttonFacebook":function(){return a.trigger("social",t4)},"click .shareDialog__twitter":function(){return a.trigger("nativeSharePlatform","TWITTER")},"click .shareDialog__facebook":function(){return a.trigger("nativeSharePlatform","FACEBOOK")},
"input .shareDialog__shareMessage":this.Dn,"click .shareDialog__websiteAnnouncementLink":function(){return a.trigger("viewWebsite")}})};
f.v6=function(a){var b=this.$(".dialog");b.css("top",b.offset().top+"px");b.addClass("shareDialog--fixed");this.$(".shareDialog__tab").removeClass("shareDialog__tab--on");a=$(a.target);a.addClass("shareDialog__tab--on");this.$(".shareDialog__tabContent").removeClass("shareDialog__tabContent--on").find(".selectView, input:not(:hidden), button").prop("tabIndex",-1);a=a.data("id");this.$('.shareDialog__tabContent[data-id\x3d"'+a+'"]').addClass("shareDialog__tabContent--on").find(".selectView, input:not(:hidden), button").prop("tabIndex",
0);this.trigger("tabChanged",a)};function n4(a,b){a.$(".shareDialog__link").val(b)}function J4(a,b,c){a.$(".shareDialog__inviteButton").text(a.Y.format("shareDesignDialogSaveChanges"));a.tW=!0;a.trigger("roleChange",b,c)}f.WN=function(a){this.trigger("linkRoleChange",a);this.$(".shareDialog__tabContent--on").find(".textInput").focus().select();this.$(".shareDialog__linkCopy").text(this.Y.Qg())};f.t5=function(a){$(a.target).toggleClass("submitting",!0);this.trigger("submit",this.BV)};
f.openWindow=function(a,b,c){window.open(a,"","scrollbars\x3dyes,resizable\x3dyes,toolbar\x3dno,location\x3dyes,width\x3d"+b+",height\x3d"+c+",left\x3d445,top\x3d240")};
function $ba(a){var b=document.queryCommandSupported("copy");if(b)try{document.execCommand("copy")}catch(c){b=!1}a.$(".shareDialog__copyButton").each(function(c,d){if(b)$(d).on("click",function(b){try{document.execCommand("copy",!1,a.$("#"+$(b.target).attr("data-clipboard-target")).select()),K4(a,b)}catch(c){}});else new ZeroClipboard(d),$(d).on("click",function(b){return K4(a,b)})})}
function K4(a,b){b=$(b.target);b.text(a.Y.format("shareDesignDialogCopiedButton"));(b=b.data("event"))&&a.trigger(b)}f.Dn=function(){if(this.IY){var a=this.$(".shareDialog__shareMessage").val(),a=a?this.AZ.getTweetLength(a):0;this.$(".shareDialog__characterCount").text(this.Y.format("shareDesignDialogCharacterCount",a));a=140<a;this.$el.toggleClass("shareDialog--withTwitterWarning",a);this.$(".shareDialog__shareButton").prop("disabled",a)}};
f.render=function(){var a=this;rp.prototype.render.call(this);this.$(".content").html(Vba({XG:this.Y.format("shareDesignDialogPeople"),PH:this.Y.c9(),XF:this.Y.link(),ME:this.Y.format("shareDesignDialogEmbed"),vj:this.Y.vj(),Ug:this.Ug,zl:this.zl,Em:this.Em,Im:this.Y.Im(),Hm:this.Y.Hm(),Fm:this.Y.Fm(),Gm:this.Y.Gm(),ln:this.Y.ln(),kn:this.Y.kn(),kx:this.kx,Wl:this.sQ,ko:this.Y.ko(),Rv:this.Rv,zn:this.Y.zn(),io:this.Y.io(),tn:this.Y.tn(),Qg:this.Y.Qg(),Ee:this.Ee,An:this.kq.An(),jc:this.jc,u9:aca}).toString());
var b=e4({className:"shareDialog",options:this.p8});b.on(h4,function(b){a.BV=b;a.$(".shareDialog__tabContent--on").find(".textInput").focus();a.Mm&&x2(a.Mm)});var c=this.$(".shareDialog__inviteRole");c.append(b.$el);null!=this.Bu?c.before(this.Bu.$el):c.before(this.Mm.$el);b=e4({className:"shareDialog",options:this.t3});b.on(h4,function(b){return a.WN(b)});this.$(".shareDialog__linkRole").append(b.$el);this.$(".shareDialog__tabContent").not("[data-id\x3dpeopleTab]").find("select, input, button").prop("tabIndex",
-1);$ba(this);return this};f.show=function(){window.addEventListener("message",this.WW);this.iu.$el.appendTo($("body"));return rp.prototype.show.call(this)};f.remove=function(){window.removeEventListener("message",this.WW);this.iu.remove();rp.prototype.remove.call(this)};f.hide=function(){this.Ed.hide()};f.P2=function(a){var b=a.data&&void 0!==a.data.oauthResp;a.origin&&a.origin===window.location.origin&&b&&(a=Pa(kw,"oauthResp",a.data),this.trigger("oauthResp",a))};
function o4(a,b){a.$(".shareDialog__inviteButton").prop("disabled",!b);a.Mm&&a.Mm.fg(b);a.$(".shareDialog__inviteRole \x3e button").prop("disabled",!b)}function x4(a){return a.$(".shareDialog__captchaContainer")}function Oba(a){var b=a.Y.format("shareDesignDialogCaptchaMessage");a.le(y4,wZ,b)}function z4(a){var b=a.Y.Oa("shareDesignDialogCaptchaFailure",a.$H);a.le(bca,xZ,b)}
function Eba(a,b,c,d){var e=a.$(".shareDialog__acl"),g=$(H4({email:a.Y.format("shareDesignDialogAllMembers"),name:b.D.ob()||a.Y.format("shareDesignDialogDefaultBrandName")}).toString()),h=L4({D:b.D,size:40});g.find(".shareDialog__aclMemberAvatar").append(h.render().$el);h=e4({className:"shareDialog",options:M4(a,b.tD.Si())});h.on(h4,function(c){return J4(a,b.D.u(),c)});g.find(".shareDialog__aclMemberRole").append(h.$el);e.append(g);c.forEach(function(b){var c=$(H4({email:b.FA.tf(),name:b.FA.va().ob()||
b.FA.va().Yf()}).toString()),d=N4({user:b.FA.va(),size:40});c.find(".shareDialog__aclMemberAvatar").append(d.render().$el);d=e4({className:"shareDialog",options:M4(a,b.tD.Si()),disabled:b.disabled});d.on(h4,function(c){return J4(a,b.FA.va().u(),c)});c.find(".shareDialog__aclMemberRole").append(d.$el);e.append(c)});0<d&&a.$(".shareDialog__folders").text(a.Y.Pc(d))}
function p4(a,b,c){null!=c&&a.$(".shareDialog__shareEmbed").val(c);b?a.$(".shareDialog__embedOverlay").removeClass("shareDialog__embedOverlay--visible"):a.$(".shareDialog__embedOverlay").addClass("shareDialog__embedOverlay--visible")}function l4(a){a.tW||a.$(".shareDialog__inviteButton").text(a.Y.format("shareDesignDialogSendInvites"))}
function Tba(a,b,c){rp.prototype.N8.call(a,a.Y.format("shareDesignDialogInviteMembersTitle"));b=cca({js:soydata.VERY_UNSAFE.ordainSanitizedHtml(a.Y.js(c,Fm())),mv:a.Y.mv(),nv:a.Y.nv(),mj:kx.sizes.get("50").ma(),Mr:b});b.on(O4,function(){return a.ok()});a.$(".content").html(b.$el);return b}function F4(a){var b=a.Y.format("shareDesignDialogUpdateError");a.le(dca,xZ,b)}
function Hba(a,b){var c=".shareDialog__"+b.toLowerCase(),d=a.$el.find(c);w(d,"{}'s button isn't present",b);a=a.$el.find(c).offset();return{x:a.left,y:a.top}}function B4(a,b){var c=b.join(", ");b=a.Y.format("shareDesignDialogValidateEmailError",b.length,c);a.le(D4,xZ,b)}function A4(a){a.$(".buttonSubmittable").toggleClass("submitting",!1)}
function M4(a,b){return"OWNER"===b?[{value:"OWNER",text:a.Y.format("shareDesignDialogOwnerRole"),selected:!0}]:[{value:"EDITOR",text:Te(a.Y),selected:"EDITOR"===b},{value:"VIEWER",text:Ve(a.Y),selected:sr[b]>=sr.VIEWER&&sr[b]<sr.EDITOR},{value:"NONE",text:a.Y.format("shareDesignDialogNoneRole"),selected:"NONE"===b}]}f.le=function(a,b,c){this.$f(a);tZ({message:c,type:b,v:a.ya,tb:!1}).$el.prependTo(this.$(".shareDialog__error"))};f.$f=function(a){a=this.$("."+a.ya);a.length&&uZ(a).remove()};
var tba={ya:"shareDialog__emptyDesignError"},y4={ya:"shareDialog__captchaMessageWarning"},bca={ya:"shareDialog__captchaFailError"},sba={ya:"shareDialog__emailInvalidError"},D4={ya:"shareDialog__emailInvalidError"},E4={ya:"shareDialog__emailQuotaError"},Bba={ya:"shareDialog__loadError"},dca={ya:"shareDialog__updateError"},r4="buttonTwitter",t4="buttonFacebook",K0="socialTab",aca={RI:"peopleTab",TI:K0,LINK:"linkTab",EMBED:"embedTab"};function P4(){}f=P4.prototype;f.listenTo=Backbone.Events.listenTo;f.off=Backbone.Events.off;f.on=Backbone.Events.on;f.stopListening=Backbone.Events.stopListening;f.trigger=Backbone.Events.trigger;var S0="UPDATE_PUBLIC_PERMISSIONS";function Jba(a){return X(new fm("social_share_flow_load_authorisation_dialog"),"medium",a.toString().toLowerCase())}function Mba(a){return X(new fm("social_share_flow_load_authorise_confirm"),"medium",a.toString().toLowerCase())}function Lba(a){return X(new fm("social_share_flow_load_authorise_cancel"),"medium",a.toString().toLowerCase())}function Fba(a,b){return X(X(X(new fm("social_share_flow_share_now"),"message",a),"facebook",-1<b.indexOf("FACEBOOK")),"twitter",-1<b.indexOf("TWITTER"))}
function eca(a){return X(new fm("social_share_flow_payment"),"amount",a)}function s4(a){return X(X(X(new fm("design_shared"),"location","sharebutton"),"access_level","view"),"medium",a.toString().toLowerCase())}function Q4(a){return X(new fm("social_share_flow_view_social_media"),"medium",a.toString().toLowerCase())};function R4(a,b){this.la=a.la;this.D=a.D;this.i=a.i;this.aa=a.aa;this.X=a.X;this.cb=a.cb;this.bc=a.bc;this.rb=a.rb;this.j=a.j;this.G=a.G;this.Rs=a.Rs;this.Ba=Pc(a.i);this.Qb=new LT;this.td=a.td;this.ek=this.Ww=null;this.cK=b;this.yL=this.O=null;this.AN=a.AN;this.zN=null;this.LZ=a.H.get(fca);this.W=new Mf(a.H);this.view=null;this.H=a.H}f=R4.prototype;f.sJ=function(){var a=this,b=this.cK();b.on("ok",function(){return a.Wv()});b.on("cancel",function(){return a.Wv()});return b};
function gca(a){var b=FU({D:a.D.u(),nj:a.aa,cf:a.cb,Re:!1,Va:ad(a.i),H:a.H,j:a.j}),c=Nc(a.i),b={Cg:(new HU({j:a.j,la:a.la,ta:a.D.u(),aa:a.aa,X:a.X,rb:a.rb,i:a.i,af:!1,Gf:c.Gf(),Dg:c.Dg(),view:new GU({pd:b.wb,Ji:b.view}),Qb:a.Qb,lb:S4(a.td).lb,Ve:a.D.Ph()})).init(),P8:new T4({G:a.G,Ba:Pc(a.i),Y:c,view:new s2}),complete:hca({j:a.j,Y:c}),error:ica({j:a.j,Y:c})};b.error.on("back",function(){a.trigger(j4);a.remove()});b.Cg.on("paymentComplete",function(){return U4(a)});b.Cg.on("paymentError",function(){return V4(a,
W4)});return b}function pba(a){return jca(a,function(){return new U1({Ed:new Fy({style:Gy,G:a.G}),G:a.G,id:"exportDialog"})})}function jca(a,b){return new R4(a,b)}f.show=function(a,b){this.Ww=a;this.ek=b;this.O=gca(this);this.view=this.sJ();kca(this);this.view.render({Io:this.Ba.Io(),Kg:this.Ba.Kg()})};
function kca(a){var b=["ONE_USE","ROYALTY_FREE","EXTENDED"];lca(a,b).then(function(){var c=a.aa.wz(a.D.u()).catch(Uk,function(){return null}).catch(function(){throw X4;}),d=S4(a.td),d=Aj(a.aa,new Lj({document:d.lb,Wb:d.Wb,O:[1],IF:!0,JF:!0})).catch(function(a){if(a instanceof Vk)throw Y4;throw X4;});P.all([c,d]).spread(function(c,d){a.O.Cg.ea=c;d.DB&&MT(a.Qb,{items:d.items,We:b,Cv:d.Ml,bm:!!a.W.H.get(tg)});mca(a,d.DB)}).catch(function(b){V4(a,b)})}).catch(function(){return V4(a,Z4)})}
function Gba(a){if(a.LZ){var b=new xy({user:a.la,D:a.D.u(),limit:Object.keys(cw).length});a.yL=Sx(a.bc,b).then(function(a){return a.st});a.zN=a.AN.load()}}function nca(a,b){w(a.zN,"MomentTimezone must've been loaded");return a.zN.then(function(){var c=moment.tz.guess();w(c,"failed to guess timezone");return Px(a.bc,new vy({user:a.la,D:a.D.u(),platform:b,ef:"DEFAULT",timeZone:c})).then(function(a){return a.yx})})}
function oca(a,b){w(a.yL,"target queues must've been fetched on init");return a.yL.then(function(c){var d=c.map(function(a){return a.platform}),e=b.filter(function(a){return!d.some(function(b){return b===a})}).map(function(b){return nca(a,b)});return P.all(e).then(function(a){return a.concat(c)})})}function lca(a,b){return $4(a.td,b).then(function(){return j_(a.td)})}function mca(a,b){pca(a,b).then(function(){return U4(a)})}
function pca(a,b){return b?(0<PT(a.Qb)?(V1(a.view,a.O.Cg).then(function(){return l2(a.O.Cg)}),a.j.wa(eca(PT(a.Qb)))):o2(a.O.Cg),P.reject()):P.resolve()}
function U4(a){w(a.Ww,"shareMessage must be defined when sharing");w(a.ek,"platforms must be defined when sharing");V1(a.view,a.O.P8);W1(a.view,a.Rs.next());a.view.ex();var b=S4(a.td);(a.LZ?oca(a,a.ek).then(function(c){return new oy({user:a.la,D:a.D.u(),document:b.lb,Wb:b.Wb,message:""===a.Ww?null:a.Ww,action:"UPLOAD_NOW",st:c.map(function(a){return a.id})})}):P.resolve(new oy({user:a.la,D:a.D.u(),document:b.lb,Wb:b.Wb,message:""===a.Ww?null:a.Ww,action:"UPLOAD_NOW",oK:a.ek.map(function(a){return new ey({platform:a,
ef:"DEFAULT"})})}))).then(function(b){var d=a.bc;return wj(d.N,d.url,py(b)).get(0).then(La).then(sy)}).then(function(b){return a5(a,b.id,1E3)}).then(function(b){if(b.length===a.ek.length)a.onComplete(b);else if(b.length){var d=a.ek.filter(function(a){return!b.some(function(b){return b.platform===a})});V4(a,b5,d,b)}else V4(a,Z4)}).catch(function(){return V4(a,Z4)})}
function a5(a,b,c){var d=new ty({id:b,Eaa:!1});return P.delay(c).then(function(){return a.bc.cM(d)}).then(function(d){var g=!0,h=[];d.Ul.Hx.forEach(function(a){"NEW"===a.status||"IN_PROGRESS"===a.status?g=!1:"SUCCESS"===a.status&&h.push({platform:a.platform,url:a.url})});return g?P.resolve(h):a5(a,b,Math.min(1.6*c,3E4))})}f.onComplete=function(a){var b=this;this.O.complete.ek=a;V1(this.view,this.O.complete);this.j.wa(new fm("social_share_flow_complete"));a.forEach(function(a){return Xl(b.j,s4(a.platform))})};
function V4(a,b,c,d){w(a.ek);qca(a.O.error,b,c||a.ek,d);V1(a.view,a.O.error);a.view.aA();a.j.wa(new fm("social_share_flow_error"))}f.Wv=function(){this.trigger(k4);this.remove();this.j.wa(new fm("social_share_flow_close"))};f.remove=function(){var a=this;this.view.remove().then(function(){_.values(a.O).forEach(function(a){return a.remove()})})};f.on=Backbone.Events.on;f.off=Backbone.Events.off;f.trigger=Backbone.Events.trigger;var j4="BACK",k4="CLOSE",fca=new Jf("gl",!1);function m4(){}m4.prototype.load=function(){return window.hasOwnProperty("moment")&&window.moment.tz?P.resolve():P.resolve($.ajax({dataType:"script",cache:!0,url:"https://static.canva.com/static/lib/moment-timezone-with-data-0.5.13.min.js"})).return()};function c5(a,b){var c=this;this.ek=[];this.j=a.j;this.Y=a.Y;this.view=b;this.view.on("viewSocialMedia",function(a){return c.j.wa(Q4(a))})}function hca(a){var b=new d5;return new c5(a,b)}c5.prototype.ml=function(){return this.view};c5.prototype.remove=function(){this.view.remove()};
c5.prototype.refresh=function(){var a=this;this.view.render({buttons:this.ek.map(function(b){switch(b.platform){case "FACEBOOK":return{v:"buttonFacebook",text:Oe(a.Y),url:b.url};case "TWITTER":return{v:"buttonTwitter",text:Pe(a.Y),url:b.url}}})});return P.resolve()};c5.prototype.an=function(){return{title:this.Y.format("shareDesignDialogCompleteTitle")}};
function d5(){var a=this;X1.call(this,{className:"shareDialog",events:{"click .buttonFacebook":function(){return a.trigger("viewSocialMedia","FACEBOOK")},"click .buttonTwitter":function(){return a.trigger("viewSocialMedia","TWITTER")}}})}t(d5,X1);
d5.prototype.render=function(a){var b=this.el,c;c='\x3cdiv class\x3d"shareDialog__socialCompleteButtons"\x3e';a=goog.asserts.assertArray(a.buttons,"expected parameter 'buttons' of type list\x3c[classes: string, text: string, url: string]\x3e.");for(var d=a.length,e=0;e<d;e++){var g=a[e];c+=XZ({tagName:"a",attributes:soydata.VERY_UNSAFE.$$ordainSanitizedAttributesForInternalBlocks('target\x3d"_blank"'),v:g.v,text:g.text,href:g.url})}c=soydata.VERY_UNSAFE.ordainSanitizedHtml(c+"\x3c/div\x3e");b.innerHTML=
c;return this};d5.prototype.Zo=function(a){return T1(a).toString()};var W4="PAYMENT",Z4="SHARING",b5="PLATFORM",Y4="VERSION_CONFLICT",X4="UNKNOWN";function e5(a,b){var c=this;this.j=a.j;this.Y=a.Y;this.model=null;this.view=b;this.view.on("back",function(){return c.trigger("back")});this.view.on("viewSocialMedia",function(a){return c.j.wa(Q4(a))})}function ica(a){var b=new f5;return new e5(a,b)}f=e5.prototype;f.ml=function(){return this.view};f.remove=function(){this.view.remove()};
function qca(a,b,c,d){c=g5(c);switch(b){case W4:a.model={title:a.Y.format("shareDesignDialogPaymentErrorTitle"),message:a.Y.format("shareDesignDialogPaymentError"),$c:a.Y.oq(),Ng:"shareDialog__doneButton"};break;case Z4:a.model={title:Qe(a.Y),message:soydata.VERY_UNSAFE.ordainSanitizedHtml(Re(a.Y,c)),$c:Se(a.Y),Ng:"shareDialog__backButton"};break;case b5:w(d);b=g5(d.map(function(a){return a.platform}));a.model={title:Qe(a.Y),message:soydata.VERY_UNSAFE.ordainSanitizedHtml(Re(a.Y,c)),pC:a.Y.format("shareDesignDialogPlatformSuccess",
b),$c:Se(a.Y),Ng:"shareDialog__backButton buttonSecondary",ZH:d.map(function(b){switch(b.platform){case "FACEBOOK":return{v:"buttonFacebook",text:Oe(a.Y),url:b.url};case "TWITTER":return{v:"buttonTwitter",text:Pe(a.Y),url:b.url}}})};break;case Y4:a.model={title:Qe(a.Y),message:a.Y.format("shareDesignDialogVersionConflictError"),$c:a.Y.oq(),Ng:"shareDialog__doneButton"};break;case X4:a.model={title:Qe(a.Y),message:soydata.VERY_UNSAFE.ordainSanitizedHtml(Re(a.Y,c)),$c:a.Y.oq(),Ng:"shareDialog__doneButton"};
break;default:throw new TypeError("unexpected SocialErrorType: "+b);}}function g5(a){return a.map(function(a){a:switch(a){case "FACEBOOK":a="Facebook";break a;case "TWITTER":a="Twitter";break a;default:throw new TypeError("unexpected Platform: "+a);}return a}).join(", ")}f.refresh=function(){w(this.model);this.view.render(this.model);return P.resolve()};f.an=function(){return{title:this.model.title}};f.on=Backbone.Events.on;f.off=Backbone.Events.off;f.trigger=Backbone.Events.trigger;
function f5(){var a=this;X1.call(this,{className:"shareDialog error",events:{"click .shareDialog__doneButton":function(){return a.trigger("done")},"click .shareDialog__backButton":function(){return a.trigger("back")},"click .buttonFacebook":function(){return a.trigger("viewSocialMedia","FACEBOOK")},"click .buttonTwitter":function(){return a.trigger("viewSocialMedia","TWITTER")}}})}t(f5,X1);
f5.prototype.render=function(a){var b=this.el;soy.asserts.assertType(a.message instanceof soydata.SanitizedHtml||a.message instanceof soydata.UnsanitizedText||goog.isString(a.message),"message",a.message,"soydata.SanitizedHtml");var c=a.message;soy.asserts.assertType(null==a.pC||a.pC instanceof goog.soy.data.SanitizedContent||goog.isString(a.pC),"successMessage",a.pC,"null|string|undefined");var d=a.pC;soy.asserts.assertType(goog.isString(a.$c)||a.$c instanceof goog.soy.data.SanitizedContent,"buttonText",
a.$c,"string|goog.soy.data.SanitizedContent");var e=a.$c;soy.asserts.assertType(goog.isString(a.Ng)||a.Ng instanceof goog.soy.data.SanitizedContent,"buttonClasses",a.Ng,"string|goog.soy.data.SanitizedContent");var g=a.Ng;soy.asserts.assertType(null==a.ZH||goog.isArray(a.ZH),"successButtons",a.ZH,"?Array\x3c{classes: string, text: string, url: string}\x3e|undefined");a=a.ZH;c="\x3cp"+(d?' class\x3d"shareDialog__socialError"':"")+"\x3e"+soy.$$escapeHtml(c)+"\x3c/p\x3e"+(d?"\x3cp\x3e"+soy.$$escapeHtml(d)+
"\x3c/p\x3e":"")+'\x3cdiv class\x3d"shareDialog__socialCompleteButtons"\x3e'+XZ({v:g,text:e});if(a)for(d=a.length,e=0;e<d;e++)g=a[e],c+=XZ({tagName:"a",attributes:soydata.VERY_UNSAFE.$$ordainSanitizedAttributesForInternalBlocks('target\x3d"_blank"'),v:g.v,text:g.text,href:g.url});a=soydata.VERY_UNSAFE.ordainSanitizedHtml(c+"\x3c/div\x3e");b.innerHTML=a;return this};f5.prototype.Zo=function(a){return T1(a).toString()};function T4(a){r2.call(this,a);this.Y=a.Y}t(T4,r2);T4.prototype.an=function(){return{title:this.Y.format("shareDesignDialogSharingTitle")}};function h5(a){var b=this;R.call(this,a);a.on("click",".shareDialog__inviteMemberButton",function(a){a=$(a.target).closest(".shareDialog__inviteMemberContainer");a=(new i5(a)).tf();b.trigger(j5,a)})}t(h5,R);
function cca(a){var b=$,c;soy.asserts.assertType(a.js instanceof soydata.SanitizedHtml||a.js instanceof soydata.UnsanitizedText||goog.isString(a.js),"inviteMembersHtml",a.js,"soydata.SanitizedHtml");var d=a.js;soy.asserts.assertType(goog.isString(a.mv)||a.mv instanceof goog.soy.data.SanitizedContent,"inviteMemberButton",a.mv,"string|goog.soy.data.SanitizedContent");c=a.mv;soy.asserts.assertType(goog.isString(a.nv)||a.nv instanceof goog.soy.data.SanitizedContent,"inviteMemberError",a.nv,"string|goog.soy.data.SanitizedContent");
var e=a.nv;soy.asserts.assertType(goog.isString(a.mj)||a.mj instanceof goog.soy.data.SanitizedContent,"avatarUrl",a.mj,"string|goog.soy.data.SanitizedContent");var g=a.mj;a=goog.asserts.assertArray(a.Mr,"expected parameter 'emails' of type list\x3cstring\x3e.");for(var d='\x3cdiv class\x3d"shareDialog__inviteMembersView"\x3e\x3cdiv class\x3d"shareDialog__inviteMembersLabel"\x3e'+soy.$$escapeHtml(d)+'\x3c/div\x3e\x3cdiv class\x3d"shareDialog__inviteMembers"\x3e',h=a.length,k=0;k<h;k++)var l=a[k],d=
d+('\x3cdiv class\x3d"shareDialog__inviteMemberContainer" data-email\x3d"'+soy.$$escapeHtmlAttribute(l)+'"\x3e\x3cdiv class\x3d"shareDialog__inviteMember"\x3e\x3cimg class\x3d"avatar" src\x3d"'+soy.$$escapeHtmlAttribute(soy.$$filterNormalizeMediaUri(g))+'"/\x3e\x3cspan class\x3d"shareDialog__inviteMemberEmail"\x3e'+soy.$$escapeHtml(l)+"\x3c/span\x3e"+XZ({v:"shareDialog__inviteMemberButton buttonSubmittable",text:c})+'\x3c/div\x3e\x3cdiv class\x3d"shareDialog__inviteMemberError" data-error\x3d'+soy.$$escapeHtmlAttributeNospace(e)+
"\x3e\x3c/div\x3e\x3c/div\x3e");c=soydata.VERY_UNSAFE.ordainSanitizedHtml(d+"\x3c/div\x3e\x3c/div\x3e");b=b(c.toString());return new h5(b)}function rca(a,b,c){a=k5(a,b);a.FI.empty();a.Uw(!0,c);a.UC.prop("disabled",!0)}function sca(a,b,c,d){k5(a,b).Uw(!1,c);d&&window.setTimeout(function(){return a.trigger(O4)},1E3)}function k5(a,b){a=a.$el.find('.shareDialog__inviteMemberContainer[data-email\x3d"'+b+'"]');return new i5(a)}var j5="INVITE_MEMBER",O4="OK";
function i5(a){this.$el=a;this.UC=a.find(".shareDialog__inviteMemberButton");this.FI=a.find(".shareDialog__inviteMemberError")}t(i5,fc);i5.prototype.tf=function(){return this.$el.data("email")};i5.prototype.Uw=function(a,b){b&&this.UC.text(b);this.UC.toggleClass("submitting",a)};i5.prototype.le=function(){this.FI.text(this.FI.data("error").toString())};function l5(a,b){var c=this;this.D=a.D;this.j=a.j;this.X=a.X;this.ac=a.ac;this.er=a.er;this.Y=a.Y;this.qG=a.qG;this.Fn=a.Fn;this.view=b;this.view.on(j5,function(a){return tca(c,a)})}function Uba(a,b){new l5(a,b)}
function tca(a,b){rca(a.view,b,a.Y.format("shareDesignDialogiInviteMemberInvitingButton"));a.ZQ().then(function(){var c=nx(ox((new mx).oi(a.D.u()),"Shared_Design_Invite_Accept_Invitation"),[Object.freeze(Hf(lx,{email:b,role:Am}))]);c.resend=!0;return a.X.wY(c)}).tap(function(){a.j.wa(zm(b,"design_shared_dialog"))}).then(function(){a.qG--;sca(a.view,b,a.Y.format("shareDesignDialogInviteMemberSentButton"),0===a.qG);a.Fn()}).catch(function(){var c=k5(a.view,b);c.le();c.Uw(!1);c.UC.prop("disabled",!1)})}
l5.prototype.ZQ=function(){var a=this;if(!this.D.Ph())return P.resolve();var b=gx((new dx).Do(this.D.u()));this.D.ob()||ex(b,this.er+"′s team");return sw(this.X,b).tap(function(){return Lx(a.ac)}).tap(function(){return Mx(a.ac)})};function qba(){return window.twttr&&window.twttr.txt?P.resolve():P.resolve($.ajax({dataType:"script",cache:!0,url:"https://static.canva.com/static/lib/twitter-text-1.9.4.min.js"}))};function m5(a){this.$el=a}t(m5,fc);function n5(a){Ca(a.hasClass("mask2"),'$el must have "mask2" in its classList');return new m5(a)}m5.prototype.show=function(){this.kt(!0);this.$el.hasClass("mask2--blur")&&o5(this,!0)};m5.prototype.hide=function(){this.kt(!1);this.$el.hasClass("mask2--blur")&&o5(this,!1);return Gf(this.$el[0])};m5.prototype.kt=function(a){this.$el.toggleClass("mask2--visible",a);$("body").toggleClass("mask2Visible",a)};m5.prototype.gh=function(){return this.$el.hasClass("mask2--visible")};
function o5(a,b){a.$el.siblings(".mask2Background").toggleClass("mask2Background--blurred",b)};function EZ(a,b){var c=this;R.call(this,a);this.VC=b;this.LW=this.d5.bind(this);this.$el.on("click",function(a){return c.Af(a)});this.VC.on("keyup",this.LW)}t(EZ,R);f=EZ.prototype;f.remove=function(){R.prototype.remove.call(this);this.VC.off("keyup",this.LW)};f.show=function(){var a=this;pl(function(){return n5(a.$el).show()})};f.hide=function(){return n5(this.$el).hide()};f.gh=function(){return n5(this.$el).gh()};f.Af=function(a){!$(a.target).closest(".dialog2__content").length&&p5(this)&&this.trigger(MZ)};
f.d5=function(a){27===a.keyCode&&p5(this)&&this.trigger(MZ)};function p5(a){return!!a.$el.find(".dialog2__closeButton").length}var MZ="CLOSE";function q5(a){var b;soy.asserts.assertType(a.content instanceof soydata.SanitizedHtml||a.content instanceof soydata.UnsanitizedText||goog.isString(a.content),"content",a.content,"soydata.SanitizedHtml");var c=a.content;soy.asserts.assertType(null==a.visible||goog.isBoolean(a.visible)||1===a.visible||0===a.visible,"visible",a.visible,"boolean|null|undefined");var d=a.visible;soy.asserts.assertType(null==a.v||a.v instanceof goog.soy.data.SanitizedContent||goog.isString(a.v),"classes",a.v,"null|string|undefined");
var e=a.v;soy.asserts.assertType(null==a.Am||goog.isBoolean(a.Am)||1===a.Am||0===a.Am,"dark",a.Am,"boolean|null|undefined");var g=a.Am;soy.asserts.assertType(null==a.blur||goog.isBoolean(a.blur)||1===a.blur||0===a.blur,"blur",a.blur,"boolean|null|undefined");a=a.blur;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"mask2'+(d?" mask2--visible":"")+(null==(b=g)||b?" mask2--dark":"")+(null==(b=a)||b?" mask2--blur":"")+(e?" "+soy.$$escapeHtmlAttribute(e):"")+'"\x3e'+soy.$$escapeHtml(c)+
"\x3c/div\x3e")}
function DZ(a){var b;a=a||{};soy.asserts.assertType(null==a.content||a.content instanceof soydata.SanitizedHtml||a.content instanceof soydata.UnsanitizedText||goog.isString(a.content),"content",a.content,"?soydata.SanitizedHtml|string|undefined");var c=a.content;soy.asserts.assertType(null==a.visible||goog.isBoolean(a.visible)||1===a.visible||0===a.visible,"visible",a.visible,"boolean|null|undefined");var d=a.visible;soy.asserts.assertType(null==a.TC||goog.isBoolean(a.TC)||1===a.TC||0===a.TC,"withShadow",
a.TC,"boolean|null|undefined");var e=a.TC;soy.asserts.assertType(null==a.SC||goog.isBoolean(a.SC)||1===a.SC||0===a.SC,"withRoundedCorners",a.SC,"boolean|null|undefined");var g=a.SC;soy.asserts.assertType(null==a.QC||goog.isBoolean(a.QC)||1===a.QC||0===a.QC,"withCloseButton",a.QC,"boolean|null|undefined");var h=a.QC;soy.asserts.assertType(null==a.v||a.v instanceof goog.soy.data.SanitizedContent||goog.isString(a.v),"classes",a.v,"null|string|undefined");var k=a.v;soy.asserts.assertType(null==a.OD||
a.OD instanceof goog.soy.data.SanitizedContent||goog.isString(a.OD),"contentClasses",a.OD,"null|string|undefined");a=a.OD;return soydata.VERY_UNSAFE.ordainSanitizedHtml(q5({visible:d,v:soydata.$$markUnsanitizedTextForInternalBlocks("dialog2"+(k?" "+k:"")),content:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks('\x3cdiv class\x3d"dialog2__container"\x3e\x3cdiv class\x3d"dialog2__box'+(null==(b=e)||b?" dialog2__box--withShadow":"")+(null==(b=g)||b?" dialog2__box--withRoundedBorders":"")+
(a?" "+soy.$$escapeHtmlAttribute(a):"")+'"\x3e'+(null==(b=h)||b?'\x3cbutton class\x3d"dialog2__closeButton"\x3e'+soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3csvg viewBox\x3d"0 0 24 24" xmlns\x3d"http://www.w3.org/2000/svg"\x3e\x3cg fill\x3d"none" fill-rule\x3d"evenodd"\x3e\x3crect fill-opacity\x3d".2" fill\x3d"#000" width\x3d"24" height\x3d"24" rx\x3d"12"/\x3e\x3cpath d\x3d"M4 4h16v16H4"/\x3e\x3cpath fill\x3d"#FFF" d\x3d"M16.5 8.406l-.906-.906L12 11.094 8.406 7.5l-.906.906L11.094 12 7.5 15.594l.906.906L12 12.906l3.594 3.594.906-.906L12.906 12"/\x3e\x3c/g\x3e\x3c/svg\x3e')+
"\x3c/button\x3e":"")+'\x3cdiv class\x3d"dialog2__content"\x3e'+soy.$$escapeHtml(null==(b=c)?"":b)+"\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e")}))};function r5(a){var b=this;this.view=a;this.view.on(MZ,function(){return b.Wv()})}r5.prototype.Wv=function(){this.close()};r5.prototype.close=function(){var a=this;return this.view.hide().then(function(){return a.view.remove()})};function s5(a){this.user=a.user;this.profiles=a.profiles;this.sa=a.sa;this.To=this.user.Nz()}s5.prototype.getItem=function(a){var b=this;return this.To&&this.To[a]?P.resolve(this.To[a]):this.Nz().then(function(c){var d=null;c[a]||(d=b.sa&&b.sa.getItem(b.user.u()+"_"+a));return c[a]||d&&JSON.parse(d)||null})};s5.prototype.setItem=function(a,b){this.sa&&this.sa.setItem(this.user.u()+"_"+a,b);this.To&&(this.To[a]=b);return rw(this.profiles,a,b)};
s5.prototype.removeItem=function(a){this.sa&&this.sa.removeItem(this.user.u()+"_"+a);this.To&&delete this.To[a];return rw(this.profiles,a,null)};s5.prototype.Nz=function(){var a=this;return qw(this.profiles).then(function(b){return a.To=b})};function uca(a){this.view=a.view;this.wb=a.wb}
function x0(a){var b=new s0({Md:a.Md}),c=Ne(a.Y),d=$;soy.asserts.assertType(goog.isString(c)||c instanceof goog.soy.data.SanitizedContent,"emptyPlaceholder",c,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString("shareDialog__emailInput"),"classes","shareDialog__emailInput","null|string|undefined");c=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"tagListInput '+soy.$$escapeHtmlAttribute("shareDialog__emailInput")+'"\x3e\x3cdiv class\x3d"tagListInput__inputContainerWrapper"\x3e\x3cinput type\x3d"text" class\x3d"tagListInput__input" placeholder\x3d"'+soy.$$escapeHtmlAttribute(c)+
'" autocomplete\x3d"off" autocorrect\x3d"off" autocapitalize\x3d"off" spellcheck\x3d"false" /\x3e\x3c/div\x3e\x3c/div\x3e');d=d(c.toString());d=new B2(d);a={pI:b,iR:vca,rN:wca(a.ta,a.X),sN:xca,qN:yca,uK:zca,bL:Ne(a.Y),GN:a.Y.format("shareDesignDialogInviteEmailPlaceholder"),pq:a.pq};a=new M2(a,d);return new uca({view:d,wb:a})}function vca(a){return a.tf()||""}
function xca(a,b){function c(a,b){return-1!==b.toLowerCase().replace(/ |@/g,"").indexOf(a.toLowerCase().replace(/ |@/g,""))}return c(a,b.va().Yf())||c(a,b.va().ob())||c(a,b.tf())}function wca(a,b){var c=null,d=vx(ux((new tx).oi(a))).lg(100);return b.Sr(d).then(function(a){c=a.$u();if(a.Bb())return b.Sr(d.pi(a.Bb()))}).then(function(a){a&&(c=c.concat(a.$u()));return c})}
function yca(a,b){var c=$,d=a.va().ob()||"",e=a.tf()||"";a=a.va().sp()&&a.va().sp().sizes.get("50").ma()||"";soy.asserts.assertType(goog.isString(a)||a instanceof goog.soy.data.SanitizedContent,"avatarUrl",a,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(d)||d instanceof goog.soy.data.SanitizedContent,"lead",d,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(e)||e instanceof goog.soy.data.SanitizedContent,"desc",e,"string|goog.soy.data.SanitizedContent");
soy.asserts.assertType(goog.isNumber(b),"modelId",b,"number");b=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"menuListElement" data-model-id\x3d"'+soy.$$escapeHtmlAttribute(b)+'"\x3e\x3cimg class\x3d"avatar" src\x3d"'+soy.$$escapeHtmlAttribute(soy.$$filterNormalizeMediaUri(a))+'" /\x3e\x3cdiv class\x3d"menuListElement__right"\x3e\x3cspan class\x3d"lead"\x3e'+soy.$$escapeHtml(d)+'\x3c/span\x3e\x3cspan class\x3d"desc"\x3e'+soy.$$escapeHtml(e)+"\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e");c=
c(b.toString());return new mQ(c,!0,!1)}function zca(a){return a&&a.va().ob()||""};function Aca(a){var b=this;this.view=a;this.NJ=null;a.on(t5,function(){Fa(null!=b.NJ,"A callback must be provided");b.NJ();b.view.hide()});a.on(u5,function(){return a.hide()})}
function w0(a){var b=a.i.format("shareDesignDialogConnectYourAccount"),c=a.i.format("shareDesignDialogConnectYourAccountButton");a=$;soy.asserts.assertType(goog.isString(b)||b instanceof goog.soy.data.SanitizedContent,"connectAccountMessage",b,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(c)||c instanceof goog.soy.data.SanitizedContent,"connectButtonLabel",c,"string|goog.soy.data.SanitizedContent");b=soydata.VERY_UNSAFE.ordainSanitizedHtml(q5({content:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks('\x3cdiv class\x3d"connectAccountPopup"\x3e'+
soy.$$escapeHtml(b)+XZ({text:c,v:"connectAccountPopup__connectButton",block:!0})+"\x3c/div\x3e"),Am:!1}));b=a(b.toString());b=new v5(b);return{wb:new Aca(b),view:b}}function Kba(a,b){a.view.setPosition(b);a.view.show()}function Iba(a,b){a.NJ=b};function v5(a){var b=this;R.call(this,a);a.on("click",".connectAccountPopup__connectButton",function(){return b.trigger(t5)});a.on("click",function(a){return b.Af(a)})}t(v5,R);v5.prototype.setPosition=function(a){this.$el.find(".connectAccountPopup").css({left:a.x,top:a.y})};v5.prototype.show=function(){n5(this.$el).show()};v5.prototype.hide=function(){n5(this.$el).hide()};v5.prototype.Af=function(a){!$(a.target).closest(".connectAccountPopup").length&&this.trigger(u5)};var t5="CONNECT",u5="CLOSE";function w5(a,b,c){R.call(this,a);this.Ir=b;this.IQ=c}t(w5,R);function x5(a,b,c,d){var e=this;this.view=b;this.zb=c;this.vC=d;this.j=a.j;this.tt=a.tt;u3(this.vC,function(a){return v3(e.tt,a).then(function(){return e.UN(a)})})}
function u0(a){var b=a.Y.format("shareDesignDialogTeamInvitesTitle"),c={uj:a.ff.uj(),md:a.ff.md(),br:a.ff.br(),yV:w3(a.Vi),Ko:a.ff.Ko()},d=$;soy.asserts.assertType(goog.isString(b)||b instanceof goog.soy.data.SanitizedContent,"title",b,"string|goog.soy.data.SanitizedContent");c=goog.asserts.assertObject(c,"expected parameter 'teamInviteFormModel' of type [addAnotherButtonLabel: string, emailInputPlaceholder: string, inputModel: list\x3c[modelId: float|int]\x3e, submitButtonLabel: string, upgradeMessage: string].");b=
soydata.VERY_UNSAFE.ordainSanitizedHtml(DZ({v:"shareTeamInvitesDialog",content:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks('\x3cdiv class\x3d"shareTeamInvitesDialog__content"\x3e\x3cdiv class\x3d"shareTeamInvitesDialog__title"\x3e'+soy.$$escapeHtml(b)+"\x3c/div\x3e"+x3(c)+"\x3c/div\x3e")}));d=d(b.toString());b=new EZ(d,$(document));c=new y3(d.find(".teamInviteForm"));d=new w5(d,b,c);b=new r5(d.Ir);c=a.aK(d.IQ);a=new x5(a,d,b,c);return{view:d,wb:a}}
x5.prototype.show=function(){this.j.wa(new fm("team_invites_dialog_freeform_shown"));this.view.Ir.show()};x5.prototype.Ae=function(){this.vC.Ae()};x5.prototype.UN=function(a){var b=this;a.forEach(function(a){return b.j.wa(zm(a,"design_shared_dialog_freeform"))});this.view.Ir.hide().then(function(){return b.view.Ir.remove()})};function y5(a){this.yo=a.yo;this.Pp=!1}y5.prototype.send=function(a,b){return this.init().then(function(c){return new P(function(d,e){c.sendSMS(a,b,{},function(a){if(a)return e(a instanceof Error?a:Error(a));d()})})})};y5.prototype.init=function(){var a=this;return this.Pp?P.resolve(z5()):Bca().then(function(b){return new P(function(c,d){b.init(a.yo,{},function(e){if(e)return d(e instanceof Error?e:Error(e));a.Pp=!0;c(b)})})})};
function Bca(){return document.getElementById("branch_snippet")?P.resolve(z5()):new P(function(a,b){var c=document.createElement("script");c.id="branch_snippet";c.src="https://cdn.branch.io/branch-latest.min.js";c.async=!0;c.onload=function(){return a(z5())};c.onerror=function(){b(Error("Unable to load the branch API"))};document.body.appendChild(c)})}function z5(){Fa("undefined"!==typeof window.branch);return window.branch};function Cca(a){this.document=a.document;this.Hb=a.Hb;this.tR=a.tR}function C0(a){return new Cca({document:a.document,Hb:a.Hb,tR:Jz})}function $4(a,b){var c;a.document.isEmpty()?c="EMPTY_DOC":a.Hb.vv()?iq(a.document)?c="UPLOADING":0===b.length&&(c="LICENSE_NO_OPTIONS"):c="SAVING";return c?P.reject(c):P.resolve()}function j_(a){if(!a.Hb.Ti())return P.resolve();a.Hb.save();return a.tR(M.Vx).bind(a).catch(function(){throw this.Hb.vv()?"SAVING":"VERSION_CONFLICT";})}
function S4(a){return{lb:a.Hb.fc(),Wb:a.Hb.Td()}};function A5(a){this.view=a.view;this.G=a.G;this.bN=a.bN;this.Ba=Pc(a.i);this.Rs=a.Rs;this.nG=P.resolve();this.Ub=a.Ub;this.KO=a.KO;this.Vd=a.Vd||!1;this.Ga=a.Ga;this.sa=a.sa;this.document=a.document;this.Hb=a.Hb;this.Qb=a.Qb;this.ot=Infinity;this.cq=this.fq=!1;this.ae=a.ae;this.qd=a.qd;this.j=a.j;this.XO=a.XO;this.Jl=null;this.X=a.X;this.aa=a.aa;this.We=a.We;this.Tt=a.Tt;this.td=a.td;this.O={error:a.O.error,Cg:a.O.Cg,pp:a.O.pp,j2:null};this.rL=a.rL;this.KJ=this.yj=this.iz=null;this.W=a.W;this.H=a.H;
this.uc=a.uc;this.view.on("cancel",this.cancel.bind(this));this.view.on("ok",this.ok.bind(this));this.view.on("retry",this.vV.bind(this))}
function m_(a){function b(){return new B5({bc:a.bc,H:a.H,j:a.j,Hb:a.Hb,i:a.i,Vd:!!a.Vd,Dl:a.Dl,G:a.G,W:a.W})}var c=Pc(a.i),d=ad(a.i),e=(new U1({Ed:new Fy({style:Gy,G:a.G}),G:a.G,id:"exportDialog"})).render({Io:c.Io(),Kg:c.Kg()}),g=["ONE_USE","ROYALTY_FREE","EXTENDED"],h=Gx(a.Ga).fa().u(),k=new LT,d=FU({D:h,nj:a.aa,Re:!1,cf:a.cb,Va:d,j:a.j}),h={error:(new S2({Ba:c,view:new T2})).init(),Cg:(new HU({j:a.j,aa:a.aa,X:a.X,rb:a.rb,Ub:a.Ub,i:a.i,la:Hx(a.Ga).u(),ta:h,af:!0,view:new GU({pd:d.wb,Ji:d.view}),
Qb:k,lb:a.Hb.fc(),Ve:Gx(a.Ga).fa().Ph(),H:a.H,uc:a.uc})).init(),pp:new r2({G:a.G,Ba:c,view:new s2})},l=fba(a);return new A5({view:e,i:a.i,j:a.j,Hb:a.Hb,document:a.document,Ga:a.Ga,bc:a.bc,qd:a.qd,aa:a.aa,X:a.X,cb:a.cb,rb:a.rb,G:a.G,sa:a.sa,Vd:a.Vd,bN:function(){return new Q2({i:a.i,view:new R2({G:a.G}),DQ:g})},Ub:a.Ub,XO:function(b){return new Y1({j:a.j,uL:b})},We:g,Rs:new t2(Vc(a.i)),ae:a.ae,Qb:k,td:a.td,O:h,rL:function(d){return a.GV?P.resolve(new C5({MM:"PDF"===a.ae.format,Ba:c})):d.fq||d.cq?P.resolve(b()):
gba(l,{ET:function(){d.ok()}}).then(function(a){return a||b()})},e5:a.e5,KO:!!a.GV,Tt:a.Tt,W:a.W,H:a.H,uc:a.uc})}f=A5.prototype;f.remove=function(){this.iz&&this.iz.cancel();this.view.remove().bind(this).then(function(){_.values(this.O).forEach(function(a){a&&a.remove()})})};f.OQ=function(a){this.KO||(1>$("#canvaDownloadIframe").length&&$("\x3ciframe /\x3e",{id:"canvaDownloadIframe"}).appendTo("body"),$("#canvaDownloadIframe").attr("src",a),this.Vd&&Yl(this.j,"download","export_dialog","first_time_publish"))};
f.ex=function(){var a;if(Infinity>this.ot){var b=moment.duration(this.ot);a=Math.floor(b.asHours());b=b.minutes();a=0<a?this.Ba.format("publishViewExportingHoursRemainingLicenseHeader",a,b):this.Ba.format("publishViewExportingMinutesRemainingLicenseHeader",b);b=this.Ba.format("publishViewExportingLicensePurchaseDetails");soy.asserts.assertType(goog.isString(a)||a instanceof goog.soy.data.SanitizedContent,"title",a,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(b)||b instanceof
goog.soy.data.SanitizedContent,"message",b,"string|goog.soy.data.SanitizedContent");a=soydata.VERY_UNSAFE.ordainSanitizedHtml("\x3ch3\x3e"+soy.$$escapeHtml(a)+"\x3c/h3\x3e\x3cp\x3e"+soy.$$escapeHtml(b)+"\x3c/p\x3e").toString()}else a=this.Rs.next();W1(this.view,a);this.nG.then(this.view.ex.bind(this.view))};f.aA=function(){this.nG.then(this.view.aA.bind(this.view))};
f.start=function(){return new P(function(a){this.yj=null;this.KJ=a;this.Jl=this.XO(this.ae.format);this.nG=new P(function(a){this.G.setTimeout(a,650)}.bind(this));this.vV()}.bind(this))};f.vV=function(){$4(this.td,this.We).bind(this).then(this.N2).then(this.c3).then(this.q0).then(this.I2).then(this.VY.bind(this,"PRINT")).catch(this.gQ)};f.N2=function(){if(!this.Hb.Ti())return P.resolve();this.O.pp.WE="SAVING";V1(this.view,this.O.pp);this.Jl.track("save");return j_(this.td)};
f.c3=function(){this.O.pp.WE="EXPORTING";V1(this.view,this.O.pp);this.Jl.track("prepare")};f.gQ=function(a){this.aA();var b=this.O.error;b.rw=Qaa(b,a);V1(this.view,this.O.error);this.Jl.track("error",{errorType:a})};f.G0=function(){this.ot=Infinity;this.ex();V1(this.view,this.O.pp);this.VY("SCREEN").bind(this).catch(this.gQ)};
f.q0=function(){var a=this.Hb.Td(),b=new Lj({document:this.Hb.fc(),Wb:a,O:this.ae.O,IF:!0,JF:!0}),c=Gx(this.Ga).fa().u(),b=Aj(this.aa,b).catch(function(a){if(a instanceof Vk)throw"VERSION_CONFLICT";throw"BACKGROUND";}),c=zj(this.aa,new wi({mm:[c],Z:null,limit:1})).catch(function(){throw"BACKGROUND";});return P.all([b,c]).bind(this).spread(function(b,c){if(b.Wb!==a)throw"VERSION_CONFLICT";MT(this.Qb,{items:b.items,We:this.We,Cv:b.Ml,bm:!!this.W.H.get(tg)});this.ot=QT(this.Qb);this.O.Cg.ea=0<c.Kt.length?
c.Kt[0]:null;return b.DB})};f.I2=function(a){return a?(0<PT(this.Qb)?Dca(this):Eca(this)).bind(this).then(function(a){this.fq=0<=a.We.indexOf("ROYALTY_FREE");this.cq=0<=a.We.indexOf("EXTENDED");this.ot=a.ot}).then(this.W8):(this.ex(),P.resolve())};function Eca(a){Fa(0===PT(a.Qb),"cannot purchase premium elements in background");return o2(a.O.Cg).bind(a).catch(function(){this.gQ("BACKGROUND_PAYMENT")})}
function Dca(a){return new P(function(a){QY(this.Ub,"contextTipRoyaltyFreePaymentOption");this.aA();Fca(this).bind(this).then(function(){V1(this.view,this.O.Cg).bind(this).then(function(){return l2(this.O.Cg)}).then(function(a){a||NY(this.Ub,"contextTipRoyaltyFreePaymentOption")});this.Jl.track("payment");this.O.Cg.once("clickDraft",this.G0.bind(this));this.O.Cg.once("paymentComplete",a)})}.bind(a))}f.W8=function(){this.ex();V1(this.view,this.O.pp)};
function Fca(a){return Gca(a).bind(a).then(function(a){if(a)return Hca(this).bind(this).then(this.w3)})}function D5(a){return"hasSeenPublishPaymentLicensesOnboarding:"+Hx(a.Ga).u()}function Gca(a){var b=D5(a),c=!!Hx(a.Ga).Nz().hasSeenPublishPaymentLicensesOnboarding,b=a.sa&&!!Lo(a.sa,b);return P.resolve(!c&&!b&&0<PT(a.Qb))}f.w3=function(){var a=D5(this);this.sa&&So(this.sa,a);rw(this.X,"hasSeenPublishPaymentLicensesOnboarding",!0)};
function Hca(a){return new P(function(a){this.Jl.track("onboard_licenses");this.nG.bind(this).then(function(){var c=this.bN().init();c.show();c.on("complete",a)})}.bind(a))}
f.VY=function(a){var b=this.Hb.fc(),c=this.Hb.Td();this.Jl.track("export",{exportType:a});var d=this.ae.format,e=this.ae.ss,g;a:switch(a){case "SCREEN":case "CUSTOM":g="SCREEN";break a;case "PRINT":g="PRINT";break a;default:throw Error("unknown export type: "+a);}var h=new Kv({type:a,format:d,ss:e,EA:g,cu:!!this.ae.cu,Dr:!!this.ae.Dr,Us:!!this.ae.Us,xx:this.ae.xx,O:this.ae.O}),k=h.EA===Tg;a=new wv({Pk:b,zK:c,uQ:h,CP:"WEB_1"});Fa(null==this.iz);return this.iz=this.qd.UD(a).bind(this).tap(function(a){0<
a.aB.UE.length&&(this.yj=a.aB.UE[0].url,this.rL(this).bind(this).then(function(a){a.VP(this.yj);a.YP(this.fq,this.cq);this.view.$el.toggleClass("exportDialog--exportComplete",!0);V1(this.view,a);if(a.JD){var b=a.JD;this.view.$(".dialog").addClass(b)}this.Jl.track("complete");this.OQ(this.yj);var b=this.j,c=Ml("Download Design",{format:h.format,watermark:k,destination:"download",design:b.te,template:b.Li,transparent_background:h.Us,crop_marks:h.Dr,page_count:h.O.length,is_print_pdf:this.Tt.MV});b.track("design_publish",
c);this.O.j2=a}))}).catch(P.CancellationError,function(){}).finally(function(){this.iz=null}).catch(function(){return P.reject("EXPORTING")})};f.NH=function(){(this.fq||this.cq)&&PY(this.Ub)};f.cancel=function(){this.Jl.CC("cancel");this.finally()};f.ok=function(){this.Jl.CC("ok");this.finally()};f.finally=function(){Fa(null!=this.KJ);this.KJ(this.yj);this.NH();this.remove()};function B5(){}B5=X1.extend({className:"exporting complete"});f=B5.prototype;
f.events=function(){return{"click .openUploadsTab":this.J4,"click .button--homepageHint":this.C4}};f.initialize=function(a){this.bc=a.bc;this.H=a.H;this.i=a.i;this.Ba=Pc(a.i);this.Ka=Tc(a.i);this.j=a.j;this.cq=this.fq=!1;this.yj=null;this.Vd=a.Vd;this.Dl=a.Dl;this.G=a.G;this.W=a.W;var b=v_,c=a.Hb;a=a.i;a.Hf||(a.Hf=new Ke(a.config));this.cQ=new b({location:"publish",Hb:c,Hf:a.Hf});this.listenTo(this.cQ,{shareClicked:this.bQ,emailSend:this.b2,shareViewResize:this.ju})};
f.refresh=function(){this.render();return P.resolve()};
f.render=function(){var a=this.el,b,c=this.bn();soy.asserts.assertType(c.Wy instanceof soydata.SanitizedHtml||c.Wy instanceof soydata.UnsanitizedText||goog.isString(c.Wy),"downloadStartedHtml",c.Wy,"soydata.SanitizedHtml");b=c.Wy;soy.asserts.assertType(goog.isBoolean(c.dC)||1===c.dC||0===c.dC,"showLicenseHint",c.dC,"boolean");var d=!!c.dC;soy.asserts.assertType(c.yA instanceof soydata.SanitizedHtml||c.yA instanceof soydata.UnsanitizedText||goog.isString(c.yA),"licenseHint",c.yA,"soydata.SanitizedHtml");
var e=c.yA;soy.asserts.assertType(goog.isBoolean(c.Vd)||1===c.Vd||0===c.Vd,"showHomepageHints",c.Vd,"boolean");var g=!!c.Vd;soy.asserts.assertType(goog.isString(c.iv)||c.iv instanceof goog.soy.data.SanitizedContent,"hintSeeAllDesigns",c.iv,"string|goog.soy.data.SanitizedContent");c=c.iv;b=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cp class\x3d"intro"\x3e'+soy.$$escapeHtml(b)+"\x3c/p\x3e"+(g?"":'\x3cdiv class\x3d"socialShare"\x3e\x3c/div\x3e')+(d?'\x3cp class\x3d"feedback feedback--success"\x3e'+
soy.$$escapeHtml(e)+"\x3c/p\x3e":"")+(g?XZ({tagName:"a",href:"/",v:"button--homepageHint",text:c}):""));a.innerHTML=b;this.$(".socialShare").html(this.cQ.render().el);return this};f.VP=function(a){this.yj=a};f.YP=function(a,b){this.fq=a;this.cq=b};f.J4=function(){qM.call($("#objectPanel .uploads a"),this.i);this.close()};f.C4=function(){Yl(this.j,"see_your_designs","export_complete_dialog","first_time_publish")};f.ju=function(){this.trigger("contentResize")};
f.close=function(){this.trigger("done");this.Vd&&Zl(this.j,"export_complete","export_dialog","first_time_publish")};f.bQ=function(){Fa(null!=this.Dl);this.close();this.G.setTimeout(this.Dl,300)};
f.b2=function(a){var b=this;this.$(".shareViaEmailForm button").addClass("sending");Wl(this.j);Ux(this.bc,new Ay({lb:ub.fc(),mode:a.mode,Xg:a.Xg,Mr:a.a2,MC:"publish"})).bind(this).finally(function(){this.$(".shareViaEmailForm button").removeClass("sending")}).then(function(){this.$(".shareViaEmailForm button").addClass("sent");this.G.setTimeout(this.trigger.bind(this,"done"),600)}).catch(function(){this.cQ.trigger("emailSendingError",b.Ba.format("publishViewEmailSendingError"))})};f.Zo=function(a){return T1(a).toString()};
f.an=function(){return{title:this.Ba.format("publishViewDesignReady")}};
f.bn=function(){if(null==this.yj)throw Error("export url must be set");var a="";if(this.fq&&this.cq)var a=this.Ka.vd(),b=this.Ka.Bc(),a=this.Ba.format("publishViewUnlimitedUseCombinedHint",a,b);else this.fq?a=Xe(this.Ba,this.Ka.Bc()):this.cq&&(a=Xe(this.Ba,this.Ka.vd()));return{Wy:soydata.VERY_UNSAFE.ordainSanitizedHtml(this.Ba.format("publishViewDownloadStarted",this.yj)),dC:!!a,yA:soydata.VERY_UNSAFE.ordainSanitizedHtml(a),Vd:this.Vd,iv:this.Ba.iv()}};function C5(){}C5=X1.extend({className:"exporting complete"});
f=C5.prototype;f.initialize=function(a){this.Ba=a.Ba;this.yj=null;this.MM=a.MM};f.VP=function(a){this.yj=a};f.YP=function(){};f.refresh=function(){this.render();return P.resolve()};f.render=function(){this.el.innerHTML=Raa(this.bn());window.setTimeout(function(){this.trigger("done")}.bind(this),1E3);return this};f.events=function(){return{"click .useExportButton":function(){this.trigger("done")}}};f.bn=function(){return{message:this.Ba.format("publishViewExportCompleteEmbedded"),Kg:this.Ba.Kg()}};
f.Zo=function(a){return T1(a).toString()};f.an=function(){return{title:this.MM?this.Ba.format("publishViewExportCompletePdf"):this.Ba.format("publishViewExportCompleteImage")}};function WW(a,b){this.mO=a.mO;this.X=a.X;this.i=a.i;this.view=b}
WW.prototype.confirm=function(){var a=this;return new P(function(b,c){if(!a.mO)return b(!0);qw(a.X).then(function(d){if(d.neverShowReplacePageContentWarning)return b(!0);up(a.view).then(function(c){if(a.view.oG){rw(a.X,"neverShowReplacePageContentWarning",!0);var d=$("#documentFileMenuUndoButton"),h=d.offset();(new KY({Ue:$(document),Me:$("body"),Dy:a.i.format("editorReplaceContentContextTipText"),$c:a.i.format("editorReplaceContentContextTipButtonText"),width:265,style:"contextTipOnboarding topArrow"})).Zw(h.left-
4,h.top+ +d.height()+4,!1)}b(2===c)}).catch(function(a){return c(a)})})})};function VW(a){rp.call(this,{className:"replaceContentDialog",G:a.G,$e:!1,title:a.rR});this.oG=!1;var b=$,c;c=a.J1;var d=a.Q3,e=a.e8;a=a.qR;soy.asserts.assertType(goog.isString(c)||c instanceof goog.soy.data.SanitizedContent,"doNotReplaceButton",c,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(d)||d instanceof goog.soy.data.SanitizedContent,"neverShowAgainLabel",d,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(e)||e instanceof goog.soy.data.SanitizedContent,
"replaceButton",e,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(a)||a instanceof goog.soy.data.SanitizedContent,"warningText",a,"string|goog.soy.data.SanitizedContent");c=soydata.VERY_UNSAFE.ordainSanitizedHtml("\x3cp\x3e"+soy.$$escapeHtml(a)+"\x3c/p\x3e"+XZ({v:"replaceContentDialog__cancelButton buttonSecondary",text:c})+XZ({v:"replaceContentDialog__replaceButton",text:e})+'\x3cdiv\x3e\x3clabel\x3e\x3cinput type\x3d"checkbox" /\x3e'+soy.$$escapeHtml(d)+"\x3c/label\x3e\x3c/div\x3e");
this.content=b(c.toString())}t(VW,rp);VW.prototype.events=function(){return _.extend(rp.prototype.events.call(this),{"click .replaceContentDialog__replaceButton":this.ok,"click .replaceContentDialog__cancelButton":this.cancel,'click input[type\x3d"checkbox"]':this.C9})};VW.prototype.render=function(){rp.prototype.render.call(this);return this};VW.prototype.C9=function(a){this.oG=a.target.checked};function b1(){}b1=Backbone.View.extend({className:"linearProgress"});f=b1.prototype;
f.sJ=function(a){this.TY=(100/a.length).toFixed(4)+"%";return $("\x3cul\x3e"+a.map(function(a){return'\x3cli class\x3d"stage '+a.v.join(" ")+'"\x3e\x3cspan class\x3d"label"\x3e\x3cspan class\x3d"text"\x3e'+a.label+'\x3c/span\x3e\x3c/span\x3e\x3cspan class\x3d"wipe"\x3e\x3cspan class\x3d"inner"\x3e\x3c/span\x3e\x3c/span\x3e\x3cspan class\x3d"bar"\x3e\x3c/span\x3e\x3cspan class\x3d"light"\x3e\x3c/span\x3e\x3c/li\x3e'}).join("")+"\x3c/ul\x3e")};f.initialize=function(a){this.TY="0%";this.$el.html(this.sJ(a.i9))};
f.render=function(a){if("error"===a)return this.$el.addClass("out"),this.$el.addClass("error"),this;var b=this.$el.find(".stage."+a);if(b.hasClass("active"))return this;b.addClass("preparing");window.setTimeout(function(){b.addClass("active").removeClass("preparing")},800);b.prevAll().addClass("past").removeClass("active");return this};
f.show=function(a){a.append(this.$el);var b=this;this.$(".stage:first-child").addClass("appear").addClass("preparing");window.setTimeout(function(){b.$(".stage:first-child").addClass("active").removeClass("preparing")},1E3);this.$(".stage:not(:first-child)").each(function(a){var d=$(this);d.css("width",b.TY);window.setTimeout(function(){d.addClass("appear")},100*a)})};f.remove=function(){};function aS(){}aS=Backbone.View.extend({tagName:"div",className:"fxPanel"});f=aS.prototype;f.events=function(){var a={};a["click .preset"]=this.O0;a["click .presets .scrollLeft"]=this.u8;a["click .presets .scrollRight"]=this.v8;a["input .range .trackContainer \x3e input[type\x3drange]"]=this.OW;a["change .range .trackContainer \x3e input[type\x3drange]"]=this.OW;a["click .hex"]=this.I0;a["click .toggleAdvanced"]=this.B9;return a};
f.initialize=function(a){this.HO=a.HO;this.fD=this.model.filter.name;this.oH=null;this.GM=!1;this.EX={};this.uR=this.Rn=0;this.qf=a.qf;this.listenTo(this.model,"change",this.refresh);this.listenTo(L,"beforeOperationStackPop",this.wB);this.listenTo(T,"hideContextualControlsRequested",this.remove);this.render()};
f.render=function(){var a=this;$("#editorLogo").addClass("noAnimate");$(".imageToolbarCrop").removeClass("enabled").addClass("disabled");this.$el.html(this.template({advancedOptionsMsg:ee(this.qf),filterCodeMsg:this.qf.format("editorToolbarFilterCode")}));this.$el.addClass("toolbar--fx");HI(this.model);window.setTimeout(function(){Ica(a);Jca(a);E5(a);a.refresh()},300);this.oH=this.model.rQ;return this};
f.remove=function(){$("#editorLogo").removeClass("noAnimate");this.wB();$(".imageToolbarCrop").removeClass("disabled").addClass("enabled");this.model&&UC(this.model);Backbone.View.prototype.remove.call(this)};function bS(a,b){a.$el.css("top",b.bottom+23).css("left",b.left)}
f.refresh=function(){this.fD=this.model.filter.name;this.kaa||Kca(this);Lca(this);F5(this);var a="Normal"==this.model.filter.name,b=!this.model.NM();this.$el.toggleClass("hideIntensity",a);this.$el.toggleClass("disableIntensity",b);this.$el.find(".range_intensity .sliderInput").prop("disabled",b||a);E5(this)};function G5(){return"intensity brightness contrast saturation tint blur x-process vignette".split(" ")}
function Ica(a){var b=a.$el.find(".presets .presetsButtons");b.empty();$("#editorLogo").addClass("noAnimate");var c=a.model.Gc();if(c){var c=c[QC].ma(),d=$(_.template('\x3cli class\x3d"preset preset_Normal"\x3e\x3cdiv class\x3d"image"\x3e\x3cdiv class\x3d"inner"\x3e\x3cimg\x3e\x3c/div\x3e\x3c/div\x3e\x3cspan class\x3d"title"\x3e\x3c%- label %\x3e\x3c/span\x3e\x3c/li\x3e')({label:fe(a.qf,"Normal")})),e=d.find("img");e.css("opacity",0);e.one("load",function(){var a=$(e).get(0).naturalWidth,b=$(e).get(0).naturalHeight,
a=new V(0,0,a,b);Pm(a,new V(0,0,60,60));e.css(a.serialize());e.css("opacity",1)});DC(EC,e,c);b.append(d);b.find("."+H5(a.fD)).addClass("active")}a.HO.sort(function(b,c){b=fe(a.qf,b.name);c=fe(a.qf,c.name);return b<c?-1:1}).forEach(function(c,d){var e=$('\x3cli class\x3d"preset '+Mca(a,c)+'"\x3e\x3c/li\x3e');b.append(e);window.setTimeout(function(){Nca(a,e,c)},300*d)})}
function Nca(a,b,c){a.model.QK(c,!0,function(d){var e=$('\x3cimg src\x3d"'+d.src+'" /\x3e');e.css("opacity",0);e.one("load",function(){var a=$(e).get(0).naturalWidth,b=$(e).get(0).naturalHeight,a=new V(0,0,a,b);Pm(a,new V(0,0,60,60));e.css(a.serialize());e.css("opacity",1)});var g=$('\x3cdiv class\x3d"inner"\x3e\x3c/div\x3e'),h=$('\x3cdiv class\x3d"vignette"\x3e\x3c/div\x3e'),k=$('\x3cdiv class\x3d"image"\x3e\x3c/div\x3e');h.css("background-image","radial-gradient("+d.c$+")");k.append(g);g.append(e);
g.append(h);b.append(k);b.append($('\x3cspan class\x3d"title"\x3e\x3c/span\x3e').text(fe(a.qf,c.name)));c.name===a.fD&&b.addClass("active")})}
function F5(a){var b=a.$el.find(".presets .presetsButtons");b.find(".preset").removeClass("active");b.find("."+H5(a.fD)).addClass("active");0===a.Rn?a.$el.find(".scrollLeft").addClass("disabled"):a.$el.find(".scrollLeft").removeClass("disabled");a.Rn===a.$el.find(".preset").length-5?a.$el.find(".scrollRight").addClass("disabled"):a.$el.find(".scrollRight").removeClass("disabled")}
function Jca(a){function b(a){var b=0,c=100;"vignette"!==a&&"intensity"!==a&&(b=-100,c=100);return $('\x3cinput class\x3d"sliderInput" type\x3d"range" step\x3d"1" min\x3d"'+b+'" max\x3d"'+c+'" value\x3d"0" /\x3e')}var c=a.$el.find(".ranges");c.empty();G5().forEach(function(d){var e=ge(a.qf,d),e=$(_.template('\x3cli class\x3d"range \x3c%- rangeClass %\x3e"\x3e\x3clabel\x3e\x3c%- rangeName %\x3e\x3c/label\x3e\x3c/li\x3e')({rangeClass:I5(d),rangeName:e})),g=b(d),h=$("\x3cspan\x3e").addClass("rangeTrack"),
k=$('\x3cspan class\x3d"valueDisplay"\x3e0\x3c/span\x3e'),l=$('\x3cdiv class\x3d"trackContainer"\x3e\x3c/div\x3e');l.append(g);l.append(h);("vignette"!=d?[0]:[]).forEach(function(a){var b=$('\x3cspan class\x3d"snapGuide"\x3e\x3c/span\x3e');b.css("margin-left",a);l.append(b)});e.append(l);e.append(k);c.append(e)})}function Kca(a){var b=a.$el.find(".ranges");G5().forEach(function(c){b.find("."+I5(c)+" input").val(a.model.getByName(c.replace(/[^a-z]/gi,""))||0)})}
function Lca(a){var b=a.$el.find(".ranges");G5().forEach(function(c){var d=b.find("."+I5(c)+" .valueDisplay");c=parseInt(a.model.getByName(c.replace(/[^a-z]/gi,"")),10);isNaN(c)&&(c=0);d.html(0<c?"+"+c:""+c)})}function E5(a){a.$el.find("input.hex").val(a.model.filter.qa())}function Mca(a,b){var c=H5(b.name);a.EX[c]=b;return c}function H5(a){return"preset_"+a.replace(/[^a-z0-9]/gi,"")}function I5(a){return"range_"+a.replace(/[^a-z0-9]/gi,"")}
f.O0=function(a){var b=this,c=$(a.target);c.hasClass("preset")||(c=c.parents(".preset").first());c.hasClass("active")||(c.addClass("transitioning"),window.setTimeout(function(){c.removeClass("transitioning").addClass("active")},50));a=c.attr("class").split(/\s+/).filter(function(a){return/preset_[a-z0-9]+/gi.test(a)});if(1===a.length){a=a[0];if("preset_Normal"==a)LI(this.model);else{var d=this.EX[a];window.setTimeout(function(){KI(b.model,d)},150)}window.clearTimeout(this.uR)}};
f.OW=function(a){function b(){$.data(d,"FxPanelView:snapRange",0);$.data(d,"FxPanelView:snapReset",0)}var c=this,d=a.target;a=d.valueAsNumber;var e=/(?:^|\s)range_(\S+)/.exec(d.parentNode.parentNode.className),g=$.data(d,"FxPanelView:snapRange")||0,h=$.data(d,"FxPanelView:snapReset")||0;0<a*g&&14>=a*g?(a=0,d.value=a,0==h&&(h=window.setTimeout(b,750),$.data(d,"FxPanelView:snapReset",h))):0!=a&&$.data(d,"FxPanelView:snapRange",0>a?1:-1);e&&(this.model.BH(e[1],a),window.clearTimeout(this.uR),this.uR=
window.setTimeout(function(){c.model.update(!0)},400))};f.I0=function(){function a(){d.off("blur");d.off("keypress");var a=d.val().replace(/[^a-z0-9]/gi,"");d.val(a).blur();var b=c.model,a=vI(a);isNaN(a.blur*a.brightness*a.contrast*a.saturation*a.gf*a.vignette*a.Nf)||(b.filter=a,b.sj=!0,b.update(!0));c.GM=!1}function b(b){13==b.which&&a()}if(!this.GM){this.GM=!0;var c=this,d=this.$el.find("input.hex");d.val(this.model.qa()).select().focus();d.on("blur",a);d.on("keypress",b)}};
f.u8=function(){0!==this.Rn&&(this.Rn-=3,J5(this))};f.v8=function(){var a=parseInt($(".preset").length,10);this.Rn<a-5&&(this.Rn+=3,J5(this))};function J5(a){var b=-72*a.Rn;a.$el.find(".preset").css("-webkit-transform","translateX("+b+"px)").css("transform","translateX("+b+"px)");F5(a)}
f.B9=function(){var a=this;this.$el.hasClass("showAdvanced")?(this.$el.find(".toggleAdvanced .text").text(ee(this.qf)),this.$el.find(".filterCode").removeClass("big").addClass("compact"),this.$el.removeClass("in").removeClass("showAdvanced")):(this.$el.find(".toggleAdvanced .text").text(this.qf.format("editorToolbarFilterOptionSimpler")),this.$el.addClass("showAdvanced"),P.delay(300).then(function(){a.$el.addClass("in")}),this.$el.find(".filterCode").removeClass("compact").addClass("big"))};
f.wB=function(){var a=I.Aa().Ta()[0],b=this.model.rQ,c=!a,d=_.isEqual(b,this.oH);c||d||(a={placeholderIndex:a.Fc(),elementIndex:a.K(),pageIndex:jp(I,a.R()),"new":{filter:b},old:{filter:this.oH}},L.register(new Y(11,a)),this.oH=b)};f.template=_.template('\x3cul class\x3d"presets"\x3e\x3cli class\x3d"scrollLeft"\x3e\x26#xe000;\x3c/li\x3e\x3cli class\x3d"presets_container"\x3e\x3cul class\x3d"presetsButtons"\x3e\x3c/ul\x3e\x3c/li\x3e\x3cli class\x3d"scrollRight"\x3e\x26#xe000;\x3c/li\x3e\x3c/ul\x3e\x3cdiv class\x3d"rangesContainer"\x3e\x3cul class\x3d"ranges"\x3e\x3c/ul\x3e\x3cdiv\x3e\x3cdiv class\x3d"toggleAdvanced"\x3e\x3cspan class\x3d"text"\x3e\x3c%- advancedOptionsMsg %\x3e\x3c/span\x3e \x3cspan class\x3d"arrow"\x3e\x26#xe000;\x3c/span\x3e\x3c/div\x3e\x3cdiv class\x3d"filterCode compact"\x3e\x3cspan class\x3d"text"\x3e\x3c%- filterCodeMsg %\x3e #\x3c/span\x3e\x3cinput name\x3d"hex" class\x3d"hex" maxlength\x3d"16"/\x3e\x3c/div\x3e');function K5(a){return("YEARLY"===a.oj?1:12)*a.da}function Oca(){this.kd=window.pricingPlans}function r0(a){return gj(a.kd.paidMonthly)}var J0=0;function H0(a){var b=Map,c=J0,d;d=[r0(a),gj(a.kd.paidYearly)];c=[c,d];a=[gj(a.kd.paidMonthlyImagesPro),gj(a.kd.paidYearlyImagesPro)];return new b([c,[1,a]])};function Pca(a){this.plan=a.ck;this.title=a.title;this.pricePerMonthText=a.B7;this.summaryText=a.o9;this.billingCycleText=a.j0}
function L5(a,b){function c(a,c){if("MONTHLY"===c)return b.format("canvaForWorkUpgradePlanSummaryMonthlyPerUser",a);if("YEARLY"===c)return b.format("canvaForWorkUpgradePlanSummaryYearlyPerUser",a);throw Error("unrecognised BillingInterval");}var d=a.slice(0).sort(function(a,b){return K5(b)-K5(a)})[0];return a.map(function(a){var g;if("MONTHLY"===a.oj)g=b.format("canvaForWorkUpgradePlanMonthly");else if("YEARLY"===a.oj)g=b.format("canvaForWorkUpgradePlanYearly");else throw Error("unrecognised plan billing interval");
var h=c(Math.round(a.da/("YEARLY"===a.oj?12:1)*100)/100,"MONTHLY"),k;k="YEARLY"===a.oj?b.format("canvaForWorkUpgradePlanPercentSaving",((K5(d)-K5(a))/K5(d)*100).toFixed(0)/100):c(K5(a),"YEARLY");return new Pca({ck:a,title:g,B7:h,o9:k,j0:"YEARLY"===a.oj?b.format("canvaForWorkUpgradePlanBilledYearly",a.da):""})})};function M5(){}M5=Backbone.View.extend({className:"priceOptions",tagName:"ul"});f=M5.prototype;f.initialize=function(a){this.Eb=a.Eb};f.events=function(){return{click:this.J0}};f.render=function(){this.$el.html(this.Eb.map(this.C7).join(""));return this};f.J0=function(a){a=$(a.target).closest("li");N5(this,a.index())};
function N5(a,b){a.$(".priceOption--selected").removeClass("priceOption--selected");0<=b&&b<a.Eb.length&&(a.$("li").eq(b).addClass("priceOption--selected"),a.$("li").eq(b).find("input").prop("checked",!0),a.trigger("selectPlan",a.Eb[b].plan))}f.yH=function(){function a(a){switch(a.oj){case "MONTHLY":return a.da;case "YEARLY":return K5(a);default:throw Error("unknown billing interval");}}var b=[].concat(this.Eb).sort(function(b,d){return a(b.plan)-a(d.plan)}),b=this.Eb.indexOf(b[0]);N5(this,b)};
f.ZP=function(a){this.Eb=a;this.render();this.yH()};f.C7=_.template('\x3cli class\x3d"priceOption"\x3e\x3cinput name\x3d"priceOptionPlan" type\x3d"radio"\x3e\x3cspan class\x3d"priceOptionTitle"\x3e\x3c%- title %\x3e\x3c/span\x3e\x3cspan class\x3d"priceOptionPricePerMonth"\x3e\x3c%- pricePerMonthText %\x3e\x3c/span\x3e\x3cspan class\x3d"priceOptionSummary"\x3e\x3c%- summaryText %\x3e\x3c/span\x3e\x3cspan class\x3d"priceOptionBillingCycle"\x3e\x3c%- billingCycleText %\x3e\x3c/span\x3e\x3c/li\x3e');function O5(a){this.w2=a.v2;this.p3=a.o3;this.Vq=a.UY.map(function(a){return new P5(a)});this.Vq.forEach(function(a){this.listenTo(a,{willAdvance:this.iV,advance:this.m6,finish:this.o6,reset:this.p6,die:this.n6})},this);this.CO=a.CO.map(function(a){return _.defaults({},a,{position:"leftTop",Vh:0})});this.OX=!1;this.SH=new Q5({HN:a.UY.length,ne:a.ne})}f=O5.prototype;f.on=Backbone.Events.on;f.once=Backbone.Events.once;f.off=Backbone.Events.off;f.listenTo=Backbone.Events.listenTo;f.listenToOnce=Backbone.Events.listenToOnce;
f.stopListening=Backbone.Events.stopListening;f.trigger=Backbone.Events.trigger;
function Ip(a){var b=[],c=[],d=a.ne;b.push([{Zd:"#documentFileMenuButton",Lg:10},{Zd:".dropdownMenuPopoverContainer .documentResizePaneButton",CT:!0,Vh:500,km:305,Lg:18}]);c.push({Zd:".documentResizeButton",lD:-170,Vh:500,text:d.format("starOnboardingStepResizingText"),title:d.format("starOnboardingStepResizingTitle"),Qe:qf(d)});b.push([{Zd:"#objectPanel menu .uploads a",nr:"#objectPanel.stage6",km:15,Lg:15},{Zd:"#resultsUpload .newUploadsFolder",gs:"#objectPanel:not(.stage6)",IO:function(){$("#objectPanel").find(".uploadsFolder[data-system-folder\x3dUNFOLDERED].uploadsFolderOpen .uploadsFolderThumbnail").first().click()},
Vh:500}]);c.push({Zd:"#resultsUpload .newUploadsFolderThumbnail",Vh:500,text:d.format("starOnboardingStepPhotoFoldersText"),title:d.format("starOnboardingStepPhotoFoldersTitle"),Qe:qf(d)});a.Qy&&(b.push([{Zd:"#objectPanel menu .layout a",nr:"#objectPanel.stage2",km:15,Lg:15},{Zd:"#resultsLayout .layoutsControls .tabDropdown",Lg:10,gs:"#objectPanel:not(.stage2)",Vh:500},{Zd:".layoutsTabMenu__item--teamTemplates",gs:"#objectPanel:not(.stage2)",km:22,Lg:16,Vh:100}]),c.push({Zd:".layoutsTabMenu__item--teamTemplates",
Xaa:100,text:d.format("starOnboardingStepTeamTemplatesText"),title:d.format("starOnboardingStepTeamTemplatesTitle"),Qe:qf(d)}));b.push([{Zd:"#objectPanel menu .backgrounds a",nr:"#objectPanel.stage5",km:15,Lg:15},{Zd:"#resultsBackground .pinnedPalette .colorPaletteEntry:eq(0)",FL:!0,gs:"#objectPanel:not(.stage5)",hN:!0,Vh:500}]);c.push({Zd:"#resultsBackground .pinnedPalette .colorPaletteEntry",text:d.format("starOnboardingStepBrandKitText"),title:d.format("starOnboardingStepBrandKitTitle"),Qe:qf(d)});
b.push([{Zd:"#objectPanel menu .uploads a",nr:"#objectPanel.stage6",km:15,Lg:15},{Zd:"#resultsUpload .uploadsFolder[data-system-folder\x3dLOGOS] .uploadsFolderThumbnail",gs:"#objectPanel:not(.stage6)",IO:function(){$("#objectPanel").find(".uploadsFolder[data-system-folder\x3dUNFOLDERED].uploadsFolderOpen .uploadsFolderThumbnail").first().click()},Vh:500}]);c.push({Zd:"#resultsUpload .uploadsFolder[data-system-folder\x3dLOGOS] .uploadsFolderThumbnail",Vh:500,text:d.format("starOnboardingStepLogoText"),
title:d.format("starOnboardingStepLogoTitle"),Qe:qf(d)});a.N7&&(b.push([{Zd:".publishToStreamSwitch",km:5,Lg:5,FL:!0},{Zd:".switchPublishTemplate",Vh:500}]),c.push({Zd:".docPublisherPopOver .switchPublishTemplate",position:"rightTop",text:d.format("starOnboardingStepTemplatifyText"),title:d.format("starOnboardingStepTemplatifyTitle"),Qe:qf(d)}));var e="C4W_UPGRADED_USER"===a.kh;a=e?[d.format("starOnboardingActionSetupTeam"),of(d)]:[d.format("starOnboardingActionGotoTeamSpace"),of(d)];b=new O5({v2:{NS:[d.format("starOnboardingActionFindTheStars")],
hg:d.format("starOnboardingFirstScreenSubtitle"),title:d.format("starOnboardingFirstScreenTitle"),DP:"",ne:d},o3:{NS:a,hg:d.format("starOnboardingLastScreenSubtitle"),title:d.format("starOnboardingLastScreenTitle"),DP:e?"starFinderSplashScreenNewUser":void 0,ne:d},UY:b,CO:c,ne:d});b.once("finish",function(a){"solo"===a?(null!=U&&U.track("upgrade_onboarding_finish_solo"),window.location="/brand/create/featuredoc"):"team"===a?(null!=U&&U.track("upgrade_onboarding_finish_team"),window.location=Fm()):
"stream"===a?(null!=U&&U.track("upgrade_onboarding_finish_invited"),window.location="/team-stream"):"play"===a&&null!=U&&U.track("upgrade_onboarding_finish_invited")});return b}f.start=function(){var a=this;Qca(this).then(function(){a.SH.render().$el.appendTo(document.body);Rca(a)})};f.remove=function(){this.stopListening();this.SH.remove();this.Vq.forEach(function(a){a.remove()})};f.iV=function(a){this.Vq.forEach(function(b){b!==a&&b.toggle(!1)})};
f.m6=function(a){this.iV(a);this.OX||(this.OX=!0,R5(a.Tg))};f.o6=function(a){function b(){a.toggle(!1);S5(d.SH)}function c(){T5(d)}var d=this,e=this.Vq.indexOf(a),g=this.CO[e];P.delay(g.Vh).then(function(){var a=new U5(g);a.ei($(g.Zd));d.listenToOnce(a,"hide",b);d.listenToOnce(a,"remove",c)});V5(this)};function T5(a){a.Vq.every(function(a){return W5(a)})?Sca(a).then(a.remove.bind(a)):X5(a)}f.p6=function(){X5(this)};f.n6=function(){S5(this.SH);T5(this)};
function X5(a){a.Vq.forEach(function(a){W5(a)||a.toggle(!0)})}function V5(a){a.Vq.filter(function(a){return!W5(a)}).forEach(function(a,c){a.WB(2*c+1)})}function Rca(a){V5(a);a.Vq.forEach(function(a){a.start()})}function Qca(a){var b=new Y5(a.w2);b.render().show();a.listenToOnce(b,"next",function(){b.remove()});return new P(function(c){a.listenToOnce(b,"remove",function(){null!=U&&U.track("upgrade_onboarding_start_stars");c()})})}
function Sca(a){var b,c=new Y5(a.p3);c.render().show();a.listenToOnce(c,"next",function(a){b=a;c.remove()});return new P(function(d){a.listenToOnce(c,"remove",function(){a.trigger("finish",b);d()})})};function U5(){}U5=Ry.extend({className:"starFinderPopOver"});U5.prototype.initialize=function(a){a=_.defaults({},a,{lD:0,km:0,Qe:a.Qe});Ry.prototype.initialize.call(this,a);this.options=a};U5.prototype.Ap=function(){return $W};U5.prototype.render=function(){Ry.prototype.render.call(this);this.$(".buttonContainer .buttonBlock").removeClass("buttonBlock");this.$(".content").prepend($("\x3cp\x3e").text(this.options.text));return this};
U5.prototype.am=function(){Ry.prototype.am.call(this);var a=this.$(".dialog");a.css("left",parseInt(a.css("left"),10)+this.options.lD).css("top",parseInt(a.css("top"),10)+this.options.Lg);return this};function Q5(){}Q5=Backbone.View.extend({className:"starFinderProgress"});Q5.prototype.initialize=function(a){this.HN=a.HN;this.ne=a.ne};Q5.prototype.render=function(){this.$el.html(this.template({progressTitle:this.ne.H7()}));for(var a=0;a<this.HN;a++)this.$(".starFinderProgressList").append(this.j3());return this};function S5(a){a.$("li:not(.starFinderProgressItemOn)").first().addClass("starFinderProgressItemOn")}Q5.prototype.j3=_.template('\x3cli class\x3d"starFinderProgressItem"\x3e\x26starf;\x3c/li\x3e');
Q5.prototype.template=_.template('\x3ch2 class\x3d"starFinderProgressTitle"\x3e\x3c%- progressTitle %\x3e\x3c/h2\x3e\x3col class\x3d"starFinderProgressList"\x3e\x3c/ol\x3e');function Y5(){}Y5=Backbone.View.extend({className:"starFinderSplashScreen"});f=Y5.prototype;f.events=function(){return{"click .buttonNext":this.G4}};f.initialize=function(a){this.G=ol;this.options=a;this.Ed=new Fy({G:this.G,style:Gy});this.hg=a.hg;this.title=a.title;this.ne=a.ne};
f.render=function(){var a=$(this.c0());this.$el.html(this.template(this.ai()));this.$(".starFinderAstronautPlaceholder").replaceWith(a);this.options.NS.forEach(function(a,c){a=$(this.l0({text:a}));a.toggleClass("buttonSecondary",0<c);this.$(".starFinderButtonWrapper").append(a)},this);this.options.DP&&this.$el.addClass(this.options.DP);return this};
f.show=function(){var a=this,b=TC(EC,this.$(".starFinderStarImage img").prop("src")),c=TC(EC,this.$(".starFinderAstronaut img").prop("src"));this.Ed.show(this.$el);P.all([b,c]).then(function(){a.$(".starFinderStarAndAstronaut").addClass("loaded")})};f.remove=function(){var a=this;this.$el.addClass("starFinderSplashScreenDisappearing");this.Ed.hide();this.G.setTimeout(function(){a.trigger("remove");Backbone.View.prototype.remove.call(a)},300)};
f.ai=function(){return{subtitle:this.options.hg,title:this.options.title,specialInstructionsTitle:this.ne.f9(),specialInstructionsHtml:this.ne.d9(),specialInstructionsQuestionText:this.ne.e9(),responseSolo:this.ne.format("starOnboardingSpecialInstructionsResponseSolo"),responseTeam:this.ne.format("starOnboardingSpecialInstructionsResponseTeam"),brandMembersPath:Fm()}};
f.G4=function(a){var b=$(a.target),c;b.hasClass("starFinderSplashScreenButton")&&b.hasClass("buttonSecondary")?c="play":b.hasClass("starFinderSplashScreenButton")?c="stream":b.hasClass("starOnboardingUserSoloButton")?c="solo":b.hasClass("starOnboardingUserTeamButton")&&(c="team");this.trigger("next",c);a.preventDefault()};f.c0=_.template('\x3cdiv class\x3d"starFinderStarAndAstronaut"\x3e\x3cdiv class\x3d"starFinderStarOuter"\x3e\x3cdiv class\x3d"starFinderStarInner"\x3e\x3cdiv class\x3d"sparkle"\x3e\x3cspan\x3e\x3c/span\x3e\x3c/div\x3e\x3cdiv class\x3d"sparkle"\x3e\x3cspan\x3e\x3c/span\x3e\x3c/div\x3e\x3cdiv class\x3d"sparkle"\x3e\x3cspan\x3e\x3c/span\x3e\x3c/div\x3e\x3cdiv class\x3d"sparkle"\x3e\x3cspan\x3e\x3c/span\x3e\x3c/div\x3e\x3cdiv class\x3d"sparkle"\x3e\x3cspan\x3e\x3c/span\x3e\x3c/div\x3e\x3cdiv class\x3d"starFinderStarImage"\x3e\x3cimg src\x3d"https://static.canva.com/static/images/onboarding/star.png"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"starFinderAstronaut"\x3e\x3cimg src\x3d"https://static.canva.com/static/images/onboarding/astronaut.png"\x3e\x3c/div\x3e\x3c/div\x3e');
f.l0=_.template('\x3cbutton class\x3d"button buttonNext starFinderSplashScreenButton"\x3e\x3c%- text %\x3e\x3c/button\x3e');f.template=_.template('\x3cdiv class\x3d"starFinderBackground"\x3e\x3c/div\x3e\x3cdiv class\x3d"starFinderContent"\x3e\x3cdiv class\x3d"starFinderAstronautPlaceholder"\x3e\x3c/div\x3e\x3ch2 class\x3d"starFinderTitle"\x3e\x3c%- title %\x3e\x3c/h2\x3e\x3cp class\x3d"starFinderSubtitle"\x3e\x3c%- subtitle %\x3e\x3c/p\x3e\x3cdiv class\x3d"starFinderButtonWrapper"\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"starFinderSpecialInstructions"\x3e\x3ch2\x3e\x3c%- specialInstructionsTitle %\x3e\x3c/h2\x3e\x3cp\x3e\x3c%\x3d specialInstructionsHtml %\x3e\x3c/p\x3e\x3cdiv class\x3d"starFinderSpecialInstructionsUserSelect"\x3e\x3ch3\x3e\x3c%- specialInstructionsQuestionText %\x3e\x3c/h3\x3e\x3cul\x3e\x3cli class\x3d"starOnboardingUserSolo"\x3e\x3ca href\x3d"/brand/create/featuredoc" class\x3d"button buttonNext starOnboardingUserSoloButton"\x3e\x3c%- responseSolo %\x3e\x3c/a\x3e\x3c/li\x3e\x3cli class\x3d"starOnboardingUserTeam"\x3e\x3ca href\x3d"\x3c%- brandMembersPath %\x3e" class\x3d"button buttonNext starOnboardingUserTeamButton"\x3e\x3c%- responseTeam %\x3e\x3c/a\x3e\x3c/li\x3e\x3c/ul\x3e\x3c/div\x3e\x3c/div\x3e');function P5(a){this.active=!1;this.vm=0;this.Tg=new Z5(a[0]);$5(this);this.ZO=0;this.jC=a;this.Uk=new YO({attributes:!0,attributeFilter:["class","style"],childList:!0,characterData:!1,subtree:!0});a=_.throttle(this.V4.bind(this),100,{trailing:!1});this.Uk.on("attrModified",a);this.Uk.on("subtreeModified",a)}f=P5.prototype;f.on=Backbone.Events.on;f.off=Backbone.Events.off;f.listenTo=Backbone.Events.listenTo;f.listenToOnce=Backbone.Events.listenTo;f.stopListening=Backbone.Events.stopListening;
f.trigger=Backbone.Events.trigger;f.start=function(){this.Tg.show();this.active=!0};f.remove=function(){this.stopListening();$O(this.Uk);this.Tg.remove();this.active=!1};function W5(a){return a.vm===a.jC.length}f.WB=function(a){this.ZO=a;0===this.vm&&this.Tg.WB(a)};function $5(a){a.listenTo(a.Tg,"advance",a.l6);a.listenTo(a.Tg,"die",a.q6)}f.toggle=function(a){W5(this)||(this.active=a,this.Tg.toggle(a))};
f.l6=function(){function a(){c.Uk.observe(document.body)}function b(){c.active?c.trigger("advance",c):c.reset(!0)}if(this.active){var c=this;$O(this.Uk);this.vm++;this.Tg.remove();W5(this)?this.trigger("finish",this):(this.trigger("willAdvance",this),a6(this).then(b).then(a).catch(function(){}))}};f.q6=function(){this.active&&($O(this.Uk),this.Tg.remove(),this.toggle(!1),this.vm=this.jC.length,this.trigger("die",this))};
f.V4=function(){var a;if(a=this.active&&0<this.vm){var b=b6(this.Tg);if(W5(this)||!b.is(":visible"))a=!1;else if(a=this.jC[this.vm].gs)a=0<$(a).length?!1:!0;else{a=b.get(0);var b=b.offset(),b=document.elementFromPoint(b.left,b.top),c=this.Tg.el;a=a===b||c===b||b&&$.contains(a,b)||b&&$.contains(c,b)}a=!a}a&&this.reset()};f.reset=function(a){$O(this.Uk);this.vm=0;this.Tg.remove();a6(this);a||this.trigger("reset",this)};
function a6(a){var b=_.extend({},a.jC[a.vm],{filled:a.vm===a.jC.length-1});a.Tg=new Z5(b);$5(a);a.ZO&&a.WB(a.ZO);return a.Tg.show()};function Z5(){}Z5=Backbone.View.extend({className:"starFinderStarContainer starFinderStarHidden starFinderStarInactive"});Z5.prototype.events=function(){return{"click .starFinderStar":this.Af}};Z5.prototype.initialize=function(a){a=_.defaults({},a,{lD:0,km:0,Lg:0,CT:!1,filled:!1,FL:!1,hN:!1,position:3,Vh:0});this.OM=!1;this.options=a;this.gH=0;this.zs=this.zs.bind(this);this.LA=this.LA.bind(this);this.Yv=_.throttle(this.Yv.bind(this),100);$(document).on("click",this.Yv);$(window).on("resize",this.Yv)};
Z5.VR=1600;Z5.UI=500;f=Z5.prototype;f.render=function(){this.$el.toggleClass("starFinderStarInert",this.options.CT);this.$el.toggleClass("starFinderStarFilled",this.options.filled);this.$el.html(this.template({filled:this.options.filled}));return this};
f.fY=function(){function a(){var a=d.outerWidth();if(-1<[2,0].indexOf(c.options.position))return Math.round(e.left-a+c.options.lD);if(-1<[3,1].indexOf(c.options.position))return Math.round(e.left+d.outerWidth()-c.options.km)}function b(){var a=d.outerHeight();if(-1<[2,3].indexOf(c.options.position))return Math.round(e.top+c.options.Lg);if(-1<[0,1].indexOf(c.options.position))return Math.round(e.top+a/2+c.options.Lg)}var c=this,d=b6(this),e=d.offset();0<d.length&&this.$(".starFinderStar").css("left",
a()).css("top",b())};f.remove=function(){$(document).off("click",this.Yv);$(window).off("resize",this.Yv);b6(this).off("click",this.zs).off("mousedown",this.LA);window.clearInterval(this.gH);Backbone.View.prototype.remove.call(this)};
f.show=function(){this.render().$el.appendTo(document.body);if(this.options.gs&&0<$(this.options.gs).length)return P.resolve();this.$el.toggleClass("starFinderStarInactive",!1);return P.delay(this.options.Vh).then(function(){this.options.IO&&this.options.IO();if(0===b6(this).length)return this.trigger("die",this),P.reject();c6(this,!0);this.fY();if(this.options.hN)b6(this).off("mousedown",this.LA).on("mousedown",this.LA);else b6(this).off("click",this.zs).on("click",this.zs);this.options.nr&&0<$(this.options.nr).length&&
this.trigger("advance",this)}.bind(this))};f.WB=function(a,b){function c(){R5(e)}function d(){R5(e);e.WB(a,e.OM)}var e=this,g=0!==this.gH,h=1E3*a;this.OM=!!b;window.clearInterval(this.gH);this.gH=g?window.setInterval(c,h+(Z5.VR+(b?2*Z5.UI:0))):window.setTimeout(d,h)};
function R5(a){function b(){d.$el.addClass("starFinderPulsate");return P.delay(Z5.VR).then(function(){d.$el.removeClass("starFinderPulsate")})}function c(){c6(d,!1);return P.delay(Z5.UI)}var d=a;a.OM?(c6(d,!0),P.delay(Z5.UI).then(b).then(c)):b()}f.toggle=function(a){this.$el.toggleClass("starFinderStarInactive",!a);c6(this,a);this.options.nr&&0<$(this.options.nr).length&&this.trigger("advance",this)};function b6(a){return $(a.options.Zd)}
function c6(a,b){a.$el.toggleClass("starFinderStarHidden",!b)}f.zs=function(){this.trigger("advance",this)};f.LA=function(){var a=this;b6(this).one("mouseup",function(){a.zs()})};f.Af=function(){function a(a){var d=b6(b).offset();a=new jQuery.Event(a);a.clientX=d.left;a.clientY=d.top;return a}var b=this;this.options.FL?(b6(b).trigger(a("mousedown")).trigger(a("mouseup")),b.options.hN||b.zs()):b6(this).click()};f.Yv=function(){P.delay(300).bind(this).then(this.fY)};f.template=_.template('\x3cdiv class\x3d"starFinderStar"\x3e\x3c%\x3d filled ? "\x26starf;" : "\x26star;" %\x3e\x3c/div\x3e');function Tca(){}function eM(a){return Object.freeze(Hf(Tca,a))}function mN(a){if(a.magic)return Object.freeze(Hf(d6,a.magic))}function d6(){}d6.prototype.Pb=function(){return this.color};d6.prototype.ee=function(){return this.thumbnail};function dW(a,b,c){function d(){return b.map(function(b){return dW(a,b,c)})}function e(){return Object.keys(b).reduce(function(a,d){a[d]=dW(d,b[d],c);return a},{})}return Array.isArray(b)?d():"object"===typeof b&&null!==b?e():a&&-1<a.toLowerCase().indexOf("color")&&"string"===typeof b?c[b]||b:b};function oV(a,b){(b=b.serialize())&&e6(a,b)}function e6(a,b){_.each(a,function(a){"object"===typeof a&&null!==a&&e6(a,b)});"mediaId"in a&&"mediaVersion"in a&&(a.origin=b)};function f6(){}f6=rp.extend({className:"createTeamDialog"});f6.prototype.events=function(){return _.extend(rp.prototype.events.call(this),{"click .createTeamDialogCreate":this.trigger.bind(this,"createTeam")})};f6.prototype.initialize=function(a){this.kd=a.kd;this.AR=gj(this.kd.kd.paidYearly);this.sk=a.sk;rp.prototype.initialize.call(this,{G:ol,$e:!0,ur:!0,He:!0})};
f6.prototype.render=function(){rp.prototype.render.call(this);var a=moment().add(this.AR.Le,"days").format("LL"),b=(K5(this.AR)/12).toFixed(2),c=this.AR.Le;this.$(".dialog").html(this.PJ({createTeamWelcomeDescription:this.sk.n1(b),createTeamWelcomeTitleHtml:this.sk.o1(c),createTrialPeriodPoint1Html:lf(this.sk),createTrialPeriodPoint2Html:mf(this.sk,a),createTrialPeriodPoint3Html:nf(this.sk),createYourTeam:this.sk.p1()}));return this};f6.prototype.PJ=_.template('\x3cdiv class\x3d"createTeamContent"\x3e\x3ch2\x3e\x3c%\x3d createTeamWelcomeTitleHtml %\x3e\x3c/h2\x3e\x3cp\x3e\x3c%- createTeamWelcomeDescription %\x3e\x3c/p\x3e\x3cul\x3e\x3cli\x3e\x3c%\x3d createTrialPeriodPoint1Html %\x3e\x3c/li\x3e\x3cli\x3e\x3c%- createTrialPeriodPoint2Html %\x3e\x3c/li\x3e\x3cli\x3e\x3c%\x3d createTrialPeriodPoint3Html %\x3e\x3c/li\x3e\x3c/ul\x3e\x3c/div\x3e\x3cdiv class\x3d"createTeamActions"\x3e\x3cbutton class\x3d"button createTeamDialogCreate"\x3e\x3c%- createYourTeam %\x3e\x3c/button\x3e\x3c/div\x3e');function g6(a){Ca(0<a.size,"invalid avatar size {}",a.size);Backbone.View.call(this,{className:"avatar"});this.mj=a.mj||null;this.qs=a.qs||null;this.Nb=a.Nb||null;this.size=a.size;this.Lp=!!a.Lp;this.yq=!!a.yq;this.Bo=!!a.Bo;this.cp=!!a.cp}t(g6,Backbone.View);
g6.prototype.render=function(){var a=this.mj&&this.qs,b=!!this.qs;this.$el.css({width:this.size+"px",height:this.size+"px",lineHeight:this.size/2+"px"});this.mj&&this.$el.css("backgroundImage","url("+this.mj+")");a?(this.$el.addClass("avatar--composite"),this.$el.css("fontSize",this.size/4+"px")):b&&(this.$el.addClass("avatar--brand"),this.$el.css("fontSize",this.size/2+"px"));this.qs&&this.$el.attr("data-letter",this.qs);this.Nb&&(this.$el.css("backgroundColor",this.Nb.qa()),208<this.Nb.Tu()&&this.$el.addClass("avatar--light"));
this.$el.toggleClass("avatar--whiteBorder",this.Bo);this.$el.toggleClass("avatar--darkBorder",this.cp);this.$el.toggleClass("avatar--glow",this.Lp);this.$el.toggleClass("avatar--pointer",this.yq);return this};function h6(a){return(a.ob()||"Brand").toUpperCase().trim().replace(/^THE\s+/,"").charAt(0)}function i6(a){a=a.tp();return Gn(a?"#"+a:"#b0b0b0")}
function j6(a,b){a=a.sp().sizes;Fa(0<a.size,"avatar bundle is empty");var c=b*(window.devicePixelRatio||1);return _.chain([].concat(na(a.values()))).sortBy(function(a){return Math.abs(a.Gp()-c)}).sortBy(function(a){return a.Gp()<c}).first().value().ma()}function N4(a){var b=j6(a.user,a.size);a=new g6({mj:b,size:a.size,Lp:a.Lp,yq:a.yq,Bo:a.Bo,cp:a.cp});a.render();return a}function L4(a){var b=h6(a.D),c=i6(a.D);a=new g6({qs:b,Nb:c,size:a.size,Lp:a.Lp,yq:a.yq,Bo:a.Bo,cp:a.cp});a.render();return a};function k6(a){this.FF=a.FF;this.X=a.X;this.gL=a.gL}k6.prototype.create=function(a){return wj(this.FF,"/teams",{displayName:a}).spread(function(a){return uw(a.brand)})};function l6(a){Backbone.View.call(this,{className:"active brand"});this.Gd=a.Gd;var b;b={D:a.D,user:a.user,size:60,Bo:!0};if(b.D.Ph())b=N4(b);else{var c=j6(b.user,b.size),d=h6(b.D),e=i6(b.D);b=new g6({mj:c,qs:d,Nb:e,size:b.size,Lp:b.Lp,yq:b.yq,Bo:b.Bo,cp:b.cp});b.render()}this.hJ=b;this.D=a.D;this.user=a.user;this.HG=!!a.HG}t(l6,Backbone.View);
l6.prototype.render=function(){var a=this.el,b;b=this.D.ob()||this.Gd.nB();var c=this.user.ob(),d="/"+this.user.Yf(),e=this.Gd.kba(),g=this.Gd.Gba(),h=this.HG;soy.asserts.assertType(null==d||d instanceof goog.soy.data.SanitizedContent||goog.isString(d),"profilePageUrl",d,"null|string|undefined");soy.asserts.assertType(null==c||c instanceof goog.soy.data.SanitizedContent||goog.isString(c),"displayName",c,"null|string|undefined");soy.asserts.assertType(null==b||b instanceof goog.soy.data.SanitizedContent||
goog.isString(b),"brandName",b,"null|string|undefined");soy.asserts.assertType(goog.isString(e)||e instanceof goog.soy.data.SanitizedContent,"settings",e,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(g)||g instanceof goog.soy.data.SanitizedContent,"viewProfile",g,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isBoolean(h)||1===h||0===h,"openInNewTab",h,"boolean");h=!!h;b=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"activeUser"\x3e\x3cdiv class\x3d"userDisplayName"\x3e'+
soy.$$escapeHtml(c)+'\x3c/div\x3e\x3cdiv class\x3d"teamDisplayName"\x3e'+soy.$$escapeHtml(b)+'\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"userMenuBrandActions"\x3e\x3ca href\x3d"/account"'+(h?' target\x3d"_blank"':"")+"\x3e"+soy.$$escapeHtml(e)+"\x3c/a\x3e"+(d?'\x3ca href\x3d"'+soy.$$escapeHtmlAttribute(soy.$$filterNormalizeUri(d))+'"'+(h?' target\x3d"_blank"':"")+"\x3e"+soy.$$escapeHtml(g)+"\x3c/a\x3e":"")+"\x3c/div\x3e");a.innerHTML=b;this.$el.children().first().append(this.hJ.$el);return this};function m6(){}m6=Backbone.View.extend({tagName:"li",className:"brand"});m6.prototype.initialize=function(a){this.hJ=a.qr.D.Ph()?N4({user:a.user,size:36}):L4({D:a.qr.D,size:36});this.qr=a.qr;this.Gd=a.Gd};m6.prototype.render=function(){this.$el.html(this.template({personal:this.qr.D.Ph(),personalLabel:this.Gd.Taa(),displayName:this.qr.D.ob(),url:this.qr.url}));this.$(".left").append(this.hJ.$el);return this};m6.prototype.template=_.template('\x3ca href\x3d"\x3c%- url %\x3e"\x3e\x3cdiv class\x3d"left"\x3e\x3c/div\x3e\x3cdiv class\x3d"right"\x3e\x3c% if (personal) { %\x3e\x3c%- personalLabel %\x3e\x3c% } else { %\x3e\x3c%- displayName %\x3e\x3c% } %\x3e\x3c/div\x3e\x3c/a\x3e');function n6(){}n6=Backbone.View.extend({className:"brandListWrapper"});n6.prototype.initialize=function(a){this.mm=a.mm;this.user=a.user;this.Gd=a.Gd};n6.prototype.render=function(){var a=$('\x3cul class\x3d"brandList"\x3e');this.$el.html(a);this.mm.forEach(function(b){(new m6({qr:b,user:this.user,Gd:this.Gd})).render().$el.appendTo(a)}.bind(this));return this};function o6(){}o6=Backbone.View.extend({className:"actions",tagName:"ul"});o6.prototype.initialize=function(a){this.Gd=a.Gd;this.eC=!!a.eC};o6.prototype.render=function(){this.$el.toggleClass("singleAction",!this.eC);this.$el.html(this.template({showUpgradeButton:this.eC,upgrade:this.Gd.IC(),signOut:this.Gd.signOut()}));return this};o6.prototype.events=function(){return{"click #upgrade":this.trigger.bind(this,"upgrade")}};o6.prototype.template=_.template('\x3c% if (showUpgradeButton) { %\x3e\x3ca class\x3d"button buttonSmall" id\x3d"upgrade"\x3e\x3c%- upgrade %\x3e\x3c/a\x3e\x3c% } %\x3e\x3ca class\x3d"button buttonLink" href\x3d"/logout"\x3e\x3c%- signOut %\x3e\x3c/a\x3e');function p6(){}p6=Ry.extend({className:"userMenuContainer"});
p6.prototype.initialize=function(a){this.Fh=a.Fh;this.user=a.user;this.Gd=a.Gd;this.hS=a.hS;this.HY=a.HY;this.U_=new l6({Gd:a.Gd,D:this.hS.D,user:a.user,HG:a.HG});this.ES=null;var b=$("\x3cdiv\x3e\x3c/div\x3e");b.append(this.U_.render().$el);var c=new o6({Gd:a.Gd,eC:a.eC});this.listenTo(c,{remove:this.remove,upgrade:this.trigger.bind(this,"upgrade")});this.HY&&(this.ES=$('\x3cspan class\x3d"brandListLoadingSpinner"\x3e'),b.append(this.ES));b.append(c.render().$el);Ry.prototype.initialize.call(this,
{content:b,position:["leftTop",Ep],Ef:a.Ef})};p6.prototype.show=function(){this.Fh.now();return Ry.prototype.show.call(this)};function q6(a,b){this.c7=(this.zS="PUBLIC"!==a)?a:"*";this.v9=b}q6.prototype.init=function(a){window.addEventListener("message",function(b){b=b.data;b.isCanvaApi&&(a[b.type]||$.noop)(b)},!1);this.sendMessage({type:"Init",authenticated:this.zS})};q6.prototype.sendMessage=function(a){a.isCanvaApi=!0;this.v9.postMessage(a,this.c7)};function Uca(a,b,c,d,e,g,h){function k(a){a.preventDefault();ca?(N.sendMessage({type:"PublishRequested",designId:ub.fc(),untouched:q()}),u()):(ph(),p())}var l=window.CANVA_EMBED,m=Ib,n=Kb;function p(){var a=!1,b=new rp({G:ol,ur:!1,content:$('\x3cdiv class\x3d"progress"\x3e\x3cspan class\x3d"progressValue autoIncrement"\x3e\x3cspan class\x3d"text"\x3e5%\x3c/span\x3e\x3cspan class\x3d"inner"\x3e\x3c/span\x3e\x3c/span\x3e\x3c/div\x3e'),$e:!1,He:!1,title:"Saving your design..."});!ca&&ub.Ti()&&(b.show(),
a=!0);Jz(2E4).then(function(){a&&b.remove();N.sendMessage({type:"Close",designId:ub.fc(),untouched:q()})},function(){var c=new rp({G:ol,title:"Saving failed",content:$('\x3cp\x3eSorry, but we had some trouble saving your design. You may still be in the middle of uploading some images, someone else might be editing your design at the moment, or our servers might be having issues. Please try again.\x3c/p\x3e\x3cp class\x3d"buttonContainer"\x3e\x3cbutton class\x3d"button done"\x3eOk\x3c/button\x3e\x3c/p\x3e')});
a&&b.remove();c.show()})}function q(){return 1===ub.Td()&&I.isEmpty()}function u(){$(document.body).addClass("modalContentVisible modalContentBlurAndDarkenVisible")}function v(){$(document.body).removeClass("modalContentVisible modalContentBlurAndDarkenVisible")}function z(a){var c=a.layout;return c?b.hb(new mv({id:c,Np:!1})).then(function(a){return a.rc},function(){return r(a)}):r(a)}function r(a){a=a.pages&&a.pages[0];return Ru(a?a.width:0,a?a.height:0,"PIXELS")}function x(a){return new P(function(b){var c=
(Array.isArray(a)&&a||[]).map(La).map(fn),c=xL(Fb,c);aL(vb,c,!1,b)})}function H(){var k=new k6({FF:Hb,X:Cb,gL:Ib.H.get(Wf)});return m0(a,{config:a,Kk:Lb,W:Ib,j:U,document:I,getSession:function(){return ub},Ga:E,ic:$b,qd:zb,aa:yb,X:Cb,Pa:xb,Mi:b,Ja:c,ac:Eb,bc:d,rb:e,Xe:vb,cb:O,i:Kb,G:ol,kd:g,w9:k,sa:K,Ub:Oa,$t:sa,jo:new P4,H:h,uc:null,od:null})}function D(){var a={O:_.range(1,I.gc()+1),format:da?"PDF":"PNG",ss:96};m_({i:n,W:Ib,j:U,Hb:ub,document:I,Ga:E,bc:d,qd:zb,aa:yb,X:Cb,ac:Eb,cb:O,rb:e,kd:g,G:ol,
sa:K,Ub:Oa,ae:a,GV:!0,td:C0({document:I,Hb:ub}),H:h,Tt:{MV:!1},uc:null,od:null,Ja:c}).start().then(function(a){null!=a&&N.sendMessage({type:"Published",designId:ub.fc(),exportUrl:a,untouched:q()})})}var K=null;try{K=Io()}catch(ha){}var E=Dx(),O=wT(),Q=a.wz(),N=new q6(l.embedDomain,window.parent),da=!1,ca=!0,sa=window.availableLocales||{};N.init({setDoneButtonText:function(a){var b=$(".editorActionExport");0!==b.length&&b.text(a.text)},blur:u,close:p,focus:v,publish:function(){try{D()}catch(a){v()}},
loadDocumentFromJson:function(b){var c;try{c=JSON.parse(b.text)}catch(d){return}var g="object"===typeof c&&c||{},k=Zo(),l=new mw(Hb);P.all([z(g),x(g.media)]).spread(function(c){var d=Hx(E).AC();(new zp({jp:k,Tc:Lb,Ub:Oa,X:l,W:m,H:h,i:n,j:U,De:T,sa:K,Mk:d,nu:Zy,rb:e,cb:O,Ga:E,ea:Q})).go(g,c,a,null,H,null);!0===b.killInterface&&(Fz=!0,$("#objectPanel").css("display","none"),$("#editorControls").css("display","none"),$("#canvaDocument").css("left","0"))})},setExportEnabled:function(a){ca=!!a.enabled},
setMultipagePdf:function(a){a.enabled?da=!0:(w_.E1(),wU.D1())},setStaticTitle:function(a){EO.M8(a.title)},upload:function(a){qM.call($("#objectPanel .uploads a"),n);qL(new mL({source:"third_party_editor",J:jc(n),FG:function(a){var d=I.Aa().l(),e=I.Aa().o(),g=b,h=c,k=g/h;e<h&&(h=e,g*=k);d<g&&(g=d,h*=k);a={type:"image",isBackground:!1,isRecolorable:!1,mediaId:a.u(),mediaVersion:a.Ha().getVersion(),isCutout:!1,width:g,height:h};Hg(a).Vk(I.Aa());N.sendMessage({type:"Upload",status:"done"})},progress:(new iL).Do("third_party_editor")}),
a.dataUri);var b=a.width,c=a.height}});ub?N.sendMessage({type:"Editor",designId:ub.fc()}):N.sendMessage({type:"Editor"});$(".homeLink").click(function(a){a.preventDefault();p()});$("#editorLogo").click(function(a){window.open("https://www.canva.com/about");a.preventDefault();a.stopPropagation();return!1});EO.BT();EO.F1();$("#documentMenuUpgrade").remove();var Oa=function(){return new MY({X:Cb,i:n,Hk:["contextTipRoyaltyFreePaymentOption"],VD:function(a){return LY({key:a,i:md(n),Ue:$(document),Me:$("body")})},
root:$("body")})}();n0.EXPORT=function(){var a=new Backbone.View({tagName:"button",className:"button editorActionExport",events:{click:k}});a.$el.text("Publish");return a}};function Vca(a){soy.asserts.assertType(goog.isString(a.rI)||a.rI instanceof goog.soy.data.SanitizedContent,"videoId",a.rI,"string|goog.soy.data.SanitizedContent");return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3ca class\x3d"presentationLightbox__close" title\x3d"Close" alt\x3d"Close"\x3eClose\x3c/a\x3e\x3ciframe class\x3d"presentationLightbox__video" src\x3d"//www.youtube.com/embed/'+soy.$$escapeHtmlAttribute(a.rI)+'?rel\x3d0\x26autoplay\x3d1\x26modestbranding\x3d1\x26fs\x3d0\x26showinfo\x3d0" frameborder\x3d"0"\x3e\x3c/iframe\x3e')}
function Wca(a){soy.asserts.assertType(goog.isString(a.Qn)||a.Qn instanceof goog.soy.data.SanitizedContent,"postUrl",a.Qn,"string|goog.soy.data.SanitizedContent");return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3ca class\x3d"presentationLightbox__close" title\x3d"Close" alt\x3d"Close"\x3eClose\x3c/a\x3e\x3cdiv class\x3d"presentationLightbox__facebookPost presentationLightbox__social"\x3e\x3cdiv class\x3d"presentationLightbox__inner"\x3e\x3cdiv class\x3d"fb-post" data-href\x3d"'+soy.$$escapeHtmlAttribute(a.Qn)+
'"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e')}
function Xca(a){var b;b=b||{};soy.asserts.assertType(goog.isString(a.Qn)||a.Qn instanceof goog.soy.data.SanitizedContent,"postUrl",a.Qn,"string|goog.soy.data.SanitizedContent");var c=a.Qn;soy.asserts.assertType(goog.isNumber(a.width),"width",a.width,"number");a=a.width;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3ca class\x3d"presentationLightbox__close" title\x3d"Close" alt\x3d"Close"\x3eClose\x3c/a\x3e\x3ciframe class\x3d"presentationLightbox__video" src\x3d"https://www.facebook.com/plugins/video.php?href\x3d'+soy.$$escapeUri(c)+
"\x26show_text\x3d0\x26width\x3d"+soy.$$escapeUri(a)+'" style\x3d"'+(b.Vb?"/*"+b.Vb+"*/":"")+'border:none;overflow:hidden" scrolling\x3d"yes" frameborder\x3d"0" allowTransparency\x3d"true"\x3e\x3c/iframe\x3e')};function r6(a,b){b=void 0===b?$("body"):b;Backbone.View.call(this,{className:"presentationLightbox"});this.Oe=b;this.G=a}t(r6,Backbone.View);f=r6.prototype;f.events=function(){return{"click .presentationLightbox__close":this.GJ}};
f.show=function(){var a=this;this.trigger("show");this.Oe.addClass("modalContentVisible modalContentBlurAndDarkenVisible");this.yF=this.yF.bind(this);this.Oe.on("keyup",this.yF);this.$el.appendTo(this.Oe);this.G.requestAnimationFrame(function(){$("\x3e .mask",a.Oe).addClass("on").on("click",function(){return a.GJ()});a.$el.addClass("playing")})};f.yF=function(a){27===a.which&&(a.stopPropagation(),a.preventDefault(),this.Oe.off("keyup",this.yF),this.GJ())};
f.GJ=function(){var a=this;this.trigger("close");var b=$("\x3e .mask",this.Oe);this.$el.addClass("disappearing");this.G.setTimeout(function(){a.$el.remove()},500);this.Oe.removeClass("modalContentVisible modalContentBlurAndDarkenVisible");b.addClass("off");this.G.setTimeout(function(){b.removeClass("on off white")},500);b.off("click")};f.$e=function(){this.$el.find(".presentationLightbox__close").addClass("presentationLightbox__close--fadeIn")};
f.render=function(a,b){var c=this,d,e=500;switch(a){case "video":this.el.innerHTML=Vca({rI:b});this.G.setTimeout(function(){return c.$e()},e);break;case "facebookPost":this.el.innerHTML=Wca({Qn:b});d=Date.now();FB.XFBML.parse(this.el,function(){var a=c.$el.find(".presentationLightbox__social");e=Math.max(d+2E3-Date.now(),0);c.G.setTimeout(function(){a.addClass("presentationLightbox__social--loaded");c.$e()},e)});break;case "facebookVideo":a=parseInt(.7*$(window).outerWidth(),10);this.el.innerHTML=
Xca({Qn:b,width:a});this.G.setTimeout(function(){return c.$e()},e);break;case "tweet":this.el.innerHTML=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3ca class\x3d"presentationLightbox__close" title\x3d"Close" alt\x3d"Close"\x3eClose\x3c/a\x3e\x3cdiv class\x3d"presentationLightbox__tweet presentationLightbox__social"\x3e\x3cdiv class\x3d"presentationLightbox__inner"\x3e\x3c/div\x3e\x3c/div\x3e');var g=this.$el.find(".presentationLightbox__social");d=Date.now();twttr.ready(function(a){function b(){e=
Math.max(d+2E3-Date.now(),0);c.G.setTimeout(function(){g.addClass("presentationLightbox__social--loaded");c.$e()},e);a.events.unbind("rendered",b)}a.events.bind("rendered",b)});$.ajax({url:"https://publish.twitter.com/oembed?url\x3d"+b+"\x26maxwidth\x3d500",dataType:"jsonp",success:function(a){a.html&&g.find(".presentationLightbox__inner").html(a.html)}})}return this};var aC={It:/^#(video-)([a-z0-9-]+)$/,F$:/^(?:https?:\/\/)?support\.canva\.com\/.+/,dS:/(?:https?:\/\/)?(?:www\.)?youtu(?:be\.com\/watch\?(?:.*?&)?v=|\.be\/)([\w\-]+)(?:&?[\w\?=]*)?/,LR:/^(?:https?:\/\/)?www\.facebook\.com\/.+/,s_:/^(?:https?:\/\/)?www\.facebook\.com\/.+\/videos\/.+/,aS:/^(?:https?:\/\/)?(?:www\.)?twitter\.com\/.+/,URL:/^(?:https?:\/\/|[\-0-9a-z]+\.)\S+$/i};function s6(a){this.lU=this.zZ=!1;this.fL=!!a;this.gv=this.gv.bind(this)}f=s6.prototype;f.toggle=function(a,b){var c=this;b.filter(this.R2).forEach(function(b){a?(v6(c,b),b.C().on("mousedown",c.gv).on("touchstart",c.gv).on("mouseenter",c.$T).on("mouseleave",c.aU).attr("data-has-link","true")):v6(c,b)})};function v6(a,b){b.C().off("mousedown",a.gv).off("touchstart",a.gv).off("mouseenter",a.$T).off("mouseleave",a.aU).attr("data-has-link","")}f.R2=function(a){a=a.Um();return aC.It.test(a)||aC.URL.test(a)};
f.gv=function(a){a.stopPropagation();a.preventDefault();a=$(a.currentTarget).data("canvaElement").Um();if(aC.aS.test(a)&&!this.zZ){if(!window.twttr){var b=document.createElement("script");b.innerHTML='window.twttr \x3d (function(d, s, id) {\n          var js, fjs \x3d d.getElementsByTagName(s)[0],\n            t \x3d window.twttr || {};\n          if (d.getElementById(id)) return t;\n          js \x3d d.createElement(s);\n          js.id \x3d id;\n          js.src \x3d "https://platform.twitter.com/widgets.js";\n          fjs.parentNode.insertBefore(js, fjs);\n         \n          t._e \x3d [];\n          t.ready \x3d function(f) {\n            t._e.push(f);\n          };\n         \n          return t;\n        }(document, "script", "twitter-wjs"));';
document.body.appendChild(b)}this.zZ=!0}else aC.LR.test(a)&&!this.lU&&(window.FB||(0===$("#fb-root").length&&$("body").append($('\x3cdiv id\x3d"fb-root"\x3e\x3c/div\x3e')),b=document.createElement("script"),b.innerHTML="(function(d, s, id) {\n        var js, fjs \x3d d.getElementsByTagName(s)[0];\n        if (d.getElementById(id)) return;\n        js \x3d d.createElement(s); js.id \x3d id;\n        js.src \x3d \"//connect.facebook.net/en_US/sdk.js#xfbml\x3d1\x26amp;version\x3dv2.5\";\n        fjs.parentNode.insertBefore(js, fjs);\n      }(document, 'script', 'facebook-jssdk'));",
document.body.appendChild(b)),this.lU=!0);switch(!0){case aC.dS.test(a):case aC.It.test(a):Yca(this,a);break;case aC.s_.test(a)&&this.fL:w6(this,"facebookVideo",a);break;case aC.LR.test(a)&&this.fL:w6(this,"facebookPost",a);break;case aC.aS.test(a)&&this.fL:w6(this,"tweet",a);break;default:this.trigger("open"),window.open(a,"_blank")}};
f.$T=function(){var a=$(this);if(!a.hasClass("linkHoverAnimation")){var b=a.data("initialTransform");b||(b=a.css("transform"),a.data("initialTransform",b));a.addClass("linkHoverAnimation").css("transform",b+"scale(1.1)")}};f.aU=function(){var a=$(this),b=a.data("initialTransform");b&&(a.css("transform",b),P.delay(300).then(function(){a.is(":hover")||(a.removeData("initialTransform"),a.removeClass("linkHoverAnimation"))}))};
function Yca(a,b){var c={"video-tut2-tip1":"Yy9P90W987c","video-tut2-tip2":"ALLmXFaYzbo","video-tut2-tip3":"JziV33Lgq8c","video-tut2-tip4":"XTTtTbVdjU0"};if("#"===b.charAt(0)){b=b.substring(1);if(!c.hasOwnProperty(b))return;c=c[b]}else c=b.match(aC.dS)[1];b=new r6(ol);b.render("video",c);b.on("show",function(){return a.trigger("open")});b.on("close",function(){return a.trigger("close")});b.show()}
function w6(a,b,c){var d=new r6(ol);d.render(b,c);d.on("show",function(){return a.trigger("open")});d.on("close",function(){return a.trigger("close")});d.show()}f.listenTo=Backbone.Events.listenTo;f.off=Backbone.Events.off;f.on=Backbone.Events.on;f.stopListening=Backbone.Events.stopListening;f.trigger=Backbone.Events.trigger;function x6(a){this.type=a}f=x6.prototype;f.rD=function(){throw Error("not implemented");};f.sD=function(){throw Error("not implemented");};f.Xt=function(){throw Error("not implemented");};f.equals=function(){throw Error("not implemented");};f.matches=function(a){return null!=a&&this.Xt().equals(a.Xt())};function y6(a,b,c){Ca(0<=a&&255>=a&&0==a%1);Ca(0<=b&&255>=b&&0==b%1);Ca(0<=c&&255>=c&&0==c%1);this.type=1;this.r=a;this.cl=b;this.b=c}t(y6,x6);f=y6.prototype;
f.rD=function(){var a=this.r,b=this.cl,c=this.b,a=a/255,b=b/255,c=c/255,d=Math.max(a,b,c),e=Math.min(a,b,c),g=(d+e)/2;if(d==e)a=e=0;else{var h=d-e,e=.5<g?h/(2-d-e):h/(d+e);switch(d){case a:a=(b-c)/h+(b<c?6:0);break;case b:a=(c-a)/h+2;break;case c:a=(a-b)/h+4;break;default:throw Error();}a/=6}return new z6(360*a,100*e,100*g)};
f.sD=function(){var a=this.r,b=this.cl,c=this.b,a=a/255,b=b/255,c=c/255,d=Math.max(a,b,c),e=Math.min(a,b,c);if(d==e)a=e=0;else{var g=d-e,e=g/d;switch(d){case a:a=(b-c)/g+(b<c?6:0);break;case b:a=(c-a)/g+2;break;case c:a=(a-b)/g+4;break;default:throw Error();}a/=6}return new A6(360*a,100*e,100*d)};f.Xt=function(){return this};f.equals=function(a){if(1!=a.type)return!1;a=a.Xt();return this.r==a.r&&this.cl==a.cl&&this.b==a.b};f.toString=function(){return"rgb("+this.r+", "+this.cl+", "+this.b+")"};
f.qa=function(){return"#"+(256+this.r).toString(16).slice(-2)+(256+this.cl).toString(16).slice(-2)+(256+this.b).toString(16).slice(-2)};function z6(a,b,c){Ca(0<=a&&360>a,"invalid h: {}",a);Ca(0<=b&&100>=b,"invalid s: {}",b);Ca(0<=c&&100>=c,"invalid l: {}",c);this.type=2;this.h=a;this.s=b;this.ql=c}t(z6,x6);f=z6.prototype;f.rD=function(){return this};f.sD=function(){var a=this.s,b=this.ql,a=a/100,b=b/100,c=a*(.5>b?b:1-b),d=b+c;return new A6(this.h,100*(0<b?2*c/d:a),100*d)};
f.Xt=function(){var a=this.h,b=this.s,c=this.ql,a=a/360,b=b/100,c=c/100;if(0==b)c=b=a=c;else var d=.5>c?c*(1+b):c+b-c*b,e=2*c-d,c=B6(e,d,a+1/3),b=B6(e,d,a),a=B6(e,d,a-1/3);return new y6(Math.round(255*c),Math.round(255*b),Math.round(255*a))};f.equals=function(a){if(2!=a.type)return!1;a=a.rD();return this.h==a.h&&this.s==a.s&&this.ql==a.ql};f.toString=function(){return"hsl("+this.h.toFixed(3)+", "+this.s.toFixed(3)+"%, "+this.ql.toFixed(3)+"%)"};
function A6(a,b,c){Ca(0<=a&&360>a,"invalid h: {}",a);Ca(0<=b&&100>=b,"invalid s: {}",b);Ca(0<=c&&100>=c,"invalid l: {}",c);this.type=3;this.h=a;this.s=b;this.fr=c}t(A6,x6);f=A6.prototype;f.rD=function(){var a=this.s,b=this.fr,a=a/100,b=b/100,c=(2-a)*b/2;return new z6(this.h,100*(c&&1>c?a*b/(.5>c?2*c:2-2*c):a),100*c)};f.sD=function(){return this};
f.Xt=function(){var a=this.h,b=this.s,c=this.fr,a=a/60,b=b/100,c=c/100,d=Math.floor(a),e=a-d,a=c*(1-b),g=c*(1-e*b),b=c*(1-(1-e)*b),d=d%6;return new y6(Math.round(255*[c,g,a,a,b,c][d]),Math.round(255*[b,c,c,g,a,a][d]),Math.round(255*[a,a,b,c,c,g][d]))};f.equals=function(a){if(3!=a.type)return!1;a=a.sD();return this.h==a.h&&this.s==a.s&&this.fr==a.fr};f.toString=function(){return"hsv("+this.h.toFixed(3)+", "+this.s.toFixed(3)+"%, "+this.fr.toFixed(3)+"%)"};new y6(0,0,0);new y6(255,255,255);
var Zca=/^hsl\((\d*(?:\.\d+)?),\s*(\d*(?:\.\d+)?)%,\s*(\d*(?:\.\d+)?)%\)$/,$ca=/^hsv\((\d*(?:\.\d+)?),\s*(\d*(?:\.\d+)?)%,\s*(\d*(?:\.\d+)?)%\)$/,ada=/^rgb\((\d+),\s*(\d+),\s*(\d+)\)$/,bda=/^#([a-f\d])([a-f\d])([a-f\d])$/i,cda=/^#([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i;function B6(a,b,c){0>c&&(c+=1);1<c&&--c;return c<1/6?a+6*(b-a)*c:.5>c?b:c<2/3?a+(b-a)*(2/3-c)*6:a};var dda=[{family:"Aileron Thin",styles:{boldItalic:{ttf:"https://static.canva.com/static/truetypefonts/Aileron-LightItalic.ttf",otf:"https://static.canva.com/static/webfonts/Aileron-LightItalic.otf"},bold:{ttf:"https://static.canva.com/static/truetypefonts/Aileron-Light.ttf",otf:"https://static.canva.com/static/webfonts/Aileron-Light.otf"},italic:{ttf:"https://static.canva.com/static/truetypefonts/Aileron-ThinItalic.ttf",otf:"https://static.canva.com/static/webfonts/Aileron-ThinItalic.otf"},regular:{ttf:"https://static.canva.com/static/truetypefonts/Aileron-Thin.ttf",otf:"https://static.canva.com/static/webfonts/Aileron-Thin.otf"}}},{family:"Aileron Regular",styles:{boldItalic:{ttf:"https://static.canva.com/static/truetypefonts/Aileron-BoldItalic.ttf",
otf:"https://static.canva.com/static/webfonts/Aileron-BoldItalic.otf"},bold:{ttf:"https://static.canva.com/static/truetypefonts/Aileron-Bold.ttf",otf:"https://static.canva.com/static/webfonts/Aileron-Bold.otf"},italic:{ttf:"https://static.canva.com/static/truetypefonts/Aileron-Italic.ttf",otf:"https://static.canva.com/static/webfonts/Aileron-Italic.otf"},regular:{ttf:"https://static.canva.com/static/truetypefonts/Aileron-Regular.ttf",otf:"https://static.canva.com/static/webfonts/Aileron-Regular.otf"}}},{family:"Aileron Heavy",styles:{boldItalic:{ttf:"https://static.canva.com/static/truetypefonts/Aileron-BlackItalic.ttf",otf:"https://static.canva.com/static/webfonts/Aileron-BlackItalic.otf"},bold:{ttf:"https://static.canva.com/static/truetypefonts/Aileron-Black.ttf",
otf:"https://static.canva.com/static/webfonts/Aileron-Black.otf"},italic:{ttf:"https://static.canva.com/static/truetypefonts/Aileron-HeavyItalic.ttf",otf:"https://static.canva.com/static/webfonts/Aileron-HeavyItalic.otf"},regular:{ttf:"https://static.canva.com/static/truetypefonts/Aileron-Heavy.ttf",otf:"https://static.canva.com/static/webfonts/Aileron-Heavy.otf"}}},{family:"Aleo Light",styles:{italic:{ttf:"https://static.canva.com/static/truetypefonts/Aleo-LightItalic.ttf",woff:"https://static.canva.com/static/webfonts/Aleo-LightItalic.woff"},regular:{ttf:"https://static.canva.com/static/truetypefonts/Aleo-Light.ttf",woff:"https://static.canva.com/static/webfonts/Aleo-Light.woff"}}},{family:"Aleo",styles:{boldItalic:{ttf:"https://static.canva.com/static/truetypefonts/Aleo-BoldItalic.ttf",
woff:"https://static.canva.com/static/webfonts/Aleo-BoldItalic.woff"},bold:{ttf:"https://static.canva.com/static/truetypefonts/Aleo-Bold.ttf",woff:"https://static.canva.com/static/webfonts/Aleo-Bold.woff"},italic:{ttf:"https://static.canva.com/static/truetypefonts/Aleo-Italic.ttf",woff:"https://static.canva.com/static/webfonts/Aleo-Italic.woff"},regular:{ttf:"https://static.canva.com/static/truetypefonts/Aleo-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Aleo-Regular.woff"}}},{family:"Allerta Stencil",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/AllertaStencil-Regular.ttf",woff:"https://static.canva.com/static/webfonts/AllertaStencil-Regular.woff"}}},{family:"Antic",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Antic-Regular.ttf",
woff:"https://static.canva.com/static/webfonts/Antic-Regular.woff"}}},{family:"Aqua",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/aqua.ttf",woff:"https://static.canva.com/static/webfonts/aqua.woff"}}},{family:"Arialle",styles:{boldItalic:{ttf:"https://static.canva.com/static/truetypefonts/Arimo-BoldItalic.ttf",woff:"https://static.canva.com/static/webfonts/Arimo-BoldItalic.woff"},italic:{ttf:"https://static.canva.com/static/truetypefonts/Arimo-Italic.ttf",woff:"https://static.canva.com/static/webfonts/Arimo-Italic.woff"},regular:{ttf:"https://static.canva.com/static/truetypefonts/Arimo-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Arimo.woff"},bold:{ttf:"https://static.canva.com/static/truetypefonts/Arimo-Bold.ttf",
woff:"https://static.canva.com/static/webfonts/Arimo-Bold.woff"}}},{family:"Archivo Narrow",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/ArchivoNarrow-Regular.ttf",woff:"https://static.canva.com/static/webfonts/ArchivoNarrow-Regular.woff"},italic:{ttf:"https://static.canva.com/static/truetypefonts/ArchivoNarrow-Italic.ttf",woff:"https://static.canva.com/static/webfonts/ArchivoNarrow-Italic.woff"},boldItalic:{ttf:"https://static.canva.com/static/truetypefonts/ArchivoNarrow-BoldItalic.ttf",woff:"https://static.canva.com/static/webfonts/ArchivoNarrow-BoldItalic.woff"},bold:{ttf:"https://static.canva.com/static/truetypefonts/ArchivoNarrow-Bold.ttf",woff:"https://static.canva.com/static/webfonts/ArchivoNarrow-Bold.woff"}}},
{family:"Archivo Black",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/ArchivoBlack.ttf",woff:"https://static.canva.com/static/webfonts/ArchivoBlack.woff"}}},{family:"Code",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/CodeLight.ttf",woff:"https://static.canva.com/static/webfonts/CodeLight.woff"},bold:{ttf:"https://static.canva.com/static/truetypefonts/CodeBold.ttf",woff:"https://static.canva.com/static/webfonts/CodeBold.woff"}}},{family:"Carter One",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/CarterOne.ttf",woff:"https://static.canva.com/static/webfonts/CarterOne.woff"}}},{family:"Cooper Hewitt",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/CooperHewitt-Book.ttf",
otf:"https://static.canva.com/static/webfonts/CooperHewitt-Book.otf"},italic:{ttf:"https://static.canva.com/static/truetypefonts/CooperHewitt-BookItalic.ttf",otf:"https://static.canva.com/static/webfonts/CooperHewitt-BookItalic.otf"},boldItalic:{ttf:"https://static.canva.com/static/truetypefonts/CooperHewitt-BoldItalic.ttf",otf:"https://static.canva.com/static/webfonts/CooperHewitt-BoldItalic.otf"},bold:{ttf:"https://static.canva.com/static/truetypefonts/CooperHewitt-Bold.ttf",otf:"https://static.canva.com/static/webfonts/CooperHewitt-Bold.otf"}}},{family:"Cooper Hewitt Thin",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/CooperHewitt-Thin.ttf"},italic:{ttf:"https://static.canva.com/static/truetypefonts/CooperHewitt-ThinItalic.ttf"},
boldItalic:{ttf:"https://static.canva.com/static/truetypefonts/CooperHewitt-LightItalic.ttf"},bold:{ttf:"https://static.canva.com/static/truetypefonts/CooperHewitt-Light.ttf"}}},{family:"Cooper Hewitt Heavy",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/CooperHewitt-Heavy.ttf"},italic:{ttf:"https://static.canva.com/static/truetypefonts/CooperHewitt-HeavyItalic.ttf"}}},{family:"Fredoka One",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/FredokaOne-Regular.ttf",woff:"https://static.canva.com/static/webfonts/FredokaOne-Regular.woff"}}},{family:"Hammersmith One",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/HammersmithOne-Regular.ttf",
woff:"https://static.canva.com/static/webfonts/HammersmithOne.woff"}}},{family:"Helveticish",styles:{boldItalic:{ttf:"https://static.canva.com/static/truetypefonts/Arimo-BoldItalic.ttf",woff:"https://static.canva.com/static/webfonts/Arimo-BoldItalic.woff"},italic:{ttf:"https://static.canva.com/static/truetypefonts/Arimo-Italic.ttf",woff:"https://static.canva.com/static/webfonts/Arimo-Italic.woff"},regular:{ttf:"https://static.canva.com/static/truetypefonts/Arimo-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Arimo.woff"},bold:{ttf:"https://static.canva.com/static/truetypefonts/Arimo-Bold.ttf",woff:"https://static.canva.com/static/webfonts/Arimo-Bold.woff"}}},{family:"Josefin Sans",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/JosefinSans-Regular.ttf",
woff:"https://static.canva.com/static/webfonts/JosefinSans.woff"},boldItalic:{ttf:"https://static.canva.com/static/truetypefonts/JosefinSans-BoldItalic.ttf",woff:"https://static.canva.com/static/webfonts/JosefinSans-BoldItalic.woff"},italic:{ttf:"https://static.canva.com/static/truetypefonts/JosefinSans-Italic.ttf",woff:"https://static.canva.com/static/webfonts/JosefinSans-Italic.woff"},bold:{ttf:"https://static.canva.com/static/truetypefonts/JosefinSans-Bold.ttf",woff:"https://static.canva.com/static/webfonts/JosefinSans-Bold.woff"}}},{family:"Josefin Slab",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/JosefinSlab-Regular.ttf",woff:"https://static.canva.com/static/webfonts/JosefinSlab.woff"},
italic:{ttf:"https://static.canva.com/static/truetypefonts/JosefinSlab-Italic.ttf",woff:"https://static.canva.com/static/webfonts/JosefinSlab-Italic.woff"},boldItalic:{ttf:"https://static.canva.com/static/truetypefonts/JosefinSlab-BoldItalic.ttf",woff:"https://static.canva.com/static/webfonts/JosefinSlab-BoldItalic.woff"},bold:{ttf:"https://static.canva.com/static/truetypefonts/JosefinSlab-Bold.ttf",woff:"https://static.canva.com/static/webfonts/JosefinSlab-Bold.woff"}}},{family:"Lato",styles:{boldItalic:{ttf:"https://static.canva.com/static/truetypefonts/Lato-BoldItalic.ttf",woff:"https://static.canva.com/static/webfonts/Lato-BoldItalic.woff"},bold:{ttf:"https://static.canva.com/static/truetypefonts/Lato-Bold.ttf",
woff:"https://static.canva.com/static/webfonts/Lato-Bold.woff"},italic:{ttf:"https://static.canva.com/static/truetypefonts/Lato-Italic.ttf",woff:"https://static.canva.com/static/webfonts/Lato-Italic.woff"},regular:{ttf:"https://static.canva.com/static/truetypefonts/Lato-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Lato-Regular.woff"}}},{family:"Lato Hairline",styles:{boldItalic:{ttf:"https://static.canva.com/static/truetypefonts/Lato-ThinItalic.ttf",woff:"https://static.canva.com/static/webfonts/Lato-ThinItalic.woff"},bold:{ttf:"https://static.canva.com/static/truetypefonts/Lato-Thin.ttf",woff:"https://static.canva.com/static/webfonts/Lato-Thin.woff"},italic:{ttf:"https://static.canva.com/static/truetypefonts/Lato-HairlineItalic.ttf",
woff:"https://static.canva.com/static/webfonts/Lato-HairlineItalic.woff"},regular:{ttf:"https://static.canva.com/static/truetypefonts/Lato-Hairline.ttf",woff:"https://static.canva.com/static/webfonts/Lato-Hairline.woff"}}},{family:"Lato Heavy",styles:{boldItalic:{ttf:"https://static.canva.com/static/truetypefonts/Lato-BlackItalic.ttf",woff:"https://static.canva.com/static/webfonts/Lato-BlackItalic.woff"},bold:{ttf:"https://static.canva.com/static/truetypefonts/Lato-Black.ttf",woff:"https://static.canva.com/static/webfonts/Lato-Black.woff"},italic:{ttf:"https://static.canva.com/static/truetypefonts/Lato-HeavyItalic.ttf",woff:"https://static.canva.com/static/webfonts/Lato-HeavyItalic.woff"},regular:{ttf:"https://static.canva.com/static/truetypefonts/Lato-Heavy.ttf",
woff:"https://static.canva.com/static/webfonts/Lato-Heavy.woff"}}},{family:"League Gothic",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/LeagueGothic-Regular.ttf",otf:"https://static.canva.com/static/webfonts/LeagueGothic-Regular.otf"},italic:{ttf:"https://static.canva.com/static/truetypefonts/LeagueGothic-Italic.ttf",otf:"https://static.canva.com/static/webfonts/LeagueGothic-Italic.otf"}}},{family:"League Spartan",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/LeagueSpartan-Bold.ttf",woff:"https://static.canva.com/static/webfonts/LeagueSpartan-Bold.woff"}}},{family:"Limelight",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Limelight-Regular.ttf",
woff:"https://static.canva.com/static/webfonts/Limelight.woff"}}},{family:"Montserrat Hairline",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Montserrat-Hairline.ttf",woff:"https://static.canva.com/static/webfonts/Montserrat-Hairline.woff"}}},{family:"Montserrat Light",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Montserrat-Light.ttf",woff:"https://static.canva.com/static/webfonts/Montserrat-Light.woff"}}},{family:"Montserrat",styles:{bold:{ttf:"https://static.canva.com/static/truetypefonts/Montserrat-Bold.ttf",woff:"https://static.canva.com/static/webfonts/Montserrat-Bold.woff"},regular:{ttf:"https://static.canva.com/static/truetypefonts/Montserrat-Regular.ttf",
woff:"https://static.canva.com/static/webfonts/Montserrat-Regular.woff"}}},{family:"Oswald",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Oswald-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Oswald-Regular.woff"},bold:{ttf:"https://static.canva.com/static/truetypefonts/Oswald-Bold.ttf",woff:"https://static.canva.com/static/webfonts/Oswald-Bold.woff"}}},{family:"Peace Sans",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Peace-Sans.ttf",woff:"https://static.canva.com/static/webfonts/Peace-Sans.woff"}}},{family:"Pirou",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Pirou-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Pirou-Regular.woff"}}},
{family:"PT Sans",styles:{bold:{ttf:"https://static.canva.com/static/truetypefonts/PT_Sans-Web-Bold.ttf",woff:"https://static.canva.com/static/webfonts/PTSans-Bold.woff"},italic:{ttf:"https://static.canva.com/static/truetypefonts/PT_Sans-Web-Italic.ttf",woff:"https://static.canva.com/static/webfonts/PTSans-Italic.woff"},regular:{ttf:"https://static.canva.com/static/truetypefonts/PT_Sans-Web-Regular.ttf",woff:"https://static.canva.com/static/webfonts/PTSans-Regular.woff"},boldItalic:{ttf:"https://static.canva.com/static/truetypefonts/PT_Sans-Web-BoldItalic.ttf",woff:"https://static.canva.com/static/webfonts/PTSans-BoldItalic.woff"}}},{family:"Quicksand",styles:{bold:{ttf:"https://static.canva.com/static/truetypefonts/Quicksand-Bold.ttf",
otf:"https://static.canva.com/static/webfonts/Quicksand-Bold.otf"},boldItalic:{ttf:"https://static.canva.com/static/truetypefonts/Quicksand-BoldItalic.ttf",otf:"https://static.canva.com/static/webfonts/Quicksand-BoldItalic.otf"},italic:{ttf:"https://static.canva.com/static/truetypefonts/Quicksand-Italic.ttf",otf:"https://static.canva.com/static/webfonts/Quicksand-Italic.otf"},regular:{ttf:"https://static.canva.com/static/truetypefonts/Quicksand-Regular.ttf",otf:"https://static.canva.com/static/webfonts/Quicksand-Regular.otf"}}},{family:"Noto Sans Devanagari",testString:"देवनागरी",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/NotoSansDevanagari-Regular.ttf",woff:"https://static.canva.com/static/webfonts/NotoSansDevanagari-Regular.woff"}}},
{family:"Nunito Light",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Nunito-Light.ttf",woff:"https://static.canva.com/static/webfonts/Nunito-Light.woff"}}},{family:"Nunito",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Nunito-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Nunito-Regular.woff"},bold:{ttf:"https://static.canva.com/static/truetypefonts/Nunito-Bold.ttf",woff:"https://static.canva.com/static/webfonts/Nunito-Bold.woff"}}},{family:"Norwester",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Norwester.ttf",woff:"https://static.canva.com/static/webfonts/Norwester.woff"}}},{family:"Raleway",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Raleway-Regular.ttf",
woff:"https://static.canva.com/static/webfonts/Raleway.woff"},bold:{ttf:"https://static.canva.com/static/truetypefonts/Raleway-Bold.ttf",woff:"https://static.canva.com/static/webfonts/Raleway-Bold.woff"}}},{family:"Raleway Thin",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Raleway-Thin.ttf",woff:"https://static.canva.com/static/webfonts/Raleway-Thin.woff"}}},{family:"Raleway Heavy",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Raleway-Heavy.ttf",woff:"https://static.canva.com/static/webfonts/Raleway-Heavy.woff"}}},{family:"Roboto Condensed",styles:{italic:{ttf:"https://static.canva.com/static/truetypefonts/RobotoCondensed-Italic.ttf",woff:"https://static.canva.com/static/webfonts/RobotoCondensed-Italic.woff"},
bold:{ttf:"https://static.canva.com/static/truetypefonts/RobotoCondensed-Bold.ttf",woff:"https://static.canva.com/static/webfonts/RobotoCondensed-Bold.woff"},boldItalic:{ttf:"https://static.canva.com/static/truetypefonts/RobotoCondensed-BoldItalic.ttf",woff:"https://static.canva.com/static/webfonts/RobotoCondensed-BoldItalic.woff"},regular:{ttf:"https://static.canva.com/static/truetypefonts/RobotoCondensed-Regular.ttf",woff:"https://static.canva.com/static/webfonts/RobotoCondensed-Regular.woff"}}},{family:"Rosario",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Rosario-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Rosario-Regular.woff"},bold:{ttf:"https://static.canva.com/static/truetypefonts/Rosario-Bold.ttf",
woff:"https://static.canva.com/static/webfonts/Rosario-Bold.woff"},boldItalic:{ttf:"https://static.canva.com/static/truetypefonts/Rosario-BoldItalic.ttf",woff:"https://static.canva.com/static/webfonts/Rosario-BoldItalic.woff"},italic:{ttf:"https://static.canva.com/static/truetypefonts/Rosario-Italic.ttf",woff:"https://static.canva.com/static/webfonts/Rosario-Italic.woff"}}},{family:"Rubik One",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/RubikOne-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Rubik-One.woff"}}},{family:"Rubik Mono",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/RubikMonoOne-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Rubik-Mono-One.woff"}}},
{family:"Amaranth",styles:{boldItalic:{ttf:"https://static.canva.com/static/truetypefonts/Amaranth-BoldItalic.ttf",woff:"https://static.canva.com/static/webfonts/Amaranth-BoldItalic.woff"},regular:{ttf:"https://static.canva.com/static/truetypefonts/Amaranth-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Amaranth.woff"},bold:{ttf:"https://static.canva.com/static/truetypefonts/Amaranth-Bold.ttf",woff:"https://static.canva.com/static/webfonts/Amaranth-Bold.woff"},italic:{ttf:"https://static.canva.com/static/truetypefonts/Amaranth-Italic.ttf",woff:"https://static.canva.com/static/webfonts/Amaranth-Italic.woff"}}},{family:"Anton",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Anton.ttf",
woff:"https://static.canva.com/static/webfonts/Anton.woff"}}},{family:"Arimo",styles:{boldItalic:{ttf:"https://static.canva.com/static/truetypefonts/Arimo-BoldItalic.ttf",woff:"https://static.canva.com/static/webfonts/Arimo-BoldItalic.woff"},italic:{ttf:"https://static.canva.com/static/truetypefonts/Arimo-Italic.ttf",woff:"https://static.canva.com/static/webfonts/Arimo-Italic.woff"},regular:{ttf:"https://static.canva.com/static/truetypefonts/Arimo-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Arimo.woff"},bold:{ttf:"https://static.canva.com/static/truetypefonts/Arimo-Bold.ttf",woff:"https://static.canva.com/static/webfonts/Arimo-Bold.woff"}}},{family:"Crushed",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Crushed.ttf",
woff:"https://static.canva.com/static/webfonts/Crushed-Regular.woff"}}},{family:"Economica",styles:{italic:{ttf:"https://static.canva.com/static/truetypefonts/Economica-Italic.ttf",woff:"https://static.canva.com/static/webfonts/Economica-Italic.woff"},boldItalic:{ttf:"https://static.canva.com/static/truetypefonts/Economica-BoldItalic.ttf",woff:"https://static.canva.com/static/webfonts/Economica-BoldItalic.woff"},regular:{ttf:"https://static.canva.com/static/truetypefonts/Economica-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Economica-Regular.woff"},bold:{ttf:"https://static.canva.com/static/truetypefonts/Economica-Bold.ttf",woff:"https://static.canva.com/static/webfonts/Economica-Bold.woff"}}},
{family:"Exo",styles:{boldItalic:{ttf:"https://static.canva.com/static/truetypefonts/Exo-2-700-italic.ttf",woff:"https://static.canva.com/static/webfonts/Exo2-BoldItalic.woff"},regular:{ttf:"https://static.canva.com/static/truetypefonts/Exo-2-regular.ttf",woff:"https://static.canva.com/static/webfonts/Exo2-Regular.woff"},italic:{ttf:"https://static.canva.com/static/truetypefonts/Exo-2-italic.ttf",woff:"https://static.canva.com/static/webfonts/Exo2-Italic.woff"},bold:{ttf:"https://static.canva.com/static/truetypefonts/Exo-2-700.ttf",woff:"https://static.canva.com/static/webfonts/Exo2-Bold.woff"}}},{family:"Exo Thin",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Exo-2-100.ttf",woff:"https://static.canva.com/static/webfonts/Exo2-Thin.woff"},
italic:{ttf:"https://static.canva.com/static/truetypefonts/Exo-2-100-italic.ttf",woff:"https://static.canva.com/static/webfonts/Exo2-ThinItalic.woff"}}},{family:"Gruppo",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Gruppo-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Gruppo.woff"}}},{family:"Glacial Indifference",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/GlacialIndifference-Regular.ttf",woff:"https://static.canva.com/static/webfonts/GlacialIndifference-Regular.woff"},italic:{ttf:"https://static.canva.com/static/truetypefonts/GlacialIndifference-Italic.ttf",woff:"https://static.canva.com/static/webfonts/GlacialIndifference-Italic.woff"},
bold:{ttf:"https://static.canva.com/static/truetypefonts/GlacialIndifference-Bold.ttf",woff:"https://static.canva.com/static/webfonts/GlacialIndifference-Bold.woff"}}},{family:"Gidole",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Gidole-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Gidole-Regular.woff"}}},{family:"Julius Sans One",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/JuliusSansOne-Regular.ttf",woff:"https://static.canva.com/static/webfonts/JuliusSansOne-Regular.woff"}}},{family:"Kite One",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/KiteOne-Regular.ttf",woff:"https://static.canva.com/static/webfonts/KiteOne-Regular.woff"}}},
{family:"Kollektif",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Kollektif.ttf",woff:"https://static.canva.com/static/webfonts/Kollektif.woff"},bold:{ttf:"https://static.canva.com/static/truetypefonts/Kollektif-Bold.ttf",woff:"https://static.canva.com/static/webfonts/Kollektif-Bold.woff"},italic:{ttf:"https://static.canva.com/static/truetypefonts/Kollektif-Italic.ttf",woff:"https://static.canva.com/static/webfonts/Kollektif-Italic.woff"},boldItalic:{ttf:"https://static.canva.com/static/truetypefonts/Kollektif-BoldItalic.ttf",woff:"https://static.canva.com/static/webfonts/Kollektif-BoldItalic.woff"}}},{family:"Lilita One",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/LilitaOne-Regular.ttf",
woff:"https://static.canva.com/static/webfonts/LilitaOne.woff"}}},{family:"Open Sans Light",styles:{italic:{ttf:"https://static.canva.com/static/truetypefonts/OpenSans-LightItalic.ttf",woff:"https://static.canva.com/static/webfonts/OpenSans-LightItalic.woff"},regular:{ttf:"https://static.canva.com/static/truetypefonts/OpenSans-Light.ttf",woff:"https://static.canva.com/static/webfonts/OpenSans-Light.woff"}}},{family:"Open Sans",styles:{italic:{ttf:"https://static.canva.com/static/truetypefonts/OpenSans-Italic.ttf",woff:"https://static.canva.com/static/webfonts/OpenSans-Italic.woff"},boldItalic:{ttf:"https://static.canva.com/static/truetypefonts/OpenSans-BoldItalic.ttf",woff:"https://static.canva.com/static/webfonts/OpenSans-BoldItalic.woff"},
bold:{ttf:"https://static.canva.com/static/truetypefonts/OpenSans-Bold.ttf",woff:"https://static.canva.com/static/webfonts/OpenSans-Bold.woff"},regular:{ttf:"https://static.canva.com/static/truetypefonts/OpenSans-Regular.ttf",woff:"https://static.canva.com/static/webfonts/OpenSans.woff"}}},{family:"Open Sans Extra Bold",styles:{italic:{ttf:"https://static.canva.com/static/truetypefonts/OpenSans-ExtraBoldItalic.ttf",woff:"https://static.canva.com/static/webfonts/OpenSans-ExtraBoldItalic.woff"},regular:{ttf:"https://static.canva.com/static/truetypefonts/OpenSans-ExtraBold.ttf",woff:"https://static.canva.com/static/webfonts/OpenSans-ExtraBold.woff"}}},{family:"Racing Sans One",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/RacingSansOne-Regular.ttf",
woff:"https://static.canva.com/static/webfonts/RacingSansOne-Regular.woff"}}},{family:"Roboto",styles:{boldItalic:{ttf:"https://static.canva.com/static/truetypefonts/Roboto-BoldItalic.ttf",woff:"https://static.canva.com/static/webfonts/Roboto-BoldItalic.woff"},bold:{ttf:"https://static.canva.com/static/truetypefonts/Roboto-Bold.ttf",woff:"https://static.canva.com/static/webfonts/Roboto-Bold.woff"},italic:{ttf:"https://static.canva.com/static/truetypefonts/Roboto-Italic.ttf",woff:"https://static.canva.com/static/webfonts/Roboto-Italic.woff"},regular:{ttf:"https://static.canva.com/static/truetypefonts/Roboto-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Roboto-Regular.woff"}}},{family:"Ubuntu",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Ubuntu-Regular.ttf",
woff:"https://static.canva.com/static/webfonts/Ubuntu.woff"},italic:{ttf:"https://static.canva.com/static/truetypefonts/Ubuntu-Italic.ttf",woff:"https://static.canva.com/static/webfonts/Ubuntu-Italic.woff"},bold:{ttf:"https://static.canva.com/static/truetypefonts/Ubuntu-Bold.ttf",woff:"https://static.canva.com/static/webfonts/Ubuntu-Bold.woff"},boldItalic:{ttf:"https://static.canva.com/static/truetypefonts/Ubuntu-BoldItalic.ttf",woff:"https://static.canva.com/static/webfonts/Ubuntu-BoldItalic.woff"}}},{family:"Unity Display",styles:{bold:{ttf:"https://static.canva.com/static/truetypefonts/UnityDisplay-Bold.ttf"},regular:{ttf:"https://static.canva.com/static/truetypefonts/UnityDisplay-Roman.ttf"}}},{family:"Unity Text",
styles:{bold:{ttf:"https://static.canva.com/static/truetypefonts/UnityText-Bold.ttf"},regular:{ttf:"https://static.canva.com/static/truetypefonts/UnityText-Roman.ttf"}}},{family:"Six Caps",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/SixCaps.ttf",woff:"https://static.canva.com/static/webfonts/SixCaps.woff"}}},{family:"Sifonn",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Sifonn-Basic.ttf",woff:"https://static.canva.com/static/webfonts/Sifonn-Basic.woff"}}},{family:"Sifonn Outline",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Sifonn-Basic-Outline.ttf",woff:"https://static.canva.com/static/webfonts/Sifonn-Basic-Outline.woff"}}},
{family:"Signika",styles:{bold:{ttf:"https://static.canva.com/static/truetypefonts/Signika-Bold.ttf",woff:"https://static.canva.com/static/webfonts/Signika-Bold.woff"},regular:{ttf:"https://static.canva.com/static/truetypefonts/Signika-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Signika-Regular.woff"}}},{family:"Source Sans Pro",styles:{boldItalic:{ttf:"https://static.canva.com/static/truetypefonts/SourceSansPro-BoldIt.ttf",woff:"https://static.canva.com/static/webfonts/SourceSansPro-BoldIt.otf.woff"},italic:{ttf:"https://static.canva.com/static/truetypefonts/SourceSansPro-It.ttf",woff:"https://static.canva.com/static/webfonts/SourceSansPro-It.otf.woff"},regular:{ttf:"https://static.canva.com/static/truetypefonts/SourceSansPro-Regular.ttf",
woff:"https://static.canva.com/static/webfonts/SourceSansPro-Regular.otf.woff"},bold:{ttf:"https://static.canva.com/static/truetypefonts/SourceSansPro-Bold.ttf",woff:"https://static.canva.com/static/webfonts/SourceSansPro-Bold.otf.woff"}}},{family:"Text Me One",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/TextMeOne-Regular.ttf",woff:"https://static.canva.com/static/webfonts/TextMeOne-Regular.woff"}}},{family:"Tenor Sans",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/TenorSans.ttf",woff:"https://static.canva.com/static/webfonts/TenorSans.woff"}}},{family:"Abril Fatface",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/AbrilFatface-Regular.ttf",
woff:"https://static.canva.com/static/webfonts/AbrilFatface-Regular.woff"}}},{family:"Alegreya SC",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/AlegreyaSC-Regular.ttf",woff:"https://static.canva.com/static/webfonts/AlegreyaSC-Regular.woff"},boldItalic:{ttf:"https://static.canva.com/static/truetypefonts/AlegreyaSC-BoldItalic.ttf",woff:"https://static.canva.com/static/webfonts/AlegreyaSC-BoldItalic.woff"},bold:{ttf:"https://static.canva.com/static/truetypefonts/AlegreyaSC-Bold.ttf",woff:"https://static.canva.com/static/webfonts/AlegreyaSC-Bold.woff"},italic:{ttf:"https://static.canva.com/static/truetypefonts/AlegreyaSC-Italic.ttf",woff:"https://static.canva.com/static/webfonts/AlegreyaSC-Italic.woff"}}},
{family:"Alfa Slab One",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/AlfaSlabOne-Regular.ttf",woff:"https://static.canva.com/static/webfonts/AlfaSlabOne-Regular.woff"}}},{family:"Alike",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Alike-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Alike-Regular.woff"}}},{family:"Anonymous Pro",styles:{bold:{ttf:"https://static.canva.com/static/truetypefonts/AnonymousPro-Bold.ttf",woff:"https://static.canva.com/static/webfonts/AnonymousPro-Bold.woff"},regular:{ttf:"https://static.canva.com/static/truetypefonts/AnonymousPro-Regular.ttf",woff:"https://static.canva.com/static/webfonts/AnonymousPro.woff"},
italic:{ttf:"https://static.canva.com/static/truetypefonts/AnonymousPro-Italic.ttf",woff:"https://static.canva.com/static/webfonts/AnonymousPro-Italic.woff"},boldItalic:{ttf:"https://static.canva.com/static/truetypefonts/AnonymousPro-BoldItalic.ttf",woff:"https://static.canva.com/static/webfonts/AnonymousPro-BoldItalic.woff"}}},{family:"Arvo",styles:{bold:{ttf:"https://static.canva.com/static/truetypefonts/Arvo-Bold.ttf",woff:"https://static.canva.com/static/webfonts/Arvo-Bold.woff"},regular:{ttf:"https://static.canva.com/static/truetypefonts/Arvo-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Arvo.woff"},italic:{ttf:"https://static.canva.com/static/truetypefonts/Arvo-Italic.ttf",woff:"https://static.canva.com/static/webfonts/Arvo-Italic.woff"},
boldItalic:{ttf:"https://static.canva.com/static/truetypefonts/Arvo-BoldItalic.ttf",woff:"https://static.canva.com/static/webfonts/Arvo-BoldItalic.woff"}}},{family:"Bebas Neue",styles:{bold:{ttf:"https://static.canva.com/static/truetypefonts/BebasNeueBold.ttf",woff:"https://static.canva.com/static/webfonts/BebasNeueBold.woff"},regular:{ttf:"https://static.canva.com/static/truetypefonts/BebasNeueRegular.ttf",woff:"https://static.canva.com/static/webfonts/BebasNeueRegular.woff"}}},{family:"Bodoni FLF",styles:{boldItalic:{ttf:"https://static.canva.com/static/truetypefonts/BodoniFLF-BoldItalic.ttf",woff:"https://static.canva.com/static/webfonts/BodoniFLF-BoldItalic.woff"},italic:{ttf:"https://static.canva.com/static/truetypefonts/BodoniFLF-Italic.ttf",
woff:"https://static.canva.com/static/webfonts/BodoniFLF-Italic.woff"},bold:{ttf:"https://static.canva.com/static/truetypefonts/BodoniFLF-Bold.ttf",woff:"https://static.canva.com/static/webfonts/BodoniFLF-Bold.woff"},regular:{ttf:"https://static.canva.com/static/truetypefonts/BodoniFLF-Roman.ttf",woff:"https://static.canva.com/static/webfonts/BodoniFLF-Roman.woff"}}},{family:"Cinzel",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Cinzel-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Cinzel-Regular.woff"},bold:{ttf:"https://static.canva.com/static/truetypefonts/Cinzel-Bold.ttf",woff:"https://static.canva.com/static/webfonts/Cinzel-Bold.woff"}}},{family:"Droid Serif",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/DroidSerif.ttf",
woff:"https://static.canva.com/static/webfonts/DroidSerif.woff"},bold:{ttf:"https://static.canva.com/static/truetypefonts/DroidSerif-Bold.ttf",woff:"https://static.canva.com/static/webfonts/DroidSerif-Bold.woff"},boldItalic:{ttf:"https://static.canva.com/static/truetypefonts/DroidSerif-BoldItalic.ttf",woff:"https://static.canva.com/static/webfonts/DroidSerif-BoldItalic.woff"},italic:{ttf:"https://static.canva.com/static/truetypefonts/DroidSerif-Italic.ttf",woff:"https://static.canva.com/static/webfonts/DroidSerif-Italic.woff"}}},{family:"Forum",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Forum-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Forum-Regular.woff"}}},{family:"Granaina",
styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Granaina-Limpia.ttf",woff:"https://static.canva.com/static/webfonts/Granaina-Limpia.woff"}}},{family:"Glegoo",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Glegoo-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Glegoo-Regular.woff"}}},{family:"IM Fell English SC",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/IMFeENsc28P.ttf",woff:"https://static.canva.com/static/webfonts/IM_FELL_English_SC.woff"}}},{family:"IM Fell Double Pica",styles:{italic:{ttf:"https://static.canva.com/static/truetypefonts/IMFeDPit28P.ttf",woff:"https://static.canva.com/static/webfonts/IM-Fell-Double-Pica-Italic.woff"},
regular:{ttf:"https://static.canva.com/static/truetypefonts/IMFeDPrm28P.ttf",woff:"https://static.canva.com/static/webfonts/IM-Fell-Double-Pica-Roman.woff"}}},{family:"Libre Baskerville",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/LibreBaskerville-Regular.ttf",woff:"https://static.canva.com/static/webfonts/LibreBaskerville-Regular.woff"},italic:{ttf:"https://static.canva.com/static/truetypefonts/LibreBaskerville-Italic.ttf",woff:"https://static.canva.com/static/webfonts/LibreBaskerville-Italic.woff"},bold:{ttf:"https://static.canva.com/static/truetypefonts/LibreBaskerville-Bold.ttf",woff:"https://static.canva.com/static/webfonts/LibreBaskerville-Bold.woff"}}},{family:"Lora",
styles:{italic:{ttf:"https://static.canva.com/static/truetypefonts/Lora-Italic.ttf",woff:"https://static.canva.com/static/webfonts/Lora-Italic.woff"},bold:{ttf:"https://static.canva.com/static/truetypefonts/Lora-Bold.ttf",woff:"https://static.canva.com/static/webfonts/Lora-Bold.woff"},regular:{ttf:"https://static.canva.com/static/truetypefonts/Lora-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Lora.woff"},boldItalic:{ttf:"https://static.canva.com/static/truetypefonts/Lora-BoldItalic.ttf",woff:"https://static.canva.com/static/webfonts/Lora-BoldItalic.woff"}}},{family:"Lustria",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Lustria-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Lustria-Regular.woff"}}},
{family:"Luthier",styles:{boldItalic:{ttf:"https://static.canva.com/static/truetypefonts/Luthier-BoldItalic.ttf",woff:"https://static.canva.com/static/webfonts/Luthier-BoldItalic.woff"},italic:{ttf:"https://static.canva.com/static/truetypefonts/Luthier-Italic.ttf",woff:"https://static.canva.com/static/webfonts/Luthier-Italic.woff"},bold:{ttf:"https://static.canva.com/static/truetypefonts/Luthier-Bold.ttf",woff:"https://static.canva.com/static/webfonts/Luthier-Bold.woff"},regular:{ttf:"https://static.canva.com/static/truetypefonts/Luthier-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Luthier-Regular.woff"}}},{family:"Nixie One",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/NixieOne-Regular.ttf",
woff:"https://static.canva.com/static/webfonts/NixieOne-Regular.woff"}}},{family:"Playfair Display",styles:{boldItalic:{ttf:"https://static.canva.com/static/truetypefonts/PlayfairDisplay-BoldItalic.ttf",woff:"https://static.canva.com/static/webfonts/PlayfairDisplay-BoldItalic.woff"},bold:{ttf:"https://static.canva.com/static/truetypefonts/PlayfairDisplay-Bold.ttf",woff:"https://static.canva.com/static/webfonts/PlayfairDisplay-Bold.woff"},regular:{ttf:"https://static.canva.com/static/truetypefonts/PlayfairDisplay-Regular.ttf",woff:"https://static.canva.com/static/webfonts/PlayfairDisplay-Regular.woff"},italic:{ttf:"https://static.canva.com/static/truetypefonts/PlayfairDisplay-Italic.ttf",
woff:"https://static.canva.com/static/webfonts/PlayfairDisplay-Italic.woff"}}},{family:"Playfair Display Black",styles:{italic:{ttf:"https://static.canva.com/static/truetypefonts/PlayfairDisplay-BlackItalic.ttf",woff:"https://static.canva.com/static/webfonts/PlayfairDisplay-BlackItalic.woff"},regular:{ttf:"https://static.canva.com/static/truetypefonts/PlayfairDisplay-Black.ttf",woff:"https://static.canva.com/static/webfonts/PlayfairDisplay-Black.woff"}}},{family:"Playfair Display SC",styles:{italic:{ttf:"https://static.canva.com/static/truetypefonts/PlayfairDisplaySC-Italic.ttf",woff:"https://static.canva.com/static/webfonts/PlayfairDisplaySC-Italic.woff"},regular:{ttf:"https://static.canva.com/static/truetypefonts/PlayfairDisplaySC-Regular.ttf",
woff:"https://static.canva.com/static/webfonts/PlayfairDisplaySC-Regular.woff"},boldItalic:{ttf:"https://static.canva.com/static/truetypefonts/PlayfairDisplaySC-BoldItalic.ttf",woff:"https://static.canva.com/static/webfonts/PlayfairDisplaySC-BoldItalic.woff"},bold:{ttf:"https://static.canva.com/static/truetypefonts/PlayfairDisplaySC-Bold.ttf",woff:"https://static.canva.com/static/webfonts/PlayfairDisplaySC-Bold.woff"}}},{family:"Prata",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Prata-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Prata-Regular.woff"}}},{family:"PT Serif",styles:{boldItalic:{ttf:"https://static.canva.com/static/truetypefonts/PT_Serif-Web-BoldItalic.ttf",
woff:"https://static.canva.com/static/webfonts/PTSerif-BoldItalic.woff"},italic:{ttf:"https://static.canva.com/static/truetypefonts/PT_Serif-Web-Italic.ttf",woff:"https://static.canva.com/static/webfonts/PTSerif-Italic.woff"},bold:{ttf:"https://static.canva.com/static/truetypefonts/PT_Serif-Web-Bold.ttf",woff:"https://static.canva.com/static/webfonts/PTSerif-Bold.woff"},regular:{ttf:"https://static.canva.com/static/truetypefonts/PT_Serif-Web-Regular.ttf",woff:"https://static.canva.com/static/webfonts/PTSerif-Regular.woff"}}},{family:"Quando",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Quando-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Quando-Regular.woff"}}},{family:"Quattrocento",
styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Quattrocento-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Quattrocento.woff"},bold:{ttf:"https://static.canva.com/static/truetypefonts/Quattrocento-Bold.ttf",woff:"https://static.canva.com/static/webfonts/Quattrocento-Bold.woff"}}},{family:"Sanchez",styles:{italic:{ttf:"https://static.canva.com/static/truetypefonts/Sanchez-Italic.ttf",woff:"https://static.canva.com/static/webfonts/Sanchez-Italic.woff"},regular:{ttf:"https://static.canva.com/static/truetypefonts/Sanchez-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Sanchez-Regular.woff"}}},{family:"Source Serif Pro",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/SourceSerifPro-Regular.ttf",
woff:"https://static.canva.com/static/webfonts/SourceSerifPro-Regular.otf.woff"},bold:{ttf:"https://static.canva.com/static/truetypefonts/SourceSerifPro-Bold.ttf",woff:"https://static.canva.com/static/webfonts/SourceSerifPro-Bold.otf.woff"}}},{family:"Old Standard",styles:{italic:{ttf:"https://static.canva.com/static/truetypefonts/OldStandard-Italic.ttf",woff:"https://static.canva.com/static/webfonts/OldStandardTT-Italic.woff"},regular:{ttf:"https://static.canva.com/static/truetypefonts/OldStandard-Regular.ttf",woff:"https://static.canva.com/static/webfonts/OldStandardTT-Regular.woff"},bold:{ttf:"https://static.canva.com/static/truetypefonts/OldStandard-Bold.ttf",woff:"https://static.canva.com/static/webfonts/OldStandardTT-Bold.woff"}}},
{family:"Times Neue Roman",styles:{boldItalic:{ttf:"https://static.canva.com/static/truetypefonts/texgyretermes-bolditalic.ttf",woff:"https://static.canva.com/static/webfonts/texgyretermes-bolditalic.woff"},italic:{ttf:"https://static.canva.com/static/truetypefonts/texgyretermes-italic.ttf",woff:"https://static.canva.com/static/webfonts/texgyretermes-italic.woff"},regular:{ttf:"https://static.canva.com/static/truetypefonts/texgyretermes-regular.ttf",woff:"https://static.canva.com/static/webfonts/texgyretermes-regular.woff"},bold:{ttf:"https://static.canva.com/static/truetypefonts/texgyretermes-bold.ttf",woff:"https://static.canva.com/static/webfonts/texgyretermes-bold.woff"}}},{family:"Trocchi",
styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Trocchi-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Trocchi.woff"}}},{family:"Ultra",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Ultra.ttf",woff:"https://static.canva.com/static/webfonts/Ultra.woff"}}},{family:"Vidaloka",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Vidaloka-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Vidaloka-Regular.woff"}}},{family:"Voga",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Voga-Medium.ttf",woff:"https://static.canva.com/static/webfonts/Voga-Medium.woff"}}},{family:"Vollkorn",styles:{boldItalic:{ttf:"https://static.canva.com/static/truetypefonts/Vollkorn-BoldItalic.ttf",
woff:"https://static.canva.com/static/webfonts/Vollkorn-BoldItalic.woff"},bold:{ttf:"https://static.canva.com/static/truetypefonts/Vollkorn-Bold.ttf",woff:"https://static.canva.com/static/webfonts/Vollkorn-Bold.woff"},regular:{ttf:"https://static.canva.com/static/truetypefonts/Vollkorn-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Vollkorn-Regular.woff"},italic:{ttf:"https://static.canva.com/static/truetypefonts/Vollkorn-Italic.ttf",woff:"https://static.canva.com/static/webfonts/Vollkorn-Italic.woff"}}},{family:"Cantora One",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/CantoraOne-Regular.ttf",woff:"https://static.canva.com/static/webfonts/CantoraOne-Regular.woff"}}},{family:"Coustard",
styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Coustard-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Coustard.woff"}}},{family:"Emilys Candy",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/EmilysCandy-Regular.ttf",woff:"https://static.canva.com/static/webfonts/EmilysCandy-Regular.woff"}}},{family:"Glass Antiqua",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/GlassAntiqua-Regular.ttf",woff:"https://static.canva.com/static/webfonts/GlassAntiqua-Regular.woff"}}},{family:"Graduate",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Graduate-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Graduate-Regular.woff"}}},
{family:"Ribeye",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Ribeye-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Ribeye-Regular.woff"}}},{family:"Vast Shadow",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/VastShadow-Regular.ttf",woff:"https://static.canva.com/static/webfonts/VastShadow-Regular.woff"}}},{family:"Gochi Hand",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/GochiHand-Regular.ttf",woff:"https://static.canva.com/static/webfonts/GochiHand-Regular.woff"}}},{family:"Over The Rainbow",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/OvertheRainbow.ttf",woff:"https://static.canva.com/static/webfonts/OvertheRainbow.woff"}}},
{family:"Permanent Marker",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/PermanentMarker.ttf",woff:"https://static.canva.com/static/webfonts/PermanentMarker.woff"}}},{family:"Sacramento",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Sacramento-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Sacramento-Regular.woff"}}},{family:"Schoolbell",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Schoolbell.ttf",woff:"https://static.canva.com/static/webfonts/Schoolbell.woff"}}},{family:"Shadows Into Light Two",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/ShadowsIntoLight.ttf",
woff:"https://static.canva.com/static/webfonts/ShadowsIntoLightTwo-Regular.woff"}}},{family:"Amatic SC",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/AmaticSC-Regular.ttf",woff:"https://static.canva.com/static/webfonts/AmaticSC-Regular.woff"},bold:{ttf:"https://static.canva.com/static/truetypefonts/AmaticSC-Bold.ttf",woff:"https://static.canva.com/static/webfonts/AmaticSC-Bold.woff"}}},{family:"Architects Daughter",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/ArchitectsDaughter.ttf",woff:"https://static.canva.com/static/webfonts/ArchitectsDaughter.woff"}}},{family:"Cabin Sketch",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/CabinSketch-Regular.ttf",
woff:"https://static.canva.com/static/webfonts/CabinSketch-Regular.woff"},bold:{ttf:"https://static.canva.com/static/truetypefonts/CabinSketch-Bold.ttf",woff:"https://static.canva.com/static/webfonts/CabinSketch-Bold.woff"}}},{family:"Coming Soon",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/ComingSoon.ttf",woff:"https://static.canva.com/static/webfonts/ComingSoon.woff"}}},{family:"Allura",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Allura-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Allura-Regular.woff"}}},{family:"Clicker Script",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/ClickerScript-Regular.ttf",
woff:"https://static.canva.com/static/webfonts/ClickerScript-Regular.woff"}}},{family:"Courgette",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Courgette-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Courgette-Regular.woff"}}},{family:"Dear Joe",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/DearJoe5.ttf",woff:"https://static.canva.com/static/webfonts/DearJoe5.woff"}}},{family:"Engagement",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Engagement-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Engagement-Regular.woff"}}},{family:"Euphoria Script",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/EuphoriaScript-Regular.ttf",
woff:"https://static.canva.com/static/webfonts/EuphoriaScript-Regular.woff"}}},{family:"Great Vibes",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/GreatVibes-Regular.ttf",woff:"https://static.canva.com/static/webfonts/GreatVibes-Regular.woff"}}},{family:"Kaushan Script",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/KaushanScript-Regular.ttf",woff:"https://static.canva.com/static/webfonts/KaushanScript-Regular.woff"}}},{family:"Marta",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Marta-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Marta-Regular.woff"},bold:{ttf:"https://static.canva.com/static/truetypefonts/Marta-Bold.ttf",
woff:"https://static.canva.com/static/webfonts/Marta-Bold.woff"},italic:{ttf:"https://static.canva.com/static/truetypefonts/Marta-Italic.ttf",woff:"https://static.canva.com/static/webfonts/Marta-Italic.woff"}}},{family:"Merriweather",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Merriweather-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Merriweather.woff"},bold:{ttf:"https://static.canva.com/static/truetypefonts/Merriweather-Bold.ttf",woff:"https://static.canva.com/static/webfonts/Merriweather-Bold.woff"},boldItalic:{ttf:"https://static.canva.com/static/truetypefonts/Merriweather-BoldItalic.ttf",woff:"https://static.canva.com/static/webfonts/Merriweather-BoldItalic.woff"},
italic:{ttf:"https://static.canva.com/static/truetypefonts/Merriweather-Italic.ttf",woff:"https://static.canva.com/static/webfonts/Merriweather-Italic.woff"}}},{family:"Mr Dafoe",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/MrDafoe-Regular.ttf",woff:"https://static.canva.com/static/webfonts/MrDafoe-Regular.woff"}}},{family:"Niconne",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Niconne-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Niconne-Regular.woff"}}},{family:"Parisienne",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Parisienne-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Parisienne-Regular.woff"}}},
{family:"Pinyon Script",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/PinyonScript-Regular.ttf",woff:"https://static.canva.com/static/webfonts/PinyonScript.woff"}}},{family:"Dr Sugiyama",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/DrSugiyama-Regular.ttf",woff:"https://static.canva.com/static/webfonts/DrSugiyama-Regular.woff"}}},{family:"Grand Hotel",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/GrandHotel-Regular.ttf",woff:"https://static.canva.com/static/webfonts/GrandHotel-Regular.woff"}}},{family:"Knewave",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Knewave-Regular.ttf",
woff:"https://static.canva.com/static/webfonts/Knewave-Regular.woff"}}},{family:"Pacifico",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Pacifico.ttf",woff:"https://static.canva.com/static/webfonts/Pacifico-Regular.woff"}}},{family:"Princess Sofia",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/PrincessSofia-Regular.ttf",woff:"https://static.canva.com/static/webfonts/PrincessSofia.woff"}}},{family:"Satisfy",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Satisfy-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Satisfy.woff"}}},{family:"Streamster",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Streamster.ttf",
woff:"https://static.canva.com/static/webfonts/Streamster.woff"}}},{family:"Yellowtail",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Yellowtail-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Yellowtail.woff"}}},{family:"Berkshire Swash",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/BerkshireSwash-Regular.ttf",woff:"https://static.canva.com/static/webfonts/BerkshireSwash-Regular.woff"}}},{family:"Black Ops One",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/BlackOpsOne-Regular.ttf",woff:"https://static.canva.com/static/webfonts/BlackOpsOne-Regular.woff"}}},{family:"Chewy",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Chewy.ttf",
woff:"https://static.canva.com/static/webfonts/Chewy.woff"}}},{family:"Creepster",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Creepster-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Creepster-Regular.woff"}}},{family:"Diplomata SC",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/DiplomataSC-Regular.ttf",woff:"https://static.canva.com/static/webfonts/DiplomataSC-Regular.woff"}}},{family:"Germania One",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/GermaniaOne-Regular.ttf",woff:"https://static.canva.com/static/webfonts/GermaniaOne-Regular.woff"}}},{family:"Megrim",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Megrim.ttf",
woff:"https://static.canva.com/static/webfonts/Megrim.woff"}}},{family:"Rye",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Rye-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Rye-Regular.woff"}}},{family:"UnifrakturMaguntia",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/UnifrakturMaguntia-Book.ttf",woff:"https://static.canva.com/static/webfonts/UnifrakturMaguntia.woff"}}},{family:"Codystar",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Codystar-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Codystar.woff"}}},{family:"Crafty Girls",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/CraftyGirls.ttf",
woff:"https://static.canva.com/static/webfonts/CraftyGirls.woff"}}},{family:"Hitchcut",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Hitchcut.ttf",woff:"https://static.canva.com/static/webfonts/Hitchcut.woff"}}},{family:"Lobster",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Lobster.ttf",woff:"https://static.canva.com/static/webfonts/Lobster.woff"}}},{family:"Lobster Two",styles:{boldItalic:{ttf:"https://static.canva.com/static/truetypefonts/LobsterTwo-BoldItalic.ttf",woff:"https://static.canva.com/static/webfonts/LobsterTwo-BoldItalic.woff"},regular:{ttf:"https://static.canva.com/static/truetypefonts/LobsterTwo-Regular.ttf",woff:"https://static.canva.com/static/webfonts/LobsterTwo-Regular.woff"},
bold:{ttf:"https://static.canva.com/static/truetypefonts/LobsterTwo-Bold.ttf",woff:"https://static.canva.com/static/webfonts/LobsterTwo-Bold.woff"},italic:{ttf:"https://static.canva.com/static/truetypefonts/LobsterTwo-Italic.ttf",woff:"https://static.canva.com/static/webfonts/LobsterTwo-Italic.woff"}}},{family:"Oleo Script",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/OleoScript-Regular.ttf",woff:"https://static.canva.com/static/webfonts/OleoScript-Regular.woff"},bold:{ttf:"https://static.canva.com/static/truetypefonts/OleoScript-Bold.ttf",woff:"https://static.canva.com/static/webfonts/OleoScript-Bold.woff"}}},{family:"Londrina Shadow",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/LondrinaShadow-Regular.ttf",
woff:"https://static.canva.com/static/webfonts/LondrinaShadow-Regular.woff"}}},{family:"Londrina Sketch",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/LondrinaSketch-Regular.ttf",woff:"https://static.canva.com/static/webfonts/LondrinaSketch-Regular.woff"}}},{family:"Oregano",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Oregano-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Oregano-Regular.woff"},italic:{ttf:"https://static.canva.com/static/truetypefonts/Oregano-Italic.ttf",woff:"https://static.canva.com/static/webfonts/Oregano-Italic.woff"}}},{family:"Sniglet",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Sniglet-Regular.ttf",
woff:"https://static.canva.com/static/webfonts/Sniglet.woff"}}},{family:"Special Elite",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/SpecialElite.ttf",woff:"https://static.canva.com/static/webfonts/SpecialElite-Regular.woff"}}},{family:"Sunday",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Sunday.ttf",woff:"https://static.canva.com/static/webfonts/Sunday.woff"}}},{family:"Vampiro One",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/VampiroOne-Regular.ttf",woff:"https://static.canva.com/static/webfonts/VampiroOne-Regular.woff"}}},{family:"VT323",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/VT323-Regular.ttf",
woff:"https://static.canva.com/static/webfonts/VT323-Regular.woff"}}},{family:"Waterlily",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Waterlily.ttf",woff:"https://static.canva.com/static/webfonts/Waterlily.woff"}}},{family:"Brusher",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Brusher-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Brusher-Regular.woff"}}},{family:"Playlist Script",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Playlist-Script.ttf",woff:"https://static.canva.com/static/webfonts/Playlist-Script.woff"}}},{family:"Selima",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Selima.ttf",
woff:"https://static.canva.com/static/webfonts/Selima.woff"}}},{family:"Sensei",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Sensei-Medium.ttf",woff:"https://static.canva.com/static/webfonts/Sensei-Medium.woff"}}},{family:"Edo",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Edo.ttf",woff:"https://static.canva.com/static/webfonts/Edo.woff"}}},{family:"M Plus Thin",styles:{regular:{woff:"https://static.canva.com/static/fonts/MPlusThin/mplus-1p-thin.woff",ttf:"https://static.canva.com/static/fonts/MPlusThin/mplus-1p-thin.ttf"},bold:{woff:"https://static.canva.com/static/fonts/MPlusThin/mplus-1p-light.woff",ttf:"https://static.canva.com/static/fonts/MPlusThin/mplus-1p-light.ttf"}}},
{family:"M Plus Regular",styles:{regular:{woff:"https://static.canva.com/static/fonts/MPlusRegular/mplus-1p-regular.woff",ttf:"https://static.canva.com/static/fonts/MPlusRegular/mplus-1p-regular.ttf"},bold:{woff:"https://static.canva.com/static/fonts/MPlusRegular/mplus-1p-medium.woff",ttf:"https://static.canva.com/static/fonts/MPlusRegular/mplus-1p-medium.ttf"}}},{family:"M Plus Black",styles:{regular:{woff:"https://static.canva.com/static/fonts/MPlusBlack/mplus-1p-bold.woff",ttf:"https://static.canva.com/static/fonts/MPlusBlack/mplus-1p-bold.ttf"},bold:{woff:"https://static.canva.com/static/fonts/MPlusBlack/mplus-1p-black.woff",ttf:"https://static.canva.com/static/fonts/MPlusBlack/mplus-1p-black.ttf"}}},
{family:"M Plus Heavy",styles:{regular:{woff:"https://static.canva.com/static/fonts/MPlusHeavy/mplus-1p-heavy.woff",ttf:"https://static.canva.com/static/fonts/MPlusHeavy/mplus-1p-heavy.ttf"}}},{family:"Noto Sans Thin",styles:{regular:{woff:"https://static.canva.com/static/fonts/NotoSansThin/NotoSansJP-Thin.woff",otf:"https://static.canva.com/static/fonts/NotoSansThin/NotoSansJP-Thin.otf"},bold:{woff:"https://static.canva.com/static/fonts/NotoSansThin/NotoSansJP-Light.woff",otf:"https://static.canva.com/static/fonts/NotoSansThin/NotoSansJP-Light.otf"}}},{family:"Noto Sans Light",styles:{regular:{woff:"https://static.canva.com/static/fonts/NotoSansLight/NotoSansJP-DemiLight.woff",
otf:"https://static.canva.com/static/fonts/NotoSansLight/NotoSansJP-DemiLight.otf"},bold:{woff:"https://static.canva.com/static/fonts/NotoSansLight/NotoSansJP-Regular.woff",otf:"https://static.canva.com/static/fonts/NotoSansLight/NotoSansJP-Regular.otf"}}},{family:"Noto Sans Regular",styles:{regular:{woff:"https://static.canva.com/static/fonts/NotoSansRegular/NotoSansJP-Medium.woff",otf:"https://static.canva.com/static/fonts/NotoSansRegular/NotoSansJP-Medium.otf"},bold:{woff:"https://static.canva.com/static/fonts/NotoSansRegular/NotoSansJP-Bold.woff",otf:"https://static.canva.com/static/fonts/NotoSansRegular/NotoSansJP-Bold.otf"}}},{family:"Noto Sans Black",styles:{regular:{woff:"https://static.canva.com/static/fonts/NotoSansBlack/NotoSansJP-Black.woff",
otf:"https://static.canva.com/static/fonts/NotoSansBlack/NotoSansJP-Black.otf"}}},{family:"Kodomo Rounded Gothic Light",styles:{regular:{woff:"https://static.canva.com/static/fonts/KodomoRoundedGothicLight/KodomoRounded-Light.woff",otf:"https://static.canva.com/static/fonts/KodomoRoundedGothicLight/KodomoRounded-Light.otf"},bold:{woff:"https://static.canva.com/static/fonts/KodomoRoundedGothicLight/KodomoRounded.woff",otf:"https://static.canva.com/static/fonts/KodomoRoundedGothicLight/KodomoRounded.otf"}}},{family:"Bokutachi Gothic Regular",styles:{regular:{woff:"https://static.canva.com/static/fonts/BokutachiGothicRegular/BokutachinoGothic2Regular.woff",
otf:"https://static.canva.com/static/fonts/BokutachiGothicRegular/Boku2-Regular.otf"},bold:{woff:"https://static.canva.com/static/fonts/BokutachiGothicRegular/BokutachinoGothic2Bold.woff",otf:"https://static.canva.com/static/fonts/BokutachiGothicRegular/Boku2-Bold.otf"}}},{family:"Yasashisa Gothic",styles:{regular:{woff:"https://static.canva.com/static/fonts/YasashisaGothic/YasashisaGothic.woff",otf:"https://static.canva.com/static/fonts/YasashisaGothic/YasashisaGothic.otf"}}},{family:"Logo Type Gothic",styles:{regular:{woff:"https://static.canva.com/static/fonts/LogoTypeGothic/07LogoTypeGothic7.woff",ttf:"https://static.canva.com/static/fonts/LogoTypeGothic/07LogoTypeGothic7.ttf"}}},
{family:"Genjyuu Gothic Thin",styles:{regular:{woff:"https://static.canva.com/static/fonts/GenjyuuGothicThin/GenJyuuGothic-ExtraLight.woff",ttf:"https://static.canva.com/static/fonts/GenjyuuGothicThin/GenJyuuGothic-ExtraLight.ttf"},bold:{woff:"https://static.canva.com/static/fonts/GenjyuuGothicThin/GenJyuuGothic-Light.woff",ttf:"https://static.canva.com/static/fonts/GenjyuuGothicThin/GenJyuuGothic-Light.ttf"}}},{family:"Genjyuu Gothic Light",styles:{regular:{woff:"https://static.canva.com/static/fonts/GenjyuuGothicLight/GenJyuuGothic-Normal.woff",ttf:"https://static.canva.com/static/fonts/GenjyuuGothicLight/GenJyuuGothic-Normal.ttf"},bold:{woff:"https://static.canva.com/static/fonts/GenjyuuGothicLight/GenJyuuGothic-Regular.woff",
ttf:"https://static.canva.com/static/fonts/GenjyuuGothicLight/GenJyuuGothic-Regular.ttf"}}},{family:"Genjyuu Gothic Black",styles:{regular:{woff:"https://static.canva.com/static/fonts/GenjyuuGothicBlack/GenJyuuGothic-Medium.woff",ttf:"https://static.canva.com/static/fonts/GenjyuuGothicBlack/GenJyuuGothic-Medium.ttf"},bold:{woff:"https://static.canva.com/static/fonts/GenjyuuGothicBlack/GenJyuuGothic-Bold.woff",ttf:"https://static.canva.com/static/fonts/GenjyuuGothicBlack/GenJyuuGothic-Bold.ttf"}}},{family:"Genjyuu Gothic Heavy",styles:{regular:{woff:"https://static.canva.com/static/fonts/GenjyuuGothicHeavy/GenJyuuGothic-Heavy.woff",ttf:"https://static.canva.com/static/fonts/GenjyuuGothicHeavy/GenJyuuGothic-Heavy.ttf"}}},
{family:"M Plus Rounded Thin",styles:{regular:{woff:"https://static.canva.com/static/fonts/MPlusRoundedThin/rounded-mplus-1p-thin.woff",ttf:"https://static.canva.com/static/fonts/MPlusRoundedThin/rounded-mplus-1p-thin.ttf"},bold:{woff:"https://static.canva.com/static/fonts/MPlusRoundedThin/rounded-mplus-1p-light.woff",ttf:"https://static.canva.com/static/fonts/MPlusRoundedThin/rounded-mplus-1p-light.ttf"}}},{family:"M Plus Rounded Regular",styles:{regular:{woff:"https://static.canva.com/static/fonts/MPlusRoundedRegular/rounded-mplus-1p-regular.woff",ttf:"https://static.canva.com/static/fonts/MPlusRoundedRegular/rounded-mplus-1p-regular.ttf"},
bold:{woff:"https://static.canva.com/static/fonts/MPlusRoundedRegular/rounded-mplus-1p-medium.woff",ttf:"https://static.canva.com/static/fonts/MPlusRoundedRegular/rounded-mplus-1p-medium.ttf"}}},{family:"M Plus Rounded Black",styles:{regular:{woff:"https://static.canva.com/static/fonts/MPlusRoundedBlack/rounded-mplus-1p-bold.woff",ttf:"https://static.canva.com/static/fonts/MPlusRoundedBlack/rounded-mplus-1p-bold.ttf"},bold:{woff:"https://static.canva.com/static/fonts/MPlusRoundedBlack/rounded-mplus-1p-black.woff",ttf:"https://static.canva.com/static/fonts/MPlusRoundedBlack/rounded-mplus-1p-black.ttf"}}},{family:"M Plus Rounded Heavy",styles:{regular:{woff:"https://static.canva.com/static/fonts/MPlusRoundedHeavy/rounded-mplus-1p-heavy.woff",
ttf:"https://static.canva.com/static/fonts/MPlusRoundedHeavy/rounded-mplus-1p-heavy.ttf"}}},{family:"Ipaex Mincho",styles:{regular:{woff:"https://static.canva.com/static/fonts/IpaexMincho/ipaexm.woff",ttf:"https://static.canva.com/static/fonts/IpaexMincho/Ipaexm.ttf"}}},{family:"Aozora Mincho Regular",styles:{regular:{woff:"https://static.canva.com/static/fonts/AozoraMinchoRegular/AozoraMinchoRegular.woff",ttf:"https://static.canva.com/static/fonts/AozoraMinchoRegular/AozoraMinchoRegular.ttf"},bold:{woff:"https://static.canva.com/static/fonts/AozoraMinchoRegular/AozoraMinchoMedium.woff",ttf:"https://static.canva.com/static/fonts/AozoraMinchoRegular/AozoraMinchoMedium.ttf"}}},
{family:"Aozora Mincho Heavy",styles:{regular:{woff:"https://static.canva.com/static/fonts/AozoraMinchoHeavy/AozoraMincho-bold.woff",ttf:"https://static.canva.com/static/fonts/AozoraMinchoHeavy/AozoraMincho-bold.ttf"},bold:{woff:"https://static.canva.com/static/fonts/AozoraMinchoHeavy/AozoraMinchoHeavy.woff",ttf:"https://static.canva.com/static/fonts/AozoraMinchoHeavy/AozoraMinchoHeavy.ttf"}}},{family:"Kokoro Minchoutai",styles:{regular:{woff:"https://static.canva.com/static/fonts/KokoroMinchoutai/Kokoro.woff",otf:"https://static.canva.com/static/fonts/KokoroMinchoutai/Kokoro.otf"}}},{family:"Hannari Mincho",styles:{regular:{woff:"https://static.canva.com/static/fonts/HannariMincho/HannariMincho.woff",
otf:"https://static.canva.com/static/fonts/HannariMincho/Hannari.otf"}}},{family:"Yasashisa Antique",styles:{regular:{woff:"https://static.canva.com/static/fonts/YasashisaAntique/07YasashisaAntique.woff",otf:"https://static.canva.com/static/fonts/YasashisaAntique/07YasashisaAntique.otf"}}},{family:"Dejima Mincho",styles:{regular:{woff:"https://static.canva.com/static/fonts/DejimaMincho/dejima-mincho-r227.woff",ttf:"https://static.canva.com/static/fonts/DejimaMincho/dejima-mincho-r227.ttf"}}},{family:"Koku Maru Mincho",styles:{regular:{woff:"https://static.canva.com/static/fonts/KokuMaruMincho/KokuMaruMinchoKana-Regular.woff",otf:"https://static.canva.com/static/fonts/KokuMaruMincho/KokuMaruMinchoKana-Regular.otf"}}},
{family:"Koku Mincho Regular",styles:{regular:{woff:"https://static.canva.com/static/fonts/KokuMinchoRegular/font_1_kokumr_1.00_rls.woff",ttf:"https://static.canva.com/static/fonts/KokuMinchoRegular/font_1_kokumr_1.00_rls.ttf"}}},{family:"Hanazono Mincho",styles:{regular:{woff:"https://static.canva.com/static/fonts/HanazonoMincho/HanaMinA.woff",ttf:"https://static.canva.com/static/fonts/HanazonoMincho/HanaMinA.ttf"}}},{family:"Checkpoint",styles:{regular:{woff:"https://static.canva.com/static/fonts/Checkpoint/CPFont.woff",otf:"https://static.canva.com/static/fonts/Checkpoint/CPFont.otf"}}},{family:"Nicomoji Plus",styles:{regular:{woff:"https://static.canva.com/static/fonts/NicomojiPlus/nicomoji-plus_1.11.woff",
ttf:"https://static.canva.com/static/fonts/NicomojiPlus/nicomoji-plus_1.11.ttf"}}},{family:"Light Novel Pop",styles:{regular:{woff:"https://static.canva.com/static/fonts/LightNovelPop/LightNovelPop.woff",otf:"https://static.canva.com/static/fonts/LightNovelPop/LightNovelPop.otf"}}},{family:"Uzura",styles:{regular:{woff:"https://static.canva.com/static/fonts/Uzura/uzura.woff",ttf:"https://static.canva.com/static/fonts/Uzura/uzura.ttf"}}},{family:"Cinecaption",styles:{regular:{woff:"https://static.canva.com/static/fonts/Cinecaption/cinecaption227.woff",ttf:"https://static.canva.com/static/fonts/Cinecaption/cinecaption227.TTF"}}},{family:"Jiyucho",styles:{regular:{woff:"https://static.canva.com/static/fonts/Jiyucho/Jiyucho.woff",
otf:"https://static.canva.com/static/fonts/Jiyucho/Jiyucho.otf"}}},{family:"Tanuki",styles:{regular:{woff:"https://static.canva.com/static/fonts/Tanuki/TanukiMagic.woff",ttf:"https://static.canva.com/static/fonts/Tanuki/TanukiMagic.ttf"}}},{family:"Hanazome",styles:{regular:{woff:"https://static.canva.com/static/fonts/Hanazome/HanazomeFont.woff",ttf:"https://static.canva.com/static/fonts/Hanazome/HanazomeFont.ttf"}}},{family:"Fuiji",styles:{regular:{woff:"https://static.canva.com/static/fonts/Fuiji/HuiFontP.woff",ttf:"https://static.canva.com/static/fonts/Fuiji/HuiFontP29.ttf"}}},{family:"Nagayama Kai",styles:{regular:{woff:"https://static.canva.com/static/fonts/NagayamaKai/nagayama_kai08.woff",
otf:"https://static.canva.com/static/fonts/NagayamaKai/nagayama_kai08.otf"}}},{family:"Kouzan",styles:{regular:{woff:"https://static.canva.com/static/fonts/Kouzan/KouzanGyoushoOTF.woff",otf:"https://static.canva.com/static/fonts/Kouzan/KouzanBrushFontGyousyoOTF.otf"}}}];var F0="WARNING",E0="ERROR";function C6(a){this.page=a.page;this.element=a.element;this.content=a.content;this.oz=a.oz}C6.prototype.R=function(){return this.page};C6.prototype.getElement=function(){return this.element};C6.prototype.getContent=function(){return this.content};
function eda(a){var b,c,d,e;a.forEach(function(a){null!=a.page&&(Ca(null==b),b=a.page);null!=a.element&&(Ca(null==c),c=a.element);null!=a.content&&(Ca(null==d),d=a.content);null!=a.oz&&(Ca(null==e),e=a.oz)});return new C6({page:b,element:c,content:d,oz:e})}function D6(a){this.context=a.context;this.type=a.type;this.level=a.level}D6.prototype.getContext=function(){return this.context};D6.prototype.eb=function(){return this.type};function E6(a,b){this.context=[];this.Aw=[];this.media=b;this.p9=a}function D0(a,b){var c=new Set;dda.forEach(function(a){return c.add(a.family)});b=new E6(c,b);fda(b,a);return b.Aw}function fda(a,b){b.O.forEach(function(b,d){F6(a,new C6({page:d}),function(){gda(a,b)})})}
function gda(a,b){b.elements.forEach(function(b,d){F6(a,new C6({element:d}),function(){switch(b.type){case "text":G6(a,b);break;case "image":H6(a,b);a.check(0===d||!b.kc,"IS_BACKGROUND_REQUIRES_FIRST_ELEMENT",E0);break;case "svg":hda(a,b);break;case "grid":ida(a,b);break;case "graphic":a.error("GRAPHIC_ELEMENT_NOT_HANDLED");break;case "shape":break;case "group":break;default:a.error("UNKNOWN_ELEMENT_TYPE")}})})}
function G6(a,b){a.check(0<b.Ev.length,"LINE_LENGTHS_REQUIRED",E0);if(b.color)try{var c=b.color;if("#"===c.slice(0,1)){var d;if(d=bda.exec(c))new y6(17*parseInt(d[1],16),17*parseInt(d[2],16),17*parseInt(d[3],16));else if(d=cda.exec(c))new y6(parseInt(d[1],16),parseInt(d[2],16),parseInt(d[3],16));else throw Error("not a hexadecimal color: "+c);}else switch(c.slice(0,4)){case "hsl(":var e=Zca.exec(c);Ca(!!e,"Invalid HSL color: {}",c);new z6(+e[1],+e[2],+e[3]);break;case "hsv(":var g=$ca.exec(c);Ca(!!g,
"Invalid HSV color: {}",c);new A6(+g[1],+g[2],+g[3]);break;case "rgb(":var h=ada.exec(c);Ca(!!h,"Invalid RGB color: {}",c);new y6(+h[1],+h[2],+h[3]);break;default:throw Error("cannot parse color: "+c);}}catch(k){a.error("COLOR_NOT_CONVERTIBLE_TO_RGB")}null!=b.Ou||null==b.fontFamily||a.p9.has(b.fontFamily)||a.error("FONT_NOT_SUPPORTED")}function H6(a,b){!1!==b.tc&&null!=b.ha&&null!=b.ia&&I6(a,b.ha,b.ia);a.check(!b.filter,"HAS_FILTER",F0)}
function hda(a,b){I6(a,b.ha,b.ia);a.check(b.rk,"SVG_METADATA_REQUIRED",E0);b.Km.forEach(function(b){F6(a,new C6({oz:b.index}),function(){a.check("inherit"!==b.color,"FILL_COLOR_INHERIT",E0)})});b.contents.forEach(function(b,d){F6(a,new C6({content:d}),function(){switch(b.type){case "text":a.check(null!=b.top,"TOP_REQUIRED",E0);a.check(null!=b.left,"LEFT_REQUIRED",E0);a.check(null!=b.lineHeight,"LINE_HEIGHT_REQUIRED",E0);G6(a,b);break;case "image":H6(a,b)}})})}
function ida(a,b){b.contents.forEach(function(b,d){F6(a,new C6({content:d}),function(){null!=b.ha&&null!=b.ia&&I6(a,b.ha,b.ia);a.check(!b.filter,"HAS_FILTER",F0)})})}function I6(a,b,c){null!=b&&null!=c&&a.media.find(function(a){return a.id===b&&a.version===c})||a.error("MEDIA_NOT_RESOLVED")}function F6(a,b,c){a.context.push(b);c();a.context.pop()}E6.prototype.error=function(a){J6(this,a,E0)};function J6(a,b,c){a.Aw.push(new D6({context:eda(a.context),level:c,type:b}))}
E6.prototype.check=function(a,b,c){if(a)return!0;J6(this,b,c);return!1};function K6(){}K6=Backbone.View.extend({className:"teamBillingSignup"});f=K6.prototype;f.events=function(){return{"click .teamBillingCreditCardRevert":this.trigger.bind(this,"revert"),"click .teamBillingCreditCardSubmit":this.trigger.bind(this,"submit"),"click .teamBillingRetryButton":this.trigger.bind(this,"retry")}};
f.initialize=function(a){this.compact=a.compact;this.Ji=a.Ji;this.mw=a.mw;this.listenTo(this.mw,"selectPlan",this.trigger.bind(this,"selectPlan"));this.I7=L6.j1(Hc(a.i));this.Le=a.Le;this.i=a.i;this.hj=cd(a.i)};
f.render=function(){var a=moment().add(this.Le,"days").format("LL"),b;b=this.i;b.sk||(b.sk=new kf(b.config));b=b.sk;this.$el.html(jda({compact:this.compact,claim:this.hj.IC(this.Le),aE:lf(b),bE:mf(b,a),cE:nf(b),Du:this.hj.Du(),xv:this.hj.xv(),Bw:this.hj.Bw(),qx:this.hj.qx()}).toString());this.compact||this.I7.render().$el.appendTo(this.$(".teamBillingPromoItems"));this.mw.render().$el.appendTo(this.$(".teamBillingPriceOptions"));this.Ji.render();this.$(".teamBillingCreditCardContainer").prepend(this.Ji.$el);
return this};f.yH=function(){this.mw.yH()};f.le=function(a){this.$(".teamBillingCreditCardSubmit").removeClass("buttonSpinner");alert(a)};f.hx=function(a){a=void 0===a?"":a;this.$(".teamBillingTotalText").html(a)};function M6(a,b){a=a.$(".teamBillingCreditCardRevert");b?a.show():a.hide()}f.fg=function(a){this.$el.toggleClass("enabled",a)};f.ZP=function(a){this.mw.ZP(a)};function N6(a){this.j=a.j;this.aa=a.aa;this.X=a.X;this.D=a.D;this.GA=null;this.sW=!1;this.sd=null;this.pd=a.pd;this.listenTo(this.pd,{input:this.S4,requestSubmit:this.Cl});this.$o=a.$o;this.Iw=null;this.jx=a.jx;this.ea=a.ea||null;this.i=a.i;this.view=a.view;this.listenTo(this.view,{selectPlan:this.U9,retry:this.b6,revert:this.d6,submit:this.Cl})}f=N6.prototype;f.listenTo=Backbone.Events.listenTo;f.on=Backbone.Events.on;f.once=Backbone.Events.once;f.off=Backbone.Events.off;f.stopListening=Backbone.Events.stopListening;
f.trigger=Backbone.Events.trigger;function O6(a,b){return K5(b)-K5(a)}f.appendTo=function(a){this.view.render();a.append(this.view.$el);this.view.yH();M6(this.view,!1);this.pd.refresh()};f.remove=function(){this.stopListening();this.pd.remove();this.view.remove()};f.fg=function(a){this.view.fg(a)};function kda(a,b){b=L5(b.sort(O6),Hc(a.i));a.view.ZP(b)}
function P6(a){var b=a.D.u();a.fg(!1);(function(){return a.ea?P.resolve(a.ea):a.aa.wz(b).catch(Uk,function(){return null})})().bind(a).then(function(a){a&&a.Ih&&(this.sd=a.Ih,this.pd.Nw(this.$o).ik(this.sd))}).catch(function(){var a=this.view;a.$el.html(lda({bu:a.hj.bu(),Dx:a.hj.Dx()}).toString())}).finally(function(){this.fg(!0)})}function mda(a){var b=wx(new tx).oi(a.D.u());a.X.Sr(b).bind(a).then(function(a){this.GA=a.getCount();this.hx()}).catch(function(){this.sW=!0;this.hx()})}
f.hx=function(){Fa(null!=this.Iw,"A plan must be selected");var a=cd(this.i);if(this.sW)a=this.view,a.$(".teamBillingTotalText").text(a.hj.format("teamBillingSignupTotalPriceError"));else if(null!==this.GA)if(1===this.GA)this.view.hx();else{var b=this.Iw.da*this.GA;if("YEARLY"===this.Iw.oj)b=a.format("teamBillingSignupPerYear",b);else if("MONTHLY"===this.Iw.oj)b=a.format("teamBillingSignupPerMonth",b);else throw Error("unrecognised billing interval");a=a.$l(this.GA,b);this.view.hx(a)}};
f.S4=function(a){this.sd&&M6(this.view,a)};f.b6=function(){P6(this)};f.d6=function(){this.sd&&(this.pd.ik(this.sd),M6(this.view,!1))};
f.Cl=function(){this.fg(!1);this.view.$(".teamBillingCreditCardSubmit").toggleClass("buttonSpinner",!0);this.pd.QU().bind(this).then(function(){this.j.track("submitted_credit_card",{location:"upgrade_dialog"})}).then(function(){if(!this.jx)return Dj(this.aa,new mj({D:this.D.u(),ck:this.Iw.id}))}).then(function(a){this.trigger("signup",a)}).catch(uj,function(a){this.j.track("upgrade_onboarding_card_error",{message:a.message});a=vT(ad(this.i),a);this.view.le(a)}).catch(function(){this.view.le("An error occured while trying to subscribe")}).finally(function(){this.fg(!0)});
this.j.track("upgrade_onboarding_card_submit")};f.U9=function(a){this.Iw=a;this.hx()};function lda(a){soy.asserts.assertType(goog.isString(a.bu)||a.bu instanceof goog.soy.data.SanitizedContent,"billingError",a.bu,"string|goog.soy.data.SanitizedContent");var b=a.bu;soy.asserts.assertType(goog.isString(a.Dx)||a.Dx instanceof goog.soy.data.SanitizedContent,"tryAgain",a.Dx,"string|goog.soy.data.SanitizedContent");a=a.Dx;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cp class\x3d"teamBillingRetry"\x3e'+soy.$$escapeHtml(b)+'\x3cbr/\x3e\x3cbutton type\x3d"button" class\x3d"button teamBillingRetryButton"\x3e'+
soy.$$escapeHtml(a)+"\x3c/button\x3e\x3c/p\x3e")}
function jda(a){soy.asserts.assertType(goog.isString(a.claim)||a.claim instanceof goog.soy.data.SanitizedContent,"claim",a.claim,"string|goog.soy.data.SanitizedContent");var b=a.claim;soy.asserts.assertType(goog.isString(a.aE)||a.aE instanceof goog.soy.data.SanitizedContent,"createTrialPeriodPoint1",a.aE,"string|goog.soy.data.SanitizedContent");var c=a.aE;soy.asserts.assertType(goog.isString(a.bE)||a.bE instanceof goog.soy.data.SanitizedContent,"createTrialPeriodPoint2",a.bE,"string|goog.soy.data.SanitizedContent");
var d=a.bE;soy.asserts.assertType(goog.isString(a.cE)||a.cE instanceof goog.soy.data.SanitizedContent,"createTrialPeriodPoint3",a.cE,"string|goog.soy.data.SanitizedContent");var e=a.cE;soy.asserts.assertType(goog.isString(a.qx)||a.qx instanceof goog.soy.data.SanitizedContent,"startTrial",a.qx,"string|goog.soy.data.SanitizedContent");var g=a.qx;soy.asserts.assertType(goog.isString(a.Bw)||a.Bw instanceof goog.soy.data.SanitizedContent,"revertCard",a.Bw,"string|goog.soy.data.SanitizedContent");var h=
a.Bw;soy.asserts.assertType(goog.isString(a.Du)||a.Du instanceof goog.soy.data.SanitizedContent,"encryption",a.Du,"string|goog.soy.data.SanitizedContent");var k=a.Du;soy.asserts.assertType(goog.isBoolean(a.compact)||1===a.compact||0===a.compact,"compact",a.compact,"boolean");var l=!!a.compact;soy.asserts.assertType(goog.isString(a.xv)||a.xv instanceof goog.soy.data.SanitizedContent,"itemsTitle",a.xv,"string|goog.soy.data.SanitizedContent");a=a.xv;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"teamBillingOptionsContainer"\x3e\x3cdiv class\x3d"teamBillingOptions"\x3e\x3cdiv class\x3d"teamBillingInformation"\x3e\x3ch2\x3e'+
soy.$$escapeHtml(b)+"\x3c/h2\x3e\x3cul\x3e\x3cli\x3e"+soy.$$escapeHtml(c)+"\x3c/li\x3e\x3cli\x3e"+soy.$$escapeHtml(d)+"\x3c/li\x3e\x3cli\x3e"+soy.$$escapeHtml(e)+'\x3c/li\x3e\x3c/ul\x3e\x3c/div\x3e\x3cdiv class\x3d"teamBillingPriceOptions"\x3e\x3c/div\x3e\x3cform class\x3d"teamBillingForm"\x3e\x3cdiv class\x3d"teamBillingCreditCardContainer"\x3e\x3cdiv class\x3d"teamBillingTotalText"\x3e\x3c/div\x3e\x3cbutton type\x3d"button" class\x3d"button buttonBlock teamBillingCreditCardSubmit"\x3e\x3cspan class\x3d"spinner"\x3e\x3c/span\x3e'+
soy.$$escapeHtml(g)+'\x3c/button\x3e\x3cbutton type\x3d"button" class\x3d"button buttonBlock buttonPlain teamBillingCreditCardRevert"\x3e'+soy.$$escapeHtml(h)+'\x3c/button\x3e\x3c/div\x3e\x3c/form\x3e\x3c/div\x3e\x3cp class\x3d"teamBillingSecurityMessage"\x3e'+soy.$$escapeHtml(k)+"\x3c/p\x3e\x3c/div\x3e"+(l?"":'\x3cdiv class\x3d"teamBillingPromoItems"\x3e\x3ch4\x3e'+soy.$$escapeHtml(a)+"\x3c/h4\x3e\x3c/div\x3e"))};function L6(){}L6=Backbone.View.extend({tagName:"ul",className:"textIconList"});L6.prototype.initialize=function(a){this.items=a.items};
L6.prototype.render=function(){this.$el.html(this.items.map(function(a){soy.asserts.assertType(goog.isString(a.icon)||a.icon instanceof goog.soy.data.SanitizedContent,"icon",a.icon,"string|goog.soy.data.SanitizedContent");var b=a.icon;soy.asserts.assertType(goog.isString(a.title)||a.title instanceof goog.soy.data.SanitizedContent,"title",a.title,"string|goog.soy.data.SanitizedContent");var c=a.title;soy.asserts.assertType(goog.isBoolean(a.Sp)||1===a.Sp||0===a.Sp,"isHtml",a.Sp,"boolean");var d=!!a.Sp;
soy.asserts.assertType(a.content instanceof soydata.SanitizedHtml||a.content instanceof soydata.UnsanitizedText||goog.isString(a.content),"content",a.content,"soydata.SanitizedHtml");a=a.content;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cli class\x3d"textIconItem"'+(b?'data-icon\x3d"'+soy.$$escapeHtmlAttribute(b)+'"':"")+"\x3e\x3ch3\x3e"+soy.$$escapeHtml(c)+"\x3c/h3\x3e"+(d?soy.$$escapeHtml(a):"\x3cp\x3e"+soy.$$escapeHtml(a)+"\x3c/p\x3e")).toString()}).join(""));return this};
L6.j1=function(a){return new L6({items:[{title:a.format("canvaForWorkUpgradeTeamBrandKitsTitle"),content:a.format("canvaForWorkUpgradeTeamBrandKitsDescription"),icon:"teamBrandKits",Sp:!1},{title:a.format("canvaForWorkUpgradeMagicallyResizeTitle"),content:a.format("canvaForWorkUpgradeMagicallyResizeDescription"),icon:"magicResize",Sp:!1},{title:a.format("canvaForWorkUpgradeLayoutCreatorsTitle"),content:a.format("canvaForWorkUpgradeLayoutCreatorsDescription"),icon:"layoutCreators",Sp:!1},{title:a.format("canvaForWorkUpgradePhotoFoldersTitle"),
content:a.format("canvaForWorkUpgradePhotoFoldersDescription"),icon:"photoFolders",Sp:!1}]})};function Q6(){}Q6=Backbone.View.extend({className:"promotion"});Q6.prototype.initialize=function(a){this.model=a.model};Q6.prototype.events=function(){var a=this;return{"click .upgradeDialogFeaturePromo__button":function(){a.trigger("next")}}};
Q6.prototype.render=function(){var a=this.model;soy.asserts.assertType(a.qb instanceof soydata.SanitizedHtml||a.qb instanceof soydata.UnsanitizedText||goog.isString(a.qb),"headingHtml",a.qb,"soydata.SanitizedHtml");var b=a.qb;soy.asserts.assertType(goog.isString(a.wc)||a.wc instanceof goog.soy.data.SanitizedContent,"imageUrl",a.wc,"string|goog.soy.data.SanitizedContent");var c=a.wc;soy.asserts.assertType(goog.isString(a.lf)||a.lf instanceof goog.soy.data.SanitizedContent,"buttonLabel",a.lf,"string|goog.soy.data.SanitizedContent");
var d=a.lf;soy.asserts.assertType(null==a.body||a.body instanceof goog.soy.data.SanitizedContent||goog.isString(a.body),"body",a.body,"null|string|undefined");var e=a.body;soy.asserts.assertType(null==a.HF||a.HF instanceof goog.soy.data.SanitizedContent||goog.isString(a.HF),"imageAlt",a.HF,"null|string|undefined");var g=a.HF;soy.asserts.assertType(null==a.zi||goog.isArray(a.zi),"benefitList",a.zi,"?Array\x3cstring\x3e|undefined");var h=a.zi,a=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"upgradeDialogFeaturePromo promoBody"\x3e\x3cdiv class\x3d"upgradeDialogFeaturePromo__content"\x3e\x3ch2 class\x3d"upgradeDialogFeaturePromo__heading"\x3e'+
soy.$$escapeHtml(b)+"\x3c/h2\x3e"+(e?'\x3cp class\x3d"upgradeDialogFeaturePromo__body"\x3e'+soy.$$escapeHtml(e)+"\x3c/p\x3e":"")+(h?nda(a):"")+'\x3cdiv class\x3d"upgradeDialogFeaturePromo__footer"\x3e'+XZ({v:"upgradeDialogFeaturePromo__button",text:d})+'\x3c/div\x3e\x3c/div\x3e\x3cimg class\x3d"upgradeDialogFeaturePromo__image" src\x3d'+soy.$$escapeHtmlAttributeNospace(soy.$$filterNormalizeMediaUri(c))+" "+(g?"alt\x3d"+soy.$$escapeHtmlAttributeNospace(g):"")+" /\x3e\x3c/div\x3e").toString();this.$el.html(a);
return this};function R6(a){var b=this;Backbone.View.call(this,{className:"promotion",events:{"click .upgradeDialogPlanCompare__infoButton":function(a){return oda(b,a)}}});this.me=a.me;this.model=a.model}t(R6,Backbone.View);function oda(a,b){var c=parseInt(b.currentTarget.dataset.plantype,10);(b=a.model.tJ.find(function(a){return a.Ks===c}))||(b=a.model.tJ[0]);kda(a.me,b.dk);a.trigger("next")}
R6.prototype.render=function(){var a=this.model;soy.asserts.assertType(a.Yz instanceof soydata.SanitizedHtml||a.Yz instanceof soydata.UnsanitizedText||goog.isString(a.Yz),"headerHtml",a.Yz,"soydata.SanitizedHtml");var b=a.Yz,c=goog.asserts.assertArray(a.tJ,"expected parameter 'bundles' of type list\x3c[buttonClass: string, buttonLabel: string, features: list\x3c[enabled: bool, name: string]\x3e, heading: string, imageUrl: string, planType: float|int, preferred: bool, price: string]\x3e.");soy.asserts.assertType(goog.isString(a.Nn)||
a.Nn instanceof goog.soy.data.SanitizedContent,"perUserMonthText",a.Nn,"string|goog.soy.data.SanitizedContent");var d=a.Nn;soy.asserts.assertType(goog.isString(a.Pm)||a.Pm instanceof goog.soy.data.SanitizedContent,"footerText",a.Pm,"string|goog.soy.data.SanitizedContent");for(var a=a.Pm,e='\x3cdiv class\x3d"upgradeDialogPlanCompare promoBody"\x3e\x3cdiv class\x3d"upgradeDialogPlanCompare__heading"\x3e'+soy.$$escapeHtml(b)+'\x3c/div\x3e\x3cdiv class\x3d"upgradeDialogPlanCompare__bundles"\x3e',b=c.length,
g=0;g<b;g++){var h;h=soy.$$assignDefaults({Nn:d,Pm:a},c[g]);soy.asserts.assertType(goog.isBoolean(h.iw)||1===h.iw||0===h.iw,"preferred",h.iw,"boolean");var k=!!h.iw;soy.asserts.assertType(goog.isString(h.heading)||h.heading instanceof goog.soy.data.SanitizedContent,"heading",h.heading,"string|goog.soy.data.SanitizedContent");var l=h.heading;soy.asserts.assertType(goog.isString(h.Nn)||h.Nn instanceof goog.soy.data.SanitizedContent,"perUserMonthText",h.Nn,"string|goog.soy.data.SanitizedContent");var m=
h.Nn;soy.asserts.assertType(goog.isString(h.da)||h.da instanceof goog.soy.data.SanitizedContent,"price",h.da,"string|goog.soy.data.SanitizedContent");var n=h.da;soy.asserts.assertType(goog.isString(h.wc)||h.wc instanceof goog.soy.data.SanitizedContent,"imageUrl",h.wc,"string|goog.soy.data.SanitizedContent");var p=h.wc;goog.asserts.assertArray(h.W,"expected parameter 'features' of type list\x3c[enabled: bool, name: string]\x3e.");soy.asserts.assertType(goog.isString(h.lf)||h.lf instanceof goog.soy.data.SanitizedContent,
"buttonLabel",h.lf,"string|goog.soy.data.SanitizedContent");var q=h.lf;soy.asserts.assertType(goog.isString(h.ny)||h.ny instanceof goog.soy.data.SanitizedContent,"buttonClass",h.ny,"string|goog.soy.data.SanitizedContent");var u=h.ny;soy.asserts.assertType(goog.isString(h.Pm)||h.Pm instanceof goog.soy.data.SanitizedContent,"footerText",h.Pm,"string|goog.soy.data.SanitizedContent");var v=h.Pm;soy.asserts.assertType(goog.isNumber(h.Ks),"planType",h.Ks,"number");var z=h.Ks;h=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"upgradeDialogPlanCompare__bundleInfo"\x3e\x3cdiv class\x3d"upgradeDialogPlanCompare__header '+
(k?"upgradeDialogPlanCompare__header--preferred":"")+'"\x3e\x3cdiv class\x3d"upgradeDialogPlanCompare__headerTop"\x3e\x3cimg class\x3d"upgradeDialogPlanCompare__image" src\x3d'+soy.$$escapeHtmlAttributeNospace(soy.$$filterNormalizeMediaUri(p))+' /\x3e\x3ch3 class\x3d"upgradeDialogPlanCompare__headerText"\x3e'+soy.$$escapeHtml(l)+'\x3c/h3\x3e\x3cspan class\x3d"upgradeDialogPlanCompare__price"\x3e\x3csup class\x3d"upgradeDialogPlanCompare__priceSymbol"\x3e$\x3c/sup\x3e'+soy.$$escapeHtml(n)+'\x3c/span\x3e\x3cspan class\x3d"upgradeDialogPlanCompare__disclaimer"\x3e'+
soy.$$escapeHtml(m)+'\x3csup class\x3d"upgradeDialogPlanCompare__disclaimerAsterisk"\x3e*\x3c/sup\x3e\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"upgradeDialogPlanCompare__headerBottom'+(k?"--preferred":"")+'"\x3e\x3c/div\x3e\x3cdiv upgradeDialogPlanCompare__bundles\x3e'+pda(h)+'\x3c/div\x3e\x3cdiv class\x3d"upgradeDialogPlanCompare__infoButton" data-plantype\x3d"'+soy.$$escapeHtmlAttribute(z)+'"\x3e'+XZ({v:u,text:q})+'\x3c/div\x3e\x3cdiv class\x3d"upgradeDialogPlanCompare__footer"\x3e*'+
soy.$$escapeHtml(v)+"\x3c/div\x3e\x3c/div\x3e");e+=h}c=soydata.VERY_UNSAFE.ordainSanitizedHtml(e+"\x3c/div\x3e\x3c/div\x3e").toString();this.$el.html(c);return this};function S6(a){this.me=a.me;this.zb=null;this.Le=a.Le||0;this.Fi=void 0===a.Fi||a.Fi;this.vr=void 0===a.vr||a.vr;this.He=void 0===a.He||a.He;this.j=a.j;this.f2=_.once(function(){P6(a.me);mda(a.me)});this.me.once("signup",this.j6.bind(this));this.ba=a.sy;this.Ci=a.Ci;this.YG=a.YG;this.dk=a.dk;this.Ks=a.Op}var sR=0,dY=1,Ro=2,o_=3,ZW=4,Po=8,hM=9,tN=10,gM=11;
function I0(a){var b=FU({nj:a.aa,D:a.D.u(),cf:a.cb,Re:!0,Va:ad(a.i),j:a.j}),c=a.dk,d=c.has(a.Op)&&c.get(a.Op).length?c.get(a.Op)[0].Le:30,e=a.j,g=a.aa,h=a.X,k=a.D,l=b.wb,m=a.$o,n=a.jx,p=a.i,b=b.view,q=a.i,c=c.get(a.Op),c=L5(c.sort(O6),Hc(q)),c=new M5({Eb:c}),d=new K6({compact:!0,Ji:b,mw:c,i:q,Le:d}),e=new N6({j:e,aa:g,X:h,D:k,pd:l,$o:m,jx:n,i:p,view:d});return new S6({YG:"/brand/onboarding/upgrader",j:a.j,vr:a.vr,Fi:a.Fi,sy:Hc(a.i),He:a.He,Le:a.Le,me:e,Ci:a.Ci,dk:a.dk,Op:a.Op})}f=S6.prototype;
f.listenTo=Backbone.Events.listenTo;f.listenToOnce=Backbone.Events.listenToOnce;f.on=Backbone.Events.on;f.once=Backbone.Events.once;f.off=Backbone.Events.off;f.stopListening=Backbone.Events.stopListening;f.trigger=Backbone.Events.trigger;f.remove=function(){this.zb&&this.zb.remove()};
f.show=function(a){var b=this;if(this.Ci){var c=qda(this,this.me,a||7);c.on("next",function(){var c=b.Ks,c=/\/design\//.test(location.pathname)?ym("editor",a,c):ym("homepage",a,c);b.j.wa(c)});var d=new Backbone.View({className:"upgradeDialogSignup"});this.zb=new Ly({XE:["upgradeDialog"],Fi:this.Fi,He:this.He,O:[c,d]});this.zb.on("hide",function(){b.zb.remove();b.zb=null;b.me.remove();b.trigger("hide")});this.f2();this.zb.show();T6(this);this.me.appendTo(d.$el);d.$el.append(rda({jG:this.ba.format("canvaForWorkUpgradeQuoteMeganKelleyContent"),
iG:this.ba.format("canvaForWorkUpgradeQuoteMeganKelleyCite"),wE:this.ba.format("canvaForWorkUpgradeQuoteDonnaMoritzContent"),vE:this.ba.format("canvaForWorkUpgradeQuoteDonnaMoritzCite"),fI:this.ba.format("canvaForWorkUpgradeQuoteTravisBernardContent"),eI:this.ba.format("canvaForWorkUpgradeQuoteTravisBernardCite")}).toString())}else sda(this)};
function sda(a){var b=new U6({ba:a.ba});a.zb=new Ly({XE:["upgradeDialog"],Fi:a.Fi,He:a.He,O:[b]});a.zb.on("hide",function(){a.zb.remove();a.zb=null;a.trigger("hide")});a.zb.show();T6(a)}f.j6=function(){this.vr&&this.zb&&this.zb.remove();this.trigger("signup")};function T6(a){/\/design\//.test(location.pathname)?a.j&&a.j.wa(xm(a.Ci)):a.j&&a.j.wa(vm(a.Ci))}
function qda(a,b,c){var d=a.ba.format("canvaForWorkFeatureUpgradeButtonLabel");switch(c){case 5:return new Q6({me:b,model:{lf:d,qb:a.ba.Oa("canvaForWorkFeatureUpgradeUnlimitedFoldersHeadingHtml"),body:we(a.ba),wc:"https://static.canva.com/static/images/upgrade_dialog_feature_folders.png",zi:[Be(a.ba),Ae(a.ba),ye(a.ba),ze(a.ba)]}});case Ro:return new Q6({me:b,model:{lf:d,qb:a.ba.Oa("canvaForWorkFeatureUpgradeResizeHeadingHtml"),body:we(a.ba),wc:"https://static.canva.com/static/images/upgrade_dialog_feature_resize.png",zi:[Be(a.ba),Ae(a.ba),xe(a.ba),
ze(a.ba)]}});case ZW:return new Q6({me:b,model:{lf:d,qb:a.ba.Oa("canvaForWorkFeatureUpgradeTemplatesHeadingHtml"),body:we(a.ba),wc:"https://static.canva.com/static/images/upgrade_dialog_feature_templates.png",zi:[Be(a.ba),Ae(a.ba),ye(a.ba),ze(a.ba)]}});case o_:return new Q6({me:b,model:{lf:d,qb:a.ba.Oa("canvaForWorkFeatureUpgradeTransparentBackgroundsHeadingHtml"),body:we(a.ba),wc:"https://static.canva.com/static/images/upgrade_dialog_feature_transparent_bg.png",zi:[Be(a.ba),Ae(a.ba),ye(a.ba),ze(a.ba)]}});case 6:return new Q6({me:b,model:{lf:d,
qb:a.ba.Oa("canvaForWorkFeatureUpgradeCollaborateHeadingHtml"),body:we(a.ba),wc:"https://static.canva.com/static/images/upgrade_dialog_feature_teams.png",zi:[Be(a.ba),Ae(a.ba),ye(a.ba),ze(a.ba)]}});case Po:return new Q6({me:b,model:{lf:d,qb:a.ba.Oa("canvaForWorkFeatureUpgradeExclusiveMediaHeadingHtml"),body:we(a.ba),wc:"https://static.canva.com/static/images/upgrade_dialog_feature_exclusive_media.png",zi:[Be(a.ba),Ae(a.ba),ye(a.ba),ze(a.ba)]}});case hM:return new Q6({me:b,model:{lf:d,qb:Be(a.ba),body:we(a.ba),wc:"https://static.canva.com/static/images/upgrade_dialog_feature_exclusive_media.png",
zi:[Ae(a.ba),xe(a.ba),ye(a.ba),ze(a.ba)]}});case tN:case gM:return new R6({me:b,model:{Yz:c===tN?a.ba.format("canvaForWorkBundleHeaderFreeImage"):a.ba.format("canvaForWorkBundleHeaderUpgrade"),Nn:a.ba.format("canvaForWorkBundlePerUserMonth"),tJ:[{heading:a.ba.format("canvaForWorkBundleImagesProHeading"),lf:Je(a.ba),ny:"upgradeDialogPlanCompare__imagesProButton",Ks:1,dk:a.dk.get(1),iw:!1,da:"4.95",wc:"https://static.canva.com/static/images/icon_image_bundle.svg",W:[{name:De(a.ba),enabled:!0},{name:Ce(a.ba),enabled:!0},{name:Ee(a.ba),
enabled:!0},{name:Fe(a.ba),enabled:!1},{name:Ge(a.ba),enabled:!1},{name:He(a.ba),enabled:!1},{name:Ie(a.ba),enabled:!1}]},{heading:a.ba.format("canvaForWorkBundleC4WHeading"),lf:Je(a.ba),ny:"upgradeDialogPlanCompare__C4WButton",Ks:J0,dk:a.dk.get(J0),iw:!0,da:"9.95",wc:"https://static.canva.com/static/images/icon_c4w_bundle_crown.svg",W:[{name:De(a.ba),enabled:!0},{name:Ce(a.ba),enabled:!0},{name:Ee(a.ba),enabled:!0},{name:Fe(a.ba),enabled:!0},{name:Ge(a.ba),enabled:!0},{name:He(a.ba),enabled:!0},{name:Ie(a.ba),enabled:!0}]}],
Pm:a.ba.format("canvaForWorkBundleFootNote")}});case sR:case dY:case 7:return new Q6({me:b,model:{lf:d,qb:a.ba.Oa("canvaForWorkFeatureUpgradeGeneralHeadingHtml"),body:a.ba.format("canvaForWorkFeatureUpgradeIncreaseProductivity"),wc:"https://static.canva.com/static/images/upgrade_dialog_feature_general.png",zi:[Be(a.ba),Ae(a.ba),ye(a.ba),ze(a.ba)]}});default:throw Error("Not a recognised feature: "+c);}};function U6(a){Backbone.View.call(this,{className:"upgradeDialogMember"});this.ba=a.ba}t(U6,Backbone.View);U6.prototype.events=function(){return{"click .upgradeDialogMember__button":this.trigger.bind(this,"next")}};U6.prototype.render=function(){this.$el.html(tda({zC:soydata.VERY_UNSAFE.ordainSanitizedHtml(this.ba.format("canvaForWorkUpgradeMemberTitleHtml")),Lv:this.ba.Lv(),oq:this.ba.format("canvaForWorkUpgradeMemberOkButton")}).toString());return this};function tda(a){soy.asserts.assertType(a.zC instanceof soydata.SanitizedHtml||a.zC instanceof soydata.UnsanitizedText||goog.isString(a.zC),"titleHtml",a.zC,"soydata.SanitizedHtml");var b=a.zC;soy.asserts.assertType(goog.isString(a.Lv)||a.Lv instanceof goog.soy.data.SanitizedContent,"memberLabel",a.Lv,"string|goog.soy.data.SanitizedContent");var c=a.Lv;soy.asserts.assertType(goog.isString(a.oq)||a.oq instanceof goog.soy.data.SanitizedContent,"okButton",a.oq,"string|goog.soy.data.SanitizedContent");
a=a.oq;return soydata.VERY_UNSAFE.ordainSanitizedHtml("\x3ch2\x3e"+soy.$$escapeHtml(b)+'\x3c/h2\x3e\x3cp class\x3d"upgradeDialogMember__label"\x3e'+soy.$$escapeHtml(c)+"\x3c/p\x3e"+XZ({v:"upgradeDialogMember__button",text:a}))}
function nda(a){a=goog.asserts.assertArray(a.zi,"expected parameter 'benefitList' of type list\x3cstring\x3e.");var b="";if(0<a.length){for(var b=b+'\x3cul class\x3d"upgradeDialogFeaturePromo__benefitList"\x3e',c=a.length,d=0;d<c;d++)var e=a[d],b=b+('\x3cli class\x3d"upgradeDialogFeaturePromoBenefit"\x3e'+pX({ya:"upgradeDialogFeaturePromoBenefit__icon"})+'\x3cspan class\x3d"upgradeDialogFeaturePromoBenefit__text"\x3e'+soy.$$escapeHtml(e)+"\x3c/span\x3e\x3c/li\x3e");b+="\x3c/ul\x3e"}return soydata.VERY_UNSAFE.ordainSanitizedHtml(b)}
function rda(a){soy.asserts.assertType(goog.isString(a.jG)||a.jG instanceof goog.soy.data.SanitizedContent,"meganKelleyQuote",a.jG,"string|goog.soy.data.SanitizedContent");var b=a.jG;soy.asserts.assertType(goog.isString(a.iG)||a.iG instanceof goog.soy.data.SanitizedContent,"meganKelleyCite",a.iG,"string|goog.soy.data.SanitizedContent");var c=a.iG;soy.asserts.assertType(goog.isString(a.wE)||a.wE instanceof goog.soy.data.SanitizedContent,"donnaMoritzQuote",a.wE,"string|goog.soy.data.SanitizedContent");
var d=a.wE;soy.asserts.assertType(goog.isString(a.vE)||a.vE instanceof goog.soy.data.SanitizedContent,"donnaMoritzCite",a.vE,"string|goog.soy.data.SanitizedContent");var e=a.vE;soy.asserts.assertType(goog.isString(a.fI)||a.fI instanceof goog.soy.data.SanitizedContent,"travisBernardQuote",a.fI,"string|goog.soy.data.SanitizedContent");var g=a.fI;soy.asserts.assertType(goog.isString(a.eI)||a.eI instanceof goog.soy.data.SanitizedContent,"travisBernardCite",a.eI,"string|goog.soy.data.SanitizedContent");
a=a.eI;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"upgradeDialogQuotes"\x3e\x3cblockquote\x3e'+soy.$$escapeHtml(b)+"\x3ccite\x3e"+soy.$$escapeHtml(c)+"\x3c/cite\x3e\x3c/blockquote\x3e\x3cblockquote\x3e"+soy.$$escapeHtml(d)+"\x3ccite\x3e"+soy.$$escapeHtml(e)+"\x3c/cite\x3e\x3c/blockquote\x3e\x3cblockquote\x3e"+soy.$$escapeHtml(g)+"\x3ccite\x3e"+soy.$$escapeHtml(a)+"\x3c/cite\x3e\x3c/blockquote\x3e\x3c/div\x3e")}
function pda(a){a=goog.asserts.assertArray(a.W,"expected parameter 'features' of type list\x3c[enabled: bool, name: string]\x3e.");var b="";if(0<a.length){for(var b=b+'\x3cul class\x3d"upgradeDialogPlanCompare__features"\x3e',c=a.length,d=0;d<c;d++)var e=a[d],b=b+('\x3cli class\x3d"upgradeDialogPlanCompare__feature"\x3e'+(e.enabled?'\x3cspan class\x3d"upgradeDialogPlanCompare__featureText"\x3e'+soy.$$escapeHtml(e.name)+"\x3c/span\x3e":'\x3cspan class\x3d"upgradeDialogPlanCompare__featureText--disabled"\x3e'+
soy.$$escapeHtml(e.name)+"\x3c/span\x3e")+"\x3c/li\x3e");b+="\x3c/ul\x3e"}return soydata.VERY_UNSAFE.ordainSanitizedHtml(b)};$(function(a,b){function c(){I&&ub?(ub.Kv(I.serialize()),setInterval(function(){I&&ub&&Tt(ub,I.serialize())&&I.trigger("change")},3E5)):setTimeout(c,15E3)}function d(){var a=new P4,b=l.kg.get("branchToken",null),c=null;b&&(c=new y5({yo:b}));b=new s5({user:Hx(m),profiles:Cb,sa:N});return m0(l,{config:l,Kk:Lb,W:Ib,j:U,document:I,getSession:function(){return ub},Ga:m,ic:$b,aa:yb,qd:zb,cb:da,X:Cb,Pa:xb,Mi:Q,oba:Db,ac:Eb,bc:K,rb:E,Ja:O,Xe:vb,i:Kb,G:ol,kd:sa,w9:Oa,sa:N,Ub:ca,$t:k,Ci:r,$o:x,jo:a,H:u,uc:c,
od:b})}function e(a){var b=a.font;return b&&(a=qA(Jb,b.family||""))?{fontFamily:a.family,fontSize:b.Gp(),bold:b.bold,italic:b.italic}:null}function g(a){return function(b){return b.getName()===a}}function h(){var a=I,b=Ab.id,c,d;try{d=a.serialize()}catch(e){D.log("Failed DocumentContent serialization",{error:e});return}try{c=Gr(d)}catch(e){U&&dm(b,!1,!1,"DESERIALIZATION_FAILED");D.log("Failed DocumentContentProto deserialization",{error:e});return}try{var g=[],h=window.mediaMap;Object.keys(h).forEach(function(a){Object.keys(h[a]).forEach(function(b){g.push({id:a,
version:Number(b)})})});var k=D0(c,g),l=k.some(function(a){return a.level===E0}),m=k.some(function(a){return a.level===F0});l?U&&dm(b,!1,m,"DOCUMENT_CHECK_FAILED"):U&&dm(b,!0,m)}catch(e){U&&dm(b,!1,!1,"UNKNOWN_EXCEPTION_THROWN"),D.log("Failed document check",{error:e})}}var k=window.availableLocales||{},l=new rh(b||window.viewConfig),m=Dx(),n=Hx(m).AC(),p=Gx(m).up(),q=l.wz();$("body").toggleClass("highDpi",M.NR);if(!window.cmsg)throw Error("window['cmsg'] isn't defined");Kb=new ic;var u=Lf();Ib=new Mf(u);
wN&&$("html").addClass("touch");uda();vda();b=window.csrfTokens;var v=new Jk(window.httpServiceConfig);Hb=v;var z=vl(new bl(v));a=new ql("canva.editor.load",z.Fh,z,z.T6);a.wa("init-start");Eg=new XH({config:new iI,N:Hb,iW:new SH});Eg.init().then(function(){$("#objectPanel .content .buttonFacebook").prop("disabled",!1)});U=nm();var r=!(!window.paymentAccountConfig||!window.paymentAccountConfig.canUpgrade),x=!(!window.paymentAccountConfig||!window.paymentAccountConfig.canEditCreditCard),H=Ho({H:u,Mk:n});
Lb=new No({j:U,W:Ib,sa:Vo(n),sg:H,bK:function(){var a=H0(sa),b=Gx(m).fa();return I0({aa:yb,X:Cb,j:U,D:b,dk:a,Op:J0,cb:da,jx:!1,vr:!1,Ci:r,$o:x,i:Kb,H:u,Ga:m,W:Ib})}});var D=OD();xb=rq(D);zb=new $v(Hb);yb=new sj(Hb);$b=new GJ;Db=new Bx;Eb=new Kx;Bb=new oE(Hb);vb=new ZK(window.mediaMap,Bb);wb=new ZK(window.fontMediaMap,Bb);Fb=new wL(Hb,Bb,$b,vb,new FL,new uL(2),z,ml);Cb=new mw(Hb);var K=new Nx(Hb),E=new hE(Hb),O=new V6(Hb),Q=new ju(v),N=null;try{N=Io()}catch(Qb){}var da=wT(),ca=new MY({X:Cb,i:Kb,Hk:[HM,
"contextTipRoyaltyFreePaymentOption"],VD:function(a){return LY({key:a,i:md(Kb),Ue:$(document),Me:$("body")})},root:$("body")}),sa=new Oca,Oa=new k6({FF:Hb,X:Cb,gL:Ib.H.get(Wf)});bc=window.localStorage?new mo(window.localStorage,Hx(m).u()):new mo;Jb=new eJ(cJ,{Zb:Bb,uI:window.WebFont,Xe:wb,G:ol,locale:window.cmsg.localePrecedence[0]||window.cmsg.fallback});Jb.on("fontLoadFailed",function(a){a&&U.track("font_load_failed",{font_name:a})});Ib.H.get(Uf)&&kJ();window.scrollTo(0,0);var ha=function(){var a=
Gx(m).up();return(a=a&&a.xC)&&a[0]?a[0].yC||[]:[]}(),ia={};wJ(Jb,ha,function(){var a=wda(ha);Ib.H.get(Uf)&&0<a.length&&(Jb.TO=a,ia={title:ha.filter(g("title")).map(e)[0],subtitle:ha.filter(g("subtitle")).map(e)[0],body:ha.filter(g("body")).map(e)[0]},Object.keys(ia).forEach(function(a){ia[a]||delete ia[a]}))});var Da=window.csession,Ab=window.cdoc,v=Hu(window.cdocType);if(Ab){(new zp({jp:Zo(),Tc:Lb,sg:H,Ub:ca,X:Cb,W:Ib,H:u,i:Kb,j:U,De:T,sa:N,Mk:n,nu:Zy,rb:E,cb:da,Ga:m,ea:q})).go(Ab,v,l,p,d,a);window.history.replaceState("",
document.title,window.location.pathname+window.location.search);var Gb=yO(Da,Ab,U);setTimeout(c,15E3);var qc=Ab.id,je=Date.now(),n=window.CANVA_EMBED,Cd=b.session;b=!!navigator.sendBeacon;p=new Kz({N:Hb,fO:je,te:qc,oa:Gb,$K:n,JQ:Fb,lJ:b,TK:Cd});$(window).resize(Az).on("beforeunload",p.zP.bind(p)).on("offline",xda).on("online",yda);if(!n&&b){var ef=location.protocol+"//"+location.hostname+(location.port?":"+location.port:"");$(window).on("unload",function(){var a=Math.floor((Date.now()-je)/1E3)+"",
a=JSON.stringify({docId:qc,session:Da,durationSecs:a,syncMetrics:Gb.gZ.serialize(),csrfToken:Cd});navigator.sendBeacon(ef+"/session/editor/"+encodeURIComponent(qc)+"?close",a)})}}Az();window.CANVA_EMBED&&Uca(l,Q,O,K,E,sa,u);cc=new co($("#canvaDocument"));cc.render();U&&Ab&&Vl(Ab.id,Ab.designType);if(U&&.1>Math.random())T.on("documentRendered",function(){h()});a.wa("init-end")});
function wda(a){return a.sort(function(a){for(var c={},d=0;d<a.length;d++)c[a[d]]=d;return function(a,b){a=a.getName();b=b.getName();return c[a]-c[b]||a.localeCompare(b)}}(["title","subtitle","body"])).map(function(a){var c;a.font&&(c=a.font.family);return qA(Jb,c||"")}).filter(Boolean)}function vda(){$(document).on("mouseover","a",function(){"#"==$(this).attr("href")&&$(this).removeAttr("href")})}
function zz(a){Mb||(Mb=new s6(Ib.H.get(fg)),Mb.on("open",function(){T.trigger("pausePresentationOnExit",!0)}),Mb.on("close",function(){T.trigger("pausePresentationOnExit",!1)}));Mb.toggle(a,I.ja())}
function uda(){function a(a){a.stopPropagation();a.preventDefault();b();$("#touchDevice").addClass("on");HN();U&&em(U,"touch_device_notice")}function b(){document.removeEventListener("touchstart",a,!0);document.removeEventListener("mousedown",b)}wN&&(document.addEventListener("touchstart",a,!0),document.addEventListener("mousedown",b))}var W6=0;function xda(){Tb&&U0();clearTimeout(W6);W6=setTimeout(function(){KN()},12E4)}
function yda(){if(Tb){var a=Tb;a.LM=!1;sV(a,a.wu)}clearTimeout(W6);ub.Ti()||JN()};$(document).on("wheel",".disableAncestorScroll",function(a){var b=a.originalEvent&&a.originalEvent.deltaY,c=a.currentTarget,d=0>b&&0===c.scrollTop,b=0<b&&Math.ceil(c.scrollTop+c.getBoundingClientRect().height)===c.scrollHeight;(d||b)&&a.preventDefault()});function Fy(a){this.G=a.G;this.element=$(soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"modalContent"\x3e\x3cdiv class\x3d"modalContentMask"\x3e\x3c/div\x3e\x3c/div\x3e').toString());this.element.addClass(X6(a.style));this.element.on("click",".modalContentMask",function(a){this.trigger("maskClick",a)}.bind(this));this.style=a.style;this.kD=""}f=Fy.prototype;f.off=Backbone.Events.off;f.on=Backbone.Events.on;f.trigger=Backbone.Events.trigger;
function X6(a){switch(a){case Gy:return"modalContentBlurAndDarken";case Sy:return"modalContentDarken";case $W:return"modalContentClear";case M_:return"modalContentNone";default:throw Error();}}f.hide=function(){$("body").removeClass(this.kD).attr("data-modal-levels",$("body").attr("data-modal-levels")-1);"0"===$("body").attr("data-modal-levels")&&$("body").css("margin-right","");this.element.removeClass("modalContentOn");this.G.setTimeout(function(){this.element.detach()}.bind(this),300)};
f.show=function(a){this.element.children(":not(.modalContentMask)").remove();this.element.append(a).appendTo("body");pl(function(){var a=this,c=parseInt($("body").attr("data-modal-levels"),10)||0,d=window.innerWidth-$(window).width();$("body").attr("data-modal-levels",c+1);0===c&&$("body").css("margin-right",d);this.element.addClass("modalContentOn");["modalContentVisible",X6(this.style)+"Visible"].forEach(function(c){$("body").hasClass(c)||(a.kD+=c+" ")});$("body").addClass(this.kD)}.bind(this))};
var Gy="BLUR_AND_DARKEN",Sy="DARKEN",$W="CLEAR",M_="NONE";function OD(){return"undefined"!==typeof Rollbar?new Y6:new Z6}function Y6(){}Y6.prototype.log=function(a,b){b=void 0===b?{}:b;Rollbar.log(a,b.error,b.data)};function Z6(){}Z6.prototype.log=function(a,b){b=void 0===b?{}:b;var c=b.error;console[c instanceof Error?"error":"log"](a,c,b.data)};function rW(a){soy.asserts.assertType(goog.isString(a.lt)||a.lt instanceof goog.soy.data.SanitizedContent,"showMoreInfo",a.lt,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isBoolean(a.Kf)||1===a.Kf||0===a.Kf,"unlistedPrice",a.Kf,"boolean");var b=!!a.Kf;soy.asserts.assertType(null==a.nf||goog.isBoolean(a.nf)||1===a.nf||0===a.nf,"crownTag",a.nf,"boolean|null|undefined");var c=a.nf;soy.asserts.assertType(null==a.da||a.da instanceof goog.soy.data.SanitizedContent||goog.isString(a.da),
"price",a.da,"null|string|undefined");var d=a.da;return soydata.VERY_UNSAFE.ordainSanitizedHtml((d?$6({gx:!0,Kf:b,nf:c,da:d}):"")+zda(a))}
function zda(a){soy.asserts.assertType(goog.isString(a.lt)||a.lt instanceof goog.soy.data.SanitizedContent,"showMoreInfo",a.lt,"string|goog.soy.data.SanitizedContent");var b=a.lt;soy.asserts.assertType(goog.isBoolean(a.Kf)||1===a.Kf||0===a.Kf,"unlistedPrice",a.Kf,"boolean");var c=!!a.Kf;soy.asserts.assertType(null==a.da||a.da instanceof goog.soy.data.SanitizedContent||goog.isString(a.da),"price",a.da,"null|string|undefined");a=a.da;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cspan class\x3d"searchResultItem__info info"\x3e'+
(a?$6({gx:!1,Kf:c,da:a}):"")+'\x3cspan class\x3d"moreInfo" title\x3d"'+soy.$$escapeHtmlAttribute(b)+'"\x3ei\x3c/span\x3e\x3c/span\x3e')}
function $6(a){soy.asserts.assertType(goog.isBoolean(a.Kf)||1===a.Kf||0===a.Kf,"unlistedPrice",a.Kf,"boolean");var b=!!a.Kf;soy.asserts.assertType(goog.isBoolean(a.gx)||1===a.gx||0===a.gx,"showFreeClass",a.gx,"boolean");var c=!!a.gx;soy.asserts.assertType(null==a.nf||goog.isBoolean(a.nf)||1===a.nf||0===a.nf,"crownTag",a.nf,"boolean|null|undefined");var d=a.nf;soy.asserts.assertType(goog.isString(a.da)||a.da instanceof goog.soy.data.SanitizedContent,"price",a.da,"string|goog.soy.data.SanitizedContent");
a=a.da;c=c?"price free":"price";b=""+(b?'\x3cspan class\x3d"price poa"\x3e\x3cspan class\x3d"inner"\x3e'+soy.$$escapeHtml(a)+"\x3c/span\x3e\x3c/span\x3e":d?IY({label:a,ya:c}):'\x3cspan class\x3d"'+soy.$$escapeHtmlAttribute(c)+'"\x3e'+soy.$$escapeHtml(a)+"\x3c/span\x3e");return soydata.VERY_UNSAFE.ordainSanitizedHtml(b)}
function IY(a){soy.asserts.assertType(null==a.ya||a.ya instanceof goog.soy.data.SanitizedContent||goog.isString(a.ya),"cssClass",a.ya,"null|string|undefined");var b=a.ya;soy.asserts.assertType(goog.isString(a.label)||a.label instanceof goog.soy.data.SanitizedContent,"label",a.label,"string|goog.soy.data.SanitizedContent");a=a.label;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"crownTag'+(b?" "+soy.$$escapeHtmlAttribute(b):"")+'"\x3e\x3cdiv class\x3d"crownTag__content"\x3e'+yp({ya:"crownTag__icon",
color:"#F3B600"})+'\x3cspan class\x3d"crownTag__label"\x3e'+soy.$$escapeHtml(a)+"\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e")};function a7(a,b){this.$el=a;this.className=b}t(a7,fc);function fz(){var a=$("body");return new a7(a,"enterFullscreen")}a7.prototype.lp=function(){this.$el.addClass(this.className);var a=this.$el.get(0),b=a.webkitRequestFullScreen||a.mozRequestFullScreen||a.msRequestFullscreen||a.requestFullscreen;w(b,"browser doesn't implement Element::requestFullscreen");b.call(a)};
a7.prototype.exitFullscreen=function(){this.$el.removeClass(this.className);var a=document.webkitExitFullscreen||document.mozCancelFullScreen||document.msExitFullscreen||document.exitFullscreen;w(a,"browser doesn't implement Document::exitFullscreen");a&&a.call(document)};function bz(){return!!(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)};function b7(a,b){switch(b){case "PENDING":return"PENDING";case "FAILED":return"FAILED";case "EXPORTED":return"EXPORTED";default:throw new TypeError('expected PrintExportStatus for property "'+a+'", found: '+JSON.stringify(b));}}function c7(a){this.jj=a.jj;this.Jj=a.Jj}function Ada(a){return new c7({jj:y("widthMicrons",a),Jj:y("heightMicrons",a)})}
function d7(a){this.Ie=a.Ie;this.type=a.type;this.GC=a.GC;this.Db=a.Db;this.gB=a.gB;this.pO=a.pO;this.hB=a.hB;this.finish=a.finish;this.qz=a.qz;this.Jv=a.Jv;this.Ry=a.Ry;this.jX=a.jX;this.Zy=a.Zy;this.Uz=a.Uz}d7.prototype.eb=function(){return this.type};d7.prototype.Dj=function(){return this.Db};d7.prototype.Xm=function(){return this.pO};
function Bda(a){return new d7({Ie:B("sku",a),type:Ra(e7,"type",a),GC:F(f7,"typeSpec",a),Db:Pa(Ada,"paperSize",a),gB:F(g7,"paperSizeSpec",a),pO:Ra(h7,"paperType",a),hB:F(i7,"paperTypeSpec",a),finish:Ra(j7,"finish",a),qz:F(k7,"finishSpec",a),Jv:y("maxPages",a),Ry:Ma("dimensionsFlippable",a),jX:y("paperWeight",a),Zy:Ma("ecoFriendly",a),Uz:Ma("hasEnvelope",a)})}
function j7(a,b){switch(b){case "GLOSS":return"GLOSS";case "SILK":return"SILK";case "MATTE":return"MATTE";case "SOFT_TOUCH":return"SOFT_TOUCH";case "UNCOATED":return"UNCOATED";default:throw new TypeError('expected PaperFinish for property "'+a+'", found: '+JSON.stringify(b));}}
function h7(a,b){switch(b){case "STANDARD":return"STANDARD";case "PREMIUM":return"PREMIUM";case "ECO_FRIENDLY":return"ECO_FRIENDLY";case "DELUXE":return"DELUXE";default:throw new TypeError('expected PaperType for property "'+a+'", found: '+JSON.stringify(b));}}
function e7(a,b){switch(b){case "POSTER":return"POSTER";case "BUSINESS_CARD":return"BUSINESS_CARD";case "POSTCARD":return"POSTCARD";case "LETTERHEAD":return"LETTERHEAD";case "FLYER":return"FLYER";case "INVITATION":return"INVITATION";default:throw new TypeError('expected PrintProductType for property "'+a+'", found: '+JSON.stringify(b));}}function Cda(a){this.GC=a.GC;this.gB=a.gB;this.hB=a.hB;this.qz=a.qz}
function Dda(a){return new Cda({GC:Pa(f7,"typeSpec",a),gB:Pa(g7,"paperSizeSpec",a),hB:Pa(i7,"paperTypeSpec",a),qz:Pa(k7,"finishSpec",a)})}function l7(a){this.bb=a.bb;this.Wh=a.Wh;this.currency=a.currency}l7.prototype.Fj=function(){return this.bb};function Eda(a){return new l7({bb:Ra(m7,"shippingMethod",a),Wh:y("priceCents",a),currency:B("currency",a)})}function Fda(a){this.mG=a.mG;this.dG=a.dG;this.hI=a.hI;this.currency=a.currency}
function Gda(a){return new Fda({mG:y("minQuantity",a),dG:y("maxQuantity",a),hI:y("unitPriceCents",a),currency:B("currency",a)})}function O0(a){this.id=a.id;this.version=a.version}O0.prototype.u=function(){return this.id};O0.prototype.getVersion=function(){return this.version};function Hda(a){return{id:ib("id",a.id),version:db("version",a.version)}}function Ida(a){return new O0({id:B("id",a),version:y("version",a)})}function n7(a){this.vU=a.vU;this.url=a.url}n7.prototype.ma=function(){return this.url};
function Jda(a){return new n7({vU:Ra(Kda,"fileRole",a),url:B("url",a)})}function Lda(a,b){switch(b){case "PROOF":return"PROOF";case "PRINT":return"PRINT";case "PREPRESS":return"PREPRESS";case "THUMBNAIL":return"THUMBNAIL";default:throw new TypeError('expected FileRole for property "'+a+'", found: '+JSON.stringify(b));}}
function Kda(a,b){switch(b){case "PROOF":return"PROOF";case "PRINT":return"PRINT";case "PREPRESS":return"PREPRESS";case "THUMBNAIL":return"THUMBNAIL";default:throw new TypeError('expected FileRole for property "'+a+'", found: '+JSON.stringify(b));}}
function o7(a){this.id=a.id;this.version=a.version;this.D=a.D;this.user=a.user;this.Ye=a.Ye;this.eg=a.eg;this.product=a.product;this.JX=a.JX;this.Pe=a.Pe;this.mf=a.mf;this.Wh=a.Wh;this.eH=a.eH;this.KH=a.KH;this.currency=a.currency;this.status=a.status;this.pU=a.pU;this.jB=a.jB;this.VE=a.VE;this.mX=a.mX;this.Sy=a.Sy;this.jd=a.jd;this.document=a.document;this.eQ=a.eQ;this.files=a.files||[];this.xe=a.xe;this.kX=a.kX;this.gY=a.gY;this.hY=a.hY;this.Lm=a.Lm;this.eS=a.eS;this.dB=a.dB||[]}f=o7.prototype;
f.u=function(){return this.id};f.getVersion=function(){return this.version};f.fa=function(){return this.D};f.va=function(){return this.user};f.Dp=function(){return this.eg};f.Cp=function(){return this.product};f.vg=function(){return this.status};f.gc=function(){return this.jd};f.getDocument=function(){return this.document};f.nc=function(){return this.files};
function p7(a){return new o7({id:B("id",a),version:y("version",a),D:B("brand",a),user:B("user",a),Ye:B("region",a),eg:B("productSku",a),product:F(Bda,"product",a),JX:F(Dda,"productDescription",a),Pe:y("copies",a),mf:y("creationDate",a),Wh:y("priceCents",a),eH:y("productPriceCents",a),KH:y("shippingPriceCents",a),currency:B("currency",a),status:Ra(Mda,"status",a),pU:C("failureMessage",a),jB:Ra(Nda,"paymentStatus",a),VE:Ra(b7,"exportStatus",a),mX:Sa(Oda,"partnerStatus",a),Sy:Ma("dimensionsFlipped",
a),jd:y("pageCount",a),document:Pa(Ida,"document",a),eQ:F(Pda,"shippingDetails",a),files:Qa(Jda,"files",a),xe:C("invoice",a),kX:C("partner",a),gY:C("reprintParent",a),hY:Sa(Qda,"reprintType",a),Lm:Ma("finalized",a),eS:Ma("accepted",a),dB:Qa(Rda,"pageSpecs",a)})}
function Mda(a,b){switch(b){case "CREATED":return"CREATED";case "PROCESSING":return"PROCESSING";case "FAILED":return"FAILED";case "SHIPPED":return"SHIPPED";case "CANCELLED":return"CANCELLED";default:throw new TypeError('expected PrintOrderStatus for property "'+a+'", found: '+JSON.stringify(b));}}function Qda(a,b){switch(b){case "UNCHARGED":return"UNCHARGED";case "CHARGED":return"CHARGED";default:throw new TypeError('expected ReprintType for property "'+a+'", found: '+JSON.stringify(b));}}
function Sda(a,b){switch(b){case "PENDING":return"PENDING";case "SUSPENDED":return"SUSPENDED";case "APPROVED":return"APPROVED";case "CANCELLED":return"CANCELLED";default:throw new TypeError('expected PrintReviewStatus for property "'+a+'", found: '+JSON.stringify(b));}}function Tda(a,b){switch(b){case "PENDING":return"PENDING";case "PAID":return"PAID";case "EXEMPT":return"EXEMPT";default:throw new TypeError('expected PrintPaymentStatus for property "'+a+'", found: '+JSON.stringify(b));}}
function Nda(a,b){switch(b){case "PENDING":return"PENDING";case "PAID":return"PAID";case "EXEMPT":return"EXEMPT";default:throw new TypeError('expected PrintPaymentStatus for property "'+a+'", found: '+JSON.stringify(b));}}
function Oda(a,b){switch(b){case "RECEIVED":return"RECEIVED";case "ERRORS":return"ERRORS";case "IN_PRINTING":return"IN_PRINTING";case "IN_BINDERY":return"IN_BINDERY";case "PACKAGING":return"PACKAGING";case "SHIPPING":return"SHIPPING";case "SHIPPED":return"SHIPPED";case "HOLD":return"HOLD";case "CANCELLED":return"CANCELLED";default:throw new TypeError('expected PartnerStatus for property "'+a+'", found: '+JSON.stringify(b));}}function Uda(a){this.GL=a.GL;this.back=a.back}
function Vda(a){return{front:db("front",a.GL),back:eb("back",a.back)}}function Rda(a){return new Uda({GL:y("front",a),back:A("back",a)})}function q7(a){this.Jd=a.Jd;this.bb=a.bb;this.lX=a.lX;this.VS=a.VS;this.tZ=a.tZ;this.mU=a.mU}q7.prototype.Fj=function(){return this.bb};function Pda(a){return new q7({Jd:F(r7,"address",a),bb:Ra(m7,"shippingMethod",a),lX:C("partnerShippingMethod",a),VS:C("carrier",a),tZ:C("trackingNumber",a),mU:C("facility",a)})}
function s7(a,b){switch(b){case "STANDARD":return"STANDARD";case "EXPRESS":return"EXPRESS";default:throw new TypeError('expected ShippingMethod for property "'+a+'", found: '+JSON.stringify(b));}}function m7(a,b){switch(b){case "STANDARD":return"STANDARD";case "EXPRESS":return"EXPRESS";default:throw new TypeError('expected ShippingMethod for property "'+a+'", found: '+JSON.stringify(b));}}
function t7(a){this.name=a.name;this.pk=a.pk;this.gj=a.gj;this.Kd=a.Kd;this.qh=a.qh;this.yb=a.yb;this.jf=a.jf;this.bk=a.bk}f=t7.prototype;f.getName=function(){return this.name};f.dM=function(){return this.pk};f.eM=function(){return this.gj};f.Vr=function(){return this.Kd};f.Qi=function(){return this.yb};f.gM=function(){return this.jf};f.bM=function(){return this.bk};
function u7(a){return{name:ib("name",a.name),street1:ib("street1",a.pk),street2:G("street2",a.gj),city:ib("city",a.Kd),subdivision:G("subdivision",a.qh),countryCode:ib("countryCode",a.yb),zipCode:ib("zipCode",a.jf),phone:ib("phone",a.bk)}}function r7(a){return new t7({name:B("name",a),pk:B("street1",a),gj:C("street2",a),Kd:B("city",a),qh:C("subdivision",a),yb:B("countryCode",a),jf:B("zipCode",a),bk:B("phone",a)})}
function v7(a){this.document=a.document;this.eg=a.eg;this.Pe=a.Pe;this.jd=a.jd;this.bb=a.bb;this.cc=a.cc;this.Ye=a.Ye;this.currency=a.currency;this.dB=a.dB||[]}f=v7.prototype;f.getDocument=function(){return this.document};f.Dp=function(){return this.eg};f.gc=function(){return this.jd};f.Fj=function(){return this.bb};f.cv=function(){return this.cc};
function Wda(a){return{document:cb.required("document",Hda(a.document)),productSku:ib("productSku",a.eg),copies:db("copies",a.Pe),pageCount:eb("pageCount",a.jd),shippingMethod:lb(s7,"shippingMethod",a.bb),shippingAddress:jb(u7,"shippingAddress",a.cc),region:ib("region",a.Ye),currency:G("currency",a.currency),pageSpecs:kb(Vda,"pageSpecs",a.dB)}}function w7(a){this.order=a.order}w7.prototype.Vm=function(){return this.order};function Xda(a){return new w7({order:Pa(p7,"order",a)})}
function Yda(a){return{bucket:ib("bucket",a.bucket),key:ib("key",a.key)}}function x7(a){this.id=a.id;this.version=a.version;this.jB=a.jB;this.xe=a.xe;this.currency=a.currency;this.Ob=a.Ob;this.bb=a.bb;this.cc=a.cc;this.eg=a.eg;this.Pe=a.Pe;this.Lm=a.Lm;this.mY=a.mY;this.DX=a.DX;this.nX=a.nX;this.action=a.action}f=x7.prototype;f.u=function(){return this.id};f.getVersion=function(){return this.version};f.Fj=function(){return this.bb};f.cv=function(){return this.cc};f.Dp=function(){return this.eg};
function Zda(a){return{id:ib("id",a.id),version:eb("version",a.version),paymentStatus:mb(Tda,"paymentStatus",a.jB),invoice:G("invoice",a.xe),currency:G("currency",a.currency),cancelled:hb("cancelled",a.Ob),shippingMethod:mb(s7,"shippingMethod",a.bb),shippingAddress:jb(u7,"shippingAddress",a.cc),productSku:G("productSku",a.eg),copies:eb("copies",a.Pe),finalized:hb("finalized",a.Lm),reviewStatus:mb(Sda,"reviewStatus",a.mY),prepressFile:jb(Yda,"prepressFile",a.DX),partnerSubmit:hb("partnerSubmit",a.nX),
action:mb($da,"action",a.action)}}function $da(a,b){switch(b){case "CANCEL":return"CANCEL";case "SUBMIT_TO_PARTNER":return"SUBMIT_TO_PARTNER";default:throw new TypeError('expected UpdateOrderAction for property "'+a+'", found: '+JSON.stringify(b));}}function y7(a){this.order=a.order}y7.prototype.Vm=function(){return this.order};function aea(a){return new y7({order:Pa(p7,"order",a)})}function z7(a){this.id=a.id;this.Dq=a.Dq||[];this.vL=a.vL||[]}z7.prototype.u=function(){return this.id};
function A7(a){this.order=a.order}A7.prototype.Vm=function(){return this.order};function bea(a){return new A7({order:Pa(p7,"order",a)})}function B7(a){this.id=a.id;this.D=a.D;this.Jd=a.Jd}B7.prototype.u=function(){return this.id};B7.prototype.fa=function(){return this.D};function C7(a){return new B7({id:B("id",a),D:B("brand",a),Jd:Pa(r7,"address",a)})}function D7(a){this.D=a.D;this.user=a.user}D7.prototype.fa=function(){return this.D};D7.prototype.va=function(){return this.user};
function cea(a){this.aJ=a.aJ||[]}function dea(a){return new cea({aJ:Qa(C7,"addresses",a)})}function E7(a){this.id=a.id;this.D=a.D;this.user=a.user;this.Jd=a.Jd}E7.prototype.u=function(){return this.id};E7.prototype.fa=function(){return this.D};E7.prototype.va=function(){return this.user};function eea(a){this.oY=a.oY;this.Jd=a.Jd}function fea(a){return new eea({oY:Pa(C7,"savedAddress",a),Jd:Pa(r7,"address",a)})}function F7(a){this.order=a.order;this.cj=a.cj}F7.prototype.Vm=function(){return this.order};
F7.prototype.Si=function(){return this.cj};function gea(a){return{order:ib("order",a.order),role:lb(Lda,"role",a.cj)}}function hea(a){this.ns=a.ns}function iea(a){return new hea({ns:y("jobId",a)})}function G7(a){this.order=a.order;this.ns=a.ns}G7.prototype.Vm=function(){return this.order};function H7(a){this.status=a.status;this.url=a.url}H7.prototype.vg=function(){return this.status};H7.prototype.ma=function(){return this.url};
function jea(a){return new H7({status:Ra(b7,"status",a),url:C("url",a)})}function I7(a){this.id=a.id;this.Hh=a.Hh||[]}I7.prototype.u=function(){return this.id};function kea(a){return new I7({id:B("id",a),Hh:Ha.Fe("countries",a)})}function J7(a){this.dc=a.dc}J7.prototype.zz=function(){return this.dc};function lea(a){this.vB=a.vB||[]}function mea(a){return new lea({vB:Qa(kea,"regions",a)})}function nea(a){this.qO=a.qO||new Map;this.cw=a.cw||new Map;this.oO=a.oO||new Map;this.VO=a.VO||new Map}
function K7(a){return new nea({qO:Ua(i7,"paperTypes",a),cw:Ua(g7,"paperSizes",a),oO:Ua(k7,"paperFinishes",a),VO:Ua(f7,"productTypes",a)})}function L7(a){this.type=a.type;this.name=a.name}L7.prototype.eb=function(){return this.type};L7.prototype.getName=function(){return this.name};function f7(a){return new L7({type:Ra(e7,"type",a),name:B("name",a)})}function M7(a){this.type=a.type;this.weight=a.weight;this.name=a.name;this.description=a.description}M7.prototype.eb=function(){return this.type};
M7.prototype.getName=function(){return this.name};M7.prototype.sf=function(){return this.description};function i7(a){return new M7({type:Ra(h7,"type",a),weight:y("weight",a),name:B("name",a),description:B("description",a)})}function N7(a){this.jj=a.jj;this.Jj=a.Jj;this.vK=a.vK;this.tK=a.tK;this.sE=a.sE;this.name=a.name}N7.prototype.getName=function(){return this.name};
function g7(a){return new N7({jj:y("widthMicrons",a),Jj:y("heightMicrons",a),vK:y("displayWidth",a),tK:y("displayHeight",a),sE:Ra(oea,"displayUnits",a),name:C("name",a)})}function oea(a,b){switch(b){case "CENTIMETERS":return"CENTIMETERS";case "INCHES":return"INCHES";default:throw new TypeError('expected PaperSizeUnits for property "'+a+'", found: '+JSON.stringify(b));}}function O7(a){this.finish=a.finish;this.name=a.name;this.description=a.description}O7.prototype.getName=function(){return this.name};
O7.prototype.sf=function(){return this.description};function k7(a){return new O7({finish:Ra(j7,"finish",a),name:B("name",a),description:B("description",a)})}function P7(a){this.Sc=a.Sc;this.Db=a.Db;this.Sy=a.Sy;this.doctype=a.doctype}P7.prototype.Dj=function(){return this.Db};function pea(a){return new P7({Sc:B("productType",a),Db:B("paperSize",a),Sy:Ma("dimensionsFlipped",a),doctype:C("doctype",a)})}function Q7(a){this.dc=a.dc}Q7.prototype.zz=function(){return this.dc};
function qea(a){this.UO=a.UO||[];this.dH=a.dH}function rea(a){return new qea({UO:Qa(pea,"productSizes",a),dH:Pa(K7,"productAttributes",a)})}function R7(a){this.Ie=a.Ie;this.Be=a.Be;this.Db=a.Db;this.dg=a.dg;this.Sc=a.Sc;this.Zy=a.Zy;this.Uz=a.Uz;this.Jv=a.Jv;this.Ry=a.Ry}R7.prototype.Dj=function(){return this.Db};R7.prototype.Wm=function(){return this.dg};
function sea(a){return new R7({Ie:B("sku",a),Be:B("paper",a),Db:B("paperSize",a),dg:B("paperFinish",a),Sc:B("productType",a),Zy:Ma("ecoFriendly",a),Uz:Ma("hasEnvelope",a),Jv:y("maxPages",a),Ry:Ma("dimensionsFlippable",a)})}function tea(a){this.Ie=a.Ie;this.Eb=a.Eb||[]}function uea(a){return new tea({Ie:B("sku",a),Eb:Qa(Gda,"prices",a)})}function S7(a){this.Wc=a.Wc||[];this.dQ=a.dQ||[]}S7.prototype.qF=function(){return this.Wc};
function vea(a){return new S7({Wc:Qa(uea,"products",a),dQ:Qa(Eda,"shipping",a)})}function T7(a){this.dc=a.dc;this.currency=a.currency;this.Sc=a.Sc;this.Dq=a.Dq||[]}T7.prototype.zz=function(){return this.dc};function U7(a){this.Wc=a.Wc||[];this.Ye=a.Ye;this.attributes=a.attributes;this.Eb=a.Eb}U7.prototype.qF=function(){return this.Wc};function wea(a){return new U7({Wc:Qa(sea,"products",a),Ye:B("region",a),attributes:Pa(K7,"attributes",a),Eb:F(vea,"prices",a)})};function xea(a){var b=a.kb.find(function(b){return b.bb===a.bb});w(b,"ShippingPrice not available for the ShippingMethod: {}",a.bb);var c=V7(a.Eb,a.Pe);return{KH:b.Wh,eH:c*a.Pe}}function V7(a,b){a=a.find(function(a){return a.mG<=b&&b<=a.dG});w(a,"No QuantityPrice available for the specified copies '{}'",b);return a.hI};function V6(a){this.N=a;this.path="/print"}V6.prototype.YD=function(a){return wj(this.N,this.path+"/orders",Wda(a)).catch(xj).get(0).then(La).then(Xda)};V6.prototype.kI=function(a){return wj(this.N,this.path+"/orders/"+a.id,Zda(a)).catch(xj).get(0).then(La).then(aea)};
V6.prototype.Vm=function(a){var b=this.path+"/orders/"+a.id,c=[];0<a.Dq.length&&c.push("projection\x3d"+encodeURIComponent(a.Dq.toString()));0<a.vL.length&&c.push("fileRoles\x3d"+encodeURIComponent(a.vL.toString()));a=0<c.length?b+"?"+c.join("\x26"):b;return yj(this.N,a).catch(xj).get(0).then(La).then(bea)};
function yea(a,b){var c=a.path+"/addresses";b=["brand\x3d"+encodeURIComponent(b.D),"user\x3d"+encodeURIComponent(b.user)].join("\x26");return yj(a.N,c+"?"+b).catch(xj).get(0).then(La).then(dea)}function zea(a,b){return wj(a.N,a.path+"/orders/"+b.order+"/fileimports",gea(b)).catch(xj).get(0).then(La).then(iea)}function Aea(a,b){return yj(a.N,a.path+"/orders/"+b.order+"/fileimports/"+b.ns).catch(xj).get(0).then(La).then(jea)}
function Z3(a){var b=new J7({dc:null}),b=[a.path+"/regions?",b.dc?"country\x3d"+encodeURIComponent(b.dc):""].join("");return yj(a.N,b).catch(xj).get(0).then(La).then(mea)}function Bea(a){var b=new Q7({dc:null}),b=a.path+"/products/sizes?"+[null!=b.dc?"country\x3d"+encodeURIComponent(b.dc):""].filter(function(a){return!!a}).join("\x26");return yj(a.N,b).catch(xj).get(0).then(La).then(rea)}
function Cea(a,b){b=a.path+"/products?"+[null!=b.dc?"country\x3d"+encodeURIComponent(b.dc):"",null!=b.currency?"currency\x3d"+encodeURIComponent(b.currency):"",null!=b.Sc?"productType\x3d"+encodeURIComponent(b.Sc):"",0<b.Dq.length?"projection\x3d"+encodeURIComponent(b.Dq.toString()):""].filter(function(a){return!!a}).join("\x26");return yj(a.N,b).catch(xj).get(0).then(La).then(wea)};function t0(){}function M3(a){a=a.map(function(a){return Dea(a)});return P.all(a).then(function(a){return a.every(function(a){return a})})}function Dea(a){var b=a.yp(),c=a.gr.map(function(a){return a.validate(b,void 0)});return P.all(c).then(function(b){var c=a.xp();b=ma(b);for(var g=b.next();!g.done;g=b.next())if(g=g.value,!g.valid)return c.kk(g.message),!1;c.$f();return!0})};function s0(a){this.Md=a.Md}s0.prototype.validate=function(a){var b=null;255<=a.length?b=this.Md.format("formValidatorInvalidEmailTooLong"):1>a.length?b=this.Md.format("formValidatorInvalidEmailTooShort"):/^(([^<>()[\]\\.,;:\s@\']+(\.[^<>()[\]\\.,;:\s@\']+)*)|(\'.+\'))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(a)||(b=this.Md.format("formValidatorInvalidEmailSyntax"));return new P(function(a){return a({valid:null==b,message:b})})};function W7(a){this.BM=a.BM}W7.prototype.validate=function(a){var b=null!==a&&void 0!==a&&("number"!==typeof a||!isNaN(a))&&("string"!==typeof a||/\S+/.test(a)),c=b?null:this.BM;return new P(function(a){return a({valid:b,message:c})})};function X7(a){this.Md=a.Md;this.wN=a.wN||0;this.maxLength=a.maxLength||Number.MAX_VALUE}X7.prototype.validate=function(a){var b=null;a.length<this.wN?b=this.Md.format("formValidatorInvalidStringLengthTooShort",this.wN):a.length>this.maxLength&&(b=this.Md.format("formValidatorInvalidStringLengthTooLong",this.maxLength));return new P(function(a){return a({valid:null==b,message:b})})};function Q0(a,b,c){function d(a){var b=new Set;a.ja().forEach(function(a){if(100!==a.Fb&&!(a instanceof ZB)){var c=a.pa();if(a.constructor===VB)for(var d=a.Xf(),e=0;e<d;e++){var g=a.Ym(e).clone().translate(c.F(),c.w());b.add(g)}else if(c){if(a=nC(a))if(c.translate(a.F(),a.w()),100===a.Fb)return;b.add(c)}}});return b}var e=a.hb();a=function(a,b){return b.map(function(b){b=w(a.O[b],"Cannot get bounding boxes for invalid page index {}.",b);return d(b)})}(a,b);var g={W6:Zg(e.nb).width,Q6:Zg(e.nb).height,
pr:function(a,b){return Zg(a.nb).width*(w_.JI/b.jj)}(e,c)};return a.every(function(a){return Eea(a,g)})}function Eea(a,b){function c(b,c){var d={origin:b,direction:[c[0]-b[0],c[1]-b[1]]};b=Array.from(a).map(function(a){return Fea(d,a)}).filter(function(a){return 2===a.length}).map(function(a){var b=a[0],c=a[1];a=(b+c)/2;b=1.04*(c-b)/2;return[a-b,a+b]});return Gea(new Set(b))}var d=-b.pr,e=b.W6+b.pr,g=b.Q6+b.pr;b=-b.pr;return c([b,d],[e,d])&&c([e,d],[e,g])&&c([b,g],[e,g])&&c([b,d],[b,g])}
function Fea(a,b){var c=a.origin;a=a.direction;Ca(0===a[0]!==(0===a[1]),"axisAlignedRay must be an axis-aligned ray, but its direction vector is {}",a);if(0!==a[0]){if(c[1]<b.w()||c[1]>b.ua())return[];var d=(b.F()-c[0])/a[0];b=(b.Wa()-c[0])/a[0];return d<b?[d,b]:[b,d]}if(c[0]<b.F()||c[0]>b.Wa())return[];d=(b.w()-c[1])/a[1];b=(b.ua()-c[1])/a[1];return d<b?[d,b]:[b,d]}
function Gea(a){var b=[0,1];a=Array.from(a);a.sort(function(a,b){return a[0]-b[0]});for(var c=b[0],d=0;d<a.length;d++){var e=a[d];if(!(e[1]<c)){if(e[0]>c)break;c=e[1];if(c>=b[1])return!0}}return!1};function Y7(a){this.qy=a.qy}Y7.prototype.validate=function(a){var b=null;[/P\.?\s*O(\.|\s)\s*BOX/i,/POST\s+OFFICE\s+BOX/i].some(function(b){return b.test(a)})&&(b=this.qy);return new P(function(a){return a({valid:null==b,message:b})})};function Z7(a){LS.apply(this,arguments)}t(Z7,LS);function $7(a){return new Z7(a)}Z7.prototype.Oh=function(){return this.$el.find(".printableDoctypeOption__label").text().toString()};function Hea(a){soy.asserts.assertType(goog.isString(a.Dk)||a.Dk instanceof goog.soy.data.SanitizedContent,"cancelButtonText",a.Dk,"string|goog.soy.data.SanitizedContent");var b=a.Dk;soy.asserts.assertType(goog.isString(a.Xo)||a.Xo instanceof goog.soy.data.SanitizedContent,"confirmButtonText",a.Xo,"string|goog.soy.data.SanitizedContent");var c=a.Xo;soy.asserts.assertType(goog.isString(a.hq)||a.hq instanceof goog.soy.data.SanitizedContent,"moreInfoLinkText",a.hq,"string|goog.soy.data.SanitizedContent");
var d=a.hq;soy.asserts.assertType(goog.isString(a.Mv)||a.Mv instanceof goog.soy.data.SanitizedContent,"moreInfoLinkUrl",a.Mv,"string|goog.soy.data.SanitizedContent");var e=a.Mv;soy.asserts.assertType(a.$s instanceof soydata.SanitizedHtml||a.$s instanceof soydata.UnsanitizedText||goog.isString(a.$s),"saveACopyMessage",a.$s,"soydata.SanitizedHtml");var g=a.$s;soy.asserts.assertType(goog.isBoolean(a.mo)||1===a.mo||0===a.mo,"showCancelButton",a.mo,"boolean");var h=!!a.mo;soy.asserts.assertType(goog.isBoolean(a.no)||
1===a.no||0===a.no,"showResizeForPrintIllustration",a.no,"boolean");var k=!!a.no;soy.asserts.assertType(goog.isString(a.title)||a.title instanceof goog.soy.data.SanitizedContent,"title",a.title,"string|goog.soy.data.SanitizedContent");var l=a.title;soy.asserts.assertType(null==a.v||a.v instanceof goog.soy.data.SanitizedContent||goog.isString(a.v),"classes",a.v,"null|string|undefined");var m=a.v;soy.asserts.assertType(null==a.uE||goog.isArray(a.uE),"doctypeOptions",a.uE,"?Array\x3c!soydata.SanitizedHtml|string\x3e|undefined");
var n=a.uE;soy.asserts.assertType(null==a.gp||a.gp instanceof soydata.SanitizedHtml||a.gp instanceof soydata.UnsanitizedText||goog.isString(a.gp),"doctypeSelectContent",a.gp,"?soydata.SanitizedHtml|string|undefined");a=a.gp;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"updateDoctype'+(m?" "+soy.$$escapeHtmlAttribute(m):"")+'"\x3e'+(k?'\x3cdiv class\x3d"updateDoctype__image"\x3e\x3c/div\x3e':"")+"\x3ch2 class\x3d'updateDoctype__title'\x3e"+soy.$$escapeHtml(l)+"\x3c/h2\x3e\x3cdiv\x3e"+
(n&&a?tS({v:"updateDoctype__printableDoctypeSelect",Kq:a,options:n}):"")+"\x3c/div\x3e\x3cp class\x3d'updateDoctype__error'\x3e\x3c/p\x3e\x3cdiv class\x3d\"updateDoctype__buttons\"\x3e"+(h?XZ({v:"updateDoctype__buttonCancel buttonSecondary",text:b}):"")+XZ({v:"updateDoctype__buttonConfirm buttonSubmittable",text:c})+'\x3c/div\x3e\x3cp class\x3d"updateDoctype__saveNote"\x3e'+soy.$$escapeHtml(g)+' \x3ca target\x3d"_blank" href\x3d"'+soy.$$escapeHtmlAttribute(soy.$$filterNormalizeUri(e))+'" class\x3d"updateDoctype__moreInfoLink"\x3e'+
soy.$$escapeHtml(d)+"\x3c/a\x3e\x3c/p\x3e\x3c/div\x3e")};function a8(a,b){var c=this;R.call(this,a);a.on("click",".updateDoctype__buttonConfirm",function(){c.trigger(b8)});a.on("click",".updateDoctype__buttonCancel",function(){c.trigger(c8)});this.E7=b}t(a8,R);
function Iea(a){var b=a.F7.map(function(a){var b=$;soy.asserts.assertType(a.description instanceof goog.soy.data.SanitizedContent||a.description instanceof soydata.SanitizedHtml||a.description instanceof soydata.UnsanitizedText||goog.isString(a.description),"description",a.description,"!soydata.SanitizedHtml|string");var e=a.description;soy.asserts.assertType(goog.isString(a.label)||a.label instanceof goog.soy.data.SanitizedContent,"label",a.label,"string|goog.soy.data.SanitizedContent");var g=a.label;
soy.asserts.assertType(null==a.selected||goog.isBoolean(a.selected)||1===a.selected||0===a.selected,"selected",a.selected,"boolean|null|undefined");var h=a.selected;soy.asserts.assertType(goog.isString(a.value)||a.value instanceof goog.soy.data.SanitizedContent,"value",a.value,"string|goog.soy.data.SanitizedContent");a=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"listbox__option printableDoctypeOption '+(h?" listbox__option--selected":"")+'" data-value\x3d"'+soy.$$escapeHtmlAttribute(a.value)+
'"\x3e\x3cdiv class\x3d"printableDoctypeOption__content"\x3e\x3cdiv class\x3d"printableDoctypeOption__label"\x3e'+soy.$$escapeHtml(g)+'\x3c/div\x3e\x3cdiv class\x3d"printableDoctypeOption__description"\x3e'+soy.$$escapeHtml(e)+"\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e");b=b(a.toString());return CS($7(b))});a=$(Hea({uE:b,Dk:a.Dk,Xo:a.Xo,gp:a.gp,hq:a.hq,Mv:a.Mv,$s:a.$s,mo:a.mo,no:a.no,title:a.title}).toString());return Jea(a)}
function Jea(a){var b=zS(a.find(".updateDoctype__printableDoctypeSelect"),{Ah:$7});return new a8(a,b)}function d8(a,b){a.$el.find(".updateDoctype__buttonConfirm").toggleClass("submitting",b)}a8.prototype.kk=function(a){var b=this.$el.find(".updateDoctype__error");b.html(a.toString());pl(function(){b.addClass("updateDoctype__error--visible")})};a8.prototype.$f=function(){this.$el.find(".updateDoctype__error").removeClass("updateDoctype__error--visible")};var c8="CANCEL",b8="CONFIRM";function e8(a,b){var c=this;this.view=b;this.j=a.j;this.mg=a.mg;this.ap=a.ap;this.Pa=a.Pa;this.Uy=a.Uy;this.hp=a.hp;this.i=a.i;this.je=a.je;this.Cq=a.Cq;this.Ds=a.Ds;this.SO=a.SO;b.on(c8,function(){return c.rG()});b.on(b8,function(){return Kea(c)})}
function Lea(a){var b=a.Cq.map(function(b,c){return{label:b.Sc.name,description:f8(a.je,b.Db),value:""+c,selected:0===c}}),b=Iea({Dk:a.i.Dk(),Xo:a.i.format("updateDoctypeUpdateFormatButtonText"),F7:b,hq:a.i.hq(),Mv:"https://support.canva.com/canva-print/preparing-your-design-for-print/resizing-for-print/",$s:a.i.Oa("updateDoctypeSaveACopyMessageHtml"),mo:a.mo,no:a.no,title:a.i.format("updateDoctypeChoosePrintFormat"),gp:b&&b[0]?b[0].label:void 0}),c=new NS(b.E7);return{wb:Mea({j:a.j,mg:a.mg,ap:a.ap,
Uy:a.Uy,Pa:a.Pa,hp:a.hp,i:a.i,Ds:a.Ds,Cq:a.Cq,SO:c,je:a.je},b),view:b}}function Mea(a,b){return new e8(a,b)}e8.prototype.rG=function(){var a=this.ap,b=this.mg,a=X(X(X(new fm("print_resize_cancelled"),"section","editor"),"location",b),"template",a);this.j.wa(a)};
function Kea(a){var b=parseInt(a.SO.oc(),10),c=a.Cq[b],d=c.$d;a.view.$f();d8(a.view,!0);Nea(a,d);return Oea(a).then(function(){return a.Ds(c)}).then(function(){var b=a.ap,c=a.mg,b=X(X(X(X(new fm("print_resize_succeeded"),"section","editor"),"location",c),"template",b),"target_template",d);a.j.wa(b)}).then(function(){}).catch(function(){a.view.kk(a.i.Oa("updateDoctypeBackupErrorHtml","https://support.canva.com/troubleshooting"))}).catch(function(){var b=a.ap,c=a.mg,b=X(X(X(X(new fm("print_resize_failed"),
"section","editor"),"location",c),"template",b),"target_template",d);a.j.wa(b);a.view.kk(a.i.Oa("updateDoctypeResizeErrorHtml","https://support.canva.com/troubleshooting"))}).finally(function(){return d8(a.view,!1)})}function Oea(a){var b=a.i.format("updateDoctypeOriginalSizeDesignName",a.hp).substr(0,255),b=new it({id:a.Uy.u(),title:b});return a.Pa.duplicate(b).catch(function(){throw new g8;})}
function Nea(a,b){var c=a.ap,d=a.mg;b=X(X(X(X(new fm("print_resize_button_clicked"),"section","editor"),"location",d),"template",c),"target_template",b);a.j.wa(b)}function g8(){}t(g8,Error);function Y3(a,b){switch(a){case "US":return h8.get(b);case "CA":return h8.get(b);case "AU":return Pea.get(b);case "EU":return Qea.get(b);case "MX":return Rea.get(b);default:throw Error("Unknown print region '"+a+"'.");}}
var h8=new Map([["posterUS","POSTER"],["TABQqupS2LE","LETTERHEAD"],["resume","LETTERHEAD"],["usLetter","LETTERHEAD"],["foodDrinkMenu","FLYER"],["realEstateFlyer","FLYER"],["certificate","FLYER"],["TACC4LJ8cp8","INVITATION"],["TABQqppdmyw","INVITATION"],["TABQqqo4v1s","INVITATION"],["TACiv026174","INVITATION"],["TABQqu1V70w","INVITATION"],["TACjUwMYSIM","INVITATION"],["TACRzIDOAWk","INVITATION"],["TACRzD6R1Mo","BUSINESS_CARD"],["TACRsbXUzY8","BUSINESS_CARD"],["TACRsibVUu4","POSTCARD"],["TACRzKTiVOc",
"POSTCARD"],["TACRsaKlUIo","POSTCARD"],["TACRzCdizdA","POSTCARD"],["TACRsgErAyo","POSTCARD"]]),Pea=new Map([["TACiRRRQ1rQ","FLYER"],["TACixUyoqp0","FLYER"],["poster","POSTER"],["TABQqtmBi1w","LETTERHEAD"],["a4","LETTERHEAD"],["TABQqqo4v1s","INVITATION"],["TACiv026174","INVITATION"],["TABQqu1V70w","INVITATION"],["TACC4LJ8cp8","INVITATION"],["TABQqppdmyw","INVITATION"],["TACjUwMYSIM","INVITATION"],["businessCard","BUSINESS_CARD"],["TABQqt5Z4RU","POSTCARD"],["TACjUzwty98","POSTCARD"]]),Qea=new Map([["poster",
"POSTER"],["TACRzD6R1Mo","BUSINESS_CARD"],["TACRsbXUzY8","BUSINESS_CARD"],["TABQqtmBi1w","LETTERHEAD"],["a4","LETTERHEAD"],["TACiRRRQ1rQ","FLYER"],["TACixUyoqp0","FLYER"],["TACiRn71mUI","INVITATION"],["TACixRR28vY","INVITATION"],["card","INVITATION"],["TABQqt5Z4RU","POSTCARD"],["TACjUzwty98","POSTCARD"]]),Rea=new Map([["posterUS","POSTER"],["TABQqupS2LE","FLYER"],["resume","FLYER"],["usLetter","FLYER"],["foodDrinkMenu","FLYER"],["realEstateFlyer","FLYER"],["certificate","FLYER"],["TACC4LJ8cp8","INVITATION"],
["TABQqppdmyw","INVITATION"],["TABQqqo4v1s","INVITATION"],["TACiv026174","INVITATION"],["TABQqu1V70w","INVITATION"],["TACjUwMYSIM","INVITATION"],["TACRzIDOAWk","INVITATION"],["TACRzD6R1Mo","BUSINESS_CARD"],["TACRsbXUzY8","BUSINESS_CARD"],["TACRsibVUu4","POSTCARD"],["TACRzKTiVOc","POSTCARD"],["TACRsaKlUIo","POSTCARD"],["TACRzCdizdA","POSTCARD"],["TACRsgErAyo","POSTCARD"]]);function Sea(a){return X(new fm("print_checkout_payment"),"order_id",a)};function f8(a,b){var c=b.vK,d=b.tK,e=b.name;switch(b.sE){case "INCHES":return null==e?a.Oa("printOrderPaperDimensionsInchesHtml",c,d):a.format("printOrderNamedPaperDimensionsInches",e,c,d);case "CENTIMETERS":return null==e?a.Oa("printOrderPaperDimensionsCentimetresHtml",c,d):a.format("printOrderNamedPaperDimensionsCentimetres",e,c,d);default:throw Error("paper dimensions not translated for units: "+b.sE);}};function i8(a){soy.asserts.assertType(null==a.attributes||a.attributes instanceof soydata.SanitizedHtmlAttribute||a.attributes instanceof soydata.UnsanitizedText||goog.isString(a.attributes),"attributes",a.attributes,"?soydata.SanitizedHtmlAttribute|string|undefined");var b=a.attributes;soy.asserts.assertType(null==a.v||a.v instanceof goog.soy.data.SanitizedContent||goog.isString(a.v),"classes",a.v,"null|string|undefined");var c=a.v;soy.asserts.assertType(null==a.description||a.description instanceof
goog.soy.data.SanitizedContent||a.description instanceof soydata.SanitizedHtml||a.description instanceof soydata.UnsanitizedText||goog.isString(a.description),"description",a.description,"?soydata.SanitizedHtml|string|undefined");var d=a.description;soy.asserts.assertType(a.label instanceof goog.soy.data.SanitizedContent||a.label instanceof soydata.SanitizedHtml||a.label instanceof soydata.UnsanitizedText||goog.isString(a.label),"label",a.label,"!soydata.SanitizedHtml|string");var e=a.label;soy.asserts.assertType(null==
a.selected||goog.isBoolean(a.selected)||1===a.selected||0===a.selected,"selected",a.selected,"boolean|null|undefined");var g=a.selected;soy.asserts.assertType(goog.isString(a.value)||a.value instanceof goog.soy.data.SanitizedContent,"value",a.value,"string|goog.soy.data.SanitizedContent");a=a.value;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"listbox__option orderSummaryOption'+(c?" "+soy.$$escapeHtmlAttribute(c):"")+(g?" listbox__option--selected":"")+'"'+(b?" "+soy.$$filterHtmlAttributes(b):
"")+' data-value\x3d"'+soy.$$escapeHtmlAttribute(a)+'"\x3e\x3cdiv class\x3d"orderSummaryOption__content"\x3e\x3cdiv class\x3d"orderSummaryOption__label"\x3e'+soy.$$escapeHtml(e)+"\x3c/div\x3e"+(d?'\x3cdiv class\x3d"orderSummaryOption__description"\x3e'+soy.$$escapeHtml(d)+"\x3c/div\x3e":"")+"\x3c/div\x3e\x3c/div\x3e")};function j8(a){LS.apply(this,arguments)}t(j8,LS);function k8(a){return new j8(a)}j8.prototype.Oh=function(){return soydata.VERY_UNSAFE.ordainSanitizedHtml(this.$el.find(".paperSizeOption__label").prop("outerHTML"))};function l8(a){LS.apply(this,arguments)}t(l8,LS);
function m8(a){var b=$;soy.asserts.assertType(null==a.v||a.v instanceof goog.soy.data.SanitizedContent||goog.isString(a.v),"classes",a.v,"null|string|undefined");var c=a.v;soy.asserts.assertType(a.Gs instanceof goog.soy.data.SanitizedContent||a.Gs instanceof soydata.SanitizedHtml||a.Gs instanceof soydata.UnsanitizedText||goog.isString(a.Gs),"pageCountDescription",a.Gs,"!soydata.SanitizedHtml|string");var d=a.Gs;soy.asserts.assertType(goog.isString(a.bB)||a.bB instanceof goog.soy.data.SanitizedContent,
"pageCountLabel",a.bB,"string|goog.soy.data.SanitizedContent");var e=a.bB;soy.asserts.assertType(null==a.selected||goog.isBoolean(a.selected)||1===a.selected||0===a.selected,"selected",a.selected,"boolean|null|undefined");var g=a.selected;soy.asserts.assertType(goog.isString(a.value)||a.value instanceof goog.soy.data.SanitizedContent,"value",a.value,"string|goog.soy.data.SanitizedContent");a=soydata.VERY_UNSAFE.ordainSanitizedHtml(i8({label:e,value:a.value,attributes:soydata.VERY_UNSAFE.$$ordainSanitizedAttributesForInternalBlocks('data-page-count-label\x3d"'+
soy.$$escapeHtmlAttribute(e)+'"'),v:c,description:d,selected:g}));b=b(a.toString());return n8(b)}function n8(a){return new l8(a)}l8.prototype.Oh=function(){return this.$el.attr("data-page-count-label").toString()};function o8(a){LS.apply(this,arguments)}t(o8,LS);
function Tea(a){var b=$,c;soy.asserts.assertType(null==a.v||a.v instanceof goog.soy.data.SanitizedContent||goog.isString(a.v),"classes",a.v,"null|string|undefined");c=a.v;soy.asserts.assertType(null==a.Ma||a.Ma instanceof goog.soy.data.SanitizedContent||goog.isString(a.Ma),"discount",a.Ma,"null|string|undefined");var d=a.Ma;soy.asserts.assertType(goog.isString(a.Uv)||a.Uv instanceof goog.soy.data.SanitizedContent,"numberOfCopies",a.Uv,"string|goog.soy.data.SanitizedContent");var e=a.Uv;soy.asserts.assertType(goog.isString(a.da)||
a.da instanceof goog.soy.data.SanitizedContent,"price",a.da,"string|goog.soy.data.SanitizedContent");var g=a.da;soy.asserts.assertType(null==a.selected||goog.isBoolean(a.selected)||1===a.selected||0===a.selected,"selected",a.selected,"boolean|null|undefined");var h=a.selected;soy.asserts.assertType(goog.isString(a.value)||a.value instanceof goog.soy.data.SanitizedContent,"value",a.value,"string|goog.soy.data.SanitizedContent");a=a.value;c=soydata.VERY_UNSAFE.ordainSanitizedHtml(i8({label:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks('\x3cdiv class\x3d"orderQuantityOption__label"\x3e\x3cspan class\x3d"orderQuantityOption__copies"\x3e'+
soy.$$escapeHtml(a)+'\x3c/span\x3e\x3cspan class\x3d"orderQuantityOption__price"\x3e'+soy.$$escapeHtml(g)+"\x3c/span\x3e\x3c/div\x3e"),value:a,attributes:soydata.VERY_UNSAFE.$$ordainSanitizedAttributesForInternalBlocks('data-copies\x3d"'+soy.$$escapeHtmlAttribute(e)+'" data-price\x3d"'+soy.$$escapeHtmlAttribute(g)+'"'),v:c+" orderQuantityOption",description:d,selected:h}));b=b(c.toString());return p8(b)}function p8(a){return new o8(a)}
o8.prototype.Oh=function(){var a=this.$el.attr("data-copies").toString(),b=this.$el.attr("data-price").toString();soy.asserts.assertType(goog.isString(a)||a instanceof goog.soy.data.SanitizedContent,"copies",a,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(null==b||b instanceof goog.soy.data.SanitizedContent||goog.isString(b),"price",b,"null|string|undefined");return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"orderQuantitySelectionLabel"\x3e\x3cspan class\x3d"orderQuantitySelectionLabel__copies"\x3e'+
soy.$$escapeHtml(a)+"\x3c/span\x3e"+(b?'\x3cspan class\x3d"orderQuantitySelectionLabel__price"\x3e'+soy.$$escapeHtml(b)+"\x3c/span\x3e":"")+"\x3c/div\x3e")};function q8(a){LS.apply(this,arguments)}t(q8,LS);function r8(a){return new q8(a)}q8.prototype.Oh=function(){return this.$el.attr("data-label").toString()};function s8(a){LS.apply(this,arguments)}t(s8,LS);function t8(a){return new s8(a)}s8.prototype.Oh=function(){return this.$el.attr("data-label").toString()};function u8(a){LS.apply(this,arguments)}t(u8,LS);function v8(a){return new u8(a)}
u8.prototype.Oh=function(){var a=this.$el.attr("data-label").toString(),b=this.$el.attr("data-price").toString();soy.asserts.assertType(goog.isString(a)||a instanceof goog.soy.data.SanitizedContent,"shippingLabel",a,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(b)||b instanceof goog.soy.data.SanitizedContent,"price",b,"string|goog.soy.data.SanitizedContent");return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"shippingSelectionLabel"\x3e\x3cspan class\x3d"shippingSelectionLabel__copies"\x3e'+soy.$$escapeHtml(a)+
'\x3c/span\x3e\x3cspan class\x3d"shippingSelectionLabel__price"\x3e'+soy.$$escapeHtml(b)+"\x3c/span\x3e\x3c/div\x3e")};function w8(a){var b=this;R.call(this,a);a.on("click",".licensesMore",function(){return b.trigger(x8)});a.on("change",".mediaLicenses__licenseSelect",function(){return b.trigger(y8)})}t(w8,R);w8.prototype.hQ=function(a){var b=$(".licensesMore");a.ei(b)};var x8="CLICK_LICENSES_MORE",y8="LICENSE_SELECT";
function z8(a){soy.asserts.assertType(goog.isBoolean(a.Wd)||1===a.Wd||0===a.Wd,"showOneTimeUse",a.Wd,"boolean");soy.asserts.assertType(goog.isString(a.gd)||a.gd instanceof goog.soy.data.SanitizedContent,"oneTimeUse",a.gd,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(a.Ic)||a.Ic instanceof goog.soy.data.SanitizedContent,"oneTimeUseDescription",a.Ic,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isBoolean(a.Xd)||1===a.Xd||0===a.Xd,"showRoyaltyFree",
a.Xd,"boolean");soy.asserts.assertType(goog.isString(a.Bc)||a.Bc instanceof goog.soy.data.SanitizedContent,"royaltyFree",a.Bc,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(a.Kc)||a.Kc instanceof goog.soy.data.SanitizedContent,"royaltyFreeDescription",a.Kc,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isBoolean(a.Hg)||1===a.Hg||0===a.Hg,"showExtended",a.Hg,"boolean");soy.asserts.assertType(goog.isString(a.vd)||a.vd instanceof goog.soy.data.SanitizedContent,
"extended",a.vd,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(a.Ld)||a.Ld instanceof goog.soy.data.SanitizedContent,"extendedDescription",a.Ld,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(a.Od)||a.Od instanceof goog.soy.data.SanitizedContent,"noLicenseOptionDescription",a.Od,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(a.Aj instanceof soydata.SanitizedHtml||a.Aj instanceof soydata.UnsanitizedText||goog.isString(a.Aj),
"fullInformationHtml",a.Aj,"soydata.SanitizedHtml");var b=a.Aj,b=soydata.VERY_UNSAFE.ordainSanitizedHtml(Z1(a)+'\x3cp class\x3d"licensesDetails__fullInformation outro"\x3e'+soy.$$escapeHtml(b)+"\x3c/p\x3e"),b=$(b.toString());Ry.call(this,{className:"licensesPopOver",content:b,Qe:a.confirm,position:Ep})}t(z8,Ry);function A8(a,b){var c=this;this.view=b;this.vb=a.vb;this.xa=a.xa;this.Ka=a.Ka;this.mb=new Map([].concat(na(new Map([["a","a"],["b","b"]]))));this.view.on(x8,function(){return c.KN()});this.view.on(y8,function(){throw Error("License selection not yet implemented.");})}function Uea(a){return{zA:Ze(a.xa),Yh:a.vb.map(function(b){return Vea({media:b,xa:a.xa,Ka:a.Ka,mb:a.mb})})}}
A8.prototype.KN=function(){function a(a){return c.vb.some(function(c){return b(c,a)})}function b(a,b){return a.nw.some(function(a){return a.type==b})}var c=this,d={confirm:af(this.xa),Wd:a("ONE_USE"),gd:this.Ka.gd(),Ic:this.Ka.Ic(),Xd:a("ROYALTY_FREE"),Bc:this.Ka.Bc(),Kc:this.Ka.Kc(),Hg:a("EXTENDED"),vd:this.Ka.vd(),Ld:this.Ka.Ld(),Od:this.Ka.Od(),Aj:bf(this.Ka,Wea)};this.view.hQ(new z8(d))};
function Vea(a){var b=0<a.media.xc.length,c=b?a.media.xc[0].type:null;return{O7:a.xa.Qs(),ig:a.media.ig,RM:!/\.png$/.test(a.media.ig),title:a.media.pN,zr:a.xa.zr(a.media.Pg),RG:c?B8(c,a.Ka):null,gz:b?Xea(a.media.xc[0].xN,a.xa):null,Ps:b?null:a.media.nw.map(function(b){var c=a.xa,g=a.Ka,h=a.mb.get(a.media.ha),c=c.rl(b.da),g=b.type?B8(b.type,g):null;return{selected:b.type===h,text:g+" - "+c,value:b.type}})}}
function B8(a,b){switch(a){case "ONE_USE":return b.gd();case "ROYALTY_FREE":return b.Bc();case "EXTENDED":return b.vd();default:throw Error("Unknown LicenseType '"+a+"'.");}}function Xea(a,b){if(null==a||Infinity===a)return null;var c=moment.duration(a,"minutes");a=Math.floor(c.asHours());c=c.minutes();return a?b.format("paymentPageLicenseRemainingHours",a):$e(b,c)}A8.prototype.destroy=function(){this.view.remove()};var Wea=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3ca href\x3d"https://about.canva.com/license-agreements/" target\x3d"_blank"\x3eabout.canva.com/license-agreements\x3c/a\x3e');function Yea(a,b){var c=this;this.zb=a;this.rW=b;this.zb.once("remove",function(){return c.rW.destroy()})}function Zea(a){return up(a.zb).then(function(){return a.rW.mb})};function C8(a,b){var c=this;this.view=b;this.ea=a.ea||null;this.aa=a.aa;this.Ma=a.Ma;this.vc=a.vc;this.Wg=a.Wg;this.mb=a.mb;this.vb=a.vb;this.Ca=a.Ca;this.Qd=a.Qd;this.JP=a.JP;this.gX=[];this.sG=null;this.view.on(D8,function(){return $ea(c)});this.view.on(E8,function(){c.Un();null!=c.sG&&c.sG()})}function afa(a,b){return a.reduce(function(a,d){return a+(0<d.xc.length?0:F8(d,b).da)},0)}
function F8(a,b){var c=b.get(a.ha)||"ONE_USE";b=a.nw.find(function(a){return a.type===c});return w(b||a.nw[0],'No pricing options found for media "{}"',a.ha)}function bfa(a,b){return new C8(a,b)}C8.prototype.destroy=function(){this.view.remove()};
function cfa(a,b){a=a.vb.filter(function(a){return 0===a.xc.length}.bind(a)).map(function(a){var b=F8(a,this.mb);return new li({aq:new di({media:a.ha,version:a.ia,document:this.vc().id,Rj:b.type})})}.bind(a));return[].concat([new li({PO:new gi({order:b})}),new li({QO:new ii({order:b})})],na(a))}
function G8(a,b){function c(a,e){var g=this,h=this.vc();return Cj(this.aa,new Li({mode:"DESIGN",te:new Ki({document:h.id,Wb:h.version,O:b,Sc:"MEDIA"}),Z:a,limit:50})).then(function(a){if(!a.Z)return a.Wc;var b=Math.min(2*e,1E3);return P.delay(e).then(function(){return c.call(g,a.Z,b)}).then(function(b){return[].concat(na(a.Wc),na(b))})})}return c.call(a,null,50).then(function(a){return a.map(function(a){return a.media})})}
function H8(a,b){a.Qd=b;I8(a,J8({ea:a.ea,Ma:a.Ma,mb:a.mb,vb:a.vb,Qd:a.Qd}))}C8.prototype.Zu=function(){return this.vb};function dfa(a,b,c){a.gX=b;a.Qd=c;efa(a.view);return a.Wg().then(function(){return G8(a,b)}).then(function(b){a.vb=b;I8(a,J8({ea:a.ea,Ma:a.Ma,mb:a.mb,vb:a.vb,Qd:a.Qd}))})}C8.prototype.CD=function(a){return J8({ea:this.ea,mb:this.mb,vb:this.vb,Qd:a}).$l};
function J8(a){var b=a.Qd.IX+a.Qd.RO,c=a.ea&&a.ea.Iv||0,d=afa(a.vb,a.mb),e=Math.min(d,c),g=a.Ma?ffa({Ma:a.Ma,Qd:a.Qd}):0;return{tm:c,rj:e,hG:d,$l:Number((d-e+b-g).toFixed(2)),rE:a.Ma?{a0:g,Ma:a.Ma}:null,fj:a.Qd.RO}}
function ffa(a){var b=[].concat(na(new Set(a.Ma.oD))).reduce(function(b,c){switch(c){case "PRINT_PRODUCT":return b+a.Qd.IX;case "PRINT_SHIPPING":return b+a.Qd.RO;default:throw Error("Cannot process discount of type '"+c+"'");}},0);switch(a.Ma.type){case "AMOUNT":var c=w(a.Ma.No,"AMOUNT discount must have an amount.");return Math.min(b,c.value);case "PERCENTAGE":return c=w(a.Ma.lh,"PERCENTAGE discount must have a percentage.")/100,Number(Math.min(b,c*b).toFixed(2));default:throw Error("Unknown discount type '"+
a.Ma.type+"'.");}}
function I8(a,b){var c=a.Ca.rj(b.rj);a.view.$el.find(".printOrderSummary__creditUsed").empty().append(c);c=wf(a.Ca,b.tm);a.view.$el.find(".printOrderSummary__creditUsedLabel").empty().append(c);var c=a.view,d=a.Ca.da(b.hG);0!==b.hG?c.$el.find(".printOrderSummary__premiumImagesLink").show():c.$el.find(".printOrderSummary__premiumImagesLink").hide();c.$el.find(".printOrderSummary__premiumImagesTotalPrice").empty().append(d);c=a.Ca.da(b.$l);a.view.$el.find(".printOrderSummary__orderTotalPrice").empty().append(c);c=
0<b.fj?a.Ca.da(b.fj):a.Ca.format("printOrderSummaryPriceFree");a.view.$el.find(".printOrderSummary__shippingPrice").empty().append(c);c=!!b.rE;a.view.$el.find(".printOrderSummary__couponDiscountInfo").toggleClass("printOrderSummary__info--hidden",!c);if(b.rE){c=a.view;a:{var e=b.rE.Ma,d=a.Ca,g=e.Rg,h=new Set(e.oD),h=1===h.size&&h.has("PRINT_SHIPPING")?d.format("printOrderSummaryDiscountShipping"):1===h.size&&h.has("PRINT_PRODUCT")?d.format("printOrderSummaryDiscountPrints"):d.format("printOrderSummaryDiscountOrder");
switch(e.type){case "PERCENTAGE":e=w(e.lh,"PERCENTAGE discount must have a percentage.");d=d.format("printOrderSummaryPercentageCouponDiscountLabel",g,e,h);break a;case "AMOUNT":e=w(e.No,"AMOUNT discount must have an amount.");d=d.format("printOrderSummaryAmountCouponDiscountLabel",g,e.value,h);break a;default:throw Error("Unknown discount type "+e.type+".");}}c.$el.find(".printOrderSummary__couponDiscountLabel").empty().append(d);c=a.Ca.da(b.rE.a0);a.view.$el.find(".printOrderSummary__couponDiscountAmount").empty().append(c)}c=
a.view;0<b.hG?c.slideDown(c.$el.find(".printOrderSummary__premiumImagesInfo")):c.slideUp(c.$el.find(".printOrderSummary__premiumImagesInfo"));a=a.view;b.rj?a.slideDown(a.$el.find(".printOrderSummary__creditInfo")):a.slideUp(a.$el.find(".printOrderSummary__creditInfo"))}function $ea(a){K8(a.view,!0);G8(a,a.gX).then(function(b){a.JP({vb:b,mb:new Map})}).finally(function(){return K8(a.view,!1)})}C8.prototype.Un=function(){this.Ma=null;I8(this,J8({ea:this.ea,Ma:this.Ma,mb:this.mb,vb:this.vb,Qd:this.Qd}))};
function gfa(a,b){Ca(!a.sG,"onDiscountRemoved: listener already registered");a.sG=b};function L8(a){var b=this;R.call(this,a);this.$el.on("click",".printOrderSummary__premiumImagesLink",function(a){a.preventDefault();$(a.currentTarget).hasClass("printOrderSummary__premiumImagesLink--loading")||b.trigger(D8)});this.$el.on("click",".printOrderSummary__removeCouponLink",function(a){a.preventDefault();b.trigger(E8)})}t(L8,R);function K8(a,b){a.$el.find(".printOrderSummary__premiumImagesLink").toggleClass("printOrderSummary__premiumImagesLink--loading",b)}
L8.prototype.slideDown=function(a){a.hasClass("printOrderSummary__info--hidden")&&(a.css("display","none"),a.removeClass("printOrderSummary__info--hidden"),a.slideDown())};L8.prototype.slideUp=function(a){a.slideUp(function(){a.addClass("printOrderSummary__info--hidden");a.css("display","")})};
function efa(a){var b=$(soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cimage src\x3d"https://static.canva.com/static/images/loading_spinner_dark.png" /\x3e').toString());a.$el.find(".printOrderSummary__premiumImagesTotalPrice").empty().append(b)}var D8="CLICK_PREMIUM_IMAGES_LINK",E8="REMOVE_COUPON";function hfa(a){soy.asserts.assertType(goog.isString(a.$c)||a.$c instanceof goog.soy.data.SanitizedContent,"buttonText",a.$c,"string|goog.soy.data.SanitizedContent");var b=a.$c;soy.asserts.assertType(goog.isString(a.pl)||a.pl instanceof goog.soy.data.SanitizedContent,"inputPlaceholder",a.pl,"string|goog.soy.data.SanitizedContent");var c=a.pl;soy.asserts.assertType(null==a.Ng||a.Ng instanceof goog.soy.data.SanitizedContent||goog.isString(a.Ng),"buttonClasses",a.Ng,"null|string|undefined");var d=a.Ng;
soy.asserts.assertType(null==a.v||a.v instanceof goog.soy.data.SanitizedContent||goog.isString(a.v),"classes",a.v,"null|string|undefined");var e=a.v;soy.asserts.assertType(null==a.disabled||goog.isBoolean(a.disabled)||1===a.disabled||0===a.disabled,"disabled",a.disabled,"boolean|null|undefined");var g=a.disabled;soy.asserts.assertType(null==a.iA||a.iA instanceof goog.soy.data.SanitizedContent||goog.isString(a.iA),"inputClasses",a.iA,"null|string|undefined");var h=a.iA;soy.asserts.assertType(null==
a.NF||a.NF instanceof goog.soy.data.SanitizedContent||goog.isString(a.NF),"inputValue",a.NF,"null|string|undefined");a=a.NF;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"inputWithButton'+(e?" "+soy.$$escapeHtmlAttribute(e):"")+'"\x3e'+S1({v:"inputWithButton__input "+h,disabled:g,placeholder:c,value:a})+XZ({v:"inputWithButton__button buttonSecondary "+d,disabled:g,text:b})+"\x3c/div\x3e")};function M8(a,b){var c=this;R.call(this,a);this.Ji=b;a.on("click",".paymentForm__applyCouponButton",function(){c.trigger(N8)})}t(M8,R);function O8(a,b){D1(a.$el.find(".paymentForm__cardInputContainer")).kk(b)}function P8(a,b){D1(a.$el.find(".paymentForm__couponInputContainer")).kk(b)}function Q8(a){D1(a.$el.find(".paymentForm__couponInputContainer")).$f()}M8.prototype.Az=function(){return this.$el.find(".paymentForm__couponCodeInput").val().toString().trim()};
function R8(a,b){a.$el.find(".paymentForm__applyCouponButton").toggleClass("submitting",b)}var N8="APPLY_COUPON";function S8(a,b,c){var d=this;this.view=b;this.pd=c;this.ea=a.ea;this.Ma=null;this.aa=a.aa;this.ta=a.ta;this.la=a.la;this.Va=a.Va;this.Up=!1;this.xa=a.xa;this.Cf=a.Cf;gfa(this.Cf,function(){return d.Un()});this.view.on(N8,function(){return ifa(d)})}f=S8.prototype;f.destroy=function(){this.pd.remove();this.view.remove()};f.ik=function(a){this.pd.ik(a)};
f.sB=function(a){var b=this;return P.resolve().then(function(){Fa(!b.Up,"Cannot pay invoice while processing a payment");b.Up=!0;var c=!1;D1(b.view.$el.find(".paymentForm__cardInputContainer")).$f();Q8(b.view);return b.nN().then(function(){return b.XD(a)}).then(function(a){return jfa(b,a.xe)}).then(function(a){return b.WG(a)}).then(function(){c=!0}).catch(U8,function(){var a=b.xa.Oa("paymentPageDiscountErrorHtml","https://support.canva.com/troubleshooting");P8(b.view,a)}).catch(qT,function(){return b.Sz()}).catch(uj,
function(a){return b.Ij(a)}).catch(function(){return b.Sz()}).then(function(){return c}).finally(function(){b.Up=!1})})};f.XD=function(a){a=new Wh({D:this.ta,items:cfa(this.Cf,a),currency:"USD"});return this.aa.XD(a)};function jfa(a,b){return a.Ma?Ej(a.aa,new mi({xe:b,Ma:a.Ma.id,Un:!1})).catch(function(){throw new U8;}).then(function(){return b}):P.resolve(b)}f.WG=function(a){return Ej(this.aa,new mi({xe:a,action:"PAY_SYNCHRONOUS",Un:!1}))};
f.nN=function(){var a=this;return P.resolve().then(function(){if(V8(a.ea?a.ea.Ih:null))return a.pd.ZL()})};function V8(a){if(!a)return!0;var b=new Date,c=b.getUTCMonth()+1,b=b.getUTCFullYear();return a.Fu<b||a.Fu===b&&a.SE<c}f.Sz=function(){var a=Ye(this.xa);O8(this.view,a)};f.Ij=function(a){a=vT(this.Va,a);O8(this.view,a)};
function ifa(a){function b(){var a=new Ti({D:this.ta,user:this.la,Rg:this.view.Az()});return wj(this.aa.N,"/billing/discounts",{brand:ib("brand",a.D),user:ib("user",a.user),couponCode:ib("couponCode",a.Rg)}).catch(xj).get(0).then(La).then(Vi).then(function(a){return a.Ma})}Q8(a.view);R8(a.view,!0);(function(){var a=new Wi({D:this.ta,user:this.la,Rg:this.view.Az(),limit:1});return Fj(this.aa,a).then(function(a){return a.rK[0]})}).call(a).then(function(c){return c||b.call(a)}).then(function(b){a.Ma=
b;var d=a.Cf;d.Ma=b;I8(d,J8({ea:d.ea,Ma:d.Ma,mb:d.mb,vb:d.vb,Qd:d.Qd}));a.view.$el.find(".paymentForm__couponCodeInput").val("")}).catch(function(){var b=a.xa.format("paymentPageCouponError");P8(a.view,b)}).finally(function(){return R8(a.view,!1)})}f.Un=function(){this.Ma=null};function U8(){}t(U8,Error);function kfa(a){switch(a){case "POSTER":return[1,2,3,4,5,6,7,8,9,10];case "BUSINESS_CARD":return[50,100,150,200,250,500,1E3,1500,2E3,2500];case "POSTCARD":case "LETTERHEAD":case "FLYER":case "INVITATION":return[25,50,100,150,200,250,500,750,1E3];default:throw Error("Expected PrintProductType, found "+a);}};function N0(a){fc.apply(this,arguments)}t(N0,fc);function W8(a){return a.$el.find(".page--printMarkingsEnabled").toArray().map(function(a){return new X8($(a))})}N0.prototype.gt=function(a){W8(this).forEach(function(b){return b.gt(a)})};N0.prototype.XB=function(a){W8(this).forEach(function(b){return b.XB(a)})};function X8(a){fc.apply(this,arguments)}t(X8,fc);X8.prototype.gt=function(a){this.$el.find(".page__bleedAreaLine").toggleClass("page__printLine--highlight",a)};
X8.prototype.XB=function(a){this.$el.find(".page__safeAreaLine").toggleClass("page__printLine--highlight",a)};function Y8(a){fc.apply(this,arguments)}t(Y8,fc);function Z8(a,b,c){Ca(!$8(a,b),"Cannot add page with name {}. A page with that name already exists.",b);b=$(a9({name:b}).toString());b=new b9(b);b.fo(c);a.$el.append(b.$el)}
function c9(a,b){return new P(function(c){var d=lfa(a),e=a.R(b);w(e,"No page with name the name '{}' exists.",b);var g=d.o();a.ca(g);pl(function(){a.jt(!0);e.jt(!0);d.jt(!0);var b=e.o(),b=b===g?P.resolve():mfa(a,b);d.kt(!1);e.kt(!0);b=b.then(function(){d.jt(!1);e.jt(!1);a.jt(!1);a.$el.height("")});c(b)})})}function $8(a,b){return 0<a.$el.children('[data-page-name\x3d"'+b+'"]').length}
Y8.prototype.R=function(a){var b=this.$el.children('[data-page-name\x3d"'+a+'"]');Ca(2>b.length,"Must contain at most one page with name '{}', but contains {}",a,b.length);return 1===b.length?new b9(b):null};Y8.prototype.Cb=function(){return this.$el.children(".pagesPanel__page").toArray().map(function(a){return new b9($(a))})};function lfa(a){a=a.$el.children(".pagesPanel__page--visible");Ca(1===a.length,"There must be exactly one current page, but there are {}",a.length);return new b9(a)}
Y8.prototype.ca=function(a){this.$el.height(a)};Y8.prototype.jt=function(a){this.$el.toggleClass("pagesPanel--swapping",a)};function mfa(a,b){var c=Gf(a.$el[0]);a.ca(b);return c}function b9(a){fc.apply(this,arguments)}t(b9,fc);f=b9.prototype;f.getName=function(){return this.$el.attr("data-page-name").toString()};f.fo=function(a){this.$el.empty();this.$el.append(a)};f.gh=function(){return this.$el.hasClass("pagesPanel__page--visible")};
f.kt=function(a){this.$el.toggleClass("pagesPanel__page--visible",a)};f.jt=function(a){this.$el.toggleClass("pagesPanel__page--swapping",a)};f.o=function(){return this.$el.outerHeight()};function d9(a){soy.asserts.assertType(a.O instanceof soydata.SanitizedHtml||a.O instanceof soydata.UnsanitizedText||goog.isString(a.O),"pages",a.O,"soydata.SanitizedHtml");var b=a.O;soy.asserts.assertType(null==a.v||a.v instanceof goog.soy.data.SanitizedContent||goog.isString(a.v),"classes",a.v,"null|string|undefined");var c=a.v;soy.asserts.assertType(null==a.jv||goog.isBoolean(a.jv)||1===a.jv||0===a.jv,"horizontal",a.jv,"boolean|null|undefined");a=a.jv;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"pagesPanel'+
(c?" "+soy.$$escapeHtmlAttribute(c):"")+(a?" pagesPanel--horizontal":"")+'"\x3e'+soy.$$escapeHtml(b)+"\x3c/div\x3e")}
function a9(a){soy.asserts.assertType(goog.isString(a.name)||a.name instanceof goog.soy.data.SanitizedContent,"name",a.name,"string|goog.soy.data.SanitizedContent");var b=a.name;soy.asserts.assertType(null==a.content||a.content instanceof soydata.SanitizedHtml||a.content instanceof soydata.UnsanitizedText||goog.isString(a.content),"content",a.content,"?soydata.SanitizedHtml|string|undefined");var c=a.content;soy.asserts.assertType(null==a.visible||goog.isBoolean(a.visible)||1===a.visible||0===a.visible,
"visible",a.visible,"boolean|null|undefined");return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"pagesPanel__page'+(a.visible?" pagesPanel__page--visible":"")+'" data-page-name\x3d"'+soy.$$escapeHtmlAttribute(b)+'"\x3e'+(c?soy.$$escapeHtml(c):"")+"\x3c/div\x3e")};function e9(a){fc.apply(this,arguments)}t(e9,fc);function P0(){var a=$(".editorSideDrawer");return new e9(a)}e9.prototype.kt=function(a){if(a===this.gh())return P.resolve();this.$el.toggleClass("editorSideDrawer--hidden",!a);return Gf(this.$el[0])};e9.prototype.fo=function(a){this.$el.find(".editorSideDrawer__content").empty().append(a)};e9.prototype.gh=function(){return!this.$el.hasClass("editorSideDrawer--hidden")};e9.prototype.lr=function(a){return a(this.$el.find(".editorSideDrawer__content"))};
function f9(a,b){a.$el.find(".editorSideDrawer__loadingSpinnerContainer").toggleClass("editorSideDrawer__loadingSpinnerContainer--loading",b)};function nfa(a){var b=goog.asserts.assertObject(a.i,"expected parameter 'messages' of type [addAdditionalAddressFieldButtonText: string, cityLabel: string, contactNumberLabel: string, countryLabel: string, fullNameLabel: string, stateLabel: string, streetAddressLabel: string, zipcodeLabel: string].");soy.asserts.assertType(null==a.Jd||goog.isObject(a.Jd),"address",a.Jd,"null|undefined|{city: string, countryCode: string, name: string, phone: string, street1: string, street2: (null|string|undefined), subdivisionCode: (null|string|undefined), zipCode: string}");
var c=a.Jd,d=goog.asserts.assertArray(a.QD,"expected parameter 'countryOptions' of type list\x3c[disabled: bool|null, selected: bool|null, text: string, value: null|string]\x3e.");soy.asserts.assertType(null==a.rt||goog.isArray(a.rt),"subdivisionOptions",a.rt,"?Array\x3c{disabled: (boolean|null|undefined), selected: (boolean|null|undefined), text: string, value: (null|string|undefined)}\x3e|undefined");a=a.rt;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"addressDetails__address addressDetails__shippingAddress"\x3e\x3cdiv class\x3d"addressDetails__inputRow"\x3e'+
x1({v:"addressDetailsAddress__nameInput",label:b.HL,input:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks(""+S1({value:null==c?null:c.name}))})+x1({v:"addressDetailsAddress__phoneInput",label:b.OJ,input:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks(""+S1({value:null==c?null:c.bk}))})+"\x3c/div\x3e"+x1({v:"addressDetailsAddress__street1Input",label:b.AQ,input:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks(""+S1({value:null==c?null:c.pk}))})+z1({v:"addressDetailsAddress__hiddenAddressInput",
content:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks(""+x1({v:"addressDetailsAddress__street2Input",input:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks(""+S1({value:null==c?null:c.gj}))}))})+z1({v:"addressDetailsAddress__street2ButtonContainer",visible:!0,content:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks(""+x1({input:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks('\x3cbutton class\x3d"button buttonLink addressDetailsAddress__expandAddressButton"\x3e'+
sX()+soy.$$escapeHtml(b.ZI)+"\x3c/button\x3e")}))})+'\x3cdiv class\x3d"addressDetails__inputRow"\x3e'+x1({v:"addressDetailsAddress__cityInput",label:b.DJ,input:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks(""+S1({value:null==c?null:c.Kd}))})+x1({v:"addressDetailsAddress__country",label:b.TJ,input:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks(""+WZ({options:d,disabled:1>=d.length}))})+'\x3c/div\x3e\x3cdiv class\x3d"addressDetails__inputRow"\x3e'+(a?x1({v:"addressDetailsAddress__subdivision",
label:b.yQ,input:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks(""+WZ({v:"addressDetailsAddress__subdivisionSelect",options:a}))}):"")+x1({v:"addressDetailsAddress__zipCodeInput",label:b.DR,input:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks(""+S1({value:null==c?null:c.jf}))})+"\x3c/div\x3e\x3c/div\x3e")}
function g9(a){var b=goog.asserts.assertObject(a.Jd,"expected parameter 'address' of type [city: string, countryName: string, name: string, phone: string, street1: string, street2: null|string, subdivisionName: null|string, zipCode: string].");soy.asserts.assertType(null==a.v||a.v instanceof goog.soy.data.SanitizedContent||goog.isString(a.v),"classes",a.v,"null|string|undefined");a=a.v;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"addressSummary'+(a?" "+soy.$$escapeHtmlAttribute(a):
"")+'"\x3e\x3cdiv class\x3d"addressSummary__column"\x3e\x3cdiv\x3e'+soy.$$escapeHtml(b.name)+"\x3c/div\x3e\x3cdiv\x3e"+soy.$$escapeHtml(b.bk)+'\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"addressSummary__column"\x3e\x3cdiv\x3e'+soy.$$escapeHtml(b.pk)+"\x3c/div\x3e"+(b.gj?"\x3cdiv\x3e"+soy.$$escapeHtml(b.gj)+"\x3c/div\x3e":"")+"\x3cdiv\x3e"+soy.$$escapeHtml(b.Kd)+"\x3c/div\x3e"+(b.dZ?"\x3cdiv\x3e"+soy.$$escapeHtml(b.dZ)+"\x3c/div\x3e":"")+"\x3cdiv\x3e"+soy.$$escapeHtml(b.jf)+"\x3c/div\x3e\x3cdiv\x3e"+
soy.$$escapeHtml(b.i1)+"\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e")};function h9(a){var b=this;R.call(this,a);a.on("click",".addressDetailsAddress__expandAddressButton",function(a){a=new i9($(a.target).closest(".addressDetails__address"));b.trigger(j9,a)});a.on("change",".addressDetailsAddress__country select",function(a){a=new i9($(a.target).closest(".addressDetails__address"));b.trigger(k9,a.Qi())})}t(h9,R);function l9(a){return new i9(a.$el.find(".addressDetails__shippingAddress"))}var j9="CLICK_ADD_APARTMENT",k9="CHANGE_COUNTRY";
function i9(a){fc.apply(this,arguments)}t(i9,fc);f=i9.prototype;f.Vr=function(){return this.$el.find(".addressDetailsAddress__cityInput .textInput").val().toString().trim()};f.getName=function(){return this.$el.find(".addressDetailsAddress__nameInput .textInput").val().toString().trim()};f.bM=function(){return this.$el.find(".addressDetailsAddress__phoneInput .textInput").val().toString().trim()};f.dM=function(){return this.$el.find(".addressDetailsAddress__street1Input .textInput").val().toString().trim()};
f.eM=function(){return this.$el.find(".addressDetailsAddress__street2Input .textInput").val().toString().trim()};function m9(a){a=a.$el.find(".addressDetailsAddress__subdivision select");return a.find("option").filter(":selected").is("[value]")?a.val().toString():null}f.gM=function(){return this.$el.find(".addressDetailsAddress__zipCodeInput .textInput").val().toString().trim()};f.Qi=function(){return this.$el.find(".addressDetailsAddress__country select").val()};function n9(a,b){var c=this;this.view=b;this.ta=a.ta;this.Qf=a.Qf;this.Pi=a.Pi;this.Lj=a.Lj;this.yl=a.yl;this.Wq=a.Wq;this.Hw=a.Hw;this.la=a.la;this.Ja=a.Ja;this.b$=ofa(this,{Qf:a.Qf,Lj:a.Lj,yl:a.yl,Wq:a.Wq});this.view.on(j9,function(a){a.$el.find(".addressDetailsAddress__hiddenAddressInput").addClass("settingContainer__hiddenInputs--visible");a.$el.find(".addressDetailsAddress__street2ButtonContainer").removeClass("settingContainer__hiddenInputs--visible")});this.view.on(k9,function(a){if(!c.Lj){var b=
L1({yb:a,Df:c.Hw});a=c.view;b=$(WZ({options:b,v:"addressDetailsAddress__subdivisionSelect"}).toString());a.$el.find(".addressDetailsAddress__subdivisionSelect").replaceWith(b)}})}
function pfa(a){var b=null!=a.cc?Ew("countryCode",a.cc.yb):null,c=b&&a.Hh.has(b)?{Kd:a.cc.Kd,yb:a.cc.yb,name:a.cc.name,bk:a.cc.bk,pk:a.cc.pk,gj:a.cc.gj,k9:a.cc.qh,jf:a.cc.jf}:null,d=b&&a.Hh.has(b)?b:Array.from(a.Hh)[0],b=K1({Hh:a.Hh,D8:d}),e;a.Lj||(e=L1({yb:d,Df:a.Yc.Hw(),zH:c&&c.k9}));var d=a.v,g={Y_:{ZI:a.Yc.ZI(),DJ:a.Yc.DJ(),OJ:a.Yc.OJ(),TJ:a.Yc.TJ(),HL:a.Yc.HL(),yQ:a.Yc.yQ(),AQ:a.Yc.AQ(),DR:a.Hh.has("US")?a.Yc.DR():a.Yc.format("addressDetailsPostcodeLabel")},X_:a.Yc.heading(),AP:a.Yc.AP(),Yw:a.Ac.Yw()},
h=a.Ce.pc(4,5),k=e,l=a.xaa;e=$;soy.asserts.assertType(null==d||d instanceof goog.soy.data.SanitizedContent||goog.isString(d),"classes",d,"null|string|undefined");g=goog.asserts.assertObject(g,"expected parameter 'messages' of type [addressDetailsHeading: string, addressMessages: [addAdditionalAddressFieldButtonText: string, cityLabel: string, contactNumberLabel: string, countryLabel: string, fullNameLabel: string, stateLabel: string, streetAddressLabel: string, zipcodeLabel: string], saveAddressLabel: string, shippingAddressHeading: string].");
soy.asserts.assertType(null==c||goog.isObject(c),"shippingAddress",c,"null|undefined|{city: string, countryCode: string, name: string, phone: string, street1: string, street2: (null|string|undefined), subdivisionCode: (null|string|undefined), zipCode: string}");soy.asserts.assertType(goog.isString(h)||h instanceof goog.soy.data.SanitizedContent,"pageNumberOfTotal",h,"string|goog.soy.data.SanitizedContent");b=goog.asserts.assertArray(b,"expected parameter 'countryOptions' of type list\x3c[disabled: bool|null, selected: bool|null, text: string, value: null|string]\x3e.");
soy.asserts.assertType(null==k||goog.isArray(k),"subdivisionOptions",k,"?Array\x3c{disabled: (boolean|null|undefined), selected: (boolean|null|undefined), text: string, value: (null|string|undefined)}\x3e|undefined");soy.asserts.assertType(null==l||goog.isBoolean(l)||1===l||0===l,"hideSaveAddress",l,"boolean|null|undefined");c=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"addressDetails'+(d?" "+soy.$$escapeHtmlAttribute(d):"")+'"\x3e\x3cdiv class\x3d"printFlowPage__header"\x3e\x3cspan class\x3d"printFlowStepNumberBadge"\x3e'+
soy.$$escapeHtml(h)+'\x3c/span\x3e\x3ch1 class\x3d"printFlowPage__heading"\x3e'+soy.$$escapeHtml(g.X_)+"\x3c/h1\x3e\x3c/div\x3e"+u1({heading:g.Yw,content:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks(""+v1({Ra:!0,content:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks(""+nfa({i:g.Y_,Jd:c,QD:b,rt:k})+(l?"":x1({input:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks('\x3clabel\x3e\x3cinput type\x3d"checkbox" class\x3d"addressDetails__saveAddressCheckbox"/\x3e'+soy.$$escapeHtml(g.AP)+
"\x3clabel\x3e")})))}))})+"\x3c/div\x3e");c=e(c.toString());c=new h9(c);a={ta:a.ta,Qf:a.Qf,Pi:a.Pi,Lj:a.Lj,yl:a.yl,Ja:a.Ja,Hw:a.Yc.Hw(),Wq:a.Wq,la:a.la};return{wb:new n9(a,c),view:c}}
function ofa(a,b){var c={xp:function(){return D1(l9(a.view).$el.find(".addressDetailsAddress__subdivision"))},yp:function(){return m9(l9(a.view))},gr:[b.Qf]};return[].concat([{xp:function(){return D1(l9(a.view).$el.find(".addressDetailsAddress__cityInput"))},yp:function(){return l9(a.view).Vr()},gr:[b.Qf]},{xp:function(){return D1(l9(a.view).$el.find(".addressDetailsAddress__nameInput"))},yp:function(){return l9(a.view).getName()},gr:[b.Qf]},{xp:function(){return D1(l9(a.view).$el.find(".addressDetailsAddress__phoneInput"))},
yp:function(){return l9(a.view).bM()},gr:[b.Qf]},{xp:function(){return D1(l9(a.view).$el.find(".addressDetailsAddress__street1Input"))},yp:function(){return l9(a.view).dM()},gr:[b.Qf,b.Wq,b.yl]},{xp:function(){return D1(l9(a.view).$el.find(".addressDetailsAddress__street2Input"))},yp:function(){return l9(a.view).eM()},gr:[b.Wq,b.yl]}],na(b.Lj?[]:[c]),[{xp:function(){return D1(l9(a.view).$el.find(".addressDetailsAddress__zipCodeInput"))},yp:function(){return l9(a.view).gM()},gr:[b.Qf]}])}
n9.prototype.cv=function(){var a=l9(this.view),b;this.Lj||(b=w(m9(a),"subdivision must be present"));return new t7({Kd:a.Vr(),yb:a.Qi(),name:a.getName(),bk:a.bM(),pk:a.dM(),gj:a.eM(),qh:b,jf:a.gM()})};
function qfa(a){if(!a.view.$el.find(".addressDetails__saveAddressCheckbox")[0].checked)return P.resolve();var b=new E7({D:a.ta,user:a.la,Jd:a.cv()});a=a.Ja;return wj(a.N,a.path+"/addresses/"+b.D,{id:G("id",b.id),brand:G("brand",b.D),user:G("user",b.user),address:cb.required("address",u7(b.Jd))}).catch(xj).get(0).then(La).then(fea)}n9.prototype.destroy=function(){this.view.remove()};function o9(a){soy.asserts.assertType(a.Hr instanceof goog.soy.data.SanitizedContent||a.Hr instanceof soydata.SanitizedHtml||a.Hr instanceof soydata.UnsanitizedText||goog.isString(a.Hr),"desc",a.Hr,"!soydata.SanitizedHtml|string");return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3clabel class\x3d"designProofReview__checkboxLabel"\x3e\x3cinput type\x3d"checkbox" class\x3d"designProofReview__checkbox" /\x3e\x3cspan class\x3d"designProofReview__checkboxDescription"\x3e'+soy.$$escapeHtml(a.Hr)+"\x3c/span\x3e\x3c/label\x3e")}
;function p9(a){var b=this;R.call(this,a);this.$el.on("change",".designProofReview__checkbox",function(){b.trigger(q9)});this.$el.on("click",".designProofReview__checkoutButton",function(){b.trigger(r9)});this.$el.on("click",".designProofReview__supportLink",function(){b.trigger(s9)})}t(p9,R);function rfa(a){var b=$(l1({v:"designProofReview__progressbar",progress:0,rB:s1}).toString()),b=n1(b);a.$el.find(".designProofReview__progressbarContainer").prepend(b.$el)}
p9.prototype.OQ=function(a){var b=this.$el.find(".designProofReview__autoDownloadIframe");1>b.length&&(b=$("\x3ciframe /\x3e",{"class":"designProofReview__autoDownloadIframe"}),this.$el.append(b));b.attr("src",a)};function sfa(a){return a.$el.find(".designProofReview__checkbox").toArray().map(function(a){return a.checked})}var q9="CHANGE_REVIEW_ITEM",s9="CLICK_SUPPORT_LINK",r9="CONTINUE_TO_CHECKOUT";function t9(a,b){var c=this;this.view=b;this.j=a.j;this.i=a.i;this.Ja=a.Ja;this.sL=a.sL;this.$A=a.$A;this.sO=null;this.MN=a.MN;b.on(q9,function(){return tfa(c)});b.on(r9,function(){return c.MN()});b.on(s9,function(){var a=new fm("print_review_support");c.j.wa(a)})}function ufa(a){var b=a.Ki;return{fu:b.fu(),sr:b.sr(vfa),ku:b.ku(),description:b.description(),nE:"https://support.canva.com/troubleshooting/downloading/",Su:b.Su(),heading:b.heading(),pc:a.Ce.pc(3,5),Gw:b.Gw()}}
function wfa(a,b){return new t9(a,b)}function xfa(a,b){return a.sL.UH(function(a){var d=this;return Aea(this.Ja,new G7({order:this.$A,ns:b})).then(function(e){if("FAILED"===e.status)throw Error("export with jobId '"+b+"' failed for proof of order '"+d.$A+"'");"EXPORTED"===e.status&&a(e)})}.bind(a))}
function yfa(a){var b=new F7({order:a.$A,cj:"PROOF"});rfa(a.view);a.sO=zea(a.Ja,b).cancellable().then(function(b){return xfa(a,b.ns)}).then(function(b){b=b.url;var d=a.i.Oa("designProofReviewManualDownloadInfoHtml",b,"designProofReview__manualDownloadLink"),e=a.view;(new m1(e.$el.find(".designProofReview__progressbar"))).remove();e.$el.find(".designProofReview__progressbarContainer").addClass("designProofReview__progressbarContainer--hidden");e=a.view;e.$el.find(".designProofReview__manualDownload").empty().append(d.getContent()).removeClass("designProofReview__manualDownload--hidden");
e.$el.find(".designProofReview__manualDownloadLink").attr("download","download").attr("target","_blank");e.$el.find(".designProofReview__actionButtons").removeClass("designProofReview__actionButtons--hidden");e.$el.find(".designProofReview__checklist").removeClass("designProofReview__checklist--hidden");a.view.OQ(b)}).catch(P.CancellationError,$.noop)}
function tfa(a){sfa(a.view).every(function(a){return a})?a.view.$el.find(".designProofReview__checkoutButton").prop("disabled",!1):a.view.$el.find(".designProofReview__checkoutButton").prop("disabled",!0)}t9.prototype.destroy=function(){null!=this.sO&&this.sO.cancel();this.view.remove()};var vfa="https://about.canva.com/terms-of-use/";function u9(a){this.QQ=a.QQ;this.Xj=a.Xj;this.je=a.je;this.Ca=a.Ca;this.qc=a.qc;this.Sc=a.Sc;this.Tn=a.Tn;this.Sd=a.Sd;this.Pl=a.Pl;this.ph=a.ph;this.kb=a.kb;this.HW=function(){};this.GW=function(){};this.FW=function(){}}
function v9(a){var b;if(null!=a.KP)b=w(a.qc.Eb.find(function(b){return b.Ie===a.KP}),"product price not found for sku {}",a.KP);else if(null!=a.PB){var c=w(zfa(a.qc,a.PB),"Selected paper size is missing from the product model");b=a.qc.Eb.filter(function(b){return a.qc.Cp(b.Ie).Db===c});if(0===b.length)throw Error('No products have the selected paper size "{}".',a.PB);b=w9(b)}else b=w9(a.qc.Eb);var d=Afa(a.qc.qF()),e=x9(a.Xj,b);null!=a.Sd&&Ca(e.includes(a.Sd),'orderQuantity: "{}" is not applicable for the product: "{}"',
a.Sd,b.Ie);return new u9({Xj:a.Xj,je:a.je,Ca:a.Ca,qc:a.qc,Sc:a.Sc,Tn:a.Tn,Sd:a.Sd||e[0],Pl:b,QQ:d,ph:a.ph||Bfa(a.kb),kb:a.kb})}function w9(a){function b(a){return Math.min.apply(Math,[].concat(na(a.map(function(a){return a.hI}))))}return _.sortBy(a,function(a){return b(a.Eb)})[0]}function Bfa(a){Ca(0<a.length,"Expected at least one ShippingPrice");return a.sort(function(a,c){return a.Wh-c.Wh})[0].bb}
function x9(a,b){return a.filter(function(a){return-1<b.Eb.findIndex(function(b){return b.mG<=a&&a<=b.dG})}).sort(function(a,b){return a-b})}function y9(a){return a.qc.Cp(a.Pl.Ie)}function z9(a,b){return a.qc.Eb.filter(function(c){c=a.qc.Cp(c.Ie);return(!b.Db||c.Db===b.Db)&&(!b.Be||c.Be===b.Be)&&(!b.dg||c.dg===b.dg)})}
function Cfa(a,b,c){var d=new Map;b.forEach(function(b){var g=0,h=a.qc.Cp(b.Ie);null!=c.Be&&(g+=h.Be===c.Be?2:0);null!=c.dg&&(g+=h.dg===c.dg?1:0);d.has(g)||d.set(g,[]);d.get(g).push(b)});return d.get(Math.max.apply(Math,[].concat(na(d.keys()))))||b}function A9(a,b,c){var d=z9(a,b);Fa(0<d.length,"Could not find product prices for the specified options");var e=y9(a);b=Cfa(a,d,{dg:null==b.dg?e.dg:null,Be:null==b.Be?e.Be:null});b=w9(b);d=x9(a.Xj,b);a.Pl=b;d.includes(a.Sd)||(a.Sd=d[0]);B9(a,c)}
function B9(a,b){switch(b){case "PAPER_SIZE":a.HW();B9(a,"PAPER_TYPE");break;case "PAPER_TYPE":a.GW();B9(a,"PAPER_FINISH");break;case "PAPER_FINISH":a.FW();break;default:throw Error("Expected OrderOptionName: found "+b);}}function Dfa(a,b){a.HW=b}function Efa(a,b){a.GW=b}function Ffa(a,b){a.FW=b}u9.prototype.removeDuplicates=function(a){return Array.from(new Set(a))};function Gfa(a){var b=a.qc.Eb.map(function(b){return a.qc.Cp(b.Ie).Db});return a.removeDuplicates(b)}
function Hfa(a){var b=y9(a).Db,c=z9(a,{Db:b}).map(function(b){return a.qc.Cp(b.Ie).Be});Fa(0<c.length,'Could not find applicable paper types for PaperSize:"{}"',b);return a.removeDuplicates(c)}function Ifa(a){var b=y9(a),c=b.Db,b=b.Be,d=z9(a,{Db:c,Be:b}).map(function(b){return a.qc.Cp(b.Ie).dg});Fa(0<d.length,'Could not find applicable paper finishes for PaperSize: "{}" \x26 PaperType: "{}"',c,b);return a.removeDuplicates(d)}
function C9(a){switch(a){case "STANDARD":return 1;case "PREMIUM":return 2;case "ECO_FRIENDLY":return 3;case "DELUXE":return 4;default:throw Error("Expected PaperType but found "+a);}}function D9(a){switch(a){case "GLOSS":return 1;case "MATTE":return 2;case "SOFT_TOUCH":return 3;case "UNCOATED":return 4;case "SILK":return 5;default:throw Error("Expected PaperFinish but found "+a);}}
function E9(a){var b=Hfa(a).sort(function(b,c){b=a.qc.Xm(b).type;c=a.qc.Xm(c).type;return C9(b)-C9(c)}),c=y9(a).Be;Fa(b.includes(c),'paper type: "{}" is not applicable',c);return b.map(function(b){var e=a.qc.Xm(b),g=$;b={UG:e.name,selected:b===c,TG:e.description,value:b};soy.asserts.assertType(null==b.v||b.v instanceof goog.soy.data.SanitizedContent||goog.isString(b.v),"classes",b.v,"null|string|undefined");e=b.v;soy.asserts.assertType(goog.isString(b.TG)||b.TG instanceof goog.soy.data.SanitizedContent,
"paperTypeDescription",b.TG,"string|goog.soy.data.SanitizedContent");var h=b.TG;soy.asserts.assertType(goog.isString(b.UG)||b.UG instanceof goog.soy.data.SanitizedContent,"paperTypeLabel",b.UG,"string|goog.soy.data.SanitizedContent");var k=b.UG;soy.asserts.assertType(null==b.selected||goog.isBoolean(b.selected)||1===b.selected||0===b.selected,"selected",b.selected,"boolean|null|undefined");var l=b.selected;soy.asserts.assertType(goog.isString(b.value)||b.value instanceof goog.soy.data.SanitizedContent,
"value",b.value,"string|goog.soy.data.SanitizedContent");b=soydata.VERY_UNSAFE.ordainSanitizedHtml(i8({label:k,value:b.value,attributes:soydata.VERY_UNSAFE.$$ordainSanitizedAttributesForInternalBlocks('data-label\x3d"'+soy.$$escapeHtmlAttribute(k)+'"'),v:e,description:h,selected:l}));g=g(b.toString());return r8(g)})}
function F9(a){var b=Ifa(a).sort(function(b,c){b=a.qc.Wm(b).finish;c=a.qc.Wm(c).finish;return D9(b)-D9(c)}),c=y9(a).dg;Fa(b.includes(c),'paper finish: "{}" is not applicable',c);return b.map(function(b){var e=a.qc.Wm(b),g=$;b={aw:e.description,SG:e.name,selected:b===c,value:b};soy.asserts.assertType(null==b.v||b.v instanceof goog.soy.data.SanitizedContent||goog.isString(b.v),"classes",b.v,"null|string|undefined");e=b.v;soy.asserts.assertType(b.aw instanceof goog.soy.data.SanitizedContent||b.aw instanceof
soydata.SanitizedHtml||b.aw instanceof soydata.UnsanitizedText||goog.isString(b.aw),"paperFinishDescription",b.aw,"!soydata.SanitizedHtml|string");var h=b.aw;soy.asserts.assertType(goog.isString(b.SG)||b.SG instanceof goog.soy.data.SanitizedContent,"paperFinishLabel",b.SG,"string|goog.soy.data.SanitizedContent");var k=b.SG;soy.asserts.assertType(null==b.selected||goog.isBoolean(b.selected)||1===b.selected||0===b.selected,"selected",b.selected,"boolean|null|undefined");var l=b.selected;soy.asserts.assertType(goog.isString(b.value)||
b.value instanceof goog.soy.data.SanitizedContent,"value",b.value,"string|goog.soy.data.SanitizedContent");b=soydata.VERY_UNSAFE.ordainSanitizedHtml(i8({label:k,value:b.value,attributes:soydata.VERY_UNSAFE.$$ordainSanitizedAttributesForInternalBlocks('data-label\x3d"'+soy.$$escapeHtmlAttribute(k)+'"'),v:e,description:h,selected:l}));g=g(b.toString());return t8(g)})}
function G9(a,b){var c=x9(a.Xj,a.Pl);Fa(c.includes(a.Sd),'order quantity "{}" is not applicable',a.Sd);var d=a.Pl.Eb,e=V7(d,c[0]);null==b&&(b=Tea);return c.map(function(c){var h=V7(d,c);Fa(0<e,"price must be a positive number");var k=h>e?0:100*(e-h)/e,h=h*c/100;return b({Uv:a.Ca.Uv(c),da:a.Ca.da(h),Ma:0!==k?a.Ca.Ma(k):null,selected:c===a.Sd,value:c.toString()})})}
function Jfa(a){var b=Gfa(a),c=y9(a).Db;Fa(b.includes(c),'Paper size: "{}" is not applicable',c);return _.sortBy(b,function(b){return a.qc.Dj(b).jj}).map(function(b){var e={bw:f8(a.je,a.qc.Dj(b)),selected:b===c,value:b};b=$;var g;soy.asserts.assertType(null==e.v||e.v instanceof goog.soy.data.SanitizedContent||goog.isString(e.v),"classes",e.v,"null|string|undefined");g=e.v;soy.asserts.assertType(e.bw instanceof goog.soy.data.SanitizedContent||e.bw instanceof soydata.SanitizedHtml||e.bw instanceof soydata.UnsanitizedText||
goog.isString(e.bw),"paperSizeLabel",e.bw,"!soydata.SanitizedHtml|string");var h=e.bw;soy.asserts.assertType(null==e.selected||goog.isBoolean(e.selected)||1===e.selected||0===e.selected,"selected",e.selected,"boolean|null|undefined");var k=e.selected;soy.asserts.assertType(goog.isString(e.value)||e.value instanceof goog.soy.data.SanitizedContent,"value",e.value,"string|goog.soy.data.SanitizedContent");e=e.value;g=soydata.VERY_UNSAFE.ordainSanitizedHtml(i8({v:g+" paperSizeOption",label:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks('\x3cspan class\x3d"paperSizeOption__label"\x3e'+
soy.$$escapeHtml(h)+"\x3c/span\x3e"),value:e,selected:k}));b=b(g.toString());return k8(b)})}
function Kfa(a,b){return b.kb.sort(function(a,b){return a.Wh-b.Wh}).map(function(b){var d;a:{d=a.je;var e=b.bb;switch(e){case "STANDARD":d=d.format("printOrderShippingMethodStandardType");break a;case "EXPRESS":d=d.format("printOrderShippingMethodExpressType");break a;default:throw Error("Expected a ShippingMethod, but got '"+e+"'");}}a:{var e=a.je,g=b.bb;switch(g){case "STANDARD":e=e.format("printOrderShippingMethodStandardDescription");break a;case "EXPRESS":e=e.format("printOrderShippingMethodExpressDescription");
break a;default:throw Error("Expected a ShippingMethod, but got '"+g+"'");}}var h={JH:d,IH:e,da:a.Ca.da(b.Wh/100),value:b.bb,selected:b.bb===a.ph,disabled:!1};b=$;soy.asserts.assertType(null==h.v||h.v instanceof goog.soy.data.SanitizedContent||goog.isString(h.v),"classes",h.v,"null|string|undefined");d=h.v;soy.asserts.assertType(goog.isString(h.JH)||h.JH instanceof goog.soy.data.SanitizedContent,"shippingLabel",h.JH,"string|goog.soy.data.SanitizedContent");e=h.JH;soy.asserts.assertType(goog.isString(h.IH)||
h.IH instanceof goog.soy.data.SanitizedContent,"shippingDescription",h.IH,"string|goog.soy.data.SanitizedContent");g=h.IH;soy.asserts.assertType(goog.isString(h.da)||h.da instanceof goog.soy.data.SanitizedContent,"price",h.da,"string|goog.soy.data.SanitizedContent");var k=h.da;soy.asserts.assertType(null==h.selected||goog.isBoolean(h.selected)||1===h.selected||0===h.selected,"selected",h.selected,"boolean|null|undefined");var l=h.selected;soy.asserts.assertType(goog.isString(h.value)||h.value instanceof
goog.soy.data.SanitizedContent,"value",h.value,"string|goog.soy.data.SanitizedContent");h=h.value;d=soydata.VERY_UNSAFE.ordainSanitizedHtml(i8({label:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks('\x3cdiv class\x3d"shippingOption__label"\x3e\x3cspan class\x3d"shippingSelectionLabel__copies"\x3e'+soy.$$escapeHtml(e)+'\x3c/span\x3e\x3cspan class\x3d"shippingSelectionLabel__price"\x3e'+soy.$$escapeHtml(k)+"\x3c/span\x3e\x3c/div\x3e"),value:h,attributes:soydata.VERY_UNSAFE.$$ordainSanitizedAttributesForInternalBlocks('data-label\x3d"'+
soy.$$escapeHtmlAttribute(e)+'" data-price\x3d"'+soy.$$escapeHtmlAttribute(k)+'"'),v:d,description:g,selected:l}));b=b(d.toString());return v8(b)})}function Afa(a){a=a.map(function(a){return a.Jv});a=_.uniq(a);Fa(1===a.length,'All products must have same value for the property "maxPages", found "{}"',a);return 2===a[0]}
function Lfa(a){switch(a.ph){case "STANDARD":return a.je.format("printOrderShippingMethodStandard");case "EXPRESS":return a.je.format("printOrderShippingMethodExpress");default:throw Error("Expected a ShippingMethod, but got '"+a.ph+"'");}}function Mfa(a){var b=a.kb.filter(function(b){return b.bb===a.ph})[0].Wh;return a.Ca.da(b/100)}function H9(a){this.Wc=a.Wc;this.attributes=a.attributes;this.Eb=a.Eb}
function Nfa(a){Ca(0<a.Wc.length,"Must have at least one product");var b=new Map(a.Wc.map(function(a){return[a.Ie,a]}));return new H9({attributes:a.attributes,Eb:a.Eb,Wc:b})}f=H9.prototype;f.qF=function(){return Array.from(this.Wc.values())};f.Cp=function(a){return w(this.Wc.get(a),'Invalid product sku: "{}"',a)};f.Dj=function(a){return w(this.attributes.cw.get(a),'Invalid paper size id: "{}"',a)};f.Wm=function(a){return w(this.attributes.oO.get(a),'Invalid paper finish id: "{}"',a)};
f.Xm=function(a){return w(this.attributes.qO.get(a),'Invalid paper type id: "{}"',a)};function zfa(a,b){for(var c=ma(a.attributes.cw.keys()),d=c.next();!d.done;d=c.next()){var d=d.value,e=a.attributes.cw.get(d);if(e.jj===b.jj&&e.Jj===b.Jj)return d}return null};function Ofa(a){soy.asserts.assertType(goog.isString(a.hk)||a.hk instanceof goog.soy.data.SanitizedContent,"selectYourPrintOptions",a.hk,"string|goog.soy.data.SanitizedContent");var b=a.hk;soy.asserts.assertType(null==a.$h||a.$h instanceof goog.soy.data.SanitizedContent||goog.isString(a.$h),"selectYourShippingOption",a.$h,"null|string|undefined");var c=a.$h;soy.asserts.assertType(a.Kn instanceof soydata.SanitizedHtml||a.Kn instanceof soydata.UnsanitizedText||goog.isString(a.Kn),"paperSizeListboxHtml",
a.Kn,"soydata.SanitizedHtml");var d=a.Kn;soy.asserts.assertType(null==a.ak||a.ak instanceof soydata.SanitizedHtml||a.ak instanceof soydata.UnsanitizedText||goog.isString(a.ak),"pageCountListboxHtml",a.ak,"?soydata.SanitizedHtml|string|undefined");var e=a.ak;soy.asserts.assertType(a.Ln instanceof soydata.SanitizedHtml||a.Ln instanceof soydata.UnsanitizedText||goog.isString(a.Ln),"paperTypeListboxHtml",a.Ln,"soydata.SanitizedHtml");var g=a.Ln;soy.asserts.assertType(a.Jn instanceof soydata.SanitizedHtml||
a.Jn instanceof soydata.UnsanitizedText||goog.isString(a.Jn),"paperFinishListboxHtml",a.Jn,"soydata.SanitizedHtml");var h=a.Jn;soy.asserts.assertType(a.Gn instanceof soydata.SanitizedHtml||a.Gn instanceof soydata.UnsanitizedText||goog.isString(a.Gn),"orderQuantityListboxHtml",a.Gn,"soydata.SanitizedHtml");var k=a.Gn;soy.asserts.assertType(a.lo instanceof soydata.SanitizedHtml||a.lo instanceof soydata.UnsanitizedText||goog.isString(a.lo),"shippingListboxHtml",a.lo,"soydata.SanitizedHtml");a=a.lo;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"printOrderSummary__selectPrintOptions"\x3e'+
soy.$$escapeHtml(b)+"\x3c/div\x3e"+soy.$$escapeHtml(d)+(e?soy.$$escapeHtml(e):"")+soy.$$escapeHtml(g)+soy.$$escapeHtml(h)+soy.$$escapeHtml(k)+(c?'\x3cdiv class\x3d"printOrderSummary__selectShippingOptions"\x3e'+soy.$$escapeHtml(c)+"\x3c/div\x3e"+soy.$$escapeHtml(a):""))}
function Pfa(a){soy.asserts.assertType(goog.isString(a.bb)||a.bb instanceof goog.soy.data.SanitizedContent,"shippingMethod",a.bb,"string|goog.soy.data.SanitizedContent");var b=a.bb;soy.asserts.assertType(goog.isString(a.da)||a.da instanceof goog.soy.data.SanitizedContent,"price",a.da,"string|goog.soy.data.SanitizedContent");a=a.da;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"printOrderSummary__shippingLabel"\x3e\x3cspan class\x3d"printOrderSummary__shippingMethod"\x3e'+soy.$$escapeHtml(b)+
'\x3c/span\x3e\x3cspan class\x3d"printOrderSummary__price"\x3e'+soy.$$escapeHtml(a)+"\x3c/span\x3e\x3c/div\x3e")};function I9(a,b,c){R.call(this,a);this.Cf=b;this.Zi=c.Zi;this.Sh=c.Sh;this.Th=c.Th;this.Rh=c.Rh;this.Bf=c.Bf;this.Vl=c.Vl}t(I9,R);
function J9(a){var b=a.heading,c=K9(a.J6),d=a.dX&&K9(a.dX),e=K9(a.Z6),g=K9(a.a7),h=K9(a.b7),k=K9(a.Q8),l,m=a.g7,n;soy.asserts.assertType(null==m.RD||m.RD instanceof goog.soy.data.SanitizedContent||goog.isString(m.RD),"couponDiscountAmount",m.RD,"null|string|undefined");l=m.RD;soy.asserts.assertType(null==m.SD||m.SD instanceof goog.soy.data.SanitizedContent||goog.isString(m.SD),"couponDiscountLabel",m.SD,"null|string|undefined");var p=m.SD;soy.asserts.assertType(goog.isString(m.rj)||m.rj instanceof
goog.soy.data.SanitizedContent,"creditUsed",m.rj,"string|goog.soy.data.SanitizedContent");var q=m.rj;soy.asserts.assertType(goog.isString(m.eE)||m.eE instanceof goog.soy.data.SanitizedContent,"creditUsedLabel",m.eE,"string|goog.soy.data.SanitizedContent");var u=m.eE;soy.asserts.assertType(goog.isString(m.jw)||m.jw instanceof goog.soy.data.SanitizedContent,"premiumImagesPriceLabel",m.jw,"string|goog.soy.data.SanitizedContent");var v=m.jw;soy.asserts.assertType(goog.isString(m.$G)||m.$G instanceof goog.soy.data.SanitizedContent,
"premiumImagesTotalPrice",m.$G,"string|goog.soy.data.SanitizedContent");var z=m.$G;soy.asserts.assertType(goog.isString(m.xw)||m.xw instanceof goog.soy.data.SanitizedContent,"removeCouponText",m.xw,"string|goog.soy.data.SanitizedContent");var r=m.xw;soy.asserts.assertType(m.zt instanceof soydata.SanitizedHtml||m.zt instanceof soydata.UnsanitizedText||goog.isString(m.zt),"totalLabelHtml",m.zt,"soydata.SanitizedHtml");var x=m.zt;soy.asserts.assertType(goog.isString(m.$l)||m.$l instanceof goog.soy.data.SanitizedContent,
"totalPrice",m.$l,"string|goog.soy.data.SanitizedContent");var H=m.$l;soy.asserts.assertType(null==m.LH||goog.isObject(m.LH),"shippingPriceDetails",m.LH,"null|undefined|{label: string, price: string}");m=m.LH;l=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"printOrderSummary__paymentSummary"\x3e'+(m?'\x3cdiv class\x3d"printOrderSummary__info"\x3e\x3cspan\x3e'+soy.$$escapeHtml(m.label)+'\x3c/span\x3e\x3cspan class\x3d"printOrderSummary__shippingPrice"\x3e'+soy.$$escapeHtml(m.da)+"\x3c/span\x3e\x3c/div\x3e":
"")+'\x3cdiv class\x3d"printOrderSummary__info printOrderSummary__premiumImagesInfo printOrderSummary__info--hidden"\x3e\x3cspan\x3e'+soy.$$escapeHtml(v)+'\x3c/span\x3e\x3ca class\x3d"printOrderSummary__premiumImagesLink" href\x3d"#"\x3e\x3cimg src\x3d"https://static.canva.com/static/images/icon-info.svg" /\x3e\x3c/a\x3e\x3cspan class\x3d"printOrderSummary__premiumImagesTotalPrice"\x3e'+soy.$$escapeHtml(z)+'\x3c/span\x3e\x3c/div\x3e\x3cdiv class\x3d"printOrderSummary__info printOrderSummary__creditInfo printOrderSummary__info--hidden"\x3e\x3cspan class\x3d"printOrderSummary__creditUsedLabel"\x3e'+
soy.$$escapeHtml(u)+'\x3c/span\x3e\x3cspan class\x3d"printOrderSummary__creditUsed"\x3e'+soy.$$escapeHtml(q)+'\x3c/span\x3e\x3c/div\x3e\x3cdiv class\x3d"printOrderSummary__info printOrderSummary__couponDiscountInfo'+(p&&l?"":" printOrderSummary__info--hidden")+'"\x3e\x3cdiv\x3e\x3cspan class\x3d"printOrderSummary__couponDiscountLabel"\x3e'+soy.$$escapeHtml(null==(n=p)?"":n)+'\x3c/span\x3e\x3cdiv class\x3d"printOrderSummary__removeCouponLinkContainer"\x3e\x3ca href\x3d"#" class\x3d"printOrderSummary__removeCouponLink"\x3e'+
soy.$$escapeHtml(r)+'\x3c/a\x3e\x3c/div\x3e\x3c/div\x3e\x3cspan\x3e-\x3cspan class\x3d"printOrderSummary__couponDiscountAmount"\x3e'+soy.$$escapeHtml(null==(n=l)?"":n)+'\x3c/span\x3e\x3c/span\x3e\x3c/div\x3e\x3cdiv class\x3d"printOrderSummary__info"\x3e\x3cspan\x3e'+soy.$$escapeHtml(x)+'\x3c/span\x3e\x3cstrong class\x3d"printOrderSummary__orderTotalPrice"\x3e'+soy.$$escapeHtml(H)+"\x3c/strong\x3e\x3c/div\x3e\x3c/div\x3e");a={heading:b,Gn:c,ak:d,Jn:e,Kn:g,Ln:h,lo:k,kB:l,hk:a.hk,$h:a.$h,KG:L9,LG:M9};
soy.asserts.assertType(goog.isString(a.heading)||a.heading instanceof goog.soy.data.SanitizedContent,"heading",a.heading,"string|goog.soy.data.SanitizedContent");b=a.heading;soy.asserts.assertType(a.Gn instanceof soydata.SanitizedHtml||a.Gn instanceof soydata.UnsanitizedText||goog.isString(a.Gn),"orderQuantityListboxHtml",a.Gn,"soydata.SanitizedHtml");soy.asserts.assertType(null==a.ak||a.ak instanceof soydata.SanitizedHtml||a.ak instanceof soydata.UnsanitizedText||goog.isString(a.ak),"pageCountListboxHtml",
a.ak,"?soydata.SanitizedHtml|string|undefined");soy.asserts.assertType(a.Jn instanceof soydata.SanitizedHtml||a.Jn instanceof soydata.UnsanitizedText||goog.isString(a.Jn),"paperFinishListboxHtml",a.Jn,"soydata.SanitizedHtml");soy.asserts.assertType(a.Kn instanceof soydata.SanitizedHtml||a.Kn instanceof soydata.UnsanitizedText||goog.isString(a.Kn),"paperSizeListboxHtml",a.Kn,"soydata.SanitizedHtml");soy.asserts.assertType(a.Ln instanceof soydata.SanitizedHtml||a.Ln instanceof soydata.UnsanitizedText||
goog.isString(a.Ln),"paperTypeListboxHtml",a.Ln,"soydata.SanitizedHtml");soy.asserts.assertType(a.lo instanceof soydata.SanitizedHtml||a.lo instanceof soydata.UnsanitizedText||goog.isString(a.lo),"shippingListboxHtml",a.lo,"soydata.SanitizedHtml");soy.asserts.assertType(a.kB instanceof soydata.SanitizedHtml||a.kB instanceof soydata.UnsanitizedText||goog.isString(a.kB),"paymentSummaryHtml",a.kB,"soydata.SanitizedHtml");c=a.kB;soy.asserts.assertType(goog.isString(a.hk)||a.hk instanceof goog.soy.data.SanitizedContent,
"selectYourPrintOptions",a.hk,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(null==a.$h||a.$h instanceof goog.soy.data.SanitizedContent||goog.isString(a.$h),"selectYourShippingOption",a.$h,"null|string|undefined");soy.asserts.assertType(goog.isString(a.KG)||a.KG instanceof goog.soy.data.SanitizedContent,"orderFormListboxesPanelPageName",a.KG,"string|goog.soy.data.SanitizedContent");d=a.KG;soy.asserts.assertType(goog.isString(a.LG)||a.LG instanceof goog.soy.data.SanitizedContent,"orderFormReviewPanelPageName",
a.LG,"string|goog.soy.data.SanitizedContent");e=a.LG;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"printOrderSummary"\x3e\x3cdiv class\x3d"printOrderSummary__header"\x3e\x3ch1 class\x3d"printOrderSummary__heading"\x3e'+soy.$$escapeHtml(b)+'\x3c/h1\x3e\x3c/div\x3e\x3cdiv class\x3d"printOrderSummary__content"\x3e\x3cdiv class\x3d"printOrderSummary__info"\x3e\x3cdiv class\x3d"printOrderSummary__orderPreview"\x3e\x3c/div\x3e\x3c/div\x3e'+d9({v:"printOrderSummary__pagesPanel",O:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks(""+
a9({v:"printOrderSummary__listboxesPagesPanel",content:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks(""+Ofa(a)),name:d,visible:!0})+a9({v:"printOrderSummary__orderFormReviewPanel",name:e,visible:!1}))})+'\x3c/div\x3e\x3cdiv class\x3d"printOrderSummary__footer"\x3e'+soy.$$escapeHtml(c)+"\x3c/div\x3e\x3c/div\x3e")}function K9(a){return tS({v:a.v+" printOrderSummary__listbox",disabled:a.disabled,options:a.options.map(function(a){return CS(a)}),Kq:a.Kq})}
function N9(a){var b=new L8(a.find(".printOrderSummary__paymentSummary")),c=zS(a.find(".printOrderSummary__paperSizeListbox"),{Ah:k8}),d=zS(a.find(".printOrderSummary__paperFinishListbox"),{Ah:t8}),e=zS(a.find(".printOrderSummary__orderQuantityListbox"),{Ah:p8}),g=zS(a.find(".printOrderSummary__paperTypeListbox"),{Ah:r8}),h=0<a.find(".printOrderSummary__pageCountListbox").length?zS(a.find(".printOrderSummary__pageCountListbox"),{Ah:n8}):null,k=zS(a.find(".printOrderSummary__shippingListbox"),{Ah:v8});
return new I9(a,b,{Zi:c,Sh:d,Rh:e,Th:g,Bf:h,Vl:k})}I9.prototype.Wf=function(){var a=this.$el.find(".printOrderSummary__pagesPanel");return new Y8(a)};
I9.prototype.hP=function(a){var b=$,c={tq:a.tq,uq:a.uq,vq:a.vq,wq:a.wq,sq:a.sq,bb:a.bb,fj:a.fj},c=c||{};soy.asserts.assertType(null==c.wq||c.wq instanceof soydata.SanitizedHtml||c.wq instanceof soydata.UnsanitizedText||goog.isString(c.wq),"paperTypeHtml",c.wq,"?soydata.SanitizedHtml|string|undefined");a=c.wq;soy.asserts.assertType(null==c.uq||c.uq instanceof soydata.SanitizedHtml||c.uq instanceof soydata.UnsanitizedText||goog.isString(c.uq),"paperFinishHtml",c.uq,"?soydata.SanitizedHtml|string|undefined");
var d=c.uq;soy.asserts.assertType(null==c.vq||c.vq instanceof soydata.SanitizedHtml||c.vq instanceof soydata.UnsanitizedText||goog.isString(c.vq),"paperSizeHtml",c.vq,"?soydata.SanitizedHtml|string|undefined");var e=c.vq;soy.asserts.assertType(null==c.tq||c.tq instanceof soydata.SanitizedHtml||c.tq instanceof soydata.UnsanitizedText||goog.isString(c.tq),"pageCountHtml",c.tq,"?soydata.SanitizedHtml|string|undefined");var g=c.tq;soy.asserts.assertType(null==c.sq||c.sq instanceof soydata.SanitizedHtml||
c.sq instanceof soydata.UnsanitizedText||goog.isString(c.sq),"orderQuantityHtml",c.sq,"?soydata.SanitizedHtml|string|undefined");var h=c.sq;soy.asserts.assertType(null==c.bb||c.bb instanceof goog.soy.data.SanitizedContent||goog.isString(c.bb),"shippingMethod",c.bb,"null|string|undefined");var k=c.bb;soy.asserts.assertType(null==c.fj||c.fj instanceof goog.soy.data.SanitizedContent||goog.isString(c.fj),"shippingPrice",c.fj,"null|string|undefined");c=c.fj;a=soydata.VERY_UNSAFE.ordainSanitizedHtml("\x3cdiv class\x3d'printOrderSummary__orderFormReview'\x3e"+
(e?"\x3cdiv\x3e"+soy.$$escapeHtml(e)+"\x3c/div\x3e":"")+(a?"\x3cdiv\x3e"+soy.$$escapeHtml(a)+"\x3c/div\x3e":"")+(d?"\x3cdiv\x3e"+soy.$$escapeHtml(d)+"\x3c/div\x3e":"")+(g?"\x3cdiv\x3e"+soy.$$escapeHtml(g)+"\x3c/div\x3e":"")+(h?"\x3cdiv\x3e"+soy.$$escapeHtml(h)+"\x3c/div\x3e":"")+(k&&c?Pfa({bb:k,da:c}):"")+"\x3c/div\x3e");b=b(a.toString());this.Wf().R(M9).fo(b)};I9.prototype.GQ=function(){c9(this.Wf(),M9)};I9.prototype.FQ=function(){c9(this.Wf(),L9)};
function O9(a){return!!a&&!a.$el.hasClass("printOrderSummary__listbox--hidden")}var M9="ORDER_REVIEW",L9="LISTBOXES";function P9(a,b,c,d){var e=this;this.view=b;this.Om=a.Om;this.ah=a.ah;this.Nm=a.Nm;this.Cf=c;this.Zi=d.Zi;this.Sh=d.Sh;this.Th=d.Th;this.Rh=d.Rh;this.Vl=d.Vl;this.Bf=d.Bf;this.Ea=a.Ea;this.kb=a.kb;this.jk=a.jk;this.En=a.En;this.nH=P.resolve();null!=this.Bf&&QS(this.Bf,function(){e.En(e.gc());Q9(e)});QS(this.Zi,function(){var a=e.Zi.oc();A9(e.Ea,{Db:a},"PAPER_SIZE");e.jk(e.Dj());R9(e)});QS(this.Sh,function(){var a=e.Ea,b=e.Sh.oc();A9(a,{Db:y9(a).Db,Be:y9(a).Be,dg:b},"PAPER_FINISH");R9(e)});QS(this.Th,
function(){var a=e.Ea,b=e.Th.oc();A9(a,{Db:y9(a).Db,Be:b},"PAPER_TYPE");R9(e)});QS(this.Rh,function(){var a=e.Rh,b=parseInt(a.oc(),10);Fa(!isNaN(b),'Expected a number but got "{}"',a.oc());e.Ea.Sd=b;R9(e)});QS(this.Vl,function(){return Qfa(e)});Dfa(this.Ea,this.T7.bind(this));Efa(this.Ea,this.S7.bind(this));Ffa(this.Ea,this.R7.bind(this))}
function S9(a,b){var c=new NS(b.Zi),d=new NS(b.Sh),e=new NS(b.Th),g=new NS(b.Rh),h=b.Bf,h=h&&new NS(h),k=new NS(b.Vl),l=T9({kb:a.kb,bb:a.Ea.ph,Pe:a.Ea.Sd,Eb:a.Ea.Pl.Eb}),l=bfa({ea:a.ea,aa:a.aa,Wg:a.Wg,vc:a.vc,mb:a.mb,vb:a.vb,Ca:a.Ca,Qd:l,JP:function(b){var c;c=a.Ka;b={xa:a.xa,Ka:c,vb:b.vb,mb:b.mb};var d=Uea(b),e=$,g;g=g||{};soy.asserts.assertType(d.zA instanceof soydata.SanitizedHtml||d.zA instanceof soydata.UnsanitizedText||goog.isString(d.zA),"licensingOptionsText",d.zA,"soydata.SanitizedHtml");
for(var h=d.zA,d=goog.asserts.assertArray(d.Yh,"expected parameter 'purchaseLicenses' of type list\x3c[contributedBy: null|string, expirationLabel: null|string, isThumbnailCover: bool, paidLicenseTypeLabel: null|string, purchaseOptions: list\x3c[disabled: null, selected: bool, text: string, value: string]\x3e|null, purchasedText: string, thumbnailUrl: null|string, title: null|string]\x3e."),h='\x3csection class\x3d"mediaLicenses__info"\x3e\x3cp class\x3d"intro"\x3e'+soy.$$escapeHtml(h)+'\x3c/p\x3e\x3c/section\x3e\x3csection class\x3d"mediaLicenses__itemList"\x3e\x3cdiv class\x3d"mediaLicenses__items"\x3e',
k=d.length,l=0;l<k;l++)var x=d[l],h=h+('\x3cdiv class\x3d"mediaLicenses__license"\x3e\x3cdiv class\x3d"mediaLicenses__licenseThumbnail"\x3e\x3cdiv class\x3d"mediaLicenses__licenseThumbnailInner '+(x.RM?"mediaLicenses__licenseThumbnail--cover":"mediaLicenses__licenseThumbnail--contain")+'"'+(x.ig?'style\x3d"'+(g.Vb?"/*"+g.Vb+"*//*"+g.Vb+"*/":"")+"background-image: url('"+soy.$$escapeHtmlAttribute(soy.$$filterNormalizeMediaUri(x.ig))+"');\"":"")+'\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"mediaLicenses__licenseInfo"\x3e'+
(x.title?'\x3cdiv class\x3d"mediaLicenses__licenseTitle"\x3e'+soy.$$escapeHtml(x.title)+"\x3c/div\x3e":"")+(x.zr?'\x3cdiv class\x3d"mediaLicenses__licenseContributor"\x3e'+soy.$$escapeHtml(x.zr)+"\x3c/div\x3e":"")+'\x3c/div\x3e\x3cdiv class\x3d"mediaLicenses__licensePrice"\x3e'+(x.Ps?soy.$$escapeHtml(x.Ps[0].text):'\x3cdiv class\x3d"mediaLicenses__licenseState"\x3e'+soy.$$escapeHtml(x.O7)+"\x3c/div\x3e"+(x.RG?'\x3cdiv class\x3d"mediaLicenses__licenseType"\x3e'+soy.$$escapeHtml(x.RG)+(x.gz?" - "+soy.$$escapeHtml(x.gz):
"")+"\x3c/div\x3e":""))+"\x3c/div\x3e\x3c/div\x3e");g=soydata.VERY_UNSAFE.ordainSanitizedHtml(h+"\x3c/div\x3e\x3c/section\x3e");e=e(g.toString());e=new w8(e);b=new A8(b,e);c=new rp({className:"mediaLicenses__dialog",content:e.$el,G:ol,title:c.format("licenseDialogTitle")});c=new Yea(c,b);return Zea(c)}},b.Cf);return new P9({Nm:a.Nm,Om:a.Om,ah:a.ah,En:a.En,Ea:a.Ea,jk:a.jk,kb:a.kb},b,l,{Rh:g,Bf:h,Sh:d,Zi:c,Th:e,Vl:k})}f=P9.prototype;f.Ae=function(){this.jk(this.Dj());this.En(this.gc());Q9(this)};
function U9(a){var b;if(a.Ea.QQ){b=a.Ca;var c=a.uY||1;Fa(1===c||2===c,'defaultPageCount can be either 1 or 2, but found "{}"',c);b=[m8({bB:b.format("printOrderSummarySingleSidedPrint"),Gs:b.format("printOrderSummarySingleSidedPrintDescription"),selected:1===c,value:"1"}),m8({bB:b.format("printOrderSummaryDoubleSidedPrint"),Gs:b.format("printOrderSummaryDoubleSidedPrintDescription"),selected:2===c,value:"2"})]}else b=null;b=b&&V9({v:"printOrderSummary__pageCountListbox",options:b,disabled:a.Nm});var c=
V9({v:"printOrderSummary__orderQuantityListbox",options:a.c8?G9(a.Ea,a.c8):G9(a.Ea)}),d=V9({v:"printOrderSummary__paperFinishListbox",options:F9(a.Ea)}),e=V9({v:"printOrderSummary__paperSizeListbox",options:Jfa(a.Ea),disabled:a.Om}),g=V9({v:"printOrderSummary__paperTypeListbox",options:E9(a.Ea)}),h=V9({v:"printOrderSummary__shippingListbox",options:Kfa(a.Ea,{kb:a.kb})}),k=T9({kb:a.kb,bb:a.Ea.ph,Pe:a.Ea.Sd,Eb:a.Ea.Pl.Eb}),k={ea:a.ea,mb:a.mb,vb:a.vb,Ca:a.Ca,Qd:k,Y8:1===a.kb.length},l=J8(k),m=0<l.fj?
k.Ca.da(l.fj):k.Ca.format("printOrderSummaryPriceFree"),n=null;k.Y8&&(n={label:k.Ca.format("printOrderSummaryShippingPriceLabel"),da:m});k={rj:k.Ca.rj(l.rj),eE:wf(k.Ca,l.tm),jw:k.Ca.jw(),$G:k.Ca.da(l.hG),xw:k.Ca.xw(),zt:k.Ca.zt(),$l:k.Ca.da(l.$l),LH:n};return{heading:a.Ca.heading(),J6:c,dX:b,Z6:d,a7:e,b7:g,Q8:h,g7:k,hk:a.Ca.hk(),$h:1===a.kb.length?null:a.Ca.$h()}}
function V9(a){var b=a.v,c=a.disabled;a=a.options;1===a.length&&(b+=" printOrderSummary__listbox--hidden");return{v:b,disabled:c,options:a,Kq:PS(a)}}function Qfa(a){var b=a.Vl.oc(),c=w(["STANDARD","EXPRESS"].find(function(a){return a===b}),"Invalid shipping method: {}",b);a.Ea.ph=c;H8(a.Cf,W9(a))}f.T7=function(){this.Th.UB(E9(this.Ea))};f.S7=function(){this.Sh.UB(F9(this.Ea))};f.R7=function(){this.Rh.UB(G9(this.Ea))};
function Q9(a){var b=Math.min(a.ah(),a.gc()),b=_.range(1,b+1),c=W9(a);a.nH=dfa(a.Cf,b,c);return a.nH}function R9(a){H8(a.Cf,W9(a))}f.hP=function(){this.view.hP({tq:O9(this.view.Bf)?RS(this.Bf).Oh():null,uq:O9(this.view.Sh)?RS(this.Sh).Oh():null,vq:O9(this.view.Zi)?RS(this.Zi).Oh():null,wq:O9(this.view.Th)?RS(this.Th).Oh():null,sq:O9(this.view.Rh)?RS(this.Rh).Oh():null,bb:O9(this.view.Vl)?Lfa(this.Ea):null,fj:O9(this.view.Vl)?Mfa(this.Ea):null})};f.GQ=function(){this.hP();this.view.GQ()};f.FQ=function(){this.view.FQ()};
f.Dj=function(){var a=this.Ea,a=a.qc.Dj(y9(a).Db);return new c7({jj:a.jj,Jj:a.Jj})};f.Xm=function(){var a=this.Ea;return a.qc.Xm(y9(a).Be).type};f.Wm=function(){var a=this.Ea;return a.qc.Wm(y9(a).dg).finish};f.Dp=function(){return this.Ea.Pl.Ie};f.gc=function(){if(null==this.Bf)return 1;var a=parseInt(this.Bf.oc(),10);Fa(!isNaN(a),'Expected a number but got "{}"',this.Bf.oc());return a};f.Fj=function(){return this.Ea.ph};f.Zu=function(){return this.Cf.Zu()};f.CD=function(){var a=W9(this);return this.Cf.CD(a)};
function W9(a){return T9({kb:a.kb,bb:a.Fj(),Pe:a.Ea.Sd,Eb:a.Ea.Pl.Eb})}function X9(a,b){a.Zi.fg(!a.Om&&!b);a.Sh.fg(!b);a.Rh.fg(!b);a.Th.fg(!b);null!=a.Bf&&a.Bf.fg(!a.Nm&&!b)}f.destroy=function(){this.view.remove();this.Cf.destroy();this.Th.destroy();this.Zi.destroy();this.Sh.destroy();this.Rh.destroy();null!=this.Bf&&this.Bf.destroy()};function T9(a){a=xea(a);return{IX:a.eH/100,RO:a.KH/100}};function Y9(a){fc.apply(this,arguments)}t(Y9,fc);function Z9(a,b){R.call(this,a);this.Mn=b}t(Z9,R);Z9.prototype.$P=function(a){a=$(g9({Jd:a,v:"printPaymentAndConfirmation__shippingAddress"}).toString());this.$el.find(".printPaymentAndConfirmation__shippingAddress").replaceWith(a)};function $9(a,b){this.view=a;this.Mn=b}$9.prototype.$P=function(a){this.view.$P(a$(a))};function a$(a){var b=G1().get(a.yb),c;a.qh&&(c=Ew("countryCode",a.yb),c=H1(c).get(a.qh));return{Kd:a.Kd,i1:b,name:a.name,bk:a.bk,pk:a.pk,gj:a.gj,dZ:c,jf:a.jf}}$9.prototype.sB=function(a){return this.Mn.sB(a)};$9.prototype.destroy=function(){this.Mn.destroy();this.view.remove()};function b$(a){fc.apply(this,arguments)}t(b$,fc);function c$(a){fc.apply(this,arguments)}t(c$,fc);function d$(a){soy.asserts.assertType(goog.isString(a.Zc)||a.Zc instanceof goog.soy.data.SanitizedContent,"backButtonText",a.Zc,"string|goog.soy.data.SanitizedContent");var b=a.Zc;soy.asserts.assertType(goog.isString(a.Hi)||a.Hi instanceof goog.soy.data.SanitizedContent,"continueButtonText",a.Hi,"string|goog.soy.data.SanitizedContent");a=a.Hi;return soydata.VERY_UNSAFE.ordainSanitizedHtml(XZ({v:"printOrderForm__addressDetailsBackButton settingsFormActions__button buttonSecondary",text:b})+XZ({v:"printOrderForm__addressDetailsContinueButton settingsFormActions__button buttonSubmittable",
text:a}))};function e$(a,b,c){var d=this;R.call(this,a);this.mE=b;this.Fa=c;a.on("click",".printOrderForm__addressDetailsBackButton",function(){d.trigger(f$)});a.on("click",".printOrderForm__addressDetailsContinueButton",function(){d.trigger(g$)});a.on("click",".printOrderForm__paymentAndConfirmationBackButton",function(){d.trigger(h$)});a.on("click",".printOrderForm__paymentAndConfirmationPayNowButton",function(){d.trigger(i$)});a.on("click",".printOrderReceived__viewHomepageButton, .printOrderError__viewDesignButton",
function(){d.trigger(j$)})}t(e$,R);
function Rfa(a){var b=d$({Zc:a.Zc,Hi:a.Hi}),c=a.w1;soy.asserts.assertType(goog.isString(c.fu)||c.fu instanceof goog.soy.data.SanitizedContent,"checkImagesAndText",c.fu,"string|goog.soy.data.SanitizedContent");var d=c.fu;soy.asserts.assertType(c.sr instanceof soydata.SanitizedHtml||c.sr instanceof soydata.UnsanitizedText||goog.isString(c.sr),"checkTermsOfUseHtml",c.sr,"soydata.SanitizedHtml");var e=c.sr;soy.asserts.assertType(goog.isString(c.ku)||c.ku instanceof goog.soy.data.SanitizedContent,"continueToCheckoutButtonText",
c.ku,"string|goog.soy.data.SanitizedContent");var g=c.ku;soy.asserts.assertType(goog.isString(c.description)||c.description instanceof goog.soy.data.SanitizedContent,"description",c.description,"string|goog.soy.data.SanitizedContent");var h=c.description;soy.asserts.assertType(goog.isString(c.nE)||c.nE instanceof goog.soy.data.SanitizedContent,"designReviewSupportUrl",c.nE,"string|goog.soy.data.SanitizedContent");var k=c.nE;soy.asserts.assertType(goog.isString(c.Su)||c.Su instanceof goog.soy.data.SanitizedContent,
"generatingPdfText",c.Su,"string|goog.soy.data.SanitizedContent");var l=c.Su;soy.asserts.assertType(goog.isString(c.heading)||c.heading instanceof goog.soy.data.SanitizedContent,"heading",c.heading,"string|goog.soy.data.SanitizedContent");var m=c.heading;soy.asserts.assertType(goog.isString(c.pc)||c.pc instanceof goog.soy.data.SanitizedContent,"pageNumberOfTotal",c.pc,"string|goog.soy.data.SanitizedContent");var n=c.pc;soy.asserts.assertType(goog.isString(c.Gw)||c.Gw instanceof goog.soy.data.SanitizedContent,
"seeUnfixableProblemButtonText",c.Gw,"string|goog.soy.data.SanitizedContent");c=c.Gw;e=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"designProofReview"\x3e\x3cdiv class\x3d"printFlowPage__header"\x3e\x3cspan class\x3d"printFlowStepNumberBadge"\x3e'+soy.$$escapeHtml(n)+'\x3c/span\x3e\x3ch1 class\x3d"printFlowPage__heading"\x3e'+soy.$$escapeHtml(m)+'\x3c/h1\x3e\x3c/div\x3e\x3cp class\x3d"designProofReview__description"\x3e'+soy.$$escapeHtml(h)+'\x3c/p\x3e\x3cdiv class\x3d"designProofReview__manualDownload designProofReview__manualDownload--hidden"\x3e\x3c/div\x3e\x3cdiv class\x3d"designProofReview__checklist designProofReview__checklist--hidden"\x3e'+
o9({Hr:d})+o9({Hr:e})+'\x3c/div\x3e\x3cdiv class\x3d"designProofReview__progressbarContainer"\x3e\x3cp class\x3d"designProofReview__generatingPdf"\x3e'+soy.$$escapeHtml(l)+'\x3c/p\x3e\x3c/div\x3e\x3cdiv class\x3d"designProofReview__actionButtons designProofReview__actionButtons--hidden"\x3e'+XZ({tagName:"a",href:k,attributes:soydata.VERY_UNSAFE.$$ordainSanitizedAttributesForInternalBlocks('target\x3d"_blank"'),v:"designProofReview__actionButton buttonSecondary designProofReview__supportLink",text:c})+
XZ({v:"designProofReview__actionButton designProofReview__checkoutButton",text:g,disabled:!0})+"\x3c/div\x3e\x3c/div\x3e");d=$;g=k$;a=J9(a.M6);soy.asserts.assertType(b instanceof soydata.SanitizedHtml||b instanceof soydata.UnsanitizedText||goog.isString(b),"actionButtonsHtml",b,"soydata.SanitizedHtml");soy.asserts.assertType(e instanceof soydata.SanitizedHtml||e instanceof soydata.UnsanitizedText||goog.isString(e),"designProofReviewHtml",e,"soydata.SanitizedHtml");soy.asserts.assertType(goog.isString(g)||
g instanceof goog.soy.data.SanitizedContent,"designProofReviewPageName",g,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(a instanceof soydata.SanitizedHtml||a instanceof soydata.UnsanitizedText||goog.isString(a),"orderSummaryHtml",a,"soydata.SanitizedHtml");b=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"printOrderForm"\x3e\x3cdiv class\x3d"contentPanel printOrderForm__mainContentPanel"\x3e'+d9({v:"printOrderForm__pagesPanel",O:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks(""+
a9({content:e,name:g,visible:!0}))})+'\x3c/div\x3e\x3cdiv class\x3d"printOrderForm__hiddenSidePanel"\x3e\x3cdiv class\x3d"contentPanel"\x3e\x3cdiv class\x3d"printOrderForm__orderSummaryContainer"\x3e'+soy.$$escapeHtml(a)+"\x3c/div\x3e"+A1({v:"printOrderForm__formActions",buttons:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks(""+soy.$$escapeHtml(b))})+"\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e");b=d(b.toString());a=new p9(b.find(".designProofReview"));d=N9(b.find(".printOrderSummary"));return new e$(b,
a,d)}e$.prototype.Wf=function(){var a=this.$el.find(".printOrderForm__pagesPanel");return new Y8(a)};function l$(a){a=a.$el.find(".printOrderForm__formActions");Ca(a.hasClass("settingsFormActions"),"the given element {} is not an FormActionsView",a.get(0));return new E1(a)}
function m$(a,b){var c=a.$el.find(".printOrderForm__hiddenSidePanel");if(b===c.hasClass("printOrderForm__hiddenSidePanel--visible"))return P.resolve();c.toggleClass("printOrderForm__hiddenSidePanel--visible",b);return P.all([Gf(c[0]),n$(a)])}
function n$(a){var b=a.$el.find(".printOrderForm__hiddenSidePanel").hasClass("printOrderForm__hiddenSidePanel--visible"),c=a.$el.find(".printOrderForm__mainContentPanel");a=b?0:(a.$el.width()-c.width())/2;c.css("transform","translate3d("+a+"px, 0, 0)");return Gf(c[0])}function o$(a,b){a.$el.find(".printOrderForm__addressDetailsContinueButton").toggleClass("submitting",b)}function p$(a,b){a.$el.find(".printOrderForm__paymentAndConfirmationPayNowButton").toggleClass("submitting",b)}
function q$(a,b){a.$el.find(".printOrderForm__paymentAndConfirmationBackButton").prop("disabled",!b)}var k$="DESIGN_PROOF_REVIEW",h$="BACK_TO_ADDRESS_DETAILS",j$="BACK_TO_DESIGN",f$="BACK_TO_PROOFING",g$="CONTINUE_TO_PAYMENT",i$="SUBMIT_ORDER";function r$(a,b,c,d){var e=this;this.view=b;this.Ak=null;this.mE=c;this.Fa=d;this.iB=null;this.j=a.j;this.ta=a.ta;this.aa=a.aa;this.pg=a.pg;this.vc=a.vc;this.order=a.order;this.Ac=a.Ac;this.Ja=a.Ja;this.lP=a.lP;this.rP=a.rP;this.pP=a.pP;this.qP=a.qP;this.sP=a.sP;this.Cn=a.Cn;this.PA=a.PA;this.ZA=a.ZA;this.la=a.la;this.view.on(f$,function(){return Sfa(e)});this.view.on(g$,function(){return Tfa(e)});this.view.on(h$,function(){c9(e.view.Wf(),"ADDRESS_DETAILS");e.Fa.FQ();var a=e.view,b={Zc:e.Ac.Zc(),
Hi:e.Ac.Hi()},b=$(d$(b).toString());F1(l$(a),b);X9(e.Fa,!1)});this.view.on(i$,function(){return Ufa(e)});this.view.on(j$,function(){return e.PA()})}
function Vfa(a){var b=Rfa({w1:ufa({Ki:a.Ki,Ce:a.Ce}),Zc:a.Ac.Zc(),Hi:a.Ac.Hi(),M6:U9({ea:a.ea,Nm:!0,Om:!0,mb:a.mb,vb:a.vb,Ea:a.Ea,Ca:a.Ca,uY:a.order.jd,kb:a.kb})});return{wb:Wfa({ea:a.ea,Yc:a.Yc,j:a.j,aa:a.aa,ta:a.ta,Ki:a.Ki,pg:a.pg,Qf:a.Qf,Pi:a.Pi,vc:a.vc,Ka:a.Ka,mb:a.mb,vb:a.vb,PA:a.PA,Cn:a.Cn,order:a.order,ZA:a.ZA,Ea:a.Ea,xa:a.xa,Ac:a.Ac,Ca:a.Ca,Ja:a.Ja,lP:function(){return pfa({Yc:a.Yc,ta:a.ta,Hh:new Set(a.nh.Hh.map(function(a){return Ew("printRegion.countries",a)})),Qf:a.Qf,Pi:a.Pi,Lj:"EU"===
a.nh.id,yl:a.yl,Ce:a.Ce,Ac:a.Ac,Ja:a.Ja,cc:a.cc,Wq:a.Z_,la:a.la})},pP:function(b){var d={hO:a.Ac.hO()},e=$,d=goog.asserts.assertObject(d,"expected parameter 'messages' of type [orderErrorHeading: string].");soy.asserts.assertType(b instanceof soydata.SanitizedHtml||b instanceof soydata.UnsanitizedText||goog.isString(b),"errorMessageHtml",b,"soydata.SanitizedHtml");b=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"printOrderError"\x3e\x3cdiv class\x3d"printFlowPage__header"\x3e'+oX()+'\x3ch1 class\x3d"printFlowPage__heading"\x3e'+
soy.$$escapeHtml(d.hO)+'\x3c/h1\x3e\x3c/div\x3e\x3cdiv class\x3d"printOrderError__content"\x3e\x3cp class\x3d"printOrderError__confirmationEmailMessage"\x3e'+soy.$$escapeHtml(b)+"\x3c/p\x3e\x3c/div\x3e\x3c/div\x3e");e=e(b.toString());return new b$(e)},qP:function(b){var d=a.hR,e=a.Ns,g=b.I6;b={K6:e.heading(),nR:e.nR(),mR:e.mR()};d=e.d1(d);g=e.L6(g);e=$;b=goog.asserts.assertObject(b,"expected parameter 'messages' of type [orderReceivedHeading: string, viewHomepageButtonText: string, viewPrintOrdersButtonText: string].");
soy.asserts.assertType(d instanceof soydata.SanitizedHtml||d instanceof soydata.UnsanitizedText||goog.isString(d),"confirmationEmailMessageHtml",d,"soydata.SanitizedHtml");soy.asserts.assertType(g instanceof soydata.SanitizedHtml||g instanceof soydata.UnsanitizedText||goog.isString(g),"orderReceivedMessageHtml",g,"soydata.SanitizedHtml");soy.asserts.assertType(goog.isString("/account#print-orders")||!1,"printOrdersUrl","/account#print-orders","string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString("/")||
!1,"homepageUrl","/","string|goog.soy.data.SanitizedContent");b=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"printOrderReceived"\x3e\x3cdiv class\x3d"printFlowPage__header"\x3e'+pX({ya:"printOrderReceived__headerIcon"})+'\x3ch1 class\x3d"printFlowPage__heading"\x3e'+soy.$$escapeHtml(b.K6)+'\x3c/h1\x3e\x3c/div\x3e\x3cdiv class\x3d"printOrderReceived__content"\x3e\x3cp class\x3d"printOrderReceived__confirmationEmailMessage"\x3e'+soy.$$escapeHtml(d)+"\x3c/p\x3e"+nZ({v:"printOrderReceived__supportInfoMessage",
message:g})+"\x3c/div\x3e"+A1({buttons:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks(""+XZ({tagName:"a",href:"/account#print-orders",v:"printOrderReceived__viewPrintOrdersButton buttonSecondary settingsFormActions__button",text:b.nR})+XZ({tagName:"a",href:"/",v:"printOrderReceived__viewHomepageButton buttonSubmittable settingsFormActions__button",text:b.mR}))})+"\x3c/div\x3e");b=e(b.toString());return new c$(b)},rP:function(b){b={ea:a.ea,aa:a.aa,ta:a.ta,Ii:a.Ii,Va:a.Va,Ve:a.Ve,xa:Rc(a.i),
Cf:b.Cf,Ce:a.Ce,Ac:a.Ac,Xh:a.Xh,cc:b.cc,cb:a.cb,la:a.la,j:a.j};var d=b.ea,e=b.Xh.format("printPaymentAndConfirmationCreditCardDetailsLabel"),g=b.Xh.mu(),h=b.Va,k=b.Ve,l=b.xa,m=b.j,n=!!d&&!V8(d.Ih),d=n?l.format("paymentPageSavedTeamCard",d.Ih.yv):l.BP(),p={Vt:l.Vt(),lu:l.lu(),mu:g,qj:e,Va:h,$y:n,uC:k?null:d,j:m},e=b.Va,m={f7:b.Xh.heading(),rO:b.Xh.rO(),Yw:b.Ac.Yw()},k=b.Ce.pc(5,5),l=a$(b.cc),g=b.j,h=$;soy.asserts.assertType(goog.isString(p.Vt)||p.Vt instanceof goog.soy.data.SanitizedContent,"applyCouponButtonText",
p.Vt,"string|goog.soy.data.SanitizedContent");n=p.Vt;soy.asserts.assertType(goog.isString(p.lu)||p.lu instanceof goog.soy.data.SanitizedContent,"couponCodeInputPlaceholder",p.lu,"string|goog.soy.data.SanitizedContent");d=p.lu;soy.asserts.assertType(goog.isString(p.mu)||p.mu instanceof goog.soy.data.SanitizedContent,"couponCodeLabel",p.mu,"string|goog.soy.data.SanitizedContent");var q=p.mu;soy.asserts.assertType(goog.isString(p.qj)||p.qj instanceof goog.soy.data.SanitizedContent,"creditCardLabel",
p.qj,"string|goog.soy.data.SanitizedContent");var u=p.qj;soy.asserts.assertType(goog.isBoolean(p.$y)||1===p.$y||0===p.$y,"editingDisabled",p.$y,"boolean");var v=!!p.$y;soy.asserts.assertType(null==p.v||p.v instanceof goog.soy.data.SanitizedContent||goog.isString(p.v),"classes",p.v,"null|string|undefined");var z=p.v;soy.asserts.assertType(null==p.uC||p.uC instanceof goog.soy.data.SanitizedContent||goog.isString(p.uC),"teamCardMessage",p.uC,"null|string|undefined");p=p.uC;n=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"paymentForm'+
(z?" "+soy.$$escapeHtmlAttribute(z):"")+'"\x3e'+v1({Ra:!0,content:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks(""+x1({label:u,v:"paymentForm__cardInputContainer",input:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks('\x3cdiv class\x3d"paymentForm__creditCardEditView'+(v?" paymentForm__creditCardEditView--disabled":"")+'" \x3e\x3c/div\x3e'+(p?'\x3cdiv class\x3d"paymentForm__teamCardMessage"\x3e'+soy.$$escapeHtml(p)+"\x3c/div\x3e":""))})+x1({label:q,v:"paymentForm__couponInputContainer",
input:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks(""+hfa({Ng:"paymentForm__applyCouponButton buttonSubmittable",$c:n,v:"paymentForm__couponCode",iA:"paymentForm__couponCodeInput",pl:d}))}))})+"\x3c/div\x3e");m=goog.asserts.assertObject(m,"expected parameter 'messages' of type [paymentAndConfirmationHeading: string, paymentDetailsHeading: string, shippingAddressHeading: string].");soy.asserts.assertType(n instanceof soydata.SanitizedHtml||n instanceof soydata.UnsanitizedText||goog.isString(n),
"paymentFormHtml",n,"soydata.SanitizedHtml");l=goog.asserts.assertObject(l,"expected parameter 'shippingAddressSummary' of type [city: string, countryName: string, name: string, phone: string, street1: string, street2: null|string, subdivisionName: null|string, zipCode: string].");soy.asserts.assertType(goog.isString(k)||k instanceof goog.soy.data.SanitizedContent,"pageNumberOfTotal",k,"string|goog.soy.data.SanitizedContent");k=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"printPaymentAndConfirmation"\x3e\x3cdiv class\x3d"printFlowPage__header"\x3e\x3cspan class\x3d"printFlowStepNumberBadge"\x3e'+
soy.$$escapeHtml(k)+'\x3c/span\x3e\x3ch1 class\x3d"printFlowPage__heading"\x3e'+soy.$$escapeHtml(m.f7)+"\x3c/h1\x3e\x3c/div\x3e"+u1({heading:m.rO,content:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks(""+soy.$$escapeHtml(n))})+u1({heading:m.Yw,content:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks(""+v1({Ra:!0,content:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks(""+g9({Jd:l,v:"printPaymentAndConfirmation__shippingAddress"}))}))})+"\x3c/div\x3e");h=h(k.toString());
k=h.find(".paymentForm");e=(new P1({jy:!1,Va:e,j:g})).render();k.find(".paymentForm__creditCardEditView").empty().append(e.$el);e=new M8(k,e);e=new Z9(h,e);g=e.Mn;h=g.$el.find(".paymentForm__creditCardEditView").hasClass("paymentForm__creditCardEditView--disabled");h=new O1({nj:b.aa,D:b.ta,sd:!b.ea||V8(b.ea.Ih)?null:b.ea.Ih,Re:!h,cf:b.cb,view:g.Ji,Va:b.Va});h.refresh();b=new S8(b,g,h);return{wb:new $9(e,b),view:e}},sP:function(){var b=a.Xh.format("printPaymentAndConfirmationProcessingPayment"),d=
$;soy.asserts.assertType(goog.isString(b)||b instanceof goog.soy.data.SanitizedContent,"heading",b,"string|goog.soy.data.SanitizedContent");b=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"printPaymentProgress"\x3e\x3cdiv class\x3d"printFlowPage__header"\x3e\x3ch1 class\x3d"printFlowPage__heading"\x3e'+soy.$$escapeHtml(b)+'\x3c/h1\x3e\x3c/div\x3e\x3cdiv class\x3d"printPaymentProgress__content"\x3e'+l1({v:"printPaymentProgress__loadingBar",progress:0},void 0)+"\x3c/div\x3e\x3c/div\x3e");
d=d(b.toString());n1(d.find(".printPaymentProgress__loadingBar"));return new Y9(d)},cc:a.cc,kb:a.kb,la:a.la},b),view:b}}function Wfa(a,b){var c=wfa({j:a.j,sL:Em(),i:a.Ki,MN:function(){Xfa(e)},$A:a.order.id,Ja:a.Ja},b.mE),d=S9({ea:a.ea,aa:a.aa,Wg:function(){return P.resolve()},Nm:!0,Om:!0,vc:a.vc,Ka:a.Ka,mb:a.mb,vb:a.vb,En:function(){},ah:function(){return a.order.jd},Ea:a.Ea,xa:a.xa,Ca:a.Ca,jk:function(){},kb:a.kb,la:a.la},b.Fa),e=new r$(a,b,c,d);return e}
r$.prototype.Ae=function(){var a=this;n$(this.view).then(function(){return yfa(a.mE)});this.Fa.Ae()};function Xfa(a){var b=a.view.Wf();if(!$8(b,"ADDRESS_DETAILS")){var c=a.lP(),d=c.view;a.Ak=c.wb;Z8(b,"ADDRESS_DETAILS",d.$el)}c9(b,"ADDRESS_DETAILS").then(function(){a.Ak.view.$el.find(".addressDetailsAddress__nameInput input").focus();m$(a.view,!0)});b=X(X(new fm("print_review_continue_to_checkout"),"section","editor"),"location","print_review");a.j.wa(b)}
function Sfa(a){m$(a.view,!1).then(function(){return c9(a.view.Wf(),k$)})}
function Tfa(a){M3(a.Ak.b$).then(function(b){if(b){var c=a.view.Wf(),d=a.Ak.cv();if($8(c,"PAYMENT_AND_CONFIRMATION"))a.iB.$P(d);else{b=a.rP({Cf:a.Fa.Cf,cc:d});var e=b.view;a.iB=b.wb;Z8(c,"PAYMENT_AND_CONFIRMATION",e.$el)}b=P.all([a.Fa.nH,qfa(a.Ak),a.order.Lm?Yfa(a):a.kI()]);X9(a.Fa,!0);o$(a.view,!0);l$(a.view).$f();b.then(function(){c9(c,"PAYMENT_AND_CONFIRMATION");a.Fa.GQ();var b=a.view,d=a.Ac.Zc(),e=a.Ac.e7(),l=$;soy.asserts.assertType(goog.isString(d)||d instanceof goog.soy.data.SanitizedContent,
"backButtonText",d,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(e)||e instanceof goog.soy.data.SanitizedContent,"payNowButtonText",e,"string|goog.soy.data.SanitizedContent");d=soydata.VERY_UNSAFE.ordainSanitizedHtml(XZ({v:"printOrderForm__paymentAndConfirmationBackButton settingsFormActions__button buttonSecondary",text:d})+XZ({v:"printOrderForm__paymentAndConfirmationPayNowButton settingsFormActions__button buttonSubmittable",text:e}));l=l(d.toString());F1(l$(b),
l)}).then(function(){var b=a.order.id,b=X(new fm("print_checkout_address"),"order_id",b);a.j.wa(b)}).catch(function(a){return!!a&&a instanceof vj&&403===Rk(a)&&!!a.message&&["shippingAddress.zipCode","address.zipCode"].includes(a.message.errorKey)},function(){var b=a.view,c=a.Ac,e=d.jf,l;var m=a.Ak;l=l9(m.view).Qi();m.Lj?l=G1().get(l):(m=w(m9(l9(m.view)),"subdivision must be present"),l=H1(l).get(m));c=c.Oa("printOrderFormUpdateOrderinvalidZipcodeForSubdivisionHtml",e,l);l$(b).kk(c);X9(a.Fa,!1)}).catch(function(a){return!!a&&
a instanceof vj&&403===Rk(a)&&!!a.message&&["shippingAddress.phone","address.phone"].includes(a.message.errorKey)},function(){var b=a.Ac.format("printOrderFormUpdateOrderInvalidContactNumber");l$(a.view).kk(b);X9(a.Fa,!1)}).catch(function(){var b=a.view,c=a.Ac.Oa("printOrderFormUpdateOrderErrorHtml","https://support.canva.com/troubleshooting/canva-print");l$(b).kk(c);X9(a.Fa,!1)}).finally(function(){return o$(a.view,!1)})}})}
function Yfa(a){Fa(a.order.Lm,'Order "{}" is already mutable',a.order.id);var b=new v7({Pe:a.Fa.Ea.Sd,document:a.order.document,jd:a.order.jd,Ye:a.order.Ye,eg:a.Fa.Dp(),cc:a.Ak.cv(),bb:a.Fa.Fj()});return a.Ja.YD(b).then(function(b){return a.order=b.order}).then(function(){return Q9(a.Fa)})}r$.prototype.kI=function(){var a=new x7({Pe:this.Fa.Ea.Sd,id:this.order.id,eg:this.Fa.Dp(),cc:this.Ak.cv(),bb:this.Fa.Fj()});return this.Ja.kI(a)};
r$.prototype.sB=function(a){var b=this;return this.iB.sB(a).then(function(c){c||s$(b,"payment",a);return c})};
function Ufa(a){var b=a.order,c=Sea(a.order.id);a.j.wa(c);p$(a.view,!0);q$(a.view,!1);Zfa(a).then(function(){return a.sB(a.order.id)}).then(function(c){if(c){var e=a.view.Wf();$8(e,"PAYMENT_PROGRESS")||(c=a.sP(),Z8(e,"PAYMENT_PROGRESS",c.$el));return m$(a.view,!1).then(function(){return c9(e,"PAYMENT_PROGRESS")}).then(function(){return $fa(a,a.order.id)}).then(function(){var c=a.view.Wf(),d=a.qP({I6:b.id});Z8(c,"ORDER_RECEIVED",d.$el);c9(c,"ORDER_RECEIVED");var c=a.pg,d=a.Fa.Wm(),e=0<a.Fa.Zu().length,
l=b.id,m=a.Fa.Xm(),n=b.eg,p=b.Pe,q=a.Fa.Fj(),u=b.Wh/100,c=X(X(X(X(X(X(X(X(X(new fm("print_checkout_success"),"template",c),"finish",d),"has_premium_images",e),"order_id",l),"paper",m),"product_sku",n),"quantity",p),"shipping",q),"total_order_price",u);a.j.wa(c);a.Cn()})}}).catch(t$,function(){var b=a.view,c=a.Ac.Oa("printOrderFormFinalizeOrderFailureHtml","https://support.canva.com/troubleshooting/canva-print");l$(b).kk(c)}).catch(function(){m$(a.view,!1).then(function(){var b=a.view.Wf();if(!$8(b,
"ORDER_ERROR")){var c=a.pP(a.Ac.format("printOrderFormSubmitOrderFailureText"));Z8(b,"ORDER_ERROR",c.$el)}c9(b,"ORDER_ERROR")})}).finally(function(){p$(a.view,!1);q$(a.view,!0)})}function Zfa(a){return a.order.Lm?P.resolve():a.Ja.kI(new x7({id:a.order.id,Lm:!0})).then(function(b){return a.order=b.order}).catch(function(){s$(a,"finalize_order",a.order.id);throw new t$;})}
function $fa(a,b){return a.ZA.UH(function(a){var d=this;return this.Ja.Vm(new z7({id:b})).then(function(e){if("FAILED"===e.order.VE)throw s$(d,"pdf_export",b),Error("Export failed for order "+b);"EXPORTED"===e.order.VE&&a(e.order)})}.bind(a))}
function s$(a,b,c){var d=a.pg,e=a.Fa.Wm(),g=0<a.Fa.Zu().length,h=a.Fa.Xm(),k=a.Fa.Dp(),l=a.Fa.Ea.Sd,m=a.Fa.Fj(),n=a.Fa.CD();b=X(X(X(X(X(X(X(X(X(X(new fm("print_checkout_fail"),"template",d),"failure_reason",b),"finish",e),"has_premium_images",g),"order_id",c),"paper",h),"product_sku",k),"quantity",l),"shipping",m),"total_order_price",n);a.j.wa(b)}r$.prototype.destroy=function(){this.mE.destroy();this.Fa.destroy();this.Ak&&this.Ak.destroy();this.iB&&this.iB.destroy();this.view.remove()};
function t$(){}t(t$,Error);function u$(a,b){var c=this;this.zb=a;this.bH=b;this.zb.once("remove",function(){return c.bH.destroy()})}
function aga(a){var b=new Y7({qy:a.Yc.qy()}),c=Em(),b=Vfa({ea:a.ea,Yc:a.Yc,Z_:new X7({Md:a.Md,maxLength:50}),j:a.j,aa:a.aa,ta:a.ta,Ii:a.Ii,Va:a.Va,Ki:a.Ki,pg:a.pg,Qf:new W7({BM:a.Md.format("formValidatorInvalidEmpty")}),Pi:new t0,vc:a.vc,Ve:a.Ve,Ka:a.Ka,mb:a.mb,vb:a.vb,i:a.i,yl:b,PA:function(){d.close()},Cn:a.Cn,order:a.order,ZA:c,Ea:a.Ea,xa:a.xa,Ce:a.Ce,Ac:a.Ac,Ns:a.Ns,Ca:a.Ca,Xh:a.Xh,nh:a.nh,Ja:a.Ja,cc:a.cc,kb:a.kb,cb:a.cb,hR:a.hR,la:a.la});a=b.wb;var b=new v$({bH:b.view,G:ol}),d=new u$(b,a);return d}
u$.prototype.show=function(){this.zb.show();this.bH.Ae()};u$.prototype.close=function(){this.zb.ok()};function v$(a){rp.call(this,{className:"printOrderFormDialog",content:a.bH.$el,G:a.G,oo:!1,He:!0,$e:!1})}t(v$,rp);function w$(a){var b;b=b||{};var c="";a=goog.asserts.assertArray(a.images,"expected parameter 'images' of type list\x3cstring\x3e.");for(var d=a.length,e=0;e<d;e++)c+='\x3cdiv class\x3d"printProofingPage__resolutionThumbnailWrapper"\x3e\x3cdiv class\x3d"printProofingPage__resolutionThumbnailContainer" style\x3d"'+(b.Vb?"/*"+b.Vb+"*//*"+b.Vb+"*/":"")+"background-image: url('"+soy.$$escapeHtmlAttribute(soy.$$filterNormalizeMediaUri(a[e]))+"')\"\x3e\x3c/div\x3e\x3c/div\x3e";return soydata.VERY_UNSAFE.ordainSanitizedHtml(c)}
function x$(a){soy.asserts.assertType(a.content instanceof soydata.SanitizedHtml||a.content instanceof soydata.UnsanitizedText||goog.isString(a.content),"content",a.content,"soydata.SanitizedHtml");var b=a.content;soy.asserts.assertType(goog.isString(a.Zf)||a.Zf instanceof goog.soy.data.SanitizedContent,"headingText",a.Zf,"string|goog.soy.data.SanitizedContent");var c=a.Zf;soy.asserts.assertType(goog.isString(a.pc)||a.pc instanceof goog.soy.data.SanitizedContent,"pageNumberOfTotal",a.pc,"string|goog.soy.data.SanitizedContent");
return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"printProofingPage"\x3e\x3cdiv class\x3d"printFlowPage__header"\x3e\x3cspan class\x3d"printFlowStepNumberBadge"\x3e'+soy.$$escapeHtml(a.pc)+'\x3c/span\x3e\x3ch1 class\x3d"printFlowPage__heading"\x3e'+soy.$$escapeHtml(c)+"\x3c/h1\x3e\x3c/div\x3e"+soy.$$escapeHtml(b)+"\x3c/div\x3e")}
function y$(a){soy.asserts.assertType(a.description instanceof goog.soy.data.SanitizedContent||a.description instanceof soydata.SanitizedHtml||a.description instanceof soydata.UnsanitizedText||goog.isString(a.description),"description",a.description,"!soydata.SanitizedHtml|string");var b=a.description;soy.asserts.assertType(goog.isString(a.Kj)||a.Kj instanceof goog.soy.data.SanitizedContent,"helpLinkUrl",a.Kj,"string|goog.soy.data.SanitizedContent");var c=a.Kj;soy.asserts.assertType(goog.isString(a.dA)||
a.dA instanceof goog.soy.data.SanitizedContent,"imageClass",a.dA,"string|goog.soy.data.SanitizedContent");var d=a.dA;soy.asserts.assertType(goog.isString(a.vh)||a.vh instanceof goog.soy.data.SanitizedContent,"whyIsThisImportant",a.vh,"string|goog.soy.data.SanitizedContent");var e=a.vh;soy.asserts.assertType(null==a.kE||a.kE instanceof goog.soy.data.SanitizedContent||goog.isString(a.kE),"descriptionClasses",a.kE,"null|string|undefined");a=a.kE;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cp class\x3d"printProofingPage__description'+
(a?" "+soy.$$escapeHtmlAttribute(a):"")+'"\x3e'+soy.$$escapeHtml(b)+'\x3c/p\x3e\x3cdiv class\x3d"printProofingPage__examplesContainer"\x3e\x3cspan class\x3d"printProofingPage__exampleImage '+soy.$$escapeHtmlAttribute(d)+'"\x3e\x3c/span\x3e\x3c/div\x3e\x3cp class\x3d"printProofingPage__helpLink"\x3e\x3ca href\x3d"'+soy.$$escapeHtmlAttribute(soy.$$filterNormalizeUri(c))+'" target\x3d"_blank"\x3e'+soy.$$escapeHtml(e)+"\x3c/a\x3e\x3c/p\x3e")};function z$(a){soy.asserts.assertType(goog.isString(a.Zc)||a.Zc instanceof goog.soy.data.SanitizedContent,"backButtonText",a.Zc,"string|goog.soy.data.SanitizedContent");var b=a.Zc;soy.asserts.assertType(goog.isString(a.Xi)||a.Xi instanceof goog.soy.data.SanitizedContent,"nextButtonText",a.Xi,"string|goog.soy.data.SanitizedContent");var c=a.Xi;soy.asserts.assertType(goog.isString(a.Ro)||a.Ro instanceof goog.soy.data.SanitizedContent,"backButtonClasses",a.Ro,"string|goog.soy.data.SanitizedContent");
var d=a.Ro;soy.asserts.assertType(goog.isString(a.mq)||a.mq instanceof goog.soy.data.SanitizedContent,"nextButtonClasses",a.mq,"string|goog.soy.data.SanitizedContent");a=a.mq;return soydata.VERY_UNSAFE.ordainSanitizedHtml(XZ({v:d+" buttonSecondary printEditorForm__button printEditorForm__backButton",text:b})+XZ({v:a+" printEditorForm__button printEditorForm__nextButton",text:c}))};function A$(a,b){var c=this;R.call(this,a);this.Fa=b;a.on("click",".printEditorForm__orderSummaryBeginOrderButton",function(){return c.trigger(B$)});a.on("click",".printEditorForm__orderSummaryCancelOrderButton",function(){c.trigger(C$)});a.on("click",".printEditorForm__imageResolutionProofBackButton",function(){c.trigger(D$)});a.on("click",".printEditorForm__imageResolutionProofContinueButton",function(){c.trigger(E$)});a.on("click",".printEditorForm__bleedAreaProofBackButton",function(){c.trigger(F$)});
a.on("click",".printEditorForm__bleedAreaProofNextButton",function(){c.trigger(G$)});a.on("click",".printEditorForm__safeAreaProofBackButton",function(){c.trigger(H$)});a.on("click",".printEditorForm__safeAreaProofNextButton",function(){c.trigger(I$)})}t(A$,R);A$.prototype.Wf=function(){var a=this.$el.find(".printEditorForm__pagesPanel");return new Y8(a)};function J$(a,b){a.$el.find(".printEditorForm__safeAreaProofNextButton").toggleClass("submitting",b)}
function bga(a){var b=a.$el.find(".printProofingPage__feedbackAlert--highRes"),c=a.$el.find(".printProofingPage__feedbackAlert--lowRes"),d=a.$el.find(".printProofingPage__feedbackAlert--mediumRes");b.addClass("printProofingPage__feedbackAlert--hidden");c.addClass("printProofingPage__feedbackAlert--hidden");d.addClass("printProofingPage__feedbackAlert--hidden");a.$el.find(".printProofingPage__images--lowRes").empty();a.$el.find(".printProofingPage__images--mediumRes").empty()}
function cga(a,b){a.$el.find(".printProofingPage__feedbackAlert--mediumRes").removeClass("printProofingPage__feedbackAlert--hidden");a.$el.find(".printProofingPage__images--mediumRes").append(w$({images:b}).toString())}function dga(a,b){a.$el.find(".printProofingPage__feedbackAlert--lowRes").removeClass("printProofingPage__feedbackAlert--hidden");a.$el.find(".printProofingPage__images--lowRes").append(w$({images:b}).toString())}
function K$(a,b){a.$el.find(".printEditorForm__footer").empty().append(b)}var B$="CLICK_BEGIN_ORDER",C$="CLICK_CANCEL_ORDER",D$="CLICK_IMAGE_RESOLUTION_PROOF_BACK",E$="CLICK_IMAGE_RESOLUTION_PROOF_CONTINUE",F$="CLICK_BLEED_AREA_PROOF_BACK",G$="CLICK_BLEED_AREA_PROOF_NEXT",H$="CLICK_SAFE_AREA_PROOF_BACK",I$="CLICK_SAFE_AREA_PROOF_NEXT";function L$(){}t(L$,Error);
function M$(a,b,c){var d=this;this.view=b;this.Fa=c;this.j=a.j;this.pg=a.pg;this.Tn=a.Tn;this.vc=a.vc;this.ah=a.ah;this.aa=a.aa;this.ta=a.ta;this.$J=a.$J;this.FK=a.FK;this.GK=a.GK;this.Wg=a.Wg;this.Sm=a.Sm;this.Xu=a.Xu;this.wM=null;this.ie=a.ie;this.Ff=a.Ff;this.Ja=a.Ja;this.fQ=a.fQ;this.bm=a.bm;this.la=a.la;this.WA=a.WA;this.VA=a.VA;this.MA=a.MA;this.lA=a.lA;b.on(B$,function(){return ega(d)});b.on(C$,function(){d.j.track("print_order_cancelled");d.MA()});b.on(D$,function(){N$(d)});b.on(E$,function(){O$(d);
d.Sm().gt(!0);var a=new fm("print_proof_resolution");d.j.wa(a)});b.on(F$,function(){fga(d)});b.on(G$,function(){c9(d.view.Wf(),"SAFE_AREA_PROOF");var a=d.view,b=d.ie.Zc(),c=d.ie.Xi(),b=$(z$({Ro:"printEditorForm__safeAreaProofBackButton",Zc:b,mq:"printEditorForm__safeAreaProofNextButton buttonSubmittable",Xi:c}).toString());K$(a,b);a=d.Sm();a.gt(!1);a.XB(!0);a=new fm("print_proof_bleed");d.j.wa(a)});b.on(H$,function(){O$(d);var a=d.Sm();a.XB(!1);a.gt(!0)});b.on(I$,function(){gga(d)})}
function hga(a){var b=a.ie.CS(),c=a.ie.QS(),d={Fy:a.Ff.Oa("printProofingBleedAreaNotCoveredHtml"),description:a.Ff.format("printProofingBleedAreaProofDescription"),Zf:a.Ff.format("printProofingCheckBleedAreaHeading"),Kj:"https://support.canva.com/canva-print/preparing-your-design-for-print/pink-bleed-line/",pc:a.Ce.pc(2,5),vh:a.Ff.vh()},e=a.Ff.format("printProofingImagesAreHighResolutionMessage"),g=a.Ff.Oa("printProofingImagesAreMediumResolutionMessageHtml","https://support.canva.com/canva-print/design-quality-check/"),
h=a.Ff.Oa("printProofingImagesAreLowResolutionMessageHtml","https://support.canva.com/canva-print/design-quality-check/"),k=a.Ff.format("printProofingCheckResolutionHeading"),l=a.Ce.pc(1,5),m=U9({ea:a.ea,Nm:!1,Om:!1,mb:a.mb,vb:[],Ea:a.Ea,Ca:a.Ca,uY:1<a.ah()?2:1,kb:a.kb}),n={description:a.Ff.format("printProofingSafeAreaProofDescription"),Zf:a.Ff.format("printProofingCheckSafeAreaHeading"),Kj:"https://support.canva.com/canva-print/pink-safe-area/",pc:a.Ce.pc(3,5),vh:a.Ff.vh()},p=$;soy.asserts.assertType(goog.isString(d.description)||
d.description instanceof goog.soy.data.SanitizedContent,"description",d.description,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(d.Zf)||d.Zf instanceof goog.soy.data.SanitizedContent,"headingText",d.Zf,"string|goog.soy.data.SanitizedContent");var q=d.Zf;soy.asserts.assertType(goog.isString(d.Kj)||d.Kj instanceof goog.soy.data.SanitizedContent,"helpLinkUrl",d.Kj,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(d.pc instanceof soydata.SanitizedHtml||d.pc instanceof
soydata.UnsanitizedText||goog.isString(d.pc),"pageNumberOfTotal",d.pc,"soydata.SanitizedHtml");var u=d.pc;soy.asserts.assertType(goog.isString(d.vh)||d.vh instanceof goog.soy.data.SanitizedContent,"whyIsThisImportant",d.vh,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(d.Fy instanceof soydata.SanitizedHtml||d.Fy instanceof soydata.UnsanitizedText||goog.isString(d.Fy),"coverageAlertMessageHtml",d.Fy,"soydata.SanitizedHtml");var v=d.Fy,d=soydata.VERY_UNSAFE.ordainSanitizedHtml(x$({Zf:q,
pc:u,content:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks(""+y$(soy.$$assignDefaults({dA:"printProofingPage__exampleImage--bleedImage"},d))+rZ({message:v,v:"printProofingPage__feedbackAlert printProofingPage__feedbackAlert--hidden printProofingPage__feedbackAlert--bleedCoverage",tb:!1}))}));soy.asserts.assertType(e instanceof soydata.SanitizedHtml||e instanceof soydata.UnsanitizedText||goog.isString(e),"alertHighRes",e,"soydata.SanitizedHtml");soy.asserts.assertType(g instanceof soydata.SanitizedHtml||
g instanceof soydata.UnsanitizedText||goog.isString(g),"alertMediumRes",g,"soydata.SanitizedHtml");soy.asserts.assertType(h instanceof soydata.SanitizedHtml||h instanceof soydata.UnsanitizedText||goog.isString(h),"alertLowRes",h,"soydata.SanitizedHtml");soy.asserts.assertType(goog.isString(k)||k instanceof goog.soy.data.SanitizedContent,"headingText",k,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(l instanceof soydata.SanitizedHtml||l instanceof soydata.UnsanitizedText||goog.isString(l),
"pageNumberOfTotal",l,"soydata.SanitizedHtml");e=soydata.VERY_UNSAFE.ordainSanitizedHtml(x$({Zf:k,pc:l,content:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks(""+lZ({message:e,v:"printProofingPage__feedbackAlert printProofingPage__feedbackAlert--highRes",tb:!1})+rZ({message:h,v:"printProofingPage__feedbackAlert printProofingPage__feedbackAlert--lowRes",tb:!1})+'\x3cdiv class\x3d"printProofingPage__imageResolutionThumbnails printProofingPage__images--lowRes"\x3e\x3c/div\x3e'+pZ({message:g,
v:"printProofingPage__feedbackAlert printProofingPage__feedbackAlert--mediumRes",tb:!1})+'\x3cdiv class\x3d"printProofingPage__imageResolutionThumbnails printProofingPage__images--mediumRes"\x3e\x3c/div\x3e')}));m=J9(m);soy.asserts.assertType(goog.isString(n.description)||n.description instanceof goog.soy.data.SanitizedContent,"description",n.description,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(n.Zf)||n.Zf instanceof goog.soy.data.SanitizedContent,"headingText",
n.Zf,"string|goog.soy.data.SanitizedContent");g=n.Zf;soy.asserts.assertType(goog.isString(n.Kj)||n.Kj instanceof goog.soy.data.SanitizedContent,"helpLinkUrl",n.Kj,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(n.pc instanceof soydata.SanitizedHtml||n.pc instanceof soydata.UnsanitizedText||goog.isString(n.pc),"pageNumberOfTotal",n.pc,"soydata.SanitizedHtml");h=n.pc;soy.asserts.assertType(goog.isString(n.vh)||n.vh instanceof goog.soy.data.SanitizedContent,"whyIsThisImportant",n.vh,
"string|goog.soy.data.SanitizedContent");n=soydata.VERY_UNSAFE.ordainSanitizedHtml(x$({Zf:g,pc:h,content:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks(""+y$(soy.$$assignDefaults({dA:"printProofingPage__exampleImage--safeArea"},n)))}));soy.asserts.assertType(goog.isString(b)||b instanceof goog.soy.data.SanitizedContent,"beginOrderButtonText",b,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(c)||c instanceof goog.soy.data.SanitizedContent,"cancelOrderButtonText",
c,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(d instanceof soydata.SanitizedHtml||d instanceof soydata.UnsanitizedText||goog.isString(d),"bleedAreaProofPageHtml",d,"soydata.SanitizedHtml");soy.asserts.assertType(goog.isString("BLEED_AREA_PROOF")||!1,"bleedAreaProofPageName","BLEED_AREA_PROOF","string|goog.soy.data.SanitizedContent");soy.asserts.assertType(e instanceof soydata.SanitizedHtml||e instanceof soydata.UnsanitizedText||goog.isString(e),"imageResolutionProofHtml",e,"soydata.SanitizedHtml");
soy.asserts.assertType(goog.isString("IMAGE_RESOLUTION_PROOF")||!1,"imageResolutionProofPageName","IMAGE_RESOLUTION_PROOF","string|goog.soy.data.SanitizedContent");soy.asserts.assertType(m instanceof soydata.SanitizedHtml||m instanceof soydata.UnsanitizedText||goog.isString(m),"orderSummaryHtml",m,"soydata.SanitizedHtml");soy.asserts.assertType(goog.isString("ORDER_SUMMARY")||!1,"orderSummaryPageName","ORDER_SUMMARY","string|goog.soy.data.SanitizedContent");soy.asserts.assertType(n instanceof soydata.SanitizedHtml||
n instanceof soydata.UnsanitizedText||goog.isString(n),"safeAreaProofPageHtml",n,"soydata.SanitizedHtml");soy.asserts.assertType(goog.isString("SAFE_AREA_PROOF")||!1,"safeAreaProofPageName","SAFE_AREA_PROOF","string|goog.soy.data.SanitizedContent");b=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"printEditorForm"\x3e\x3cdiv class\x3d"printEditorForm__content"\x3e'+d9({v:"printEditorForm__pagesPanel",jv:!0,O:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks(""+a9({content:m,name:"ORDER_SUMMARY",
visible:!0})+a9({content:e,name:"IMAGE_RESOLUTION_PROOF"})+a9({content:d,name:"BLEED_AREA_PROOF"})+a9({content:n,name:"SAFE_AREA_PROOF"}))})+'\x3c/div\x3e\x3cdiv class\x3d"printEditorForm__footer"\x3e'+z$({Xi:b,mq:"printEditorForm__orderSummaryBeginOrderButton",Zc:c,Ro:"printEditorForm__orderSummaryCancelOrderButton"})+"\x3c/div\x3e\x3c/div\x3e");p=p(b.toString());b=N9(p.find(".printOrderSummary"));p=new A$(p,b);b=S9({ea:a.ea,aa:a.aa,Wg:a.Wg,Nm:!1,Om:!1,ah:a.ah,vc:a.vc,Ka:a.Ka,mb:a.mb,vb:[],En:a.En,
Ea:a.Ea,xa:a.xa,Ca:a.Ca,jk:a.jk,kb:a.kb},p.Fa);return{wb:new M$(a,p,b),view:p}}f=M$.prototype;f.Ae=function(){this.Fa.Ae()};function N$(a){c9(a.view.Wf(),"ORDER_SUMMARY");var b=a.view,c=a.ie.CS();a=a.ie.QS();c=$(z$({Ro:"printEditorForm__orderSummaryCancelOrderButton",Zc:a,mq:"printEditorForm__orderSummaryBeginOrderButton",Xi:c}).toString());K$(b,c)}f.xL=function(){return zj(this.aa,new wi({mm:[this.ta],limit:1})).then(function(a){return ma(a.Kt).next().value})};
function iga(a){return yea(a.Ja,new D7({D:a.ta,user:a.la})).then(function(a){return(a=ma(a.aJ).next().value)&&a.Jd})}f.YD=function(){var a=new v7({Pe:this.Fa.Ea.Sd,document:this.vc(),jd:this.Fa.gc(),eg:this.Fa.Dp(),Ye:this.Tn,bb:this.Fa.Fj()});return this.Ja.YD(a).then(function(a){return a.order})};
function P$(a){var b=a.view.Wf();return a.Xu().then(function(b){return Q$(a,R$(a,b))}).finally(function(){c9(b,"IMAGE_RESOLUTION_PROOF");var c=a.view,d=a.ie.Zc(),e=a.ie.Hi(),d=$(z$({Ro:"printEditorForm__imageResolutionProofBackButton",Zc:d,mq:"printEditorForm__imageResolutionProofContinueButton",Xi:e}).toString());K$(c,d);a.WA()})}
function O$(a){c9(a.view.Wf(),"BLEED_AREA_PROOF");var b=a.view,c=a.ie.Zc(),d=a.ie.Xi(),c=$(z$({Ro:"printEditorForm__bleedAreaProofBackButton",Zc:c,mq:"printEditorForm__bleedAreaProofNextButton",Xi:d}).toString());K$(b,c);S$(a);a.VA()}
function S$(a){var b=a.Fa.Dj(),c=a.Fa.gc(),c=_.range(0,c),c=(b=a.lA(c,b))?a.ie.Xi():a.ie.format("printEditorFormContinueAnywayButtonText");a.view.$el.find(".printEditorForm__bleedAreaProofNextButton").empty().append(c);a.view.$el.find(".printProofingPage__feedbackAlert--bleedCoverage").toggleClass("printProofingPage__feedbackAlert--hidden",b)}f.$N=function(){Q9(this.Fa)};
f.TN=function(){var a=this,b=this.wM;b&&b.cancel();this.wM=this.Wg().cancellable().then(this.Xu).then(function(b){return Q$(a,R$(a,b))}).catch(P.CancellationError,$.noop).finally(function(){return a.wM=null})};f.NN=function(){S$(this)};
function ega(a){1<a.Fa.gc()&&1===a.ah()?(new Py({content:$("\x3cp\x3e"+a.ie.format("printEditorFormCannotPrintTwoSidesDescription")+"\x3c/p\x3e"),title:a.ie.format("printEditorFormCannotPrintTwoSides")})).show():P$(a).then(function(){return a.Fa.nH}).then(function(){var b=a.pg,c=a.Fa.Wm(),d=0<a.Fa.Zu().length,e=a.Fa.Xm(),g=a.Fa.Dp(),h=a.Fa.Ea.Sd,k=a.Fa.Fj(),l=a.Fa.CD(),b=X(X(X(X(X(X(X(X(new fm("print_start_order"),"template",b),"finish",c),"has_premium_images",d),"paper",e),"product_sku",g),"quantity",
h),"shipping",k),"total_order_price",l);a.j.wa(b)})}function fga(a){P$(a).then(function(){a.Sm().gt(!1)})}
function gga(a){J$(a.view,!0);a.Wg().catch(function(){throw new L$;}).then(function(){return P.all([a.xL(),iga(a),a.YD()])}).then(function(b){var d=ma(b);b=d.next().value;var e=d.next().value,d=d.next().value;a.$J({ea:b,Ii:b&&b.Ih,mb:new Map,vb:a.Fa.Zu(),order:d,cc:e}).show()}).catch(L$,function(){(new Py({content:$("\x3cp\x3ePlease try again after the error is resolved\x3c/p\x3e"),title:"Design changes failed to save"})).show()}).catch(vj,function(b){409===b.VH&&a.fQ()}).finally(function(){return J$(a.view,
!1)});var b=new fm("print_proof_safe_area");a.j.wa(b)}f.destroy=function(){this.view.remove()};function R$(a,b){var c=a.FK,d=a.GK,e=a.Fa.Dj(),g=a.Fa.gc();return b.filter(function(a){return a.gG}).filter(function(a){return a.Hs<g}).map(function(a){var b=a.gG.UR.o(),g=a.Da.o(),b=b/g*(c/e.Jj)*25400,g=a.gG.UR.l(),m=a.Da.l(),b=Math.min(b,g/m*(d/e.jj)*25400);return{xP:120>b?"LOW":150>b?"MEDIUM":"HIGH",nd:a.gG.Wx.url}}).filter(function(a){return"HIGH"!==a.xP})}
function Q$(a,b){bga(a.view);if(0===b.length)a.view.$el.find(".printProofingPage__feedbackAlert--highRes").removeClass("printProofingPage__feedbackAlert--hidden");else{var c=b.filter(function(a){return"LOW"===a.xP});b=b.filter(function(a){return"MEDIUM"===a.xP});0!==c.length&&dga(a.view,c.map(function(a){return a.nd}));0!==b.length&&cga(a.view,b.map(function(a){return a.nd}))}}f.gc=function(){return this.Fa.gc()};function T$(a){var b=this;R.call(this,a);a.on("click",function(){return b.trigger(U$)})}t(T$,R);T$.prototype.Uw=function(a){this.$el.toggleClass("submitting",a)};var U$="CLICK_SEND_TO_PRINT";function V$(a,b){var c=this;this.view=b;this.ta=a.ta;this.$d=a.$d;this.j=a.j;this.Mi=a.Mi;this.Qu=a.Qu;this.Ur=a.Ur;this.HV=!1;this.Fp=a.Fp;this.vc=a.vc;this.$L=a.$L;this.$z=a.$z;this.UA=a.UA;this.cH=a.cH;this.oP=a.oP;this.nP=a.nP;this.di=a.di;this.ax=a.ax;this.MH=a.MH;this.zX=this.nh=this.ue=null;this.Ja=a.Ja;this.aa=a.aa;this.lr=a.lr;this.oQ=null;this.Yd=a.Yd;this.Ll=a.Ll;b.on(U$,function(){return jga(c)})}
function M0(a){var b=$,c;c=a.E8;soy.asserts.assertType(goog.isString(c)||c instanceof goog.soy.data.SanitizedContent,"sendToPrintButtonText",c,"string|goog.soy.data.SanitizedContent");c=soydata.VERY_UNSAFE.ordainSanitizedHtml(XZ({v:"editorActionPrint buttonSubmittable",text:c}));b=b(c.toString());b=new T$(b);return{wb:kga(a,b),view:b}}
function kga(a,b){function c(){(new Py({content:$("\x3cp\x3eYour version of this design has become out of sync with the server. Usually this means someone else has started editing it. Reload the page and try again\x3c/p\x3e"),title:"Design out of sync"})).show()}var d=wd(a.i);return new V$({lr:a.lr,j:a.j,aa:a.aa,ta:a.ta,$d:a.$d,Mi:a.Mi,Qu:a.Qu,Ur:a.Ur,vc:a.vc,Fp:a.Fp,$z:a.$z,UA:a.UA,Ja:a.Ja,nP:function(b){var c=a.j,d=w(b.t1.u(),"The doctype must have an id"),k=a.vc(),l=a.Pa,m=a.LU()||"",n=a.i;n.WQ||
(n.WQ=new Cf(n.config));return Lea({j:c,mg:"publish_print",ap:d,Uy:k,Pa:l,hp:m,i:n.WQ,Ds:b.Ds,Cq:b.Cq,je:Ad(a.i),mo:!1,no:!1,vba:null}).view},oP:function(b){var g=Nfa({attributes:b.attributes,Wc:b.Wc,Eb:b.G7});return hga({ea:b.ea,j:a.j,aa:a.aa,ta:a.ta,$J:function(c){var d=c.ea,l;l=a.i;l.Yc||(l.Yc=new yf(l.config));l=l.Yc;var m=a.j,n=a.aa,p=a.ta,q=c.Ii,u=ad(a.i),v;v=a.i;v.Ki||(v.Ki=new zf(v.config));v=v.Ki;var z=b.pg,r=Zc(a.i),x=a.vc,H=a.Ve,D=Tc(a.i),K=c.mb,E=c.vb,O=a.i,Q=b.Cn,N=c.order,da=v9({Xj:b.Xj,
je:Ad(a.i),Ca:ud(a.i),qc:g,Sc:b.Sc,Tn:b.nh.id,Sd:c.order.Pe,KP:c.order.eg,ph:c.order.eQ.bb,kb:b.kb}),ca=Rc(a.i),sa=sd(a.i),Oa;Oa=a.i;Oa.Ac||(Oa.Ac=new Bf(Oa.config));Oa=Oa.Ac;var ha;ha=a.i;ha.Ns||(ha.Ns=new xf(ha.config));ha=ha.Ns;var ia=ud(a.i),Da=a.i;Da.Xh||(Da.Xh=new Af(Da.config));return aga({ea:d,Yc:l,j:m,aa:n,ta:p,Ii:q,Va:u,Ki:v,pg:z,Md:r,vc:x,Ve:H,Ka:D,mb:K,vb:E,i:O,Cn:Q,order:N,Ea:da,xa:ca,Ce:sa,Ac:Oa,Ns:ha,Ca:ia,Xh:Da.Xh,nh:b.nh,Ja:a.Ja,cc:c.cc,kb:b.kb,cb:a.cb,hR:a.Yd.tf(),la:a.Yd.u()})},
FK:Zg(a.$d.nb).height,GK:Zg(a.$d.nb).width,pg:b.pg,Wg:a.Wg,ah:a.ah,Sm:a.Sm,vc:a.vc,Xu:a.Xu,lA:a.lA,Ka:Tc(a.i),mb:new Map,MA:b.MA,En:a.ax,VA:b.VA,WA:b.WA,Ea:v9({Xj:b.Xj,je:Ad(a.i),Ca:ud(a.i),qc:g,Sc:b.Sc,Tn:b.nh.id,PB:b.PB,ph:"STANDARD",kb:b.kb}),xa:Rc(a.i),ie:d,Ce:sd(a.i),Ca:ud(a.i),Ff:yd(a.i),Ja:a.Ja,Tn:b.nh.id,jk:a.jk,kb:b.kb,fQ:c,bm:a.bm,la:a.Yd.u()})},di:a.di,ax:a.ax,MH:function(){(new Py({content:$("\x3cp\x3e"+d.Oa("printEditorFormErrorStateMessageHtml",lga).toString()+"\x3c/p\x3e"),title:d.format("printEditorFormErrorStateHeading")})).show()},
Yd:a.Yd,Ll:a.Ll,$L:kfa,cH:Y3},b)}function W$(a){X$(a,!1).then(function(){null!=a.ue&&N$(a.ue)})}f=V$.prototype;f.$N=function(){null!=this.ue&&this.ue.$N()};function R0(a,b){var c=w(b.u(),"The doctype must have an id");if(a.$d.u()!==c){a.$d=b;var d=a.Fp();a.di(!1);a.ue&&(a.ue.destroy(),a.ue=null);d.gh()&&(d.$el.find(".editorSideDrawer__content").empty(),f9(d,!0),Y$(a).then(function(b){var d=a.cH(b.id,c);return Z$(a,b,d)}).catch(function(){return a.MH()}).finally(function(){return f9(d,!1)}))}}
f.TN=function(){null!=this.ue&&this.ue.TN()};f.NN=function(){null!=this.ue&&this.ue.NN()};function jga(a){a.view.Uw(!0);var b=a.Fp(),c=w(a.$d.u(),"The doctype must have an id"),d=b.gh();return Y$(a).then(function(b){var g=a.cH(b.id,c);mga(a,{rc:c,F6:!d,D7:!!g,D9:!0});return d?W$(a):Z$(a,b,g).then(function(){X$(a,!0)})}).catch(function(){return a.MH()}).finally(function(){return a.view.Uw(!1)})}
function Y$(a){return a.nh?P.resolve(a.nh):Z3(a.Ja).then(function(b){a.nh=w(b.vB[0],"Current country must have a print region.");return a.nh})}function Z$(a,b,c){var d=a.Fp();nga(a);return c?a.ue?P.resolve():oga(a,b,c,d):pga(a,d)}
function pga(a,b){function c(b){return a.Mi.hb(new mv({id:b.$d,Np:!1})).then(function(c){a.zX=b.Db;a.Ll(c.rc)})}return Bea(a.Ja).then(function(d){var e=d.UO.filter(function(a){return null!=a.doctype}).map(function(a){var b=d.dH.VO.get(a.Sc),c=d.dH.cw.get(a.Db);a=a.doctype;if(!b||!c)throw new $$;return{Sc:b,Db:c,$d:a}}),e=a.nP({t1:a.$d,Ds:c,Cq:e});b.fo(e.$el)})}
function oga(a,b,c,d){return P.all([Cea(a.Ja,new T7({dc:b.Hh[0],currency:"USD",Sc:c,Dq:["PRICES"]})),a.xL()]).then(function(e){var g=ma(e);e=g.next().value;g=g.next().value;if(null==e.Eb)throw Error("Expected FindPrintProductsResponse.prices to be non null");e=a.oP({ea:g,attributes:e.attributes,pg:w(a.$d.u(),"documentType must have an id"),MA:function(){return W$(a)},Cn:function(){return W$(a)},VA:function(){return a.di(!0)},WA:function(){return a.di(!1)},Xj:a.$L(c),nh:b,G7:e.Eb.Wc,Wc:e.Wc,Sc:c,PB:a.zX,
kb:e.Eb.dQ,ph:"STANDARD"});g=e.wb;d.fo(e.view.$el);g.Ae();a.oQ=d.lr(a.lr);a.ue=g})}function mga(a,b){b=X(X(X(X(X(X(new fm("print_button_click"),"section","editor"),"location","menu_bar"),"template",b.rc),"toggled",b.D9),"side_drawer_opened",b.F6),"print_supported_doc_type",b.D7);a.j.wa(b)}function nga(a){a.Ur&&a.Qu.load().then(function(){a.HV||(a.HV=!0,a.Qu.identify(a.Yd.u(),{displayName:a.Yd.ob(),email:a.Yd.tf()}))})}
function X$(a,b){return a.Fp().kt(b).then(function(){if(b)a.ue&&a.ax(a.ue.gc());else{if(a.ue){var c=a.ue.Sm();c.gt(!1);c.XB(!1)}a.di(!1);a.$z()}}).then(function(){return a.UA()})}f.xL=function(){return zj(this.aa,new wi({mm:[this.ta],limit:1})).then(function(a){return ma(a.Kt).next().value})};f.destroy=function(){this.view.remove();this.oQ&&this.oQ.remove();this.ue&&this.ue.destroy()};var lga="https://support.canva.com/canva-print/";function $$(){}t($$,Error);})();
